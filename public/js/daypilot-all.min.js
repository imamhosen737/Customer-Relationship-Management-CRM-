/**
@license
DayPilot Pro for JavaScript 2022.1.5188 (trial)
Copyright (c) 2005 - 2022 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if ("undefined" == typeof DayPilot) var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        function e(e) {
            var t = DayPilot.Date.Cache.Ticks;
            if (t[e]) return (DayPilot.Stats.cacheHitsTicks += 1), t[e];
            var n,
                i = new Date(e),
                a = i.getUTCMilliseconds();
            n =
                0 === a
                    ? ""
                    : a < 10
                    ? ".00" + a
                    : a < 100
                    ? ".0" + a
                    : "." + a;
            var r = i.getUTCSeconds();
            r < 10 && (r = "0" + r);
            var o = i.getUTCMinutes();
            o < 10 && (o = "0" + o);
            var s = i.getUTCHours();
            s < 10 && (s = "0" + s);
            var l = i.getUTCDate();
            l < 10 && (l = "0" + l);
            var d = i.getUTCMonth() + 1;
            d < 10 && (d = "0" + d);
            var c = i.getUTCFullYear();
            if (c <= 0) throw "The minimum year supported is 1.";
            c < 10
                ? (c = "000" + c)
                : c < 100
                ? (c = "00" + c)
                : c < 1e3 && (c = "0" + c);
            var u = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + n;
            return (t[e] = u), u;
        }
        function t(e, t) {
            return (
                !DayPilot.Util.isNullOrUndefined(e) &&
                !DayPilot.Util.isNullOrUndefined(t) &&
                e.toLocaleLowerCase() === t.toLocaleLowerCase()
            );
        }
        function n(e) {
            (e = Math.min(e, 255)), (e = Math.max(e, 0));
            var t = e.toString(16);
            return e < 16 ? "0" + t : t;
        }
        if ("undefined" == typeof DayPilot.$) {
            (DayPilot.$ = function (e) {
                return document.getElementById(e);
            }),
                (DayPilot.isKhtml =
                    navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.indexOf("KHTML") !== -1),
                (DayPilot.isIE =
                    navigator &&
                    navigator.userAgent &&
                    (navigator.userAgent.indexOf("MSIE") !== -1 ||
                        navigator.userAgent.indexOf("Trident") !== -1)),
                (DayPilot.isIEQuirks =
                    DayPilot.isIE &&
                    document.compatMode &&
                    "BackCompat" === document.compatMode),
                (DayPilot.browser = {}),
                (DayPilot.browser.ff =
                    navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.indexOf("Firefox") !== -1),
                (DayPilot.browser.chrome =
                    navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.indexOf("Chrome") !== -1),
                (DayPilot.browser.ie = DayPilot.isIE),
                (DayPilot.browser.edge =
                    navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.indexOf("Edge") !== -1),
                (DayPilot.browser.webkit =
                    navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.indexOf("WebKit") !== -1),
                (DayPilot.browser.hover =
                    !window.matchMedia("(any-hover: none)").matches),
                (DayPilot.browser.passiveEvents = !1),
                (function () {
                    try {
                        window.addEventListener(
                            "test",
                            null,
                            Object.defineProperty({}, "passive", {
                                get: function () {
                                    DayPilot.browser.passiveEvents = !0;
                                },
                            })
                        );
                    } catch (e) {}
                })(),
                (DayPilot.libs = {}),
                (DayPilot.libs.angularjs = "object" == typeof angularjs),
                (DayPilot.touch = {}),
                (DayPilot.touch.start = window.navigator.msPointerEnabled
                    ? "MSPointerDown"
                    : "touchstart"),
                (DayPilot.touch.move = window.navigator.msPointerEnabled
                    ? "MSPointerMove"
                    : "touchmove"),
                (DayPilot.touch.end = window.navigator.msPointerEnabled
                    ? "MSPointerUp"
                    : "touchend"),
                (DayPilot.mo2 = function (e, t) {
                    if ("undefined" != typeof t.offsetX) {
                        var n = { x: t.offsetX + 1, y: t.offsetY + 1 };
                        if (!e) return n;
                        for (var i = t.srcElement; i && i !== e; )
                            "SPAN" !== i.tagName &&
                                ((n.x += i.offsetLeft),
                                i.offsetTop > 0 &&
                                    (n.y += i.offsetTop - i.scrollTop)),
                                (i = i.offsetParent);
                        return i ? n : null;
                    }
                    if ("undefined" != typeof t.layerX) {
                        var n = { x: t.layerX, y: t.layerY, src: t.target };
                        if (!e) return n;
                        for (
                            var i = t.target;
                            i &&
                            "absolute" !== i.style.position &&
                            "relative" !== i.style.position;

                        )
                            (i = i.parentNode),
                                DayPilot.isKhtml && (n.y += i.scrollTop);
                        for (; i && i !== e; )
                            (n.x += i.offsetLeft),
                                (n.y += i.offsetTop - i.scrollTop),
                                (i = i.offsetParent);
                        return i ? n : null;
                    }
                    return null;
                }),
                (DayPilot.mo3 = function (e, t) {
                    var n,
                        i = DayPilot.page(t);
                    if (i)
                        if (e) {
                            var a = DayPilot.abs(e);
                            if (!a) throw new Error("no abs");
                            n = { x: i.x - a.x, y: i.y - a.y };
                        } else n = { x: i.x, y: i.y };
                    else if (((n = DayPilot.mo2(e, t)), !n)) return null;
                    return (
                        (n.shift = t.shiftKey),
                        (n.meta = t.metaKey),
                        (n.ctrl = t.ctrlKey),
                        (n.alt = t.altKey),
                        n
                    );
                }),
                (DayPilot.mc = function (e) {
                    return e.pageX || e.pageY
                        ? { x: e.pageX, y: e.pageY }
                        : {
                              x:
                                  e.clientX +
                                  document.documentElement.scrollLeft,
                              y: e.clientY + document.documentElement.scrollTop,
                          };
                }),
                (DayPilot.Stats = {}),
                (DayPilot.Stats.eventObjects = 0),
                (DayPilot.Stats.dateObjects = 0),
                (DayPilot.Stats.cacheHitsCtor = 0),
                (DayPilot.Stats.cacheHitsParsing = 0),
                (DayPilot.Stats.cacheHitsTicks = 0),
                (DayPilot.list = function (e, t) {
                    if (e && e.isDayPilotList && !t) return e;
                    var n =
                            DayPilot.isArray(e) ||
                            "[object NodeList]" ===
                                Object.prototype.toString.call(e),
                        i = !n && !DayPilot.Util.isNullOrUndefined(e),
                        a = [];
                    if (
                        ((a.isDayPilotList = !0),
                        (a.clone = function () {
                            var e = DayPilot.list();
                            return (
                                a.forEach(function (t) {
                                    e.push(t);
                                }),
                                e
                            );
                        }),
                        (a.each = function (e) {
                            if (e) {
                                if (a.forEach) return void a.forEach(e);
                                for (var t = 0; t < this.length; t++)
                                    e(a[t], t, a);
                            }
                        }),
                        (a.addProps = function (e) {
                            var t = a.clone();
                            if (e) for (var n in e) t[n] = e[n];
                            return t;
                        }),
                        (a.last = function () {
                            return 0 === a.length ? null : a[a.length - 1];
                        }),
                        (a.first = function () {
                            return 0 === a.length ? null : a[0];
                        }),
                        (a.add = function (e) {
                            var t = a.clone();
                            return t.push(e), t;
                        }),
                        (a.map = function (e) {
                            if ("function" != typeof e)
                                throw "DayPilot.list().map(f): Function expected";
                            var t = DayPilot.list();
                            return (
                                a.forEach(function (n, i, a) {
                                    t.push(e(n, i, a));
                                }),
                                t
                            );
                        }),
                        (a.filter = function (e) {
                            var t = DayPilot.list();
                            if ("function" != typeof e)
                                throw "DayPilot.list().filter(f): Function expected";
                            return (
                                a.forEach(function (n, i, a) {
                                    e(n, i, a) && t.push(n);
                                }),
                                t
                            );
                        }),
                        (a.concat = function (e) {
                            if (!e) return a;
                            for (var t = a.clone(), n = 0; n < e.length; n++)
                                t.push(e[n]);
                            return t;
                        }),
                        a.find ||
                            (a.find = function (e) {
                                if ("function" != typeof e)
                                    throw "DayPilot.list().find(f): Function expected";
                                for (var t = 0; t < this.length; t++)
                                    if (e(a[t])) return a[t];
                            }),
                        a.findIndex ||
                            (a.findIndex = function (e) {
                                if ("function" != typeof e)
                                    throw "DayPilot.list().findIndex(f): Function expected";
                                for (var t = 0; t < this.length; t++)
                                    if (e(a[t])) return t;
                                return -1;
                            }),
                        a.some ||
                            (a.some = function (e) {
                                if ("function" != typeof e)
                                    throw "DayPilot.list().some(f): Function expected";
                                for (var t = 0; t < this.length; t++)
                                    if (e(a[t])) return !0;
                                return !1;
                            }),
                        a.reduce ||
                            (a.reduce = function (e, t) {
                                if ("function" != typeof e)
                                    throw "DayPilot.list().reduce(f): Function expected";
                                var n,
                                    i = 0;
                                if ("undefined" != typeof t) n = t;
                                else {
                                    if (((i = 1), 0 === a.length))
                                        throw "DayPilot.list().reduce(f): No initial value and empty list";
                                    n = a[0];
                                }
                                for (var r = i; r < this.length; r++)
                                    n = e(n, a[r], r, this);
                                return n;
                            }),
                        (a.isEmpty = function () {
                            return 0 === a.length;
                        }),
                        n)
                    )
                        for (var r = 0; r < e.length; r++) a[r] = e[r];
                    else i && (a[0] = e);
                    return a;
                }),
                (DayPilot.list.for = function (e, t) {
                    for (var n = DayPilot.list(), i = 0; i < e; i++)
                        "function" == typeof t ? n.push(t(i)) : n.push(i);
                    return n;
                }),
                (DayPilot.line = function (e, t, n, i, a) {
                    a = a || {};
                    var r = { x: e, y: t },
                        o = { x: n, y: i, deg: DayPilot.deg(e, t, n, i) },
                        s = !1;
                    if (t < i) {
                        var l = t;
                        (t = i), (i = l), (l = e), (e = n), (n = l), (s = !0);
                    }
                    var d = DayPilot.deg(e, t, n, i),
                        c = { x: e, y: t },
                        u = { x: n, y: i },
                        h = (function () {
                            var a = Math.abs(e - n),
                                r = Math.abs(t - i),
                                o = (e + n) / 2;
                            return o - Math.sqrt(a * a + r * r) / 2;
                        })(),
                        f = (function () {
                            return (t + i) / 2;
                        })(),
                        v = DayPilot.distance(c, u),
                        p = document.createElement("div");
                    p.setAttribute(
                        "style",
                        "width:" +
                            v +
                            "px;height:0px;-moz-transform:rotate(" +
                            d +
                            "deg);-webkit-transform:rotate(" +
                            d +
                            "deg);-ms-transform:rotate(" +
                            d +
                            "deg);transform:rotate(" +
                            d +
                            "deg);position:absolute;top:" +
                            f +
                            "px;left:" +
                            h +
                            "px;"
                    ),
                        a.cssClass && (p.className = a.cssClass);
                    var m = document.createElement("div");
                    m.appendChild(p);
                    var g,
                        b,
                        d,
                        y,
                        w = !!a.arrow;
                    if (w) {
                        var g = o.y - 5,
                            b = o.x - 5,
                            d = d;
                        o.y > r.y && (d -= 180);
                        var y = document.createElement("div");
                        (y.style.borderColor = "black"),
                            (y.style.width = "10px"),
                            (y.style.height = "10px"),
                            (y.style.borderRadius = "10px"),
                            (y.style.position = "absolute"),
                            (y.style.left = b + "px"),
                            (y.style.top = g + "px"),
                            a.cssClass
                                ? (y.className = a.cssClass + "_circle")
                                : (y.style.backgroundColor = "black"),
                            m.appendChild(y);
                    }
                    return m;
                }),
                (DayPilot.deg = function (e, t, n, i) {
                    var a,
                        r = Math.abs(e - n),
                        o = Math.abs(t - i),
                        s = (e + n) / 2,
                        l = (t + i) / 2,
                        d = Math.sqrt(r * r + o * o),
                        c = s - d / 2,
                        u = l;
                    (r = d / 2),
                        (a = Math.abs(s - c)),
                        (o = Math.sqrt(
                            Math.abs(e - c) * Math.abs(e - c) +
                                Math.abs(t - u) * Math.abs(t - u)
                        ));
                    var h = (o * o - r * r - a * a) / (2 * r * a);
                    return (180 * Math.acos(h)) / Math.PI;
                }),
                (DayPilot.complete = function (e) {
                    return "complete" === document.readyState
                        ? void e()
                        : (DayPilot.complete.list ||
                              ((DayPilot.complete.list = []),
                              DayPilot.re(
                                  document,
                                  "readystatechange",
                                  function () {
                                      if ("complete" === document.readyState) {
                                          for (
                                              var e = 0;
                                              e < DayPilot.complete.list.length;
                                              e++
                                          ) {
                                              (0, DayPilot.complete.list[e])();
                                          }
                                          DayPilot.complete.list = [];
                                      }
                                  }
                              )),
                          void DayPilot.complete.list.push(e));
                }),
                (DayPilot.page = function (e) {
                    var t =
                        e.changedTouches && e.changedTouches[0]
                            ? e.changedTouches[0]
                            : e;
                    return "undefined" == typeof t.pageX || DayPilot.browser.ie
                        ? "undefined" != typeof e.clientX &&
                          document.body &&
                          document.documentElement
                            ? {
                                  x:
                                      e.clientX +
                                      document.body.scrollLeft +
                                      document.documentElement.scrollLeft,
                                  y:
                                      e.clientY +
                                      document.body.scrollTop +
                                      document.documentElement.scrollTop,
                              }
                            : null
                        : { x: t.pageX, y: t.pageY };
                }),
                (DayPilot.rel = function (e, t) {
                    var n = DayPilot.abs(e),
                        i = DayPilot.abs(t);
                    return {
                        x: n.x - i.x,
                        y: n.y - i.y,
                        w: e.offsetWidth,
                        h: e.offsetHeight,
                    };
                }),
                (DayPilot.abs = function (e, t) {
                    if (!e) return null;
                    if (e.getBoundingClientRect) {
                        var n = DayPilot.absBoundingClientBased(e);
                        if (t) {
                            var i = DayPilot.absOffsetBased(e, !1),
                                t = DayPilot.absOffsetBased(e, !0);
                            (n.x += t.x - i.x),
                                (n.y += t.y - i.y),
                                (n.w = t.w),
                                (n.h = t.h);
                        }
                        return n;
                    }
                    return DayPilot.absOffsetBased(e, t);
                }),
                (DayPilot.absBoundingClientBased = function (e) {
                    var t = e.getBoundingClientRect();
                    return {
                        x: t.left + window.pageXOffset,
                        y: t.top + window.pageYOffset,
                        w: e.clientWidth,
                        h: e.clientHeight,
                        toString: function () {
                            return (
                                "x:" +
                                this.x +
                                " y:" +
                                this.y +
                                " w:" +
                                this.w +
                                " h:" +
                                this.h
                            );
                        },
                    };
                }),
                (DayPilot.isArray = function (e) {
                    return (
                        "[object Array]" === Object.prototype.toString.call(e)
                    );
                }),
                (DayPilot.absOffsetBased = function (e, t) {
                    for (
                        var n = {
                            x: e.offsetLeft,
                            y: e.offsetTop,
                            w: e.clientWidth,
                            h: e.clientHeight,
                            toString: function () {
                                return (
                                    "x:" +
                                    this.x +
                                    " y:" +
                                    this.y +
                                    " w:" +
                                    this.w +
                                    " h:" +
                                    this.h
                                );
                            },
                        };
                        DayPilot.op(e);

                    )
                        (e = DayPilot.op(e)),
                            (n.x -= e.scrollLeft),
                            (n.y -= e.scrollTop),
                            t &&
                                (n.x < 0 && ((n.w += n.x), (n.x = 0)),
                                n.y < 0 && ((n.h += n.y), (n.y = 0)),
                                e.scrollLeft > 0 &&
                                    n.x + n.w > e.clientWidth &&
                                    (n.w -= n.x + n.w - e.clientWidth),
                                e.scrollTop &&
                                    n.y + n.h > e.clientHeight &&
                                    (n.h -= n.y + n.h - e.clientHeight)),
                            (n.x += e.offsetLeft),
                            (n.y += e.offsetTop);
                    var i = DayPilot.pageOffset();
                    return (n.x += i.x), (n.y += i.y), n;
                }),
                (DayPilot.wd = function () {
                    var e = DayPilot.isIEQuirks,
                        t = document.documentElement.clientHeight;
                    e && (t = document.body.clientHeight);
                    var n = document.documentElement.clientWidth;
                    e && (n = document.body.clientWidth);
                    var i =
                            (document.documentElement &&
                                document.documentElement.scrollTop) ||
                            document.body.scrollTop,
                        a =
                            (document.documentElement &&
                                document.documentElement.scrollLeft) ||
                            document.body.scrollLeft,
                        r = {};
                    return (
                        (r.width = n),
                        (r.height = t),
                        (r.scrollTop = i),
                        (r.scrollLeft = a),
                        r
                    );
                }),
                (DayPilot.op = function (e) {
                    try {
                        return e.offsetParent;
                    } catch (e) {
                        return document.body;
                    }
                }),
                (DayPilot.distance = function (e, t) {
                    return Math.sqrt(
                        Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)
                    );
                }),
                (DayPilot.doc = function () {
                    var e = document.documentElement;
                    return e && e.clientHeight ? e : document.body;
                }),
                (DayPilot.pageOffset = function () {
                    if ("undefined" != typeof window.pageXOffset)
                        return { x: window.pageXOffset, y: window.pageYOffset };
                    var e = DayPilot.doc();
                    return { x: e.scrollLeft, y: e.scrollTop };
                }),
                (DayPilot.ac = function (e, t) {
                    if (!t) var t = [];
                    for (var n = 0; e.children && n < e.children.length; n++)
                        t.push(e.children[n]), DayPilot.ac(e.children[n], t);
                    return t;
                }),
                (DayPilot.indexOf = function (e, t, n) {
                    if (!e || !e.length) return -1;
                    for (var i = 0; i < e.length; i++)
                        if (n) {
                            if (n(e[i], t)) return i;
                        } else if (e[i] === t) return i;
                    return -1;
                }),
                (DayPilot.contains = function (e, t) {
                    if (2 !== arguments.length)
                        throw new DayPilot.Exception(
                            "DayPilot.contains() requires two arguments."
                        );
                    return (
                        !!e &&
                        ((e === t && !DayPilot.isArray(e)) ||
                            DayPilot.indexOf(e, t) !== -1)
                    );
                }),
                (DayPilot.rfa = function (e, t) {
                    var n = DayPilot.indexOf(e, t);
                    n !== -1 && e.splice(n, 1);
                }),
                (DayPilot.sheet = function (e) {
                    e = e || window.document;
                    var t = e.createElement("style");
                    t.setAttribute("type", "text/css"),
                        t.styleSheet || t.appendChild(e.createTextNode("")),
                        (
                            e.head || e.getElementsByTagName("head")[0]
                        ).appendChild(t);
                    var n = !!t.styleSheet,
                        i = {};
                    return (
                        (i.rules = []),
                        (i.commit = function () {
                            try {
                                n &&
                                    (t.styleSheet.cssText =
                                        this.rules.join("\n"));
                            } catch (e) {}
                        }),
                        (i.add = function (e, a, r) {
                            if (n)
                                return void this.rules.push(e + "{" + a + "}");
                            if (t.sheet.insertRule)
                                "undefined" == typeof r &&
                                    (r = t.sheet.cssRules.length),
                                    t.sheet.insertRule(e + "{" + a + "}", r);
                            else {
                                if (!t.sheet.addRule)
                                    throw "No CSS registration method found";
                                t.sheet.addRule(e, a, r);
                            }
                            return i;
                        }),
                        i
                    );
                }),
                (DayPilot.Args = function (e) {
                    var t = this;
                    (this.isArgs = !0),
                        (this.preventDefault = function () {
                            e && e.preventDefault(),
                                (t.preventDefault.value = !0);
                        });
                }),
                (DayPilot.Debug = function (e) {
                    var t = this;
                    (this.printToBrowserConsole = !1),
                        (this.enabled = !1),
                        (this.messages = []),
                        (this.target = null),
                        (this.c = null),
                        (this.clear = function () {
                            (this.messages = []), t.c && (t.c.innerHTML = "");
                        }),
                        (this.hide = function () {
                            DayPilot.de(t.c), (t.c = null);
                        }),
                        (this.show = function () {
                            t.c && t.hide();
                            var n = e.nav.top,
                                i = document.createElement("div");
                            (i.style.position = "absolute"),
                                (i.style.top = "0px"),
                                (i.style.bottom = "0px"),
                                (i.style.left = "0px"),
                                (i.style.right = "0px"),
                                (i.style.backgroundColor = "black"),
                                (i.style.color = "#ccc"),
                                (i.style.overflow = "auto"),
                                (i.style.webkitUserSelect = "auto"),
                                (i.style.MozUserSelect = "all"),
                                (i.onclick = function () {
                                    t.hide();
                                });
                            for (var a = 0; a < this.messages.length; a++) {
                                var r = t.messages[a],
                                    o = r.f();
                                i.appendChild(o);
                            }
                            (this.c = i), n.appendChild(i);
                        }),
                        (this.log = function () {
                            if (t.target) {
                                for (
                                    var e = [], n = 0;
                                    n < arguments.length;
                                    n++
                                ) {
                                    var i = arguments[n];
                                    e.push(i);
                                }
                                var a = e.join(" ");
                                (t.target.style.whiteSpace = "pre"),
                                    (t.target.innerText += a + "\n");
                            }
                        }),
                        (this.message = function (e, t) {
                            if (this.enabled) {
                                var n = {};
                                (n.time = new DayPilot.Date()),
                                    (n.level = t || "debug"),
                                    (n.text = DayPilot.Util.escapeHtml(e)),
                                    (n.f = function () {
                                        var e = document.createElement("div");
                                        switch (
                                            ((e.innerHTML =
                                                n.time +
                                                " (" +
                                                n.level +
                                                "): " +
                                                n.text),
                                            n.level)
                                        ) {
                                            case "error":
                                                e.style.color = "red";
                                                break;
                                            case "warning":
                                                e.style.color = "orange";
                                                break;
                                            case "info":
                                                e.style.color = "white";
                                                break;
                                            case "debug":
                                        }
                                        return e;
                                    }),
                                    this.messages.push(n),
                                    this.printToBrowserConsole &&
                                        "undefined" != typeof console &&
                                        console.log(n);
                            }
                        });
                }),
                (DayPilot.re = function (e, t, n) {
                    n && e && e.addEventListener(t, n, !1);
                }),
                (DayPilot.rePassive = function (e, t, n) {
                    n && e && e.addEventListener(t, n, { passive: !0 });
                }),
                (DayPilot.reNonPassive = function (e, t, n) {
                    n && e && e.addEventListener(t, n, { passive: !1 });
                }),
                (DayPilot.ue = function (e, t, n) {
                    e.removeEventListener(t, n, !1);
                }),
                (DayPilot.ds = function (e) {
                    return DayPilot.Date.toStringSortable(e);
                }),
                (DayPilot.gs = function (e, t) {
                    return (
                        window.getComputedStyle(e, null).getPropertyValue(t) ||
                        ""
                    );
                }),
                (DayPilot.StyleReader = function (e) {
                    (this.get = function (t) {
                        return e ? DayPilot.gs(e, t) : null;
                    }),
                        (this.getPx = function (e) {
                            var t = this.get(e);
                            return t.indexOf("px") === -1
                                ? void 0
                                : parseInt(t, 10);
                        }),
                        (this.getFont = function () {
                            var e = this.get("font-weight"),
                                t =
                                    "italic" === this.get("font-style")
                                        ? "italic"
                                        : "";
                            return {
                                family: this.get("font-family"),
                                size: this.get("font-size"),
                                style: t + " " + e,
                                asString: function () {
                                    return DayPilot.Util.fontString(this);
                                },
                            };
                        }),
                        (this.getBackColor = function (e) {
                            "undefined" == typeof e && (e = "white");
                            var t = this.get("background-color");
                            return DayPilot.Util.isTransparentColor(t) ? e : t;
                        });
                }),
                (DayPilot.he = function (e) {
                    var t = e.replace(/&/g, "&amp;");
                    return (
                        (t = t.replace(/</g, "&lt;")),
                        (t = t.replace(/>/g, "&gt;")),
                        (t = t.replace(/"/g, "&quot;"))
                    );
                }),
                (DayPilot.he2 = function (e) {
                    var t = document.createTextNode(e),
                        n = document.createElement("div");
                    return n.appendChild(t), n.innerHTML;
                }),
                (DayPilot.us = function (e) {
                    if (e) {
                        e.setAttribute("unselectable", "on"),
                            (e.style.userSelect = "none"),
                            (e.style.MozUserSelect = "none"),
                            (e.style.KhtmlUserSelect = "none"),
                            (e.style.webkitUserSelect = "none");
                        for (var t = 0; t < e.childNodes.length; t++)
                            1 === e.childNodes[t].nodeType &&
                                DayPilot.us(e.childNodes[t]);
                    }
                }),
                (DayPilot.pu = function (e) {
                    var t,
                        n,
                        i,
                        a = e.attributes;
                    if (a)
                        for (n = a.length, t = 0; t < n; t += 1)
                            a[t] &&
                                ((i = a[t].name),
                                "function" == typeof e[i] && (e[i] = null));
                    if ((a = e.childNodes))
                        for (n = a.length, t = 0; t < n; t += 1) {
                            DayPilot.pu(e.childNodes[t]);
                        }
                }),
                (DayPilot.puc = function (e) {
                    var t,
                        n,
                        i = e.childNodes;
                    if (i) {
                        var n = i.length;
                        for (t = 0; t < n; t += 1) DayPilot.pu(e.childNodes[t]);
                    }
                }),
                (DayPilot.de = function (e) {
                    if (e)
                        if (DayPilot.isArray(e))
                            for (var t = 0; t < e.length; t++)
                                DayPilot.de(e[t]);
                        else e.parentNode && e.parentNode.removeChild(e);
                }),
                (DayPilot.fade = function (e, t, n) {
                    if (e) {
                        clearTimeout(e.messageTimeout);
                        var i = "none" !== e.style.display,
                            a = t > 0,
                            r = t < 0;
                        if (0 !== t) {
                            if (
                                (a
                                    ? (e.status = "in")
                                    : r && (e.status = "out"),
                                a && !i)
                            )
                                (e.target = parseFloat(e.style.opacity)),
                                    (e.opacity = 0),
                                    (e.style.opacity = 0),
                                    (e.style.display = "");
                            else if (r && !e.target) e.target = e.style.opacity;
                            else {
                                var o = e.opacity,
                                    s = Math.floor(10 * (o + t)) / 10;
                                a && s > e.target && (s = e.target),
                                    r && s < 0 && (s = 0);
                                (e.opacity = s), (e.style.opacity = s);
                            }
                            (a && (e.opacity >= e.target || e.opacity >= 1)) ||
                            (r && e.opacity <= 0)
                                ? ((e.target = null),
                                  r &&
                                      ((e.style.opacity = e.target),
                                      (e.opacity = e.target),
                                      (e.style.display = "none")),
                                  n &&
                                      "function" == typeof n &&
                                      ((e.status = null), n()))
                                : (e.messageTimeout = setTimeout(function () {
                                      DayPilot.fade(e, t, n);
                                  }, 50));
                        }
                    }
                }),
                (DayPilot.sw = function (e) {
                    return e ? e.offsetWidth - e.clientWidth : 0;
                }),
                (DayPilot.swa = function () {
                    var e = document.createElement("div");
                    (e.style.position = "absolute"),
                        (e.style.top = "-2000px"),
                        (e.style.left = "-2000px"),
                        (e.style.width = "200px"),
                        (e.style.height = "100px"),
                        (e.style.overflow = "auto");
                    var t = document.createElement("div");
                    (t.style.width = "300px"),
                        (t.style.height = "300px"),
                        e.appendChild(t),
                        document.body.appendChild(e);
                    var n = DayPilot.sw(e);
                    return document.body.removeChild(e), n;
                }),
                (DayPilot.sh = function (e) {
                    return e ? e.offsetHeight - e.clientHeight : 0;
                }),
                (DayPilot.guid = function () {
                    var e = function () {
                        return ((65536 * (1 + Math.random())) | 0)
                            .toString(16)
                            .substring(1);
                    };
                    return (
                        "" +
                        e() +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        e() +
                        e()
                    );
                }),
                (DayPilot.ua = function (e) {
                    if (!DayPilot.isArray(e))
                        throw new DayPilot.Exception(
                            "DayPilot.ua() - array required"
                        );
                    var t = [];
                    return (
                        e.forEach(function (e) {
                            DayPilot.contains(t, e) || t.push(e);
                        }),
                        t
                    );
                }),
                (DayPilot.am = function () {
                    return "undefined" == typeof angular
                        ? null
                        : (DayPilot.am.cached ||
                              (DayPilot.am.cached = angular.module(
                                  "daypilot",
                                  []
                              )),
                          DayPilot.am.cached);
                }),
                (function () {
                    function e(e, i) {
                        var a = {
                            w: e.offsetWidth,
                            h: e.offsetHeight,
                            x: parseInt(e.style.left),
                            y: parseInt(e.style.top),
                        };
                        (a.height = e.style.height),
                            (a.width = e.style.width),
                            (a.top = e.style.top),
                            (a.left = e.style.left),
                            (a.toString = function () {
                                return "w: " + this.w + " h:" + this.h;
                            });
                        var r = {};
                        if (
                            ((r.finished = null),
                            (r.vertical = "center"),
                            (r.horizontal = "center"),
                            i)
                        )
                            for (var o in i) r[o] = i[o];
                        (e.style.visibility = "hidden"), (e.style.display = "");
                        var s = i.animation || "fast",
                            l = t(s);
                        (l.div = e),
                            (l.i = 0),
                            (l.target = a),
                            (l.config = r),
                            n(l);
                    }
                    function t(e) {
                        var t = function () {
                                var e = [];
                                e.time = 10;
                                var t,
                                    n = 0.08;
                                t = 0.1;
                                for (var i = t; i < 1.2; i += n)
                                    e.push(i), (t = i);
                                n = 0.03;
                                for (var i = t; i > 0.8; i -= n)
                                    e.push(i), (t = i);
                                for (var i = t; i <= 1; i += n)
                                    e.push(i), (t = i);
                                return e;
                            },
                            n = function () {
                                var e = [];
                                e.time = 10;
                                var t,
                                    n = 0.04;
                                t = 0.1;
                                for (var i = t; i <= 1; i += n)
                                    e.push(i), (t = i);
                                return e;
                            },
                            i = function () {
                                var e = [];
                                e.time = 10;
                                var t,
                                    n = 0.08;
                                t = 0.1;
                                for (var i = t; i <= 1; i += n)
                                    e.push(i), (t = i);
                                return e;
                            },
                            a = { fast: i, slow: n, jump: t };
                        return a[e] || (e = "fast"), a[e]();
                    }
                    function n(e) {
                        var t,
                            i = e.div,
                            a = e[e.i],
                            r = a * e.target.h;
                        switch (e.config.vertical) {
                            case "center":
                                t = e.target.y - (r - e.target.h) / 2;
                                break;
                            case "top":
                                t = e.target.y;
                                break;
                            case "bottom":
                                t = e.target.y - (r - e.target.h);
                                break;
                            default:
                                throw "Unexpected 'vertical' value.";
                        }
                        var o,
                            s = a * e.target.w;
                        switch (e.config.horizontal) {
                            case "left":
                                o = e.target.x;
                                break;
                            case "center":
                                o = e.target.x - (s - e.target.w) / 2;
                                break;
                            case "right":
                                o = e.target.x - (s - e.target.w);
                                break;
                            default:
                                throw "Unexpected 'horizontal' value.";
                        }
                        (i.style.height = r + "px"),
                            (i.style.top = t + "px"),
                            (i.style.width = s + "px"),
                            (i.style.left = o + "px"),
                            (i.style.visibility = "visible"),
                            e.i++,
                            e.i < e.length - 1
                                ? setTimeout(
                                      (function (e) {
                                          return function () {
                                              n(e);
                                          };
                                      })(e),
                                      e.time
                                  )
                                : ((i.style.width = e.target.width),
                                  (i.style.height = e.target.height),
                                  (i.style.top = e.target.top),
                                  (i.style.left = e.target.left),
                                  "function" == typeof e.config.finished &&
                                      e.config.finished());
                    }
                    DayPilot.pop = e;
                })(),
                (DayPilot.Util = {}),
                (DayPilot.Util.addClass = function (e, t) {
                    if (t && e)
                        if (DayPilot.isArray(e))
                            for (var n = 0; n < e.length; n++)
                                DayPilot.Util.addClass(e[n], t);
                        else {
                            if (!e.className) return void (e.className = t);
                            var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                            i.test(e.className) ||
                                (e.className = e.className + " " + t);
                        }
                }),
                (DayPilot.Util.normalizeColor = function (e) {
                    function t(e) {
                        return (
                            (e = e.replace(/[^\d,]/g, "").split(",")),
                            "#" +
                                (
                                    (1 << 24) +
                                    (+e[0] << 16) +
                                    (+e[1] << 8) +
                                    +e[2]
                                )
                                    .toString(16)
                                    .slice(1)
                        );
                    }
                    return 0 === e.indexOf("rgb") ? t(e) : e;
                }),
                (DayPilot.Util.addClassToString = function (e, t) {
                    return e
                        ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e)
                            ? e
                            : e + " " + t
                        : t;
                }),
                (DayPilot.Util.removeClassFromString = function (e, t) {
                    if (!e) return "";
                    var n = new RegExp("(^|\\s)" + t + "($|\\s)");
                    return e
                        .replace(n, " ")
                        .replace(/^\s\s*/, "")
                        .replace(/\s\s*$/, "");
                }),
                (DayPilot.Util.removeClass = function (e, t) {
                    if (e)
                        if (DayPilot.isArray(e))
                            for (var n = 0; n < e.length; n++)
                                DayPilot.Util.removeClass(e[n], t);
                        else if (e.className) {
                            var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                            e.className = e.className
                                .replace(i, " ")
                                .replace(/^\s\s*/, "")
                                .replace(/\s\s*$/, "");
                        }
                }),
                (DayPilot.Util.props = function (e) {
                    var t = [];
                    for (var n in e) t.push(n), t.push(e[n]);
                    return t.join("-");
                }),
                (DayPilot.Util.propArray = function (e, t, n) {
                    return DayPilot.list(e).map(function (e) {
                        return e[t] ? e[t] : n;
                    });
                }),
                (DayPilot.Util.updatePropsFromArray = function (e, t, n) {
                    for (var i = 0; i < n.length; i++) e[i][t] = n[i];
                }),
                (DayPilot.Util.copyProps = function (e, t, n) {
                    if ((t || (t = {}), !e)) return t;
                    if ("undefined" == typeof n)
                        for (var i in e)
                            e.hasOwnProperty(i) &&
                                "undefined" != typeof e[i] &&
                                (t[i] = e[i]);
                    else
                        for (var a = 0; a < n.length; a++) {
                            var i = n[a];
                            "undefined" != typeof e[i] && (t[i] = e[i]);
                        }
                    return t;
                }),
                (DayPilot.Util.ownPropsAsArray = function (e) {
                    var t = [];
                    if (!e) return t;
                    for (var n in e)
                        if (e.hasOwnProperty(n)) {
                            var i = {};
                            (i.key = n), (i.val = e[n]), t.push(i);
                        }
                    return t;
                }),
                (DayPilot.Util.firstPropValue = function (e) {
                    for (var t in e) return e[t];
                }),
                (DayPilot.Util.isOnlyProperty = function (e, t) {
                    if (!e) return !1;
                    for (var n in e)
                        if (e.hasOwnProperty(n) && n !== t) return !1;
                    return !0;
                }),
                (DayPilot.Util.createArrayCopy = function (e, t) {
                    if (!DayPilot.isArray(e)) return [];
                    for (var n = [], i = 0; i < e.length; i++) {
                        var a = {};
                        DayPilot.Util.copyProps(e[i], a, t), n.push(a);
                    }
                    return n;
                }),
                (DayPilot.Util.atLeast = function (e, t) {
                    return Math.max(e, t);
                }),
                (DayPilot.Util.atMost = function (e, t) {
                    return Math.min(e, t);
                }),
                (DayPilot.Util.avg = function (e, t) {
                    return (e + t) / 2;
                }),
                (DayPilot.Util.div = function (e, t, n, i, a) {
                    var r = document.createElement("div");
                    return (
                        (t || n || i || a) &&
                            (i < 0 && ((t += i), (i *= -1)),
                            a < 0 && ((n += a), (a *= -1)),
                            (r.style.position = "absolute"),
                            "number" == typeof t
                                ? (r.style.left = t + "px")
                                : "string" == typeof t && (r.style.left = t),
                            "number" == typeof n
                                ? (r.style.top = n + "px")
                                : "string" == typeof n && (r.style.top = n),
                            "number" == typeof i
                                ? (r.style.width = i + "px")
                                : "string" == typeof i && (r.style.width = i),
                            "number" == typeof a
                                ? (r.style.height = a + "px")
                                : "string" == typeof a && (r.style.height = a)),
                        e && e.appendChild(r),
                        r
                    );
                }),
                (DayPilot.Util.overlaps = function (e, t, n, i) {
                    return !(t <= n || e >= i);
                }),
                (DayPilot.Util.isMouseEvent = function (e) {
                    return (
                        !!navigator.msPointerEnabled &&
                        !!e.pointerType &&
                        ("mouse" === e.pointerType || 4 === e.pointerType)
                    );
                }),
                (DayPilot.Util.mouseButton = function (e) {
                    var t = {};
                    switch (e.button) {
                        case 0:
                            t.left = !0;
                            break;
                        case 1:
                            t.middle = !0;
                            break;
                        case 2:
                            t.right = !0;
                    }
                    return t;
                }),
                (DayPilot.Util.membersPlain = function (e) {
                    var t = DayPilot.Util.members(e, 2),
                        n = function (e) {
                            for (var t = 0; t < e.length; t++) {
                                var n = e[t],
                                    i = n.name;
                                n.obsolete && (i += " (obsolete)"),
                                    n.noCssOnly && (i += " (!cssOnly)"),
                                    n.aspnet && (i += " (ASP.NET)"),
                                    n.mvc && (i += "(MVC)"),
                                    (e[t] = i);
                            }
                        };
                    return n(t.events), n(t.methods), n(t.properties), t;
                }),
                (DayPilot.Util.shouldApply = function (e) {
                    if (!e) return !1;
                    var t = e.toLowerCase();
                    return (
                        !(t.indexOf("before") >= 0) &&
                        !(t.indexOf("after") >= 0) &&
                        "onrowfilter" !== t &&
                        "oneventfilter" !== t
                    );
                }),
                (DayPilot.Util.safeApply = function (e, t) {
                    var n = e["$root"]["$$phase"];
                    "$apply" === n || "$digest" === n
                        ? e["$eval"](t)
                        : e["$apply"](t);
                }),
                (DayPilot.Util.members = function (e, t) {
                    var n = DayPilot.list(),
                        i = DayPilot.list(),
                        a = DayPilot.list(),
                        r = e && e.members ? e.members.obsolete : [],
                        o = e && e.members ? e.members.noCssOnly : [],
                        s = e && e.members ? e.members.ignore : [],
                        l =
                            e && e.members && e.members.ignoreFilter
                                ? e.members.ignoreFilter
                                : function () {
                                      return !1;
                                  };
                    for (var d in e)
                        if (
                            0 !== d.indexOf("$") &&
                            0 !== d.indexOf("_") &&
                            0 !== d.indexOf("number") &&
                            0 !== d.indexOf("is") &&
                            "v" !== d &&
                            !DayPilot.contains(s, d) &&
                            !l(d)
                        )
                            if (0 !== d.indexOf("on"))
                                if ("function" != typeof e[d])
                                    if ("object" != typeof e[d]) a.push(d);
                                    else {
                                        var c = e[d];
                                        if (0 === t) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c && c.nodeType > 0) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Bubble) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Date) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Menu) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Scheduler) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (DayPilot.isArray(c)) {
                                            a.push(d);
                                            continue;
                                        }
                                        null === c && a.push(d);
                                        var u = null;
                                        "number" == typeof t && (u = t - 1);
                                        for (
                                            var h = DayPilot.Util.members(c, u),
                                                f = 0;
                                            f < h.events.length;
                                            f++
                                        )
                                            n.push(d + "." + h.events[f].name);
                                        for (
                                            var f = 0;
                                            f < h.methods.length;
                                            f++
                                        )
                                            i.push(d + "." + h.methods[f].name);
                                        for (
                                            var f = 0;
                                            f < h.properties.length;
                                            f++
                                        )
                                            a.push(
                                                d + "." + h.properties[f].name
                                            );
                                    }
                                else i.push(d);
                            else n.push(d);
                    n.sort(), i.sort(), a.sort();
                    var v = function (e) {
                        for (var t = 0; t < e.length; t++) {
                            var n = e[t],
                                i = {};
                            (i.name = n),
                                (e[t] = i),
                                DayPilot.contains(r, n) && (i.obsolete = !0),
                                DayPilot.contains(o, n) && (i.noCssOnly = !0),
                                n.indexOf("CallBack") !== -1 &&
                                    ((i.aspnet = !0), (i.mvc = !0)),
                                n.indexOf("PostBack") !== -1 && (i.aspnet = !0),
                                n.indexOf("Notify") !== -1 &&
                                    ((i.aspnet = !0), (i.mvc = !0));
                        }
                    };
                    return (
                        v(n),
                        v(i),
                        v(a),
                        { events: n, methods: i, properties: a }
                    );
                }),
                (DayPilot.Util.replaceCharAt = function (e, t, n) {
                    return e.substr(0, t) + n + e.substr(t + n.length);
                }),
                (DayPilot.Util.evalVariable = function (e, t) {
                    if (
                        ((t = t || ["object"]),
                        null === e || "undefined" == typeof e)
                    )
                        return null;
                    if (DayPilot.indexOf(t, typeof e) !== -1) return e;
                    if ("string" != typeof e)
                        throw "Unable to resolve a variable name (not a string).";
                    if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))
                        throw "Invalid variable name: " + e;
                    return eval(e);
                }),
                (DayPilot.Util.evalFunction = function (e) {
                    if (null === e) return null;
                    if ("function" == typeof e) return e;
                    if ("string" != typeof e)
                        throw "Unable to resolve a function (not a string).";
                    if (!/^\(?function/.test(e))
                        throw "Invalid function string";
                    return eval("(" + e + ")");
                }),
                (DayPilot.Util.isNullOrUndefined = function (e) {
                    return null === e || "undefined" == typeof e;
                }),
                (DayPilot.Util.log = function (e) {
                    window.console &&
                        window.console.log &&
                        window.console.log(e);
                }),
                (DayPilot.Util.workerFrom = function (e) {
                    var t = e.toString(),
                        n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")),
                        i = new Blob([n]),
                        a = window.URL.createObjectURL(i);
                    return new Worker(a);
                }),
                (DayPilot.Util.dataUriToBlob = function (e) {
                    if ("string" != typeof e)
                        throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
                    for (
                        var t = e.split(","),
                            n = t[0],
                            i = t[1],
                            a = n.indexOf("base64") !== -1,
                            r = a ? atob : decodeURI,
                            o = n.split(":")[1].split(";")[0],
                            s = r(i),
                            l = new window.Uint8Array(s.length),
                            d = 0;
                        d < s.length;
                        d++
                    )
                        l[d] = s.charCodeAt(d);
                    return new Blob([l], { type: o });
                }),
                (DayPilot.Util.downloadDataUri = function (e, t) {
                    var n = DayPilot.Util.dataUriToBlob(e);
                    DayPilot.Util.downloadBlob(n, t);
                }),
                (DayPilot.Util.downloadBlob = function (e, t) {
                    var t = t || "download";
                    if (window.navigator.msSaveBlob)
                        window.navigator.msSaveBlob(e, t);
                    else {
                        var n = window.URL.createObjectURL(e),
                            i = document.createElement("a");
                        (i.download = t),
                            (i.href = n),
                            (i.style.display = "none"),
                            document.body.appendChild(i),
                            i.click(),
                            setTimeout(function () {
                                document.body.removeChild(i),
                                    window.URL.revokeObjectURL(n);
                            });
                    }
                }),
                (DayPilot.Util.monitor = function (e, t, n) {
                    var i = e[t];
                    e[t] = function () {
                        n.apply(e, arguments), i.apply(e, arguments);
                    };
                }),
                (DayPilot.Util.isTransparentColor = function (e) {
                    return "transparent" === e || "rgba(0, 0, 0, 0)" === e;
                }),
                (DayPilot.Util.stripTags = function (e) {
                    if (DayPilot.Util.isNullOrUndefined(e)) return e;
                    if ("string" == typeof e)
                        return e.replace(/<(?:.|\n)*?>/gm, "");
                    throw new DayPilot.Exception(
                        "Unable to strip tags from a non-string"
                    );
                }),
                (DayPilot.Util.escapeHtml = function (e) {
                    var t = document.createElement("div");
                    return (t.innerText = e), t.innerHTML;
                }),
                (DayPilot.Util.escapeTextHtml = function (e, t) {
                    return DayPilot.Util.isNullOrUndefined(t)
                        ? DayPilot.Util.isNullOrUndefined(e)
                            ? ""
                            : DayPilot.Util.escapeHtml(e)
                        : t;
                }),
                (DayPilot.Util.isSameEvent = function (e, t) {
                    return (
                        !(!e || !t) &&
                        ((e = e instanceof DayPilot.Event ? e.data : e),
                        (t = t instanceof DayPilot.Event ? t.data : t),
                        e === t ||
                            (!DayPilot.Util.isNullOrUndefined(e.id) &&
                                e.id === t.id) ||
                            (!(
                                !DayPilot.Util.isNullOrUndefined(e.id) ||
                                DayPilot.Util.isNullOrUndefined(
                                    e.recurrentMasterId
                                )
                            ) &&
                                e.recurrentMasterId === t.recurrentMasterId &&
                                new DayPilot.Date(e.start) ===
                                    new DayPilot.Date(t.start)))
                    );
                }),
                (DayPilot.Util.isReactComponent = function (e) {
                    return (
                        e &&
                        e.$$typeof ===
                            (("function" == typeof Symbol &&
                                Symbol.for &&
                                Symbol.for("react.element")) ||
                                60103)
                    );
                }),
                (DayPilot.Util.fontString = function (e) {
                    return (e.style + " " + e.size + " " + e.family).trim();
                }),
                (DayPilot.Util.fontHeight = function (e) {
                    var t = DayPilot.Util.fontString(e);
                    if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
                        var n = document.createElement("div");
                        (n.style.position = "fixed"),
                            (n.style.left = "-2000px;"),
                            (n.style.top = "-2000px"),
                            (n.style.padding = "0px"),
                            (n.style.font = t),
                            (n.innerText = "X"),
                            document.body.appendChild(n),
                            (DayPilot.Util.fontHeight.cache[t] =
                                new DayPilot.StyleReader(n).getPx("height")),
                            document.body.removeChild(n);
                    }
                    return DayPilot.Util.fontHeight.cache[t];
                }),
                (DayPilot.Util.fontHeight.cache = {}),
                (DayPilot.Areas = {}),
                (DayPilot.Areas.attach = function (e, t, n) {
                    var n = n || {},
                        a = n.areas,
                        r =
                            n.allowed ||
                            function () {
                                return !0;
                            },
                        o = n.offsetX || 0;
                    (a = i(t, a)),
                        a &&
                            DayPilot.isArray(a) &&
                            0 !== a.length &&
                            (DayPilot.re(e, "mousemove", function (i) {
                                e.active ||
                                    e.areasDisabled ||
                                    !r() ||
                                    DayPilot.Areas.showAreas(e, t, i, a, {
                                        offsetX: o,
                                        eventDiv: n.eventDiv,
                                    });
                            }),
                            DayPilot.re(e, "mouseleave", function (t) {
                                DayPilot.Areas.hideAreas(e, t);
                            }),
                            DayPilot.list(a).forEach(function (i) {
                                if (DayPilot.Areas.isVisible(i)) {
                                    var a = DayPilot.Areas.createArea(e, t, i, {
                                        offsetX: o,
                                        eventDiv: n.eventDiv,
                                    });
                                    e.appendChild(a);
                                }
                            }));
                }),
                (DayPilot.Areas.disable = function (e) {
                    (e.areasDisabled = !0),
                        DayPilot.list(e.childNodes)
                            .filter(function (e) {
                                return e.isActiveArea && !e.area.start;
                            })
                            .forEach(function (e) {
                                (e.j = e.style.display),
                                    (e.style.display = "none");
                            });
                }),
                (DayPilot.Areas.enable = function (e) {
                    (e.areasDisabled = !1),
                        DayPilot.list(e.childNodes)
                            .filter(function (e) {
                                return e.isActiveArea && !e.area.start;
                            })
                            .forEach(function (e) {
                                e.j
                                    ? (e.style.display = e.j)
                                    : (e.style.display = "");
                            });
                }),
                (DayPilot.Areas.remove = function (e) {
                    var t = DayPilot.list(e.childNodes).filter(function (e) {
                        return e.isActiveArea;
                    });
                    DayPilot.de(t);
                }),
                (DayPilot.Areas.isVisible = function (e) {
                    var t = e.visibility || e.v || "Visible";
                    return (
                        "Visible" === t ||
                        ("TouchVisible" === t && !DayPilot.browser.hover)
                    );
                }),
                (DayPilot.Areas.copy = function (e) {
                    return DayPilot.isArray(e)
                        ? e.map(function (e) {
                              return DayPilot.Util.copyProps(e, {});
                          })
                        : [];
                }),
                (DayPilot.Areas.resolvePosition = function (e, t, n, i) {
                    var a = DayPilot.Areas.copy(e),
                        r = t;
                    return (
                        a.forEach(function (e) {
                            e.start &&
                                (e.left =
                                    r.getPixels(new DayPilot.Date(e.start))
                                        .left - n),
                                "number" == typeof e.offsetX &&
                                    (e.left += e.offsetX),
                                e.end &&
                                    (e.right =
                                        n +
                                        i -
                                        r.getPixels(new DayPilot.Date(e.end))
                                            .left);
                        }),
                        a
                    );
                });
            var i = function (e, t) {
                return (
                    DayPilot.isArray(t) ||
                        ((t = e.areas),
                        t ||
                            (e.cache
                                ? (t = e.cache.areas)
                                : e.data && (t = e.data.areas))),
                    t
                );
            };
            (DayPilot.Areas.showAreas = function (e, t, n, i, a) {
                if (
                    !DayPilot.Global.resizing &&
                    !DayPilot.Global.moving &&
                    !DayPilot.Global.selecting &&
                    !e.active &&
                    DayPilot.browser.hover
                ) {
                    if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
                        for (var r = 0; r < DayPilot.Areas.all.length; r++) {
                            var o = DayPilot.Areas.all[r];
                            o !== e && DayPilot.Areas.hideAreas(o, n);
                        }
                    if (
                        ((e.active = {}),
                        DayPilot.isArray(i) ||
                            ((i = t.areas),
                            i ||
                                (t.cache
                                    ? (i = t.cache.areas)
                                    : t.data && (i = t.data.areas))),
                        i && 0 !== i.length && !(e.areas && e.areas.length > 0))
                    ) {
                        e.areas = [];
                        for (var r = 0; r < i.length; r++) {
                            var s = i[r];
                            if (!DayPilot.Areas.isVisible(s)) {
                                var l = DayPilot.Areas.createArea(e, t, s, a);
                                e.areas.push(l),
                                    e.appendChild(l),
                                    DayPilot.Areas.all.push(e);
                            }
                        }
                        e.active.children = DayPilot.ac(e);
                    }
                }
            }),
                (DayPilot.Areas.createArea = function (e, t, n, i) {
                    function a(e, t, n) {
                        var i = {};
                        return (
                            (i.area = e),
                            (i.source = t),
                            (i.originalEvent = n),
                            (i.preventDefault = function () {
                                i.preventDefault.value = !0;
                            }),
                            "function" == typeof e.onClick && e.onClick(i),
                            i
                        );
                    }
                    function r(e, t, n) {
                        DayPilot.Bubble && DayPilot.Bubble.touchPosition(n),
                            e.calendar.bubble &&
                                e.calendar.bubble.showEvent(e, !0);
                    }
                    function o(e, t, n, i) {
                        DayPilot.Menu && DayPilot.Menu.touchPosition(i);
                        var a = n.contextMenu || n.menu;
                        if (
                            (a instanceof DayPilot.Menu ||
                                ("string" == typeof a
                                    ? (a = DayPilot.Util.evalVariable(a))
                                    : t.isEvent && t.client.contextMenu()
                                    ? (a = t.client.contextMenu())
                                    : t.isEvent && t.calendar.contextMenu
                                    ? (a = DayPilot.Util.evalVariable(
                                          t.calendar.contextMenu
                                      ))
                                    : t.isRow &&
                                      t.calendar.contextMenuResource &&
                                      (a = DayPilot.Util.evalVariable(
                                          t.calendar.contextMenuResource
                                      ))),
                            a && a.show)
                        ) {
                            var r = {
                                type: "area",
                                div: e,
                                e: t,
                                area: n,
                                a: d,
                            };
                            a.show(t, { initiator: r });
                        }
                    }
                    var i = i || {},
                        s = i.offsetX || 0,
                        l = i.eventDiv || e,
                        d = document.createElement("div");
                    (d.isActiveArea = !0),
                        (d.area = n),
                        d.setAttribute("unselectable", "on");
                    var c = n.w || n.width,
                        u = n.h || n.height,
                        h = n.cssClass || n.css || n.className;
                    if (
                        ("undefined" != typeof n.style &&
                            d.setAttribute("style", n.style),
                        (d.style.position = "absolute"),
                        "undefined" != typeof c && (d.style.width = c + "px"),
                        "undefined" != typeof u && (d.style.height = u + "px"),
                        "undefined" != typeof n.right &&
                            (d.style.right = n.right + "px"),
                        "undefined" != typeof n.top &&
                            (d.style.top = n.top + "px"),
                        "undefined" != typeof n.left &&
                            (d.style.left = n.left + s + "px"),
                        "undefined" != typeof n.bottom &&
                            (d.style.bottom = n.bottom + "px"),
                        "undefined" != typeof n.html ||
                            "undefined" != typeof n.text)
                    )
                        d.innerHTML = DayPilot.Util.escapeTextHtml(
                            n.text,
                            n.html
                        );
                    else if (n.icon) {
                        var f = document.createElement("i");
                        (f.className = n.icon), d.appendChild(f);
                    } else if (n.image) {
                        var v = document.createElement("img");
                        (v.src = n.image), d.appendChild(v);
                    } else if (n.symbol) {
                        var p = "http://www.w3.org/2000/svg",
                            m = document.createElementNS(p, "svg");
                        m.setAttribute("width", "100%"),
                            m.setAttribute("height", "100%");
                        var g = document.createElementNS(p, "use");
                        g.setAttribute("href", n.symbol),
                            m.appendChild(g),
                            d.appendChild(m);
                    }
                    if (
                        (h && (d.className = h),
                        n.toolTip && d.setAttribute("title", n.toolTip),
                        n.backColor && (d.style.background = n.backColor),
                        n.background && (d.style.background = n.background),
                        n.fontColor && (d.style.color = n.fontColor),
                        n.padding &&
                            ((d.style.padding = n.padding + "px"),
                            (d.style.boxSizing = "border-box")),
                        n.verticalAlignment)
                    )
                        switch (
                            ((d.style.display = "flex"), n.verticalAlignment)
                        ) {
                            case "center":
                                d.style.alignItems = "center";
                                break;
                            case "top":
                                d.style.alignItems = "flex-start";
                                break;
                            case "bottom":
                                d.style.alignItems = "flex-end";
                        }
                    if (n.horizontalAlignment)
                        switch (
                            ((d.style.display = "flex"), n.horizontalAlignment)
                        ) {
                            case "right":
                                d.style.justifyContent = "flex-end";
                                break;
                            case "left":
                                d.style.justifyContent = "flex-start";
                                break;
                            case "center":
                                d.style.justifyContent = "center";
                        }
                    if (
                        "ResizeEnd" === n.action ||
                        "ResizeStart" === n.action ||
                        "Move" === n.action
                    ) {
                        if (t.calendar.isCalendar)
                            switch (n.action) {
                                case "ResizeEnd":
                                    (n.cursor = "s-resize"),
                                        (n.dpBorder = "bottom");
                                    break;
                                case "ResizeStart":
                                    (n.cursor = "n-resize"),
                                        (n.dpBorder = "top");
                                    break;
                                case "Move":
                                    n.cursor = "move";
                            }
                        if (t.calendar.isScheduler || t.calendar.isMonth)
                            switch (n.action) {
                                case "ResizeEnd":
                                    (n.cursor = "e-resize"),
                                        (n.dpBorder = "right");
                                    break;
                                case "ResizeStart":
                                    (n.cursor = "w-resize"),
                                        (n.dpBorder = "left");
                                    break;
                                case "Move":
                                    n.cursor = "move";
                            }
                        (d.onmousemove = (function (e, t, n) {
                            return function (i) {
                                (t.calendar.internal &&
                                    t.calendar.internal.dragInProgress &&
                                    t.calendar.internal.dragInProgress()) ||
                                    ((i.cancelBubble = !0),
                                    (e.style.cursor = n.cursor),
                                    n.dpBorder && (e.dpBorder = n.dpBorder));
                            };
                        })(l, t, n)),
                            (d.onmouseout = (function (e, t, n) {
                                return function (t) {
                                    e.style.cursor = "";
                                };
                            })(l, t, n));
                    }
                    if (
                        ("ResizeEnd" === n.action ||
                            "ResizeStart" === n.action) &&
                        t.isEvent &&
                        t.calendar.internal.touch
                    ) {
                        var b = (function (e, t, n) {
                            return function (i) {
                                i.cancelBubble = !0;
                                var a = t.calendar.internal.touch,
                                    r = i.touches ? i.touches[0] : i,
                                    o = { x: r.pageX, y: r.pageY };
                                (t.calendar.coords = a.relativeCoords(i)),
                                    (a.preventEventTap = !0),
                                    t.calendar.isScheduler
                                        ? a.startResizing(
                                              e,
                                              "ResizeEnd" === n.action
                                                  ? "right"
                                                  : "left"
                                          )
                                        : t.calendar.isCalendar &&
                                          a.startResizing(
                                              e,
                                              "ResizeEnd" === n.action
                                                  ? "bottom"
                                                  : "top",
                                              o
                                          );
                            };
                        })(l, t, n);
                        DayPilot.rePassive(d, DayPilot.touch.start, b);
                    }
                    if (
                        "ContextMenu" === n.action &&
                        t.isEvent &&
                        t.calendar.internal.touch
                    ) {
                        var b = (function (e, t, n) {
                                return function (i) {
                                    (i.cancelBubble = !0),
                                        i.preventDefault(),
                                        o(e, t, n, i),
                                        (t.calendar.internal.touch.preventEventTap =
                                            !0);
                                };
                            })(l, t, n),
                            y = (function (e, t, n) {
                                return function (e) {
                                    (e.cancelBubble = !0), e.preventDefault();
                                };
                            })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, b),
                            DayPilot.reNonPassive(d, DayPilot.touch.end, y);
                    }
                    if (
                        "Bubble" === n.action &&
                        t.isEvent &&
                        t.calendar.internal.touch
                    ) {
                        var b = (function (e, t, n) {
                                return function (e) {
                                    (e.cancelBubble = !0), e.preventDefault();
                                    var i = a(n, t, e);
                                    if (!i.preventDefault.value) {
                                        r(t, n, e);
                                        (t.calendar.internal.touch.preventEventTap =
                                            !0),
                                            "function" == typeof n.onClicked &&
                                                n.onClicked(i);
                                    }
                                };
                            })(l, t, n),
                            y = (function (e, t, n) {
                                return function (e) {
                                    (e.cancelBubble = !0), e.preventDefault();
                                };
                            })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, b),
                            DayPilot.reNonPassive(d, DayPilot.touch.end, y);
                    }
                    if (
                        "Move" === n.action &&
                        t.isEvent &&
                        t.calendar.internal.touch
                    ) {
                        var b = (function (e, t, n) {
                            return function (n) {
                                n.cancelBubble = !0;
                                var i = t.calendar.internal.touch,
                                    a = n.touches ? n.touches[0] : n,
                                    r = { x: a.pageX, y: a.pageY };
                                (t.calendar.coords = i.relativeCoords(n)),
                                    DayPilot.Global &&
                                        DayPilot.Global.touch &&
                                        (DayPilot.Global.touch.active = !0),
                                    (i.preventEventTap = !0),
                                    i.startMoving(e, r);
                            };
                        })(l, t, n);
                        DayPilot.rePassive(d, DayPilot.touch.start, b);
                    }
                    if (
                        ("Move" === n.action &&
                            t.isRow &&
                            t.calendar.internal.touch,
                        "Bubble" === n.action && t.isEvent
                            ? ((d.onmousemove = (function (e, t, n) {
                                  return function (e) {
                                      n.bubble
                                          ? n.bubble.showEvent(t, !0)
                                          : t.calendar.bubble &&
                                            t.calendar.bubble.showEvent(t, !0);
                                  };
                              })(e, t, n)),
                              (d.onmouseout = (function (e, t, n) {
                                  return function (e) {
                                      "undefined" != typeof DayPilot.Bubble &&
                                          (n.bubble
                                              ? n.bubble.hideOnMouseOut()
                                              : t.calendar.bubble &&
                                                t.calendar.bubble.hideOnMouseOut());
                                  };
                              })(e, t, n)))
                            : "Bubble" === n.action && t.isRow
                            ? ((d.onmousemove = (function (e, t, n) {
                                  return function (e) {
                                      n.bubble
                                          ? n.bubble.showResource(t, !0)
                                          : t.calendar.resourceBubble &&
                                            t.calendar.resourceBubble.showResource(
                                                t,
                                                !0
                                            );
                                  };
                              })(e, t, n)),
                              (d.onmouseout = (function (e, t, n) {
                                  return function (e) {
                                      "undefined" != typeof DayPilot.Bubble &&
                                          (n.bubble
                                              ? n.bubble.hideOnMouseOut()
                                              : t.calendar.resourceBubble &&
                                                t.calendar.resourceBubble.hideOnMouseOut());
                                  };
                              })(e, t, n)))
                            : "Bubble" === n.action &&
                              "undefined" != typeof DayPilot.Bubble &&
                              n.bubble instanceof DayPilot.Bubble &&
                              ((d.onmousemove = (function (e, t, n) {
                                  return function (e) {
                                      n.bubble.showHtml(null, null);
                                  };
                              })(e, t, n)),
                              (d.onmouseout = (function (e, t, n) {
                                  return function (e) {
                                      "undefined" != typeof DayPilot.Bubble &&
                                          n.bubble &&
                                          n.bubble.hideOnMouseOut();
                                  };
                              })(e, t, n))),
                        "HoverMenu" === n.action &&
                            ((d.onmousemove = (function (e, t, n) {
                                return function (e) {
                                    var i = n.menu;
                                    "string" == typeof i &&
                                        (i = DayPilot.Util.evalVariable(i)),
                                        i &&
                                            i.show &&
                                            (i.visible
                                                ? i.source &&
                                                  "undefined" !=
                                                      typeof i.source.id &&
                                                  i.source.id !== t.id &&
                                                  i.show(t)
                                                : i.show(t),
                                            i.cancelHideTimeout());
                                };
                            })(e, t, n)),
                            (d.onmouseout = (function (e, t, n) {
                                return function (e) {
                                    var t = n.menu;
                                    "string" == typeof t &&
                                        (t = DayPilot.Util.evalVariable(t)),
                                        t &&
                                            t.hideOnMouseOver &&
                                            t.delayedHide();
                                };
                            })(e, t, n))),
                        "JavaScript" === n.action)
                    ) {
                        var b = (function (e, t, n) {
                                return function (e) {
                                    if (!DayPilot.Util.isMouseEvent(e)) {
                                        (e.cancelBubble = !0),
                                            e.preventDefault();
                                        t.calendar.internal.touch;
                                        DayPilot.Global &&
                                            DayPilot.Global.touch &&
                                            (DayPilot.Global.touch.start = !0);
                                    }
                                };
                            })(l, t, n),
                            y = (function (e, t, n) {
                                return function (e) {
                                    if (!DayPilot.Util.isMouseEvent(e)) {
                                        (e.cancelBubble = !0),
                                            e.preventDefault();
                                        t.calendar.internal.touch;
                                        DayPilot.Global &&
                                            DayPilot.Global.touch &&
                                            (DayPilot.Global.touch.start = !1);
                                        var i = n.js;
                                        if (
                                            ("string" == typeof i &&
                                                (i = DayPilot.Util.evalFunction(
                                                    n.js
                                                )),
                                            "function" == typeof i)
                                        ) {
                                            var a = n.target || t;
                                            i.call(this, a);
                                        }
                                    }
                                };
                            })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, b),
                            DayPilot.reNonPassive(d, DayPilot.touch.end, y);
                    }
                    if ("None" === n.action) {
                        var b = (function (e, t, n) {
                            return function (e) {
                                var i = a(n, t, e);
                                "function" == typeof n.onClicked &&
                                    n.onClicked(i),
                                    e.preventDefault(),
                                    e.stopPropagation();
                            };
                        })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, b);
                    }
                    return (
                        (d.onmousedown = (function (e, t, n) {
                            return function (i) {
                                if (
                                    ("function" == typeof n.onmousedown &&
                                        n.onmousedown(i),
                                    "function" == typeof n.mousedown)
                                ) {
                                    var a = {};
                                    (a.area = n),
                                        (a.div = e),
                                        (a.originalEvent = i),
                                        (a.source = t),
                                        n.mousedown(a);
                                }
                                if ("Move" === n.action && t.isRow) {
                                    var r = t.$.row;
                                    (0, t.calendar.internal.rowStartMoving)(r);
                                }
                                "undefined" != typeof DayPilot.Bubble &&
                                    DayPilot.Bubble.hideActive(),
                                    "Move" === n.action &&
                                        (DayPilot.Global.movingAreaData =
                                            n.data),
                                    "Move" === n.action &&
                                        t.isEvent &&
                                        t.calendar.internal &&
                                        t.calendar.internal.startMoving &&
                                        t.calendar.internal.startMoving(e, i);
                                "Move" !== n.action &&
                                    "ResizeEnd" !== n.action &&
                                    "ResizeStart" !== n.action &&
                                    n.action &&
                                    "Default" !== n.action &&
                                    (i.preventDefault(), (i.cancelBubble = !0));
                            };
                        })(e, t, n)),
                        (d.onclick = (function (e, t, n) {
                            return function (i) {
                                var r = a(n, t, i);
                                if (!r.preventDefault.value) {
                                    switch (n.action) {
                                        case "JavaScript":
                                            var s = n.js;
                                            if (
                                                ("string" == typeof s &&
                                                    (s =
                                                        DayPilot.Util.evalFunction(
                                                            n.js
                                                        )),
                                                "function" == typeof s)
                                            ) {
                                                var l = n.target || t;
                                                s.call(this, l);
                                            }
                                            i.cancelBubble = !0;
                                            break;
                                        case "ContextMenu":
                                            o(e, t, n, i),
                                                (i.cancelBubble = !0);
                                            break;
                                        case "CallBack":
                                            alert(
                                                "callback not implemented yet, id: " +
                                                    n.id
                                            ),
                                                (i.cancelBubble = !0);
                                            break;
                                        case "None":
                                            i.cancelBubble = !0;
                                    }
                                    "function" == typeof n.onClicked &&
                                        n.onClicked(r);
                                }
                            };
                        })(e, t, n)),
                        "function" == typeof n.onMouseEnter &&
                            d.addEventListener(
                                "mouseenter",
                                (function (e, t, n) {
                                    return function (e) {
                                        var i = {};
                                        (i.area = n),
                                            (i.source = t),
                                            (i.originalEvent = e),
                                            n.onMouseEnter(i);
                                    };
                                })(e, t, n)
                            ),
                        "function" == typeof n.onMouseLeave &&
                            d.addEventListener(
                                "mouseleave",
                                (function (e, t, n) {
                                    return function (e) {
                                        var i = {};
                                        (i.area = n),
                                            (i.source = t),
                                            (i.originalEvent = e),
                                            n.onMouseLeave(i);
                                    };
                                })(e, t, n)
                            ),
                        d
                    );
                }),
                (DayPilot.Areas.all = []),
                (DayPilot.Areas.hideAreas = function (e, t) {
                    if (e && e && e.active) {
                        var n = e.active,
                            i = e.areas;
                        if (n && n.children && t) {
                            var a = t.toElement || t.relatedTarget;
                            if (~DayPilot.indexOf(n.children, a)) return;
                        }
                        if (!i || 0 === i.length) return void (e.active = null);
                        DayPilot.de(i),
                            (e.active = null),
                            (e.areas = []),
                            DayPilot.rfa(DayPilot.Areas.all, e),
                            (n.children = null);
                    }
                }),
                (DayPilot.Areas.hideAll = function (e) {
                    if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length)
                        for (var t = 0; t < DayPilot.Areas.all.length; t++)
                            DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e);
                }),
                (DayPilot.Action = function (e, t, n, i) {
                    var a = this;
                    (this.calendar = e),
                        (this.isAction = !0),
                        (this.action = t),
                        (this.params = n),
                        (this.data = i),
                        (this.notify = function () {
                            a.calendar.internal.invokeEvent(
                                "Immediate",
                                this.action,
                                this.params,
                                this.data
                            );
                        }),
                        (this.auto = function () {
                            a.calendar.internal.invokeEvent(
                                "Notify",
                                this.action,
                                this.params,
                                this.data
                            );
                        }),
                        (this.queue = function () {
                            a.calendar.queue.add(this);
                        }),
                        (this.toJSON = function () {
                            var e = {};
                            return (
                                (e.name = this.action),
                                (e.params = this.params),
                                (e.data = this.data),
                                e
                            );
                        });
                }),
                (DayPilot.Selection = function (e, t, n, i) {
                    (this.menuType = "selection"),
                        (this.start = new DayPilot.Date(e)),
                        (this.end = new DayPilot.Date(t)),
                        (this.resource = n),
                        (this.root = i),
                        (this.calendar = i),
                        (this.toJSON = function (e) {
                            var t = {};
                            return (
                                (t.start = this.start),
                                (t.end = this.end),
                                (t.resource = this.resource),
                                t
                            );
                        });
                }),
                (DayPilot.Link = function (e, t) {
                    (this.isLink = !0),
                        (this.data = e),
                        (this.calendar = t),
                        (this.to = function () {
                            return this.data.to;
                        }),
                        (this.from = function () {
                            return this.data.from;
                        }),
                        (this.type = function () {
                            return this.data.type;
                        }),
                        (this.id = function () {
                            return this.data.id;
                        }),
                        (this.toJSON = function () {
                            var e = {};
                            return (
                                (e.from = this.data.from),
                                (e.to = this.data.to),
                                (e.id = this.data.id),
                                (e.type = this.data.type),
                                e
                            );
                        });
                }),
                (DayPilot.Event = function (e, t, n) {
                    var i = this;
                    (this.calendar = t),
                        (this.data = e ? e : {}),
                        (this.part = n ? n : {}),
                        "undefined" == typeof this.data.id &&
                            (this.data.id = this.data.value);
                    var a = {},
                        r = ["id", "text", "start", "end", "resource"];
                    (this.isEvent = !0),
                        (DayPilot.Stats.eventObjects += 1),
                        (this.temp = function () {
                            if (a.dirty) return a;
                            for (var e = 0; e < r.length; e++)
                                a[r[e]] = i.data[r[e]];
                            return (a.dirty = !0), a;
                        }),
                        (this.copy = function () {
                            var e = {};
                            return DayPilot.Util.copyProps(i.data, e), e;
                        }),
                        (this.commit = function () {
                            if (a.dirty) {
                                for (var e = 0; e < r.length; e++)
                                    i.data[r[e]] = a[r[e]];
                                "function" == typeof i.data.commitCallback &&
                                    i.data.commitCallback(),
                                    (a.dirty = !1);
                            }
                        }),
                        (this.dirty = function () {
                            return a.dirty;
                        }),
                        (this.id = function (e) {
                            return "undefined" == typeof e
                                ? i.data.id
                                : void (this.temp().id = e);
                        }),
                        (this.value = function (e) {
                            return "undefined" == typeof e
                                ? i.id()
                                : void i.id(e);
                        }),
                        (this.text = function (e) {
                            if ("undefined" == typeof e) return i.data.text;
                            this.temp().text = e;
                            var t = DayPilot.Util.escapeHtml(e);
                            this.client.innerHTML(t);
                        }),
                        (this.start = function (e) {
                            return "undefined" == typeof e
                                ? new DayPilot.Date(i.data.start)
                                : void (this.temp().start = new DayPilot.Date(
                                      e
                                  ));
                        }),
                        (this.end = function (e) {
                            return "undefined" == typeof e
                                ? t && t.internal.adjustEndNormalize
                                    ? t.internal.adjustEndNormalize(
                                          new DayPilot.Date(i.data.end)
                                      )
                                    : new DayPilot.Date(i.data.end)
                                : void (this.temp().end = new DayPilot.Date(e));
                        }),
                        (this.duration = function () {
                            return new DayPilot.Duration(
                                this.start(),
                                this.end()
                            );
                        }),
                        (this.rawend = function (e) {
                            if ("undefined" == typeof e)
                                return t && t.internal.adjustEndIn
                                    ? t.internal.adjustEndIn(
                                          new DayPilot.Date(i.data.end)
                                      )
                                    : new DayPilot.Date(i.data.end);
                            throw new DayPilot.Exception(
                                "DayPilot.Event.rawend() is readonly"
                            );
                        }),
                        (this.partStart = function () {
                            return new DayPilot.Date(this.part.start);
                        }),
                        (this.partEnd = function () {
                            return new DayPilot.Date(this.part.end);
                        }),
                        (this.row = function () {
                            return this.resource();
                        }),
                        (this.allday = function () {
                            return "undefined" == typeof val
                                ? i.data.allday
                                : void (this.temp().allday = val);
                        }),
                        (this.isAllDay = this.allday),
                        (this.resource = function (e) {
                            return "undefined" == typeof e
                                ? i.data.resource
                                : void (this.temp().resource = e);
                        }),
                        (this.recurrent = function () {
                            return i.data.recurrent;
                        }),
                        (this.recurrentMasterId = function () {
                            return i.data.recurrentMasterId;
                        }),
                        (this.useBox = function () {
                            return this.part.box;
                        }),
                        (this.staticBubbleHTML = function () {
                            return this.bubbleHtml();
                        }),
                        (this.bubbleHtml = function () {
                            return i.cache
                                ? i.cache.bubbleHtml || i.data.bubbleHtml
                                : i.data.bubbleHtml;
                        }),
                        (this.tag = function (e) {
                            if (i.data.tags) return i.data.tags[e];
                            var t = i.data.tag;
                            if (!t) return null;
                            if ("undefined" == typeof e) return i.data.tag;
                            for (
                                var n = i.calendar.tagFields, a = -1, r = 0;
                                r < n.length;
                                r++
                            )
                                e === n[r] && (a = r);
                            if (a === -1) throw "Field name not found.";
                            return t[a];
                        }),
                        (this.client = {}),
                        (this.client.innerHTML = function (e) {
                            if ("undefined" == typeof e) {
                                var t = i.cache || i.data,
                                    n =
                                        i.calendar &&
                                        i.calendar.internal &&
                                        i.calendar.internal.xssTextHtml;
                                return n
                                    ? n(t.text, t.html)
                                    : DayPilot.Util.escapeTextHtml(
                                          t.text,
                                          t.html
                                      );
                            }
                            (i.data.html = e), i.cache && (i.cache.html = e);
                        }),
                        (this.client.html = this.client.innerHTML),
                        (this.client.header = function (e) {
                            return "undefined" == typeof e
                                ? i.data.header
                                : void (i.data.header = e);
                        }),
                        (this.client.cssClass = function (e) {
                            return "undefined" == typeof e
                                ? i.data.cssClass
                                : void (i.data.cssClass = e);
                        }),
                        (this.client.toolTip = function (e) {
                            if ("undefined" == typeof e) {
                                var t = null;
                                return (t =
                                    i.cache &&
                                    "undefined" != typeof i.cache.toolTip
                                        ? i.cache.toolTip
                                        : "undefined" != typeof i.data.toolTip
                                        ? i.data.toolTip
                                        : i.data.text);
                            }
                            i.data.toolTip = e;
                        }),
                        (this.client.backColor = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.backColor
                                    ? i.cache.backColor
                                    : "undefined" != typeof i.data.backColor
                                    ? i.data.backColor
                                    : i.calendar.eventBackColor
                                : void (i.data.backColor = e);
                        }),
                        (this.client.borderColor = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.borderColor
                                    ? i.cache.borderColor
                                    : "undefined" != typeof i.data.borderColor
                                    ? i.data.borderColor
                                    : i.calendar.eventBorderColor
                                : void (i.data.borderColor = e);
                        }),
                        (this.client.barColor = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.barColor
                                    ? i.cache.barColor
                                    : "undefined" != typeof i.data.barColor
                                    ? i.data.barColor
                                    : i.calendar.durationBarColor
                                : void (i.data.barColor = e);
                        }),
                        (this.client.barVisible = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.barHidden
                                    ? !i.cache.barHidden
                                    : i.calendar.durationBarVisible &&
                                      !i.data.barHidden
                                : void (i.data.barHidden = !e);
                        }),
                        (this.client.contextMenu = function (e) {
                            if ("undefined" == typeof e) {
                                if (i.oContextMenu) return i.oContextMenu;
                                var t = i.cache
                                    ? i.cache.contextMenu
                                    : i.data.contextMenu;
                                return t ? DayPilot.Util.evalVariable(t) : null;
                            }
                            i.oContextMenu = e;
                        }),
                        (this.client.moveEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.moveDisabled
                                    ? !i.cache.moveDisabled
                                    : "Disabled" !==
                                          i.calendar.eventMoveHandling &&
                                      !i.data.moveDisabled
                                : void (i.data.moveDisabled = !e);
                        }),
                        (this.client.resizeEnabled = function (e) {
                            return "undefined" == typeof e
                                ? "Milestone" !== i.data.type &&
                                      (i.cache &&
                                      "undefined" !=
                                          typeof i.cache.resizeDisabled
                                          ? !i.cache.resizeDisabled
                                          : "Disabled" !==
                                                i.calendar
                                                    .eventResizeHandling &&
                                            !i.data.resizeDisabled)
                                : void (i.data.resizeDisabled = !e);
                        }),
                        (this.client.rightClickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" !=
                                      typeof i.cache.rightClickDisabled
                                    ? !i.cache.rightClickDisabled
                                    : "Disabled" !==
                                          i.calendar.eventRightClickHandling &&
                                      !i.data.rightClickDisabled
                                : void (i.data.rightClickDisabled = !e);
                        }),
                        (this.client.clickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.clickDisabled
                                    ? !i.cache.clickDisabled
                                    : "Disabled" !==
                                          i.calendar.eventClickHandling &&
                                      !i.data.clickDisabled
                                : void (i.data.clickDisabled = !e);
                        }),
                        (this.client.deleteEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.deleteDisabled
                                    ? !i.cache.deleteDisabled
                                    : "Disabled" !==
                                          i.calendar.eventDeleteHandling &&
                                      !i.data.deleteDisabled
                                : void (i.data.deleteDisabled = !e);
                        }),
                        (this.client.doubleClickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" !=
                                      typeof i.cache.doubleClickDisabled
                                    ? !i.cache.doubleClickDisabled
                                    : "Disabled" !==
                                          i.calendar.eventDoubleClickHandling &&
                                      !i.data.doubleClickDisabled
                                : void (i.data.doubleClickDisabled = !e);
                        }),
                        (this.client.deleteClickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache &&
                                  "undefined" != typeof i.cache.deleteDisabled
                                    ? !i.cache.deleteDisabled
                                    : "Disabled" !==
                                          i.calendar.eventDeleteHandling &&
                                      !i.data.deleteDisabled
                                : void (i.data.deleteDisabled = !e);
                        }),
                        (this.toJSON = function (e) {
                            var t = {};
                            if (
                                ((t.value = this.id()),
                                (t.id = this.id()),
                                (t.text = this.text()),
                                (t.start = this.start().toJSON()),
                                (t.end = this.end().toJSON()),
                                (t.resource = this.resource()),
                                (t.isAllDay = !1),
                                (t.recurrentMasterId =
                                    this.recurrentMasterId()),
                                (t.join = this.data.join),
                                (t.tag = {}),
                                i.data.tags)
                            )
                                for (var n in i.data.tags)
                                    i.data.tags.hasOwnProperty(n) &&
                                        (t.tag[n] = "" + i.data.tags[n]);
                            else if (i.calendar && i.calendar.tagFields)
                                for (
                                    var a = i.calendar.tagFields, r = 0;
                                    r < a.length;
                                    r++
                                )
                                    t.tag[a[r]] = this.tag(a[r]);
                            return t;
                        });
                }),
                (DayPilot.Task = function (e, t) {
                    if (!e)
                        throw "Trying to initialize DayPilot.Task with null data parameter";
                    var n = this,
                        i = null;
                    if (e instanceof DayPilot.Event)
                        (i = e), (this.data = e.data.task);
                    else {
                        if (e instanceof DayPilot.Task) return e;
                        e.isTaskWrapper
                            ? (this.data = e.data)
                            : (this.data = e);
                    }
                    var a = {},
                        r = ["id", "text", "start", "end", "complete", "type"];
                    (this.isTask = !0),
                        (this.calendar = t),
                        (this.temp = function () {
                            if (a.dirty) return a;
                            for (var e = 0; e < r.length; e++)
                                a[r[e]] = n.data[r[e]];
                            return (a.dirty = !0), a;
                        }),
                        (this.copy = function () {
                            var e = {};
                            return DayPilot.Util.copyProps(n.data, e), e;
                        }),
                        (this.commit = function () {
                            if (a.dirty) {
                                for (var e = 0; e < r.length; e++)
                                    n.data[r[e]] = a[r[e]];
                                a.dirty = !1;
                            }
                        }),
                        (this.dirty = function () {
                            return a.dirty;
                        }),
                        (this.id = function (e) {
                            return "undefined" == typeof e
                                ? n.data.id
                                : void (this.temp().id = e);
                        }),
                        (this.text = function (e) {
                            if ("undefined" == typeof e) return n.data.text;
                            this.temp().text = e;
                            var t = DayPilot.Util.escapeHtml(e);
                            this.client.innerHTML(t);
                        }),
                        (this.start = function (e) {
                            return "undefined" == typeof e
                                ? new DayPilot.Date(n.data.start)
                                : void (this.temp().start = new DayPilot.Date(
                                      e
                                  ));
                        }),
                        (this.duration = function () {
                            return new DayPilot.Duration(
                                this.start(),
                                this.end()
                            );
                        }),
                        (this.end = function (e) {
                            return "undefined" == typeof e
                                ? t && "Date" === t.eventEndSpec
                                    ? new DayPilot.Date(n.data.end)
                                          .getDatePart()
                                          .addDays(1)
                                    : new DayPilot.Date(n.data.end)
                                : void (this.temp().end = new DayPilot.Date(e));
                        }),
                        (this.type = function (e) {
                            return "undefined" == typeof e
                                ? i
                                    ? i.data.type || "Task"
                                    : n.data.type
                                : void (this.temp().type = e);
                        }),
                        (this.complete = function (e) {
                            return "undefined" == typeof e
                                ? n.data.complete
                                    ? n.data.complete
                                    : 0
                                : void (this.temp().complete = e);
                        }),
                        (this.children = function () {
                            var e = [];
                            e.add = function (e) {
                                var t = new DayPilot.Task(e);
                                this.data.children || (this.data.children = []),
                                    this.children.push(t.data);
                            };
                            for (
                                var n = 0;
                                this.data.children &&
                                n < this.data.children.length;
                                n++
                            )
                                e.push(
                                    new DayPilot.Task(this.data.children[n], t)
                                );
                            return e;
                        }),
                        (this.toJSON = function (e) {
                            var t = {};
                            return (
                                (t.id = this.id()),
                                (t.text = this.text()),
                                (t.start = this.start().toJSON()),
                                (t.end = this.end().toJSON()),
                                (t.type = this.type()),
                                (t.tags = {}),
                                DayPilot.Util.copyProps(this.data.tags, t.tags),
                                t
                            );
                        }),
                        (this.row = {});
                    var o = this.row;
                    (o.expanded = function (e) {
                        return "undefined" == typeof e
                            ? !n.data.row || !n.data.row.collapsed
                            : (n.data.row || (n.data.row = {}),
                              !!n.data.row.collapsed != !e &&
                                  t.internal
                                      .rowObjectForTaskData(n.data)
                                      .toggle(),
                              (n.data.row.collapsed = !e),
                              void 0);
                    }),
                        (o.expand = function () {
                            o.expanded(!0);
                        }),
                        (o.collapse = function () {
                            o.expanded(!1);
                        }),
                        (o.toggle = function () {
                            o.expanded(!o.expanded());
                        });
                }),
                (DayPilot.request = function (e, t, n, i) {
                    var a = DayPilot.createXmlHttp();
                    a &&
                        (a.open("POST", e, !0),
                        a.setRequestHeader("Content-type", "text/plain"),
                        (a.onreadystatechange = function () {
                            if (4 === a.readyState)
                                return 200 !== a.status && 304 !== a.status
                                    ? void (i
                                          ? i(a)
                                          : window.console &&
                                            console.log(
                                                "HTTP error " + a.status
                                            ))
                                    : void t(a);
                        }),
                        4 !== a.readyState &&
                            ("object" == typeof n && (n = JSON.stringify(n)),
                            a.send(n)));
                }),
                (DayPilot.ajax = function (e) {
                    if (!e)
                        throw new DayPilot.Exception(
                            "Parameter object required."
                        );
                    if ("string" != typeof e.url)
                        throw new DayPilot.Exception(
                            "The parameter object must have 'url' property."
                        );
                    var t = DayPilot.createXmlHttp();
                    if (!t)
                        throw new DayPilot.Exception(
                            "Unable to create XMLHttpRequest object"
                        );
                    var n = "object" == typeof e.data,
                        i = e.data,
                        a = e.method || (e.data ? "POST" : "GET"),
                        r = e.success || function () {},
                        o = e.error || function () {},
                        s = e.url,
                        l =
                            e.contentType ||
                            (n ? "application/json" : "text/plain"),
                        d = e.headers || {};
                    t.open(a, s, !0),
                        t.setRequestHeader("Content-type", l),
                        DayPilot.Util.ownPropsAsArray(d).forEach(function (e) {
                            t.setRequestHeader(e.key, e.val);
                        }),
                        (t.onreadystatechange = function () {
                            if (4 === t.readyState)
                                if (
                                    200 === t.status ||
                                    201 === t.status ||
                                    204 === t.status ||
                                    304 === t.status
                                ) {
                                    var e = {};
                                    (e.request = t),
                                        t.responseText &&
                                            (e.data = JSON.parse(
                                                t.responseText
                                            )),
                                        r(e);
                                } else if (o) {
                                    var e = {};
                                    (e.request = t), o(e);
                                } else
                                    window.console &&
                                        console.log("HTTP error " + t.status);
                        }),
                        4 !== t.readyState &&
                            (n && (i = JSON.stringify(i)), t.send(i));
                }),
                (DayPilot.createXmlHttp = function () {
                    return new XMLHttpRequest();
                }),
                (DayPilot.Http = {}),
                (DayPilot.Http.ajax = function (e) {
                    DayPilot.ajax(e);
                }),
                (DayPilot.Http.get = function (e, t) {
                    return (
                        (t = t || {}),
                        new Promise(function (n, i) {
                            var a = {};
                            (a.url = e),
                                (a.method = "GET"),
                                (a.success = function (e) {
                                    n(e);
                                }),
                                (a.error = function (e) {
                                    i(e);
                                }),
                                (a.contentType = t.contentType),
                                (a.headers = t.headers),
                                DayPilot.ajax(a);
                        })
                    );
                }),
                (DayPilot.Http.post = function (e, t, n) {
                    return (
                        (n = n || {}),
                        new Promise(function (i, a) {
                            var r = {};
                            (r.url = e),
                                (r.method = "POST"),
                                (r.data = t),
                                (r.success = function (e) {
                                    i(e);
                                }),
                                (r.error = function (e) {
                                    a(e);
                                }),
                                (r.contentType = n.contentType),
                                (r.headers = n.headers),
                                DayPilot.ajax(r);
                        })
                    );
                }),
                (DayPilot.Http.put = function (e, t, n) {
                    return (
                        (n = n || {}),
                        new Promise(function (i, a) {
                            var r = {};
                            (r.url = e),
                                (r.method = "PUT"),
                                (r.data = t),
                                (r.success = function (e) {
                                    i(e);
                                }),
                                (r.error = function (e) {
                                    a(e);
                                }),
                                (r.contentType = n.contentType),
                                (r.headers = n.headers),
                                DayPilot.ajax(r);
                        })
                    );
                }),
                (DayPilot.Http.delete = function (e, t) {
                    return (
                        (t = t || {}),
                        new Promise(function (n, i) {
                            var a = {};
                            (a.url = e),
                                (a.method = "DELETE"),
                                (a.success = function (e) {
                                    n(e);
                                }),
                                (a.error = function (e) {
                                    i(e);
                                }),
                                (a.contentType = t.contentType),
                                (a.headers = t.headers),
                                DayPilot.ajax(a);
                        })
                    );
                }),
                (DayPilot.Duration = function (e) {
                    var t = this,
                        n = 864e5,
                        i = 36e5,
                        a = 6e4,
                        r = 1e3;
                    if (2 === arguments.length) {
                        var o = arguments[0],
                            s = arguments[1];
                        if (
                            !(o instanceof DayPilot.Date) &&
                            "string" != typeof o
                        )
                            throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
                        if (
                            !(s instanceof DayPilot.Date) &&
                            "string" != typeof s
                        )
                            throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
                        "string" == typeof o && (o = new DayPilot.Date(o)),
                            "string" == typeof s && (s = new DayPilot.Date(s)),
                            (e = s.getTime() - o.getTime());
                    }
                    return (
                        (this.ticks = e || 0),
                        DayPilot.Date.Cache.DurationCtor["" + e]
                            ? DayPilot.Date.Cache.DurationCtor["" + e]
                            : ((DayPilot.Date.Cache.DurationCtor["" + e] =
                                  this),
                              (this.toString = function (e) {
                                  if (!e)
                                      return (
                                          t.days() +
                                          "." +
                                          t.hours() +
                                          ":" +
                                          t.minutes() +
                                          ":" +
                                          t.seconds() +
                                          "." +
                                          t.milliseconds()
                                      );
                                  var n = t.minutes();
                                  n = (n < 10 ? "0" : "") + n;
                                  var i = e;
                                  return (
                                      (i = i.replace("mm", n)),
                                      (i = i.replace("m", t.minutes())),
                                      (i = i.replace("H", t.hours())),
                                      (i = i.replace("h", t.hours())),
                                      (i = i.replace("d", t.days())),
                                      (i = i.replace("s", t.seconds()))
                                  );
                              }),
                              (this.totalHours = function () {
                                  return t.ticks / i;
                              }),
                              (this.totalDays = function () {
                                  return t.ticks / n;
                              }),
                              (this.totalMinutes = function () {
                                  return t.ticks / a;
                              }),
                              (this.totalSeconds = function () {
                                  return t.ticks / r;
                              }),
                              (this.totalMilliseconds = function () {
                                  return t.ticks;
                              }),
                              (this.days = function () {
                                  return Math.floor(t.totalDays());
                              }),
                              (this.hours = function () {
                                  var e = t.ticks - t.days() * n;
                                  return Math.floor(e / i);
                              }),
                              (this.minutes = function () {
                                  var e =
                                      t.ticks - Math.floor(t.totalHours()) * i;
                                  return Math.floor(e / a);
                              }),
                              (this.seconds = function () {
                                  var e =
                                      t.ticks -
                                      Math.floor(t.totalMinutes()) * a;
                                  return Math.floor(e / r);
                              }),
                              (this.milliseconds = function () {
                                  return t.ticks % r;
                              }),
                              void (this.add = function (e) {
                                  return new DayPilot.Duration(
                                      t.ticks + e.ticks
                                  );
                              }))
                    );
                }),
                (DayPilot.Duration.ofWeeks = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7);
                }),
                (DayPilot.Duration.ofDays = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60 * 60 * 24);
                }),
                (DayPilot.Duration.ofHours = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60 * 60);
                }),
                (DayPilot.Duration.ofMinutes = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60);
                }),
                (DayPilot.Duration.ofSeconds = function (e) {
                    return new DayPilot.Duration(1e3 * e);
                }),
                (DayPilot.Duration.weeks = function (e) {
                    return DayPilot.Duration.ofWeeks(e);
                }),
                (DayPilot.Duration.days = function (e) {
                    return DayPilot.Duration.ofDays(e);
                }),
                (DayPilot.Duration.hours = function (e) {
                    return DayPilot.Duration.ofHours(e);
                }),
                (DayPilot.Duration.minutes = function (e) {
                    return DayPilot.Duration.ofMinutes(e);
                }),
                (DayPilot.Duration.seconds = function (e) {
                    return DayPilot.Duration.ofSeconds(e);
                }),
                (DayPilot.TimeSpan = function () {
                    throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan.";
                });
            try {
                DayPilot.TimeSpan.prototype = Object.create(
                    DayPilot.Duration.prototype
                );
            } catch (e) {}
            (DayPilot.Date = function (t, n) {
                if (t instanceof DayPilot.Date) return t;
                var i;
                DayPilot.Util.isNullOrUndefined(t) &&
                    ((i = DayPilot.DateUtil.fromLocal().getTime()), (t = i));
                var a = DayPilot.Date.Cache.Ctor;
                if (a[t]) return (DayPilot.Stats.cacheHitsCtor += 1), a[t];
                var r = !1;
                if ("string" == typeof t) {
                    try {
                        i = DayPilot.DateUtil.fromStringSortable(
                            t,
                            n
                        ).getTime();
                    } catch (e) {
                        throw new DayPilot.Exception(
                            "DayPilot.Date - Unable to parse ISO8601 date/time string: " +
                                t
                        );
                    }
                    r = !0;
                } else if ("number" == typeof t) {
                    if (isNaN(t)) throw "Cannot create DayPilot.Date from NaN";
                    i = t;
                } else {
                    if (!(t instanceof Date))
                        throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
                    i = n
                        ? DayPilot.DateUtil.fromLocal(t).getTime()
                        : t.getTime();
                }
                var o = e(i);
                return a[o]
                    ? a[o]
                    : ((a[o] = this),
                      (a[i] = this),
                      r &&
                          o !== t &&
                          DayPilot.DateUtil.hasTzSpec(t) &&
                          (a[t] = this),
                      Object.defineProperty
                          ? (Object.defineProperty(this, "ticks", {
                                get: function () {
                                    return i;
                                },
                            }),
                            Object.defineProperty(this, "value", {
                                value: o,
                                writable: !1,
                                enumerable: !0,
                            }))
                          : ((this.ticks = i), (this.value = o)),
                      DayPilot.Date.Config.legacyShowD &&
                          (this.d = new Date(i)),
                      void (DayPilot.Stats.dateObjects += 1));
            }),
                (DayPilot.Date.Config = {}),
                (DayPilot.Date.Config.legacyShowD = !1),
                (DayPilot.Date.Cache = {}),
                (DayPilot.Date.Cache.Parsing = {}),
                (DayPilot.Date.Cache.Ctor = {}),
                (DayPilot.Date.Cache.Ticks = {}),
                (DayPilot.Date.Cache.DurationCtor = {}),
                (DayPilot.Date.Cache.clear = function () {
                    (DayPilot.Date.Cache.Parsing = {}),
                        (DayPilot.Date.Cache.Ctor = {}),
                        (DayPilot.Date.Cache.Ticks = {}),
                        (DayPilot.Date.Cache.DurationCtor = {});
                }),
                (DayPilot.Date.prototype.addDays = function (e) {
                    return e
                        ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3)
                        : this;
                }),
                (DayPilot.Date.prototype.addHours = function (e) {
                    return e ? this.addTime(60 * e * 60 * 1e3) : this;
                }),
                (DayPilot.Date.prototype.addMilliseconds = function (e) {
                    return e ? this.addTime(e) : this;
                }),
                (DayPilot.Date.prototype.addMinutes = function (e) {
                    return e ? this.addTime(60 * e * 1e3) : this;
                }),
                (DayPilot.Date.prototype.addMonths = function (e) {
                    if (!e) return this;
                    var t = new Date(this.ticks),
                        n = t.getUTCFullYear(),
                        i = t.getUTCMonth() + 1;
                    if (e > 0) {
                        for (; e >= 12; ) (e -= 12), n++;
                        e > 12 - i ? (n++, (i = e - (12 - i))) : (i += e);
                    } else {
                        for (; e <= -12; ) (e += 12), n--;
                        i + e <= 0 ? (n--, (i = 12 + i + e)) : (i += e);
                    }
                    var a = new Date(t.getTime());
                    a.setUTCDate(1), a.setUTCFullYear(n), a.setUTCMonth(i - 1);
                    var r = new DayPilot.Date(a).daysInMonth();
                    return (
                        a.setUTCDate(Math.min(r, t.getUTCDate())),
                        new DayPilot.Date(a)
                    );
                }),
                (DayPilot.Date.prototype.addSeconds = function (e) {
                    return e ? this.addTime(1e3 * e) : this;
                }),
                (DayPilot.Date.prototype.addTime = function (e) {
                    return e
                        ? (e instanceof DayPilot.Duration && (e = e.ticks),
                          new DayPilot.Date(this.ticks + e))
                        : this;
                }),
                (DayPilot.Date.prototype.addYears = function (e) {
                    var t = new Date(this.ticks),
                        n = new Date(this.ticks),
                        i = this.getYear() + e,
                        a = this.getMonth();
                    n.setUTCDate(1), n.setUTCFullYear(i), n.setUTCMonth(a);
                    var r = new DayPilot.Date(n).daysInMonth();
                    return (
                        n.setUTCDate(Math.min(r, t.getUTCDate())),
                        new DayPilot.Date(n)
                    );
                }),
                (DayPilot.Date.prototype.dayOfWeek = function () {
                    return new Date(this.ticks).getUTCDay();
                }),
                (DayPilot.Date.prototype.dayOfWeekISO = function () {
                    return new Date(this.ticks).getUTCDay() || 7;
                }),
                (DayPilot.Date.prototype.getDayOfWeek = function () {
                    return new Date(this.ticks).getUTCDay();
                }),
                (DayPilot.Date.prototype.getDayOfYear = function () {
                    var e = this.firstDayOfYear();
                    return DayPilot.DateUtil.daysDiff(e, this) + 1;
                }),
                (DayPilot.Date.prototype.daysInMonth = function () {
                    var e = new Date(this.ticks),
                        t = e.getUTCMonth() + 1,
                        n = e.getUTCFullYear(),
                        i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
                    return 2 !== t
                        ? i[t - 1]
                        : n % 4 !== 0
                        ? i[1]
                        : n % 100 === 0 && n % 400 !== 0
                        ? i[1]
                        : i[1] + 1;
                }),
                (DayPilot.Date.prototype.daysInYear = function () {
                    var e = this.getYear();
                    return e % 4 !== 0
                        ? 365
                        : e % 100 === 0 && e % 400 !== 0
                        ? 365
                        : 366;
                }),
                (DayPilot.Date.prototype.dayOfYear = function () {
                    return (
                        Math.ceil(
                            (this.getDatePart().getTime() -
                                this.firstDayOfYear().getTime()) /
                                864e5
                        ) + 1
                    );
                }),
                (DayPilot.Date.prototype.equals = function (e) {
                    if (null === e) return !1;
                    if (e instanceof DayPilot.Date) return this === e;
                    throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
                }),
                (DayPilot.Date.prototype.firstDayOfMonth = function () {
                    var e = new Date();
                    return (
                        e.setUTCFullYear(this.getYear(), this.getMonth(), 1),
                        e.setUTCHours(0),
                        e.setUTCMinutes(0),
                        e.setUTCSeconds(0),
                        e.setUTCMilliseconds(0),
                        new DayPilot.Date(e)
                    );
                }),
                (DayPilot.Date.prototype.firstDayOfYear = function () {
                    var e = this.getYear(),
                        t = new Date();
                    return (
                        t.setUTCFullYear(e, 0, 1),
                        t.setUTCHours(0),
                        t.setUTCMinutes(0),
                        t.setUTCSeconds(0),
                        t.setUTCMilliseconds(0),
                        new DayPilot.Date(t)
                    );
                }),
                (DayPilot.Date.prototype.firstDayOfWeek = function (e) {
                    var t = this;
                    if (e instanceof DayPilot.Locale) e = e.weekStarts;
                    else if ("string" == typeof e && DayPilot.Locale.find(e)) {
                        var n = DayPilot.Locale.find(e);
                        e = n.weekStarts;
                    } else e = e || 0;
                    for (var i = t.dayOfWeek(); i !== e; )
                        (t = t.addDays(-1)), (i = t.dayOfWeek());
                    return new DayPilot.Date(t);
                }),
                (DayPilot.Date.prototype.getDay = function () {
                    return new Date(this.ticks).getUTCDate();
                }),
                (DayPilot.Date.prototype.getDatePart = function () {
                    var e = new Date(this.ticks);
                    return (
                        e.setUTCHours(0),
                        e.setUTCMinutes(0),
                        e.setUTCSeconds(0),
                        e.setUTCMilliseconds(0),
                        new DayPilot.Date(e)
                    );
                }),
                (DayPilot.Date.prototype.getYear = function () {
                    return new Date(this.ticks).getUTCFullYear();
                }),
                (DayPilot.Date.prototype.getHours = function () {
                    return new Date(this.ticks).getUTCHours();
                }),
                (DayPilot.Date.prototype.getMilliseconds = function () {
                    return new Date(this.ticks).getUTCMilliseconds();
                }),
                (DayPilot.Date.prototype.getMinutes = function () {
                    return new Date(this.ticks).getUTCMinutes();
                }),
                (DayPilot.Date.prototype.getMonth = function () {
                    return new Date(this.ticks).getUTCMonth();
                }),
                (DayPilot.Date.prototype.getSeconds = function () {
                    return new Date(this.ticks).getUTCSeconds();
                }),
                (DayPilot.Date.prototype.getTotalTicks = function () {
                    return this.getTime();
                }),
                (DayPilot.Date.prototype.getTime = function () {
                    return this.ticks;
                }),
                (DayPilot.Date.prototype.getTimePart = function () {
                    var e = this.getDatePart();
                    return DayPilot.DateUtil.diff(this, e);
                }),
                (DayPilot.Date.prototype.lastDayOfMonth = function () {
                    var e = new Date(this.firstDayOfMonth().getTime()),
                        t = this.daysInMonth();
                    return e.setUTCDate(t), new DayPilot.Date(e);
                }),
                (DayPilot.Date.prototype.weekNumber = function () {
                    var e = this.firstDayOfYear(),
                        t = (this.getTime() - e.getTime()) / 864e5;
                    return Math.ceil((t + e.dayOfWeek() + 1) / 7);
                }),
                (DayPilot.Date.prototype.weekNumberISO = function () {
                    var e = !1,
                        t = this.dayOfYear(),
                        n = this.firstDayOfYear().dayOfWeek(),
                        i = this.firstDayOfYear()
                            .addYears(1)
                            .addDays(-1)
                            .dayOfWeek();
                    0 === n && (n = 7), 0 === i && (i = 7);
                    var a = 8 - n;
                    (4 !== n && 4 !== i) || (e = !0);
                    var r = Math.ceil((t - a) / 7),
                        o = r;
                    return (
                        a >= 4 && (o += 1),
                        o > 52 && !e && (o = 1),
                        0 === o &&
                            (o = this.firstDayOfYear()
                                .addDays(-1)
                                .weekNumberISO()),
                        o
                    );
                }),
                (DayPilot.Date.prototype.toDateLocal = function () {
                    var e = new Date(this.ticks),
                        t = new Date();
                    return (
                        t.setFullYear(
                            e.getUTCFullYear(),
                            e.getUTCMonth(),
                            e.getUTCDate()
                        ),
                        t.setHours(e.getUTCHours()),
                        t.setMinutes(e.getUTCMinutes()),
                        t.setSeconds(e.getUTCSeconds()),
                        t.setMilliseconds(e.getUTCMilliseconds()),
                        t
                    );
                }),
                (DayPilot.Date.prototype.toDate = function () {
                    return new Date(this.ticks);
                }),
                (DayPilot.Date.prototype.toJSON = function () {
                    return this.value;
                }),
                (DayPilot.Date.prototype.toString = function (e, t) {
                    return e
                        ? new r(e, t).print(this)
                        : this.toStringSortable();
                }),
                (DayPilot.Date.prototype.toStringSortable = function () {
                    return e(this.ticks);
                }),
                (DayPilot.Date.parse = function (e, t, n) {
                    return new r(t, n).parse(e);
                });
            var a = 0;
            (DayPilot.Date.today = function () {
                return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0);
            }),
                (DayPilot.Date.now = function () {
                    return new DayPilot.Date();
                }),
                (DayPilot.Date.fromYearMonthDay = function (e, t, n) {
                    (t = t || 1), (n = n || 1);
                    var i = new Date(0);
                    return (
                        i.setUTCFullYear(e),
                        i.setUTCMonth(t - 1),
                        i.setUTCDate(n),
                        new DayPilot.Date(i)
                    );
                }),
                (DayPilot.DateUtil = {}),
                (DayPilot.DateUtil.fromStringSortable = function (e, t) {
                    var n = function () {
                        return new DayPilot.Exception(
                            "Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" +
                                e +
                                "'"
                        );
                    };
                    if (!e)
                        throw new DayPilot.Exception(
                            "Can't create DayPilot.Date from an empty string"
                        );
                    var i = e.length,
                        a = 10 === i,
                        r = 19 === i,
                        o = i > 19;
                    if (!a && !r && !o) throw n();
                    if (DayPilot.Date.Cache.Parsing[e] && !t)
                        return (
                            (DayPilot.Stats.cacheHitsParsing += 1),
                            DayPilot.Date.Cache.Parsing[e]
                        );
                    var s = e.substring(0, 4);
                    if (isNaN(s)) throw n();
                    var l = e.substring(5, 7);
                    if (isNaN(l)) throw n();
                    var d = e.substring(8, 10);
                    if (isNaN(d)) throw n();
                    var c = new Date(0);
                    if ((c.setUTCFullYear(s, l - 1, d), a))
                        return (DayPilot.Date.Cache.Parsing[e] = c), c;
                    var u = e.substring(11, 13);
                    if (isNaN(u)) throw n();
                    var h = e.substring(14, 16);
                    if (isNaN(h)) throw n();
                    var f = e.substring(17, 19);
                    if (isNaN(f)) throw n();
                    if (
                        (c.setUTCHours(u),
                        c.setUTCMinutes(h),
                        c.setUTCSeconds(f),
                        r)
                    )
                        return (DayPilot.Date.Cache.Parsing[e] = c), c;
                    var v = e[19],
                        p = 0;
                    if ("." === v) {
                        var m = parseInt(e.substring(20, 23));
                        if (isNaN(m)) throw n();
                        c.setUTCMilliseconds(m),
                            (p = DayPilot.DateUtil.getTzOffsetMinutes(
                                e.substring(23)
                            ));
                    } else
                        p = DayPilot.DateUtil.getTzOffsetMinutes(
                            e.substring(19)
                        );
                    var g = new DayPilot.Date(c);
                    return (
                        t || (g = g.addMinutes(-p)),
                        (c = g.toDate()),
                        (DayPilot.Date.Cache.Parsing[e] = c),
                        c
                    );
                }),
                (DayPilot.DateUtil.getTzOffsetMinutes = function (e) {
                    if (DayPilot.Util.isNullOrUndefined(e) || "" === e)
                        return 0;
                    if ("Z" === e) return 0;
                    var t = e[0],
                        n = parseInt(e.substring(1, 3)),
                        i = parseInt(e.substring(4)),
                        a = 60 * n + i;
                    if ("-" === t) return -a;
                    if ("+" === t) return a;
                    throw "Invalid timezone spec: " + e;
                }),
                (DayPilot.DateUtil.hasTzSpec = function (e) {
                    return !!e.indexOf("+") || !!e.indexOf("-");
                }),
                (DayPilot.DateUtil.daysDiff = function (e, t) {
                    if (
                        ((e && t) ||
                            (function () {
                                throw "two parameters required";
                            })(),
                        (e = new DayPilot.Date(e)),
                        (t = new DayPilot.Date(t)),
                        e.getTime() > t.getTime())
                    )
                        return null;
                    for (
                        var n = 0, i = e.getDatePart(), a = t.getDatePart();
                        i < a;

                    )
                        (i = i.addDays(1)), n++;
                    return n;
                }),
                (DayPilot.DateUtil.daysSpan = function (e, t) {
                    if (
                        ((e && t) ||
                            (function () {
                                throw "two parameters required";
                            })(),
                        (e = new DayPilot.Date(e)),
                        (t = new DayPilot.Date(t)),
                        e === t)
                    )
                        return 0;
                    var n = DayPilot.DateUtil.daysDiff(e, t);
                    return t == t.getDatePart() && n--, n;
                }),
                (DayPilot.DateUtil.diff = function (e, t) {
                    if (!(e && t && e.getTime && t.getTime))
                        throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
                    return e.getTime() - t.getTime();
                }),
                (DayPilot.DateUtil.fromLocal = function (e) {
                    e || (e = new Date());
                    var t = new Date();
                    return (
                        t.setUTCFullYear(
                            e.getFullYear(),
                            e.getMonth(),
                            e.getDate()
                        ),
                        t.setUTCHours(e.getHours()),
                        t.setUTCMinutes(e.getMinutes()),
                        t.setUTCSeconds(e.getSeconds()),
                        t.setUTCMilliseconds(e.getMilliseconds()),
                        t
                    );
                }),
                (DayPilot.DateUtil.localToday = function () {
                    var e = new Date();
                    return (
                        e.setHours(0),
                        e.setMinutes(0),
                        e.setSeconds(0),
                        e.setMilliseconds(0),
                        e
                    );
                }),
                (DayPilot.DateUtil.hours = function (e, t) {
                    var n = e.getUTCMinutes();
                    n < 10 && (n = "0" + n);
                    var i = e.getUTCHours();
                    if (t) {
                        var a = i < 12,
                            i = i % 12;
                        0 === i && (i = 12);
                        return i + ":" + n + " " + (a ? "AM" : "PM");
                    }
                    return i + ":" + n;
                }),
                (DayPilot.DateUtil.max = function (e, t) {
                    return e.getTime() > t.getTime() ? e : t;
                }),
                (DayPilot.DateUtil.min = function (e, t) {
                    return e.getTime() < t.getTime() ? e : t;
                });
            var r = function (e, n) {
                "string" == typeof n && (n = DayPilot.Locale.find(n));
                var n = n || DayPilot.Locale.US,
                    i = [
                        {
                            seq: "yyyy",
                            expr: "[0-9]{4,4}",
                            str: function (e) {
                                return e.getYear();
                            },
                        },
                        {
                            seq: "yy",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                return e.getYear() % 100;
                            },
                            transform: function (e) {
                                return parseInt(e) + 2e3;
                            },
                        },
                        {
                            seq: "mm",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getMinutes();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "m",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getMinutes();
                            },
                        },
                        {
                            seq: "HH",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getHours();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "H",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getHours();
                            },
                        },
                        {
                            seq: "hh",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getHours(),
                                    t = t % 12;
                                0 === t && (t = 12);
                                var n = t;
                                return n < 10 ? "0" + n : n;
                            },
                        },
                        {
                            seq: "h",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                var t = e.getHours(),
                                    t = t % 12;
                                return 0 === t && (t = 12), t;
                            },
                        },
                        {
                            seq: "ss",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getSeconds();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "s",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getSeconds();
                            },
                        },
                        {
                            seq: "MMMM",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.monthNames[e.getMonth()];
                            },
                            transform: function (e) {
                                var i = DayPilot.indexOf(n.monthNames, e, t);
                                return i < 0 ? null : i + 1;
                            },
                        },
                        {
                            seq: "MMM",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.monthNamesShort[e.getMonth()];
                            },
                            transform: function (e) {
                                var i = DayPilot.indexOf(
                                    n.monthNamesShort,
                                    e,
                                    t
                                );
                                return i < 0 ? null : i + 1;
                            },
                        },
                        {
                            seq: "MM",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getMonth() + 1;
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "M",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getMonth() + 1;
                            },
                        },
                        {
                            seq: "dddd",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.dayNames[e.getDayOfWeek()];
                            },
                        },
                        {
                            seq: "ddd",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.dayNamesShort[e.getDayOfWeek()];
                            },
                        },
                        {
                            seq: "dd",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getDay();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "%d",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getDay();
                            },
                        },
                        {
                            seq: "d",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getDay();
                            },
                        },
                        {
                            seq: "tt",
                            expr: "(AM|PM|am|pm)",
                            str: function (e) {
                                return e.getHours() < 12 ? "AM" : "PM";
                            },
                            transform: function (e) {
                                return e.toUpperCase();
                            },
                        },
                    ],
                    a = function (e) {
                        return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
                    };
                (this.init = function () {
                    (this.year =
                        this.findSequence("yyyy") || this.findSequence("yy")),
                        (this.month =
                            this.findSequence("MMMM") ||
                            this.findSequence("MMM") ||
                            this.findSequence("MM") ||
                            this.findSequence("M")),
                        (this.day =
                            this.findSequence("dd") || this.findSequence("d")),
                        (this.hours =
                            this.findSequence("HH") || this.findSequence("H")),
                        (this.minutes =
                            this.findSequence("mm") || this.findSequence("m")),
                        (this.seconds =
                            this.findSequence("ss") || this.findSequence("s")),
                        (this.ampm = this.findSequence("tt")),
                        (this.hours12 =
                            this.findSequence("hh") || this.findSequence("h"));
                }),
                    (this.findSequence = function (t) {
                        function n(e) {
                            return parseInt(e);
                        }
                        return e.indexOf(t) === -1
                            ? null
                            : {
                                  findValue: function (r) {
                                      for (
                                          var o = a(e), s = null, l = 0;
                                          l < i.length;
                                          l++
                                      ) {
                                          var d = (i[l].length, t === i[l].seq),
                                              c = i[l].expr;
                                          d &&
                                              ((c = "(" + c + ")"),
                                              (s = i[l].transform)),
                                              (o = o.replace(i[l].seq, c));
                                      }
                                      o = "^" + o + "$";
                                      try {
                                          var u = new RegExp(o),
                                              h = u.exec(r);
                                          return h ? (s = s || n)(h[1]) : null;
                                      } catch (e) {
                                          throw (
                                              "unable to create regex from: " +
                                              o
                                          );
                                      }
                                  },
                              };
                    }),
                    (this.print = function (t) {
                        for (
                            var n = function (e) {
                                    for (var t = 0; t < i.length; t++)
                                        if (i[t] && i[t].seq === e) return i[t];
                                    return null;
                                },
                                a = e.length <= 0,
                                r = 0,
                                o = [];
                            !a;

                        ) {
                            var s = e.substring(r),
                                l = /%?(.)\1*/.exec(s);
                            if (l && l.length > 0) {
                                var d = l[0],
                                    c = n(d);
                                c ? o.push(c) : o.push(d),
                                    (r += d.length),
                                    (a = e.length <= r);
                            } else a = !0;
                        }
                        for (var u = 0; u < o.length; u++) {
                            var h = o[u];
                            "string" != typeof h && (o[u] = h.str(t));
                        }
                        return o.join("");
                    }),
                    (this.parse = function (e) {
                        var t = this.year.findValue(e);
                        if (!t) return null;
                        var n = this.month.findValue(e);
                        if (DayPilot.Util.isNullOrUndefined(n)) return null;
                        if (n > 12 || n < 1) return null;
                        var i = this.day.findValue(e),
                            a = DayPilot.Date.fromYearMonthDay(
                                t,
                                n
                            ).daysInMonth();
                        if (i < 1 || i > a) return null;
                        var r = this.hours ? this.hours.findValue(e) : 0,
                            o = this.minutes ? this.minutes.findValue(e) : 0,
                            s = this.seconds ? this.seconds.findValue(e) : 0,
                            l = this.ampm ? this.ampm.findValue(e) : null;
                        if (this.ampm && this.hours12) {
                            var d = this.hours12.findValue(e);
                            if (d < 1 || d > 12) return null;
                            r =
                                "PM" === l
                                    ? 12 === d
                                        ? 12
                                        : d + 12
                                    : 12 === d
                                    ? 0
                                    : d;
                        }
                        if (r < 0 || r > 23) return null;
                        if (o < 0 || o > 59) return null;
                        if (s < 0 || s > 59) return null;
                        var c = new Date();
                        return (
                            c.setUTCFullYear(t, n - 1, i),
                            c.setUTCHours(r),
                            c.setUTCMinutes(o),
                            c.setUTCSeconds(s),
                            c.setUTCMilliseconds(0),
                            new DayPilot.Date(c)
                        );
                    }),
                    this.init();
            };
            (DayPilot.ColorUtil = {}),
                (DayPilot.ColorUtil.hexToRgb = function (e) {
                    if (!/^#[0-9a-f]{6}$/i.test(e))
                        throw new DayPilot.Exception(
                            "Invalid color, only full hex color string accepted, eg. '#ffaaff'."
                        );
                    return (
                        (e = e.replace("#", "")),
                        {
                            r: parseInt(e.substring(0, 2), 16),
                            g: parseInt(e.substring(2, 4), 16),
                            b: parseInt(e.substring(4, 6), 16),
                        }
                    );
                }),
                (DayPilot.ColorUtil.rgbToHex = function (e) {
                    return "#" + n(e.r) + n(e.g) + n(e.b);
                }),
                (DayPilot.ColorUtil.adjustLuminance = function (e, t) {
                    return { r: e.r + t, g: e.g + t, b: e.b + t };
                }),
                (DayPilot.ColorUtil.darker = function (e, t) {
                    var n = DayPilot.ColorUtil.hexToRgb(e);
                    t = t || 1;
                    var i = 17,
                        a = t * i,
                        r = DayPilot.ColorUtil.adjustLuminance(n, -a);
                    return DayPilot.ColorUtil.rgbToHex(r);
                }),
                (DayPilot.Canvas = function (e, t, n, i, a) {
                    function r(e, t, n) {
                        for (
                            var i = t.split(" "), a = [], r = i[0], o = 1;
                            o < i.length;
                            o++
                        ) {
                            var s = i[o];
                            e.measureText(r + " " + s).width < n
                                ? (r += " " + s)
                                : (a.push(r), (r = s));
                        }
                        return a.push(r), a;
                    }
                    var i = i || 1,
                        s = document.createElement("canvas");
                    (s.width = e * i), (s.height = t * i);
                    var l = s.getContext("2d");
                    l.scale(i, i),
                        (this.defaultFileName = "image.png"),
                        "image/jpeg" === n &&
                            ((this.defaultFileName = "image.jpg"),
                            (a = a || 0.92)),
                        (this.groupStart = function (e) {}),
                        (this.groupEnd = function () {}),
                        (this.fillRect = function (e, t) {
                            l.save(),
                                (l.strokeStyle = "rgb(0,0,0,0)"),
                                (l.fillStyle = t),
                                l.fillRect(e.x, e.y, e.w, e.h),
                                l.restore();
                        }),
                        (this.rect = function (e, t) {
                            l.save(),
                                (l.strokeStyle = t),
                                l.beginPath(),
                                l.rect(e.x + 0.5, e.y + 0.5, e.w - 1, e.h - 1),
                                l.stroke(),
                                l.restore();
                        }),
                        (this.diamond = function (e, t) {
                            l.save(),
                                (l.strokeStyle = "rgb(0,0,0,0)"),
                                (l.fillStyle = t),
                                l.beginPath(),
                                l.moveTo(e.x + e.w / 2, e.y + 0.5),
                                l.lineTo(e.x + e.w - 0.5, e.y + e.h / 2),
                                l.lineTo(e.x + e.w / 2, e.y + e.h - 0.5),
                                l.lineTo(e.x + 0.5, e.y + e.h / 2),
                                l.closePath(),
                                l.fill(),
                                l.restore();
                        }),
                        (this.triangle = function (e, t, n) {
                            for (n = n || 0; n < 0; ) n += 360;
                            for (; n >= 360; ) n -= 360;
                            switch (
                                (l.save(),
                                (l.strokeStyle = "rgb(0,0,0,0)"),
                                (l.fillStyle = t),
                                l.beginPath(),
                                n)
                            ) {
                                case 0:
                                    l.moveTo(e.x + e.w / 3, e.y + 0.5),
                                        l.lineTo(
                                            e.x + e.w + 0.5,
                                            e.y + e.h / 2
                                        ),
                                        l.lineTo(
                                            e.x + e.w / 3,
                                            e.y + e.h - 0.5
                                        );
                                    break;
                                case 90:
                                    l.moveTo(e.x - 0.5, e.y + e.h / 3),
                                        l.lineTo(
                                            e.x + e.w + 0.5,
                                            e.y + e.h / 3
                                        ),
                                        l.lineTo(
                                            e.x + e.w / 2,
                                            e.y + e.h + 0.5
                                        );
                                    break;
                                case 180:
                                    l.moveTo(e.x + (2 * e.w) / 3, e.y + 0.5),
                                        l.lineTo(
                                            e.x + (2 * e.w) / 3,
                                            e.y + e.h
                                        ),
                                        l.lineTo(e.x, e.y + e.h / 2);
                                    break;
                                case 270:
                                    l.moveTo(
                                        e.x + e.w / 2,
                                        e.y + e.w / 2 + 0.5
                                    ),
                                        l.lineTo(
                                            e.x + e.w - 0.5,
                                            e.y + (2 * e.h) / 3
                                        ),
                                        l.lineTo(e.x, e.y + (2 * e.h) / 3);
                                    break;
                                default:
                                    throw new DayPilot.Exception(
                                        "Unsupported rotation angle"
                                    );
                            }
                            l.closePath(), l.fill(), l.restore();
                        }),
                        (this.upperLeftCorner = function (e, t) {
                            l.save(),
                                (l.strokeStyle = "rgb(0,0,0,0)"),
                                (l.fillStyle = t),
                                l.beginPath(),
                                l.moveTo(e.x, e.y),
                                l.lineTo(e.x + e.w, e.y),
                                l.lineTo(e.x, e.y + e.h),
                                l.closePath(),
                                l.fill(),
                                l.restore();
                        }),
                        (this.upperRightCorner = function (e, t) {
                            l.save(),
                                (l.strokeStyle = "rgb(0,0,0,0)"),
                                (l.fillStyle = t),
                                l.beginPath(),
                                l.moveTo(e.x, e.y),
                                l.lineTo(e.x + e.w, e.y),
                                l.lineTo(e.x + e.w, e.y + e.h),
                                l.closePath(),
                                l.fill(),
                                l.restore();
                        }),
                        (this.textWidth = function (e, t) {
                            l.save(),
                                (l.font =
                                    t.style + " " + t.size + " " + t.family);
                            var n = l.measureText(e).width + 1;
                            return l.restore(), n;
                        }),
                        (this.text = function (e, t, n, i, a, o, s) {
                            if (t) {
                                if (
                                    ("number" == typeof t && (t = "" + t),
                                    "string" != typeof t)
                                )
                                    throw (
                                        "String expected, supplied: " + typeof t
                                    );
                                (a = a || "left"),
                                    (o = o || 0),
                                    (i = i || "#000"),
                                    (s = s || "top"),
                                    l.save();
                                var d = DayPilot.Util.fontHeight(n),
                                    c = DayPilot.browser.ff ? 3 : 0;
                                (c += 0.2 * d),
                                    (c += DayPilot.browser.chrome ? 1 : 0),
                                    (c += DayPilot.browser.ie ? 1 : 0),
                                    l.beginPath(),
                                    l.rect(
                                        e.x + 0.5 + o,
                                        e.y + 0.5 + o,
                                        e.w - 1 - o,
                                        e.h - 1 - o
                                    ),
                                    l.clip(),
                                    (l.fillStyle = i),
                                    (l.font =
                                        n.style +
                                        " " +
                                        n.size +
                                        " " +
                                        n.family),
                                    (l.textBaseline = "top"),
                                    (l.textAlign = a);
                                var u = e.x;
                                switch (a) {
                                    case "left":
                                        u += o;
                                        break;
                                    case "center":
                                        u += e.w / 2;
                                        break;
                                    case "right":
                                        u += e.w - o;
                                }
                                var h = 1.2 * d,
                                    f = t.split("\n"),
                                    v = [];
                                DayPilot.list(f).forEach(function (t) {
                                    var n = r(l, t, e.w);
                                    DayPilot.list(n).forEach(function (e) {
                                        v.push(e);
                                    });
                                });
                                var p = h - d,
                                    m = h * v.length - p,
                                    g = e.h - 2 * o,
                                    b = e.y + o;
                                switch (s) {
                                    case "top":
                                        b += c;
                                        break;
                                    case "center":
                                        b += (g - m) / 2 + 0.1 * d;
                                        break;
                                    case "bottom":
                                        b += g - m;
                                }
                                for (var y = 0; y < v.length; y++) {
                                    var w = v[y];
                                    l.fillText(w, u, b), (b += h);
                                }
                                l.restore();
                            }
                        }),
                        (this.line = function (e, t, n, i, a) {
                            l.save(),
                                (l.lineWidth = 1),
                                (l.strokeStyle = a),
                                l.beginPath(),
                                l.moveTo(e + 0.5, t + 0.5),
                                l.lineTo(n + 0.5, i + 0.5),
                                l.stroke(),
                                l.restore();
                        }),
                        (this.image = function (e, t) {
                            if (t) {
                                if ("string" == typeof t) {
                                    var n = t,
                                        t = document.createElement("img");
                                    if ((0 !== n.indexOf("data:"), !0))
                                        return (
                                            (t.onload = function () {
                                                l.save(),
                                                    l.drawImage(t, e.x, e.y),
                                                    l.restore();
                                            }),
                                            void (t.src = n)
                                        );
                                    t.src = n;
                                }
                                l.save(), l.drawImage(t, e.x, e.y), l.restore();
                            }
                        }),
                        (this.symbol = function (e, t, n) {
                            var i = "http://www.w3.org/2000/svg",
                                a = document.createElementNS(i, "svg"),
                                r = this;
                            n = n || {};
                            var s = n.color;
                            new o(t).k().then(function (t) {
                                if (s) {
                                    var n = document.createElementNS(
                                        i,
                                        "style"
                                    );
                                    (n.innerHTML = "svg { color: " + s + "; }"),
                                        a.appendChild(n);
                                }
                                a.setAttribute(
                                    "viewBox",
                                    t.getAttribute("viewBox")
                                ),
                                    a.setAttribute("width", e.w),
                                    a.setAttribute("height", e.h);
                                var o = document.createElementNS(i, "g");
                                (o.innerHTML = t.innerHTML), a.appendChild(o);
                                var l = new XMLSerializer().serializeToString(
                                        a
                                    ),
                                    d = "data:image/svg+xml;base64," + btoa(l);
                                r.image(e, d);
                            });
                        }),
                        (this.getWidth = function () {
                            return s.width;
                        }),
                        (this.getHeight = function () {
                            return s.height;
                        }),
                        (this.getElement = function () {
                            return s;
                        }),
                        (this.getSource = function () {
                            return "<img src='" + s.toDataURL(n, a) + "' />";
                        }),
                        (this.getDataUri = function () {
                            return s.toDataURL(n, a);
                        }),
                        (this.getDefaultFileName = function () {
                            return this.defaultFileName;
                        }),
                        (this.getBlob = function () {
                            return s.msToBlob
                                ? s.msToBlob()
                                : DayPilot.Util.dataUriToBlob(
                                      this.getDataUri()
                                  );
                        });
                }),
                (DayPilot.Svg = function (e, t) {
                    function n(e, t) {
                        var n = document.createElementNS(a, "clipPath");
                        n.id = "clip" + DayPilot.guid();
                        var i = document.createElementNS(a, "rect");
                        i.setAttribute("x", 0),
                            i.setAttribute("y", 0),
                            i.setAttribute("width", e),
                            i.setAttribute("height", t),
                            n.appendChild(i),
                            s.defs.appendChild(n);
                        var o = document.createElementNS(a, "g");
                        o.setAttribute("clip-path", "url(#" + n.id + ")"),
                            r.appendChild(o),
                            (r = o);
                    }
                    function i(e, t) {
                        var n = null;
                        if (e) {
                            if ("string" == typeof e) {
                                if (0 === e.indexOf("data:")) {
                                    var i = {};
                                    (i.dataUri = e), t(i);
                                }
                                n = e;
                            } else n = e.src;
                            var e = document.createElement("img");
                            (e.onload = function () {
                                var e = document.createElement("canvas");
                                (e.width = this.naturalWidth),
                                    (e.height = this.naturalHeight),
                                    e.getContext("2d").drawImage(this, 0, 0);
                                var n = {};
                                (n.dataUri = e.toDataURL("image/png")), t(n);
                            }),
                                (e.src = n);
                        }
                    }
                    var a = "http://www.w3.org/2000/svg",
                        r = document.createElementNS(a, "svg"),
                        s = this;
                    (this.l = r),
                        (this.groups = []),
                        r.outerHTML && r.setAttribute("xmlns", a),
                        r.setAttribute("viewBox", "0 0 " + e + " " + t);
                    var l = document.createElementNS(a, "defs");
                    r.appendChild(l),
                        (s.defs = l),
                        n(e, t),
                        (this.defaultFileName = "image.svg"),
                        (this.groupStart = function (e) {
                            var t = document.createElementNS(a, "g");
                            for (var n in e) t.setAttribute("data-" + n, e[n]);
                            (r = t),
                                this.group && this.groups.push(this.group),
                                (this.group = t);
                        }),
                        (this.groupEnd = function () {
                            if (!this.group)
                                throw new DayPilot.Exception(
                                    "SVG export = group not open"
                                );
                            var e = this.group;
                            (this.group = this.groups.pop()),
                                (r = this.group),
                                r || (r = this.l),
                                r.appendChild(e);
                        }),
                        (this.fillRect = function (e, t) {
                            var n = document.createElementNS(a, "rect");
                            n.setAttribute("x", e.x),
                                n.setAttribute("y", e.y),
                                n.setAttribute("width", e.w),
                                n.setAttribute("height", e.h),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.diamond = function (e, t) {
                            var n = document.createElementNS(a, "path"),
                                i = "";
                            (i += "M " + (e.x + e.w / 2) + " " + e.y),
                                (i += " "),
                                (i +=
                                    "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
                                (i += " "),
                                (i +=
                                    "L " + (e.x + e.w / 2) + " " + (e.y + e.h)),
                                (i += " "),
                                (i += "L " + e.x + " " + (e.y + e.h / 2)),
                                (i += " Z"),
                                n.setAttribute("d", i),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.triangle = function (e, t, n) {
                            var i = document.createElementNS(a, "path"),
                                o = "";
                            (o += "M " + (e.x + e.w / 3) + " " + e.y),
                                (o += " "),
                                (o +=
                                    "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
                                (o += " "),
                                (o +=
                                    "L " + (e.x + e.w / 3) + " " + (e.y + e.h)),
                                (o += " Z"),
                                i.setAttribute("d", o),
                                i.setAttribute("fill", t),
                                "number" == typeof n &&
                                    i.setAttribute(
                                        "transform",
                                        "rotate(" +
                                            n +
                                            "," +
                                            (e.x + e.w / 2) +
                                            "," +
                                            (e.y + e.h / 2) +
                                            ")"
                                    ),
                                r.appendChild(i);
                        }),
                        (this.upperLeftCorner = function (e, t) {
                            var n = document.createElementNS(a, "path"),
                                i = "";
                            (i += "M " + e.x + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + e.y),
                                (i += " "),
                                (i += "L " + e.x + " " + (e.y + e.h)),
                                (i += " Z"),
                                n.setAttribute("d", i),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.upperRightCorner = function (e, t) {
                            var n = document.createElementNS(a, "path"),
                                i = "";
                            (i += "M " + e.x + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + (e.y + e.h)),
                                (i += " Z"),
                                n.setAttribute("d", i),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.rect = function (e, t) {
                            var n = document.createElementNS(a, "rect");
                            n.setAttribute("x", e.x + 0.5),
                                n.setAttribute("y", e.y + 0.5),
                                n.setAttribute("width", e.w - 1),
                                n.setAttribute("height", e.h - 1),
                                n.setAttribute("stroke", t),
                                n.setAttribute("stroke-width", "1"),
                                n.setAttribute("fill", "transparent"),
                                r.appendChild(n);
                        }),
                        (this.text = function (e, t, n, i, o, l, d) {
                            function c(e, t, o) {
                                var s = document.createElementNS(a, "text");
                                s.setAttribute("fill", i),
                                    s.setAttribute("font-family", n.family),
                                    s.setAttribute("font-size", n.size),
                                    s.setAttribute("font-style", u),
                                    s.setAttribute("font-weight", h),
                                    s.setAttribute("x", t),
                                    s.setAttribute("y", o),
                                    s.setAttribute("dy", "0.8em"),
                                    s.setAttribute("text-anchor", p),
                                    s.setAttribute(
                                        "clip-path",
                                        "url(#" + m.id + ")"
                                    );
                                var l = document.createTextNode(e);
                                s.appendChild(l), r.appendChild(s);
                            }
                            if (t) {
                                if (
                                    ("number" == typeof t && (t = "" + t),
                                    "string" != typeof t)
                                )
                                    throw (
                                        "String expected, supplied: " + typeof t
                                    );
                                (o = o || "left"),
                                    (l = l || 0),
                                    (d = d || "top");
                                var u = n.style;
                                u.indexOf("italic") !== -1 && (u = "bold");
                                var h = n.style;
                                if (n.style) var f = 3;
                                var v = e.x,
                                    p = "start";
                                switch (o) {
                                    case "center":
                                        (v += e.w / 2), (p = "middle");
                                        break;
                                    case "right":
                                        (v += e.w), (p = "end");
                                }
                                var m = document.createElementNS(a, "clipPath");
                                m.id = "clip" + DayPilot.guid();
                                var g = document.createElementNS(a, "rect");
                                g.setAttribute("x", e.x),
                                    g.setAttribute("y", e.y),
                                    g.setAttribute("width", e.w),
                                    g.setAttribute("height", e.h),
                                    m.appendChild(g),
                                    s.defs.appendChild(m);
                                var b = DayPilot.Util.fontHeight(n),
                                    y = 1.2 * b,
                                    w = t.split("\n"),
                                    x = y - b,
                                    k = y * w.length - x,
                                    C = e.h - 2 * l,
                                    H = e.y + l;
                                switch (d) {
                                    case "top":
                                        H += f;
                                        break;
                                    case "center":
                                        H += (C - k) / 2 + 0.1 * b;
                                        break;
                                    case "bottom":
                                        H += C - k;
                                }
                                for (var D = 0; D < w.length; D++) {
                                    c(w[D], v + l, H), (H += y);
                                }
                            }
                        }),
                        (this.line = function (e, t, n, i, o) {
                            var s = document.createElementNS(a, "line");
                            s.setAttribute("x1", e + 0.5),
                                s.setAttribute("y1", t + 0.5),
                                s.setAttribute("x2", n + 0.5),
                                s.setAttribute("y2", i + 0.5),
                                s.setAttribute("stroke", o),
                                r.appendChild(s);
                        }),
                        (this.image = function (e, t) {
                            function n(t) {
                                var n = document.createElementNS(a, "image");
                                n.setAttribute("href", t.dataUri),
                                    n.setAttribute("x", e.x),
                                    n.setAttribute("y", e.y),
                                    n.setAttribute("width", e.w),
                                    n.setAttribute("height", e.h),
                                    o.appendChild(n);
                            }
                            var o = document.createElementNS(a, "g");
                            r.appendChild(o), i(t, n);
                        }),
                        (this.symbol = function (e, t, n) {
                            var i = "http://www.w3.org/2000/svg",
                                a = document.createElementNS(i, "symbol"),
                                s = this;
                            n = n || {};
                            var l = n.color;
                            new o(t).k().then(function (t) {
                                if (l) {
                                    var n = document.createElementNS(
                                        i,
                                        "style"
                                    );
                                    (n.innerHTML = "svg { color: " + l + "; }"),
                                        a.appendChild(n);
                                }
                                var o = DayPilot.guid();
                                a.setAttribute(
                                    "viewBox",
                                    t.getAttribute("viewBox")
                                ),
                                    a.setAttribute("width", e.w),
                                    a.setAttribute("height", e.h),
                                    a.setAttribute("id", o);
                                var d = document.createElementNS(i, "g");
                                (d.innerHTML = t.innerHTML),
                                    a.appendChild(d),
                                    s.l.appendChild(a);
                                var c = document.createElementNS(i, "use");
                                c.setAttribute("href", "#" + o),
                                    c.setAttribute("x", e.x),
                                    c.setAttribute("y", e.y),
                                    r.appendChild(c);
                            });
                        }),
                        (this.m = {}),
                        (this.textWidth = function (e, t) {
                            var n = "#" + e + "#" + JSON.stringify(t),
                                i = this.m[n];
                            if ("number" == typeof i) return i;
                            var a = "http://www.w3.org/2000/svg",
                                r = document.createElementNS(a, "svg");
                            (r.style.position = "absolute"),
                                (r.style.left = "-10000px"),
                                (r.style.width = "100px"),
                                r.outerHTML && r.setAttribute("xmlns", a),
                                r.setAttribute("viewBox", "0 0 100 100");
                            var o = document.createElementNS(a, "text");
                            o.setAttribute("font-family", t.family),
                                o.setAttribute("font-size", t.size),
                                o.setAttribute("font-style", t.style),
                                o.setAttribute("x", 0),
                                o.setAttribute("y", 0),
                                o.setAttribute("dy", "1em");
                            var s = document.createTextNode(e);
                            o.appendChild(s),
                                r.appendChild(o),
                                document.body.appendChild(r);
                            var l = o.getComputedTextLength();
                            return (
                                (this.m[n] = l), document.body.removeChild(r), l
                            );
                        }),
                        (this.getWidth = function () {
                            return e;
                        }),
                        (this.getHeight = function () {
                            return t;
                        }),
                        (this.getElement = function () {
                            return this.l;
                        }),
                        (this.getSource = function () {
                            if (this.l.outerHTML) return this.l.outerHTML;
                            var e = document.createElement("div"),
                                t = this.l.cloneNode(!0);
                            return e.appendChild(t), e.innerHTML;
                        }),
                        (this.getDataUri = function () {
                            return (
                                "data:application/octet-stream," +
                                encodeURIComponent(this.getSource())
                            );
                        }),
                        (this.getDefaultFileName = function () {
                            return this.defaultFileName;
                        }),
                        (this.getBlob = function () {
                            return new Blob([this.getSource()]);
                        });
                }),
                (DayPilot.Excel = function () {
                    var e = this,
                        t = null,
                        n = null,
                        i = null,
                        a = {};
                    (a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet"),
                        (a.o = "urn:schemas-microsoft-com:office:office"),
                        (a.x = "urn:schemas-microsoft-com:office:excel"),
                        (a.ss = "urn:schemas-microsoft-com:office:spreadsheet"),
                        (a.html = "http://www.w3.org/TR/REC-html40"),
                        (this.init = function () {
                            (t = document.implementation.createDocument(
                                a.xmlns,
                                "Workbook",
                                null
                            )),
                                t.documentElement.setAttribute("xmlns:o", a.o),
                                t.documentElement.setAttribute("xmlns:x", a.x),
                                t.documentElement.setAttribute(
                                    "xmlns:ss",
                                    a.ss
                                ),
                                t.documentElement.setAttribute(
                                    "xmlns:html",
                                    a.html
                                );
                            var r = t.createElement("x:ExcelWorkbook");
                            t.documentElement.appendChild(r),
                                (n = t.createElement("ss:Styles")),
                                t.documentElement.appendChild(n),
                                (i = e.styles.create()),
                                i.setId("Default"),
                                i.setName("Normal");
                        }),
                        (this.worksheets = []),
                        (this.worksheets.create = function (t) {
                            var n = e.el(a.ss, "Worksheet"),
                                i = new r(n);
                            return i.setName(t), this.push(i), i;
                        }),
                        (this.styles = []),
                        (this.styles.create = function (e) {
                            var i = t.createElement("ss:Style");
                            n.appendChild(i);
                            var a = new o(i);
                            return this.push(a), a;
                        }),
                        (this.styles.getDefault = function () {
                            return i;
                        }),
                        (this.el = function (e, n) {
                            var i = t.createElementNS(e, n);
                            return t.documentElement.appendChild(i), i;
                        }),
                        (this.getSource = function () {
                            return (
                                '<?xml version="1.0"?>' +
                                new XMLSerializer().serializeToString(t)
                            );
                        }),
                        (this.getDataUri = function () {
                            return (
                                "data:application/vnd.ms-excel," +
                                encodeURIComponent(this.getSource())
                            );
                        }),
                        (this.getElement = function () {
                            return t;
                        }),
                        (this.getDefaultFileName = function () {
                            return "spreadsheet.xls";
                        }),
                        (this.getBlob = function () {
                            return new Blob([this.getSource()]);
                        });
                    var r = function (e) {
                            var n = t.createElement("Table");
                            e.appendChild(n);
                            var i = t.createElement("x:WorksheetOptions");
                            e.appendChild(i),
                                (this.rows = []),
                                (this.setName = function (t) {
                                    e.setAttribute("ss:Name", t);
                                }),
                                (this.cell = function (e, i) {
                                    for (; i >= this.rows.length; ) {
                                        var r = t.createElement("Row");
                                        n.appendChild(r),
                                            this.rows.push(new a(r));
                                    }
                                    return this.rows[i].cell(e);
                                }),
                                (this.enableGridlines = function (e) {
                                    var n = DayPilot.list(i.childNodes).find(
                                        function (e) {
                                            return (
                                                "x:DoNotDisplayGridlines" ===
                                                e.tagName
                                            );
                                        }
                                    );
                                    if (!n && !e) {
                                        var a = t.createElement(
                                            "x:DoNotDisplayGridlines"
                                        );
                                        i.appendChild(a);
                                    }
                                    n && e && i.removeChild(n);
                                });
                            var a = function (e) {
                                (this.cells = []),
                                    (this.getElement = function () {
                                        return e;
                                    }),
                                    (this.cell = function (i) {
                                        for (; i >= this.cells.length; ) {
                                            var a = t.createElement("Cell");
                                            e.appendChild(a),
                                                this.cells.push(new n(a));
                                        }
                                        return this.cells[i];
                                    });
                                var n = function (e) {
                                    (this.setText = function (n) {
                                        var i = t.createElement("Data");
                                        i.setAttribute("ss:Type", "String");
                                        var a = t.createTextNode(n);
                                        for (i.appendChild(a); e.firstChild; )
                                            e.removeChild(e.firstChild);
                                        return e.appendChild(i), this;
                                    }),
                                        (this.setColspan = function (t) {
                                            return (
                                                t > 1
                                                    ? e.setAttribute(
                                                          "ss:MergeAcross",
                                                          t - 1
                                                      )
                                                    : e.removeAttribute(
                                                          "ss:MergeAcross"
                                                      ),
                                                this
                                            );
                                        }),
                                        (this.setRowspan = function (t) {
                                            return (
                                                t > 1
                                                    ? e.setAttribute(
                                                          "ss:MergeDown",
                                                          t - 1
                                                      )
                                                    : e.removeAttribute(
                                                          "ss:MergeDown"
                                                      ),
                                                this
                                            );
                                        }),
                                        (this.setStyle = function (t) {
                                            if (!(t instanceof o))
                                                throw "Invalid argument, Style expected";
                                            return (
                                                e.setAttribute(
                                                    "ss:StyleID",
                                                    t.getId()
                                                ),
                                                this
                                            );
                                        });
                                };
                            };
                        },
                        o = function (e) {
                            var n = DayPilot.guid();
                            e.setAttribute("ss:ID", n);
                            var i = t.createElement("ss:Alignment");
                            e.appendChild(i);
                            var a = t.createElement("ss:Interior");
                            e.appendChild(a);
                            var r = t.createElement("ss:Borders");
                            e.appendChild(r),
                                (this.setHorizontalAlignment = function (e) {
                                    i.setAttribute("ss:Horizontal", e);
                                }),
                                (this.setVerticalAlignment = function (e) {
                                    i.setAttribute("ss:Vertical", e);
                                }),
                                (this.setBackColor = function (e) {
                                    var t = DayPilot.Util.normalizeColor(e);
                                    a.setAttribute("ss:Color", t),
                                        a.setAttribute("ss:Pattern", "Solid");
                                }),
                                (this.setBorderColor = function (e) {
                                    function n(e, n) {
                                        var i = t.createElement("ss:Border");
                                        return (
                                            i.setAttribute("ss:Position", e),
                                            i.setAttribute(
                                                "ss:LineStyle",
                                                "Continuous"
                                            ),
                                            i.setAttribute(
                                                "ss:Color",
                                                DayPilot.Util.normalizeColor(n)
                                            ),
                                            i
                                        );
                                    }
                                    this.clearBorders();
                                    var i = n("Left", e);
                                    r.appendChild(i);
                                    var a = n("Right", e);
                                    r.appendChild(a);
                                    var o = n("Top", e);
                                    r.appendChild(o);
                                    var s = n("Bottom", e);
                                    r.appendChild(s);
                                }),
                                (this.clearBorders = function () {
                                    for (; r.firstChild; )
                                        r.removeChild(r.firstChild);
                                }),
                                (this.getId = function () {
                                    return n;
                                }),
                                (this.setId = function (t) {
                                    (n = t), e.setAttribute("ss:ID", n);
                                }),
                                (this.setName = function (t) {
                                    e.setAttribute("ss:Name", t);
                                });
                        };
                    this.init();
                }),
                (DayPilot.Export = function (e) {
                    (this.toElement = function () {
                        return e.getElement();
                    }),
                        (this.dimensions = function () {
                            return {
                                width: e.getWidth(),
                                height: e.getHeight(),
                            };
                        }),
                        (this.toHtml = function () {
                            return e.getSource();
                        }),
                        (this.toDataUri = function () {
                            return e.getDataUri();
                        }),
                        (this.toBlob = function () {
                            return e.getBlob();
                        }),
                        (this.print = function (t) {
                            (t = t || {}),
                                (t.orientation = t.orientation || "portrait");
                            var n = document.createElement("iframe");
                            n.setAttribute("width", 0),
                                n.setAttribute("height", 0),
                                n.setAttribute("frameborder", 0),
                                n.setAttribute("src", "about:blank"),
                                (n.onload = function () {
                                    var i = n.contentWindow.document;
                                    if (
                                        (i.body.appendChild(e.getElement()),
                                        "landscape" === t.orientation)
                                    ) {
                                        var a = DayPilot.sheet(i);
                                        a.add("@page", "size: landscape;"),
                                            a.commit();
                                    }
                                    n.contentWindow.document.execCommand(
                                        "print",
                                        !1,
                                        null
                                    ) ||
                                        (n.contentWindow.focus(),
                                        n.contentWindow.print()),
                                        setTimeout(function () {
                                            document.body.removeChild(n);
                                        }, 10);
                                }),
                                document.body.appendChild(n);
                        }),
                        (this.download = function (t) {
                            var t = t || e.getDefaultFileName(),
                                n = e.getBlob();
                            DayPilot.Util.downloadBlob(n, t);
                        });
                }),
                (DayPilot.Exception = function (e) {
                    return new Error(e);
                }),
                (DayPilot.Locale = function (e, t) {
                    if (
                        ((this.id = e),
                        (this.dayNames = [
                            "Sunday",
                            "Monday",
                            "Tuesday",
                            "Wednesday",
                            "Thursday",
                            "Friday",
                            "Saturday",
                        ]),
                        (this.dayNamesShort = [
                            "Su",
                            "Mo",
                            "Tu",
                            "We",
                            "Th",
                            "Fr",
                            "Sa",
                        ]),
                        (this.monthNames = [
                            "January",
                            "February",
                            "March",
                            "April",
                            "May",
                            "June",
                            "July",
                            "August",
                            "September",
                            "October",
                            "November",
                            "December",
                        ]),
                        (this.monthNamesShort = [
                            "Jan",
                            "Feb",
                            "Mar",
                            "Apr",
                            "May",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Oct",
                            "Nov",
                            "Dec",
                        ]),
                        (this.datePattern = "M/d/yyyy"),
                        (this.timePattern = "H:mm"),
                        (this.dateTimePattern = "M/d/yyyy H:mm"),
                        (this.timeFormat = "Clock12Hours"),
                        (this.weekStarts = 0),
                        t)
                    )
                        for (var n in t) this[n] = t[n];
                }),
                (DayPilot.Locale.all = {}),
                (DayPilot.Locale.find = function (e) {
                    if (!e) return null;
                    var t = e.toLowerCase();
                    return (
                        t.length > 2 &&
                            (t = DayPilot.Util.replaceCharAt(t, 2, "-")),
                        DayPilot.Locale.all[t]
                    );
                }),
                (DayPilot.Locale.register = function (e) {
                    DayPilot.Locale.all[e.id] = e;
                }),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ca-es", {
                        dayNames: [
                            "diumenge",
                            "dilluns",
                            "dimarts",
                            "dimecres",
                            "dijous",
                            "divendres",
                            "dissabte",
                        ],
                        dayNamesShort: [
                            "dg",
                            "dl",
                            "dt",
                            "dc",
                            "dj",
                            "dv",
                            "ds",
                        ],
                        monthNames: [
                            "gener",
                            "febrer",
                            "març",
                            "abril",
                            "maig",
                            "juny",
                            "juliol",
                            "agost",
                            "setembre",
                            "octubre",
                            "novembre",
                            "desembre",
                            "",
                        ],
                        monthNamesShort: [
                            "gen.",
                            "febr.",
                            "març",
                            "abr.",
                            "maig",
                            "juny",
                            "jul.",
                            "ag.",
                            "set.",
                            "oct.",
                            "nov.",
                            "des.",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("cs-cz", {
                        dayNames: [
                            "neděle",
                            "pondělí",
                            "úterý",
                            "středa",
                            "čtvrtek",
                            "pátek",
                            "sobota",
                        ],
                        dayNamesShort: [
                            "ne",
                            "po",
                            "út",
                            "st",
                            "čt",
                            "pá",
                            "so",
                        ],
                        monthNames: [
                            "leden",
                            "únor",
                            "březen",
                            "duben",
                            "květen",
                            "červen",
                            "červenec",
                            "srpen",
                            "září",
                            "říjen",
                            "listopad",
                            "prosinec",
                            "",
                        ],
                        monthNamesShort: [
                            "I",
                            "II",
                            "III",
                            "IV",
                            "V",
                            "VI",
                            "VII",
                            "VIII",
                            "IX",
                            "X",
                            "XI",
                            "XII",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "d. M. yyyy",
                        dateTimePattern: "d. M. yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("da-dk", {
                        dayNames: [
                            "søndag",
                            "mandag",
                            "tirsdag",
                            "onsdag",
                            "torsdag",
                            "fredag",
                            "lørdag",
                        ],
                        dayNamesShort: [
                            "sø",
                            "ma",
                            "ti",
                            "on",
                            "to",
                            "fr",
                            "lø",
                        ],
                        monthNames: [
                            "januar",
                            "februar",
                            "marts",
                            "april",
                            "maj",
                            "juni",
                            "juli",
                            "august",
                            "september",
                            "oktober",
                            "november",
                            "december",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "feb",
                            "mar",
                            "apr",
                            "maj",
                            "jun",
                            "jul",
                            "aug",
                            "sep",
                            "okt",
                            "nov",
                            "dec",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd-MM-yyyy",
                        dateTimePattern: "dd-MM-yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-at", {
                        dayNames: [
                            "Sonntag",
                            "Montag",
                            "Dienstag",
                            "Mittwoch",
                            "Donnerstag",
                            "Freitag",
                            "Samstag",
                        ],
                        dayNamesShort: [
                            "So",
                            "Mo",
                            "Di",
                            "Mi",
                            "Do",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "Jänner",
                            "Februar",
                            "März",
                            "April",
                            "Mai",
                            "Juni",
                            "Juli",
                            "August",
                            "September",
                            "Oktober",
                            "November",
                            "Dezember",
                            "",
                        ],
                        monthNamesShort: [
                            "Jän",
                            "Feb",
                            "Mär",
                            "Apr",
                            "Mai",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Okt",
                            "Nov",
                            "Dez",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-ch", {
                        dayNames: [
                            "Sonntag",
                            "Montag",
                            "Dienstag",
                            "Mittwoch",
                            "Donnerstag",
                            "Freitag",
                            "Samstag",
                        ],
                        dayNamesShort: [
                            "So",
                            "Mo",
                            "Di",
                            "Mi",
                            "Do",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "Januar",
                            "Februar",
                            "März",
                            "April",
                            "Mai",
                            "Juni",
                            "Juli",
                            "August",
                            "September",
                            "Oktober",
                            "November",
                            "Dezember",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mrz",
                            "Apr",
                            "Mai",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Okt",
                            "Nov",
                            "Dez",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-de", {
                        dayNames: [
                            "Sonntag",
                            "Montag",
                            "Dienstag",
                            "Mittwoch",
                            "Donnerstag",
                            "Freitag",
                            "Samstag",
                        ],
                        dayNamesShort: [
                            "So",
                            "Mo",
                            "Di",
                            "Mi",
                            "Do",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "Januar",
                            "Februar",
                            "März",
                            "April",
                            "Mai",
                            "Juni",
                            "Juli",
                            "August",
                            "September",
                            "Oktober",
                            "November",
                            "Dezember",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mrz",
                            "Apr",
                            "Mai",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Okt",
                            "Nov",
                            "Dez",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-lu", {
                        dayNames: [
                            "Sonntag",
                            "Montag",
                            "Dienstag",
                            "Mittwoch",
                            "Donnerstag",
                            "Freitag",
                            "Samstag",
                        ],
                        dayNamesShort: [
                            "So",
                            "Mo",
                            "Di",
                            "Mi",
                            "Do",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "Januar",
                            "Februar",
                            "März",
                            "April",
                            "Mai",
                            "Juni",
                            "Juli",
                            "August",
                            "September",
                            "Oktober",
                            "November",
                            "Dezember",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mrz",
                            "Apr",
                            "Mai",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Okt",
                            "Nov",
                            "Dez",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-au", {
                        dayNames: [
                            "Sunday",
                            "Monday",
                            "Tuesday",
                            "Wednesday",
                            "Thursday",
                            "Friday",
                            "Saturday",
                        ],
                        dayNamesShort: [
                            "Su",
                            "Mo",
                            "Tu",
                            "We",
                            "Th",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "January",
                            "February",
                            "March",
                            "April",
                            "May",
                            "June",
                            "July",
                            "August",
                            "September",
                            "October",
                            "November",
                            "December",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mar",
                            "Apr",
                            "May",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Oct",
                            "Nov",
                            "Dec",
                            "",
                        ],
                        timePattern: "h:mm tt",
                        datePattern: "d/MM/yyyy",
                        dateTimePattern: "d/MM/yyyy h:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-ca", {
                        dayNames: [
                            "Sunday",
                            "Monday",
                            "Tuesday",
                            "Wednesday",
                            "Thursday",
                            "Friday",
                            "Saturday",
                        ],
                        dayNamesShort: [
                            "Su",
                            "Mo",
                            "Tu",
                            "We",
                            "Th",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "January",
                            "February",
                            "March",
                            "April",
                            "May",
                            "June",
                            "July",
                            "August",
                            "September",
                            "October",
                            "November",
                            "December",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mar",
                            "Apr",
                            "May",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Oct",
                            "Nov",
                            "Dec",
                            "",
                        ],
                        timePattern: "h:mm tt",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd h:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-gb", {
                        dayNames: [
                            "Sunday",
                            "Monday",
                            "Tuesday",
                            "Wednesday",
                            "Thursday",
                            "Friday",
                            "Saturday",
                        ],
                        dayNamesShort: [
                            "Su",
                            "Mo",
                            "Tu",
                            "We",
                            "Th",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "January",
                            "February",
                            "March",
                            "April",
                            "May",
                            "June",
                            "July",
                            "August",
                            "September",
                            "October",
                            "November",
                            "December",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mar",
                            "Apr",
                            "May",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Oct",
                            "Nov",
                            "Dec",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-us", {
                        dayNames: [
                            "Sunday",
                            "Monday",
                            "Tuesday",
                            "Wednesday",
                            "Thursday",
                            "Friday",
                            "Saturday",
                        ],
                        dayNamesShort: [
                            "Su",
                            "Mo",
                            "Tu",
                            "We",
                            "Th",
                            "Fr",
                            "Sa",
                        ],
                        monthNames: [
                            "January",
                            "February",
                            "March",
                            "April",
                            "May",
                            "June",
                            "July",
                            "August",
                            "September",
                            "October",
                            "November",
                            "December",
                            "",
                        ],
                        monthNamesShort: [
                            "Jan",
                            "Feb",
                            "Mar",
                            "Apr",
                            "May",
                            "Jun",
                            "Jul",
                            "Aug",
                            "Sep",
                            "Oct",
                            "Nov",
                            "Dec",
                            "",
                        ],
                        timePattern: "h:mm tt",
                        datePattern: "M/d/yyyy",
                        dateTimePattern: "M/d/yyyy h:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("es-es", {
                        dayNames: [
                            "domingo",
                            "lunes",
                            "martes",
                            "miércoles",
                            "jueves",
                            "viernes",
                            "sábado",
                        ],
                        dayNamesShort: ["D", "L", "M", "X", "J", "V", "S"],
                        monthNames: [
                            "enero",
                            "febrero",
                            "marzo",
                            "abril",
                            "mayo",
                            "junio",
                            "julio",
                            "agosto",
                            "septiembre",
                            "octubre",
                            "noviembre",
                            "diciembre",
                            "",
                        ],
                        monthNamesShort: [
                            "ene.",
                            "feb.",
                            "mar.",
                            "abr.",
                            "may.",
                            "jun.",
                            "jul.",
                            "ago.",
                            "sep.",
                            "oct.",
                            "nov.",
                            "dic.",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("es-mx", {
                        dayNames: [
                            "domingo",
                            "lunes",
                            "martes",
                            "miércoles",
                            "jueves",
                            "viernes",
                            "sábado",
                        ],
                        dayNamesShort: [
                            "do.",
                            "lu.",
                            "ma.",
                            "mi.",
                            "ju.",
                            "vi.",
                            "sá.",
                        ],
                        monthNames: [
                            "enero",
                            "febrero",
                            "marzo",
                            "abril",
                            "mayo",
                            "junio",
                            "julio",
                            "agosto",
                            "septiembre",
                            "octubre",
                            "noviembre",
                            "diciembre",
                            "",
                        ],
                        monthNamesShort: [
                            "ene.",
                            "feb.",
                            "mar.",
                            "abr.",
                            "may.",
                            "jun.",
                            "jul.",
                            "ago.",
                            "sep.",
                            "oct.",
                            "nov.",
                            "dic.",
                            "",
                        ],
                        timePattern: "hh:mm tt",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy hh:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("eu-es", {
                        dayNames: [
                            "igandea",
                            "astelehena",
                            "asteartea",
                            "asteazkena",
                            "osteguna",
                            "ostirala",
                            "larunbata",
                        ],
                        dayNamesShort: [
                            "ig",
                            "al",
                            "as",
                            "az",
                            "og",
                            "or",
                            "lr",
                        ],
                        monthNames: [
                            "urtarrila",
                            "otsaila",
                            "martxoa",
                            "apirila",
                            "maiatza",
                            "ekaina",
                            "uztaila",
                            "abuztua",
                            "iraila",
                            "urria",
                            "azaroa",
                            "abendua",
                            "",
                        ],
                        monthNamesShort: [
                            "urt.",
                            "ots.",
                            "mar.",
                            "api.",
                            "mai.",
                            "eka.",
                            "uzt.",
                            "abu.",
                            "ira.",
                            "urr.",
                            "aza.",
                            "abe.",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "yyyy/MM/dd",
                        dateTimePattern: "yyyy/MM/dd H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fi-fi", {
                        dayNames: [
                            "sunnuntai",
                            "maanantai",
                            "tiistai",
                            "keskiviikko",
                            "torstai",
                            "perjantai",
                            "lauantai",
                        ],
                        dayNamesShort: [
                            "su",
                            "ma",
                            "ti",
                            "ke",
                            "to",
                            "pe",
                            "la",
                        ],
                        monthNames: [
                            "tammikuu",
                            "helmikuu",
                            "maaliskuu",
                            "huhtikuu",
                            "toukokuu",
                            "kesäkuu",
                            "heinäkuu",
                            "elokuu",
                            "syyskuu",
                            "lokakuu",
                            "marraskuu",
                            "joulukuu",
                            "",
                        ],
                        monthNamesShort: [
                            "tammi",
                            "helmi",
                            "maalis",
                            "huhti",
                            "touko",
                            "kesä",
                            "heinä",
                            "elo",
                            "syys",
                            "loka",
                            "marras",
                            "joulu",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "d.M.yyyy",
                        dateTimePattern: "d.M.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-be", {
                        dayNames: [
                            "dimanche",
                            "lundi",
                            "mardi",
                            "mercredi",
                            "jeudi",
                            "vendredi",
                            "samedi",
                        ],
                        dayNamesShort: [
                            "di",
                            "lu",
                            "ma",
                            "me",
                            "je",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "janvier",
                            "février",
                            "mars",
                            "avril",
                            "mai",
                            "juin",
                            "juillet",
                            "août",
                            "septembre",
                            "octobre",
                            "novembre",
                            "décembre",
                            "",
                        ],
                        monthNamesShort: [
                            "janv.",
                            "févr.",
                            "mars",
                            "avr.",
                            "mai",
                            "juin",
                            "juil.",
                            "août",
                            "sept.",
                            "oct.",
                            "nov.",
                            "déc.",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd-MM-yy",
                        dateTimePattern: "dd-MM-yy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-ca", {
                        dayNames: [
                            "dimanche",
                            "lundi",
                            "mardi",
                            "mercredi",
                            "jeudi",
                            "vendredi",
                            "samedi",
                        ],
                        dayNamesShort: [
                            "di",
                            "lu",
                            "ma",
                            "me",
                            "je",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "janvier",
                            "février",
                            "mars",
                            "avril",
                            "mai",
                            "juin",
                            "juillet",
                            "août",
                            "septembre",
                            "octobre",
                            "novembre",
                            "décembre",
                            "",
                        ],
                        monthNamesShort: [
                            "janv.",
                            "févr.",
                            "mars",
                            "avr.",
                            "mai",
                            "juin",
                            "juil.",
                            "août",
                            "sept.",
                            "oct.",
                            "nov.",
                            "déc.",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-ch", {
                        dayNames: [
                            "dimanche",
                            "lundi",
                            "mardi",
                            "mercredi",
                            "jeudi",
                            "vendredi",
                            "samedi",
                        ],
                        dayNamesShort: [
                            "di",
                            "lu",
                            "ma",
                            "me",
                            "je",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "janvier",
                            "février",
                            "mars",
                            "avril",
                            "mai",
                            "juin",
                            "juillet",
                            "août",
                            "septembre",
                            "octobre",
                            "novembre",
                            "décembre",
                            "",
                        ],
                        monthNamesShort: [
                            "janv.",
                            "févr.",
                            "mars",
                            "avr.",
                            "mai",
                            "juin",
                            "juil.",
                            "août",
                            "sept.",
                            "oct.",
                            "nov.",
                            "déc.",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-fr", {
                        dayNames: [
                            "dimanche",
                            "lundi",
                            "mardi",
                            "mercredi",
                            "jeudi",
                            "vendredi",
                            "samedi",
                        ],
                        dayNamesShort: [
                            "di",
                            "lu",
                            "ma",
                            "me",
                            "je",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "janvier",
                            "février",
                            "mars",
                            "avril",
                            "mai",
                            "juin",
                            "juillet",
                            "août",
                            "septembre",
                            "octobre",
                            "novembre",
                            "décembre",
                            "",
                        ],
                        monthNamesShort: [
                            "janv.",
                            "févr.",
                            "mars",
                            "avr.",
                            "mai",
                            "juin",
                            "juil.",
                            "août",
                            "sept.",
                            "oct.",
                            "nov.",
                            "déc.",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-lu", {
                        dayNames: [
                            "dimanche",
                            "lundi",
                            "mardi",
                            "mercredi",
                            "jeudi",
                            "vendredi",
                            "samedi",
                        ],
                        dayNamesShort: [
                            "di",
                            "lu",
                            "ma",
                            "me",
                            "je",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "janvier",
                            "février",
                            "mars",
                            "avril",
                            "mai",
                            "juin",
                            "juillet",
                            "août",
                            "septembre",
                            "octobre",
                            "novembre",
                            "décembre",
                            "",
                        ],
                        monthNamesShort: [
                            "janv.",
                            "févr.",
                            "mars",
                            "avr.",
                            "mai",
                            "juin",
                            "juil.",
                            "août",
                            "sept.",
                            "oct.",
                            "nov.",
                            "déc.",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("gl-es", {
                        dayNames: [
                            "domingo",
                            "luns",
                            "martes",
                            "mércores",
                            "xoves",
                            "venres",
                            "sábado",
                        ],
                        dayNamesShort: [
                            "do",
                            "lu",
                            "ma",
                            "mé",
                            "xo",
                            "ve",
                            "sá",
                        ],
                        monthNames: [
                            "xaneiro",
                            "febreiro",
                            "marzo",
                            "abril",
                            "maio",
                            "xuño",
                            "xullo",
                            "agosto",
                            "setembro",
                            "outubro",
                            "novembro",
                            "decembro",
                            "",
                        ],
                        monthNamesShort: [
                            "xan",
                            "feb",
                            "mar",
                            "abr",
                            "maio",
                            "xuño",
                            "xul",
                            "ago",
                            "set",
                            "out",
                            "nov",
                            "dec",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("it-it", {
                        dayNames: [
                            "domenica",
                            "lunedì",
                            "martedì",
                            "mercoledì",
                            "giovedì",
                            "venerdì",
                            "sabato",
                        ],
                        dayNamesShort: [
                            "do",
                            "lu",
                            "ma",
                            "me",
                            "gi",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "gennaio",
                            "febbraio",
                            "marzo",
                            "aprile",
                            "maggio",
                            "giugno",
                            "luglio",
                            "agosto",
                            "settembre",
                            "ottobre",
                            "novembre",
                            "dicembre",
                            "",
                        ],
                        monthNamesShort: [
                            "gen",
                            "feb",
                            "mar",
                            "apr",
                            "mag",
                            "giu",
                            "lug",
                            "ago",
                            "set",
                            "ott",
                            "nov",
                            "dic",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("it-ch", {
                        dayNames: [
                            "domenica",
                            "lunedì",
                            "martedì",
                            "mercoledì",
                            "giovedì",
                            "venerdì",
                            "sabato",
                        ],
                        dayNamesShort: [
                            "do",
                            "lu",
                            "ma",
                            "me",
                            "gi",
                            "ve",
                            "sa",
                        ],
                        monthNames: [
                            "gennaio",
                            "febbraio",
                            "marzo",
                            "aprile",
                            "maggio",
                            "giugno",
                            "luglio",
                            "agosto",
                            "settembre",
                            "ottobre",
                            "novembre",
                            "dicembre",
                            "",
                        ],
                        monthNamesShort: [
                            "gen",
                            "feb",
                            "mar",
                            "apr",
                            "mag",
                            "giu",
                            "lug",
                            "ago",
                            "set",
                            "ott",
                            "nov",
                            "dic",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ja-jp", {
                        dayNames: [
                            "日曜日",
                            "月曜日",
                            "火曜日",
                            "水曜日",
                            "木曜日",
                            "金曜日",
                            "土曜日",
                        ],
                        dayNamesShort: [
                            "日",
                            "月",
                            "火",
                            "水",
                            "木",
                            "金",
                            "土",
                        ],
                        monthNames: [
                            "1月",
                            "2月",
                            "3月",
                            "4月",
                            "5月",
                            "6月",
                            "7月",
                            "8月",
                            "9月",
                            "10月",
                            "11月",
                            "12月",
                            "",
                        ],
                        monthNamesShort: [
                            "1",
                            "2",
                            "3",
                            "4",
                            "5",
                            "6",
                            "7",
                            "8",
                            "9",
                            "10",
                            "11",
                            "12",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "yyyy/MM/dd",
                        dateTimePattern: "yyyy/MM/dd H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ko-kr", {
                        dayNames: [
                            "일요일",
                            "월요일",
                            "화요일",
                            "수요일",
                            "목요일",
                            "금요일",
                            "토요일",
                        ],
                        dayNamesShort: [
                            "일",
                            "월",
                            "화",
                            "수",
                            "목",
                            "금",
                            "토",
                        ],
                        monthNames: [
                            "1월",
                            "2월",
                            "3월",
                            "4월",
                            "5월",
                            "6월",
                            "7월",
                            "8월",
                            "9월",
                            "10월",
                            "11월",
                            "12월",
                            "",
                        ],
                        monthNamesShort: [
                            "1",
                            "2",
                            "3",
                            "4",
                            "5",
                            "6",
                            "7",
                            "8",
                            "9",
                            "10",
                            "11",
                            "12",
                            "",
                        ],
                        timePattern: "tt h:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd tt h:mm",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nb-no", {
                        dayNames: [
                            "søndag",
                            "mandag",
                            "tirsdag",
                            "onsdag",
                            "torsdag",
                            "fredag",
                            "lørdag",
                        ],
                        dayNamesShort: [
                            "sø",
                            "ma",
                            "ti",
                            "on",
                            "to",
                            "fr",
                            "lø",
                        ],
                        monthNames: [
                            "januar",
                            "februar",
                            "mars",
                            "april",
                            "mai",
                            "juni",
                            "juli",
                            "august",
                            "september",
                            "oktober",
                            "november",
                            "desember",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "feb",
                            "mar",
                            "apr",
                            "mai",
                            "jun",
                            "jul",
                            "aug",
                            "sep",
                            "okt",
                            "nov",
                            "des",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nl-nl", {
                        dayNames: [
                            "zondag",
                            "maandag",
                            "dinsdag",
                            "woensdag",
                            "donderdag",
                            "vrijdag",
                            "zaterdag",
                        ],
                        dayNamesShort: [
                            "zo",
                            "ma",
                            "di",
                            "wo",
                            "do",
                            "vr",
                            "za",
                        ],
                        monthNames: [
                            "januari",
                            "februari",
                            "maart",
                            "april",
                            "mei",
                            "juni",
                            "juli",
                            "augustus",
                            "september",
                            "oktober",
                            "november",
                            "december",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "feb",
                            "mrt",
                            "apr",
                            "mei",
                            "jun",
                            "jul",
                            "aug",
                            "sep",
                            "okt",
                            "nov",
                            "dec",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "d-M-yyyy",
                        dateTimePattern: "d-M-yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nl-be", {
                        dayNames: [
                            "zondag",
                            "maandag",
                            "dinsdag",
                            "woensdag",
                            "donderdag",
                            "vrijdag",
                            "zaterdag",
                        ],
                        dayNamesShort: [
                            "zo",
                            "ma",
                            "di",
                            "wo",
                            "do",
                            "vr",
                            "za",
                        ],
                        monthNames: [
                            "januari",
                            "februari",
                            "maart",
                            "april",
                            "mei",
                            "juni",
                            "juli",
                            "augustus",
                            "september",
                            "oktober",
                            "november",
                            "december",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "feb",
                            "mrt",
                            "apr",
                            "mei",
                            "jun",
                            "jul",
                            "aug",
                            "sep",
                            "okt",
                            "nov",
                            "dec",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "d/MM/yyyy",
                        dateTimePattern: "d/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nn-no", {
                        dayNames: [
                            "søndag",
                            "måndag",
                            "tysdag",
                            "onsdag",
                            "torsdag",
                            "fredag",
                            "laurdag",
                        ],
                        dayNamesShort: [
                            "sø",
                            "må",
                            "ty",
                            "on",
                            "to",
                            "fr",
                            "la",
                        ],
                        monthNames: [
                            "januar",
                            "februar",
                            "mars",
                            "april",
                            "mai",
                            "juni",
                            "juli",
                            "august",
                            "september",
                            "oktober",
                            "november",
                            "desember",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "feb",
                            "mar",
                            "apr",
                            "mai",
                            "jun",
                            "jul",
                            "aug",
                            "sep",
                            "okt",
                            "nov",
                            "des",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("pt-br", {
                        dayNames: [
                            "domingo",
                            "segunda-feira",
                            "terça-feira",
                            "quarta-feira",
                            "quinta-feira",
                            "sexta-feira",
                            "sábado",
                        ],
                        dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
                        monthNames: [
                            "janeiro",
                            "fevereiro",
                            "março",
                            "abril",
                            "maio",
                            "junho",
                            "julho",
                            "agosto",
                            "setembro",
                            "outubro",
                            "novembro",
                            "dezembro",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "fev",
                            "mar",
                            "abr",
                            "mai",
                            "jun",
                            "jul",
                            "ago",
                            "set",
                            "out",
                            "nov",
                            "dez",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("pl-pl", {
                        dayNames: [
                            "niedziela",
                            "poniedziałek",
                            "wtorek",
                            "środa",
                            "czwartek",
                            "piątek",
                            "sobota",
                        ],
                        dayNamesShort: [
                            "N",
                            "Pn",
                            "Wt",
                            "Śr",
                            "Cz",
                            "Pt",
                            "So",
                        ],
                        monthNames: [
                            "styczeń",
                            "luty",
                            "marzec",
                            "kwiecień",
                            "maj",
                            "czerwiec",
                            "lipiec",
                            "sierpień",
                            "wrzesień",
                            "październik",
                            "listopad",
                            "grudzień",
                            "",
                        ],
                        monthNamesShort: [
                            "sty",
                            "lut",
                            "mar",
                            "kwi",
                            "maj",
                            "cze",
                            "lip",
                            "sie",
                            "wrz",
                            "paź",
                            "lis",
                            "gru",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("pt-pt", {
                        dayNames: [
                            "domingo",
                            "segunda-feira",
                            "terça-feira",
                            "quarta-feira",
                            "quinta-feira",
                            "sexta-feira",
                            "sábado",
                        ],
                        dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
                        monthNames: [
                            "janeiro",
                            "fevereiro",
                            "março",
                            "abril",
                            "maio",
                            "junho",
                            "julho",
                            "agosto",
                            "setembro",
                            "outubro",
                            "novembro",
                            "dezembro",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "fev",
                            "mar",
                            "abr",
                            "mai",
                            "jun",
                            "jul",
                            "ago",
                            "set",
                            "out",
                            "nov",
                            "dez",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ro-ro", {
                        dayNames: [
                            "duminică",
                            "luni",
                            "marți",
                            "miercuri",
                            "joi",
                            "vineri",
                            "sâmbătă",
                        ],
                        dayNamesShort: ["D", "L", "Ma", "Mi", "J", "V", "S"],
                        monthNames: [
                            "ianuarie",
                            "februarie",
                            "martie",
                            "aprilie",
                            "mai",
                            "iunie",
                            "iulie",
                            "august",
                            "septembrie",
                            "octombrie",
                            "noiembrie",
                            "decembrie",
                            "",
                        ],
                        monthNamesShort: [
                            "ian.",
                            "feb.",
                            "mar.",
                            "apr.",
                            "mai.",
                            "iun.",
                            "iul.",
                            "aug.",
                            "sep.",
                            "oct.",
                            "nov.",
                            "dec.",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ru-ru", {
                        dayNames: [
                            "воскресенье",
                            "понедельник",
                            "вторник",
                            "среда",
                            "четверг",
                            "пятница",
                            "суббота",
                        ],
                        dayNamesShort: [
                            "Вс",
                            "Пн",
                            "Вт",
                            "Ср",
                            "Чт",
                            "Пт",
                            "Сб",
                        ],
                        monthNames: [
                            "Январь",
                            "Февраль",
                            "Март",
                            "Апрель",
                            "Май",
                            "Июнь",
                            "Июль",
                            "Август",
                            "Сентябрь",
                            "Октябрь",
                            "Ноябрь",
                            "Декабрь",
                            "",
                        ],
                        monthNamesShort: [
                            "янв",
                            "фев",
                            "мар",
                            "апр",
                            "май",
                            "июн",
                            "июл",
                            "авг",
                            "сен",
                            "окт",
                            "ноя",
                            "дек",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("sk-sk", {
                        dayNames: [
                            "nedeľa",
                            "pondelok",
                            "utorok",
                            "streda",
                            "štvrtok",
                            "piatok",
                            "sobota",
                        ],
                        dayNamesShort: [
                            "ne",
                            "po",
                            "ut",
                            "st",
                            "št",
                            "pi",
                            "so",
                        ],
                        monthNames: [
                            "január",
                            "február",
                            "marec",
                            "apríl",
                            "máj",
                            "jún",
                            "júl",
                            "august",
                            "september",
                            "október",
                            "november",
                            "december",
                            "",
                        ],
                        monthNamesShort: [
                            "1",
                            "2",
                            "3",
                            "4",
                            "5",
                            "6",
                            "7",
                            "8",
                            "9",
                            "10",
                            "11",
                            "12",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "d.M.yyyy",
                        dateTimePattern: "d.M.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("sv-se", {
                        dayNames: [
                            "söndag",
                            "måndag",
                            "tisdag",
                            "onsdag",
                            "torsdag",
                            "fredag",
                            "lördag",
                        ],
                        dayNamesShort: [
                            "sö",
                            "må",
                            "ti",
                            "on",
                            "to",
                            "fr",
                            "lö",
                        ],
                        monthNames: [
                            "januari",
                            "februari",
                            "mars",
                            "april",
                            "maj",
                            "juni",
                            "juli",
                            "augusti",
                            "september",
                            "oktober",
                            "november",
                            "december",
                            "",
                        ],
                        monthNamesShort: [
                            "jan",
                            "feb",
                            "mar",
                            "apr",
                            "maj",
                            "jun",
                            "jul",
                            "aug",
                            "sep",
                            "okt",
                            "nov",
                            "dec",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("tr-tr", {
                        dayNames: [
                            "Pazar",
                            "Pazartesi",
                            "Salı",
                            "Çarşamba",
                            "Perşembe",
                            "Cuma",
                            "Cumartesi",
                        ],
                        dayNamesShort: [
                            "Pz",
                            "Pt",
                            "Sa",
                            "Ça",
                            "Pe",
                            "Cu",
                            "Ct",
                        ],
                        monthNames: [
                            "Ocak",
                            "Şubat",
                            "Mart",
                            "Nisan",
                            "Mayıs",
                            "Haziran",
                            "Temmuz",
                            "Ağustos",
                            "Eylül",
                            "Ekim",
                            "Kasım",
                            "Aralık",
                            "",
                        ],
                        monthNamesShort: [
                            "Oca",
                            "Şub",
                            "Mar",
                            "Nis",
                            "May",
                            "Haz",
                            "Tem",
                            "Ağu",
                            "Eyl",
                            "Eki",
                            "Kas",
                            "Ara",
                            "",
                        ],
                        timePattern: "HH:mm",
                        datePattern: "d.M.yyyy",
                        dateTimePattern: "d.M.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("zh-cn", {
                        dayNames: [
                            "星期日",
                            "星期一",
                            "星期二",
                            "星期三",
                            "星期四",
                            "星期五",
                            "星期六",
                        ],
                        dayNamesShort: [
                            "日",
                            "一",
                            "二",
                            "三",
                            "四",
                            "五",
                            "六",
                        ],
                        monthNames: [
                            "一月",
                            "二月",
                            "三月",
                            "四月",
                            "五月",
                            "六月",
                            "七月",
                            "八月",
                            "九月",
                            "十月",
                            "十一月",
                            "十二月",
                            "",
                        ],
                        monthNamesShort: [
                            "1月",
                            "2月",
                            "3月",
                            "4月",
                            "5月",
                            "6月",
                            "7月",
                            "8月",
                            "9月",
                            "10月",
                            "11月",
                            "12月",
                            "",
                        ],
                        timePattern: "H:mm",
                        datePattern: "yyyy/M/d",
                        dateTimePattern: "yyyy/M/d H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                (DayPilot.Locale.US = DayPilot.Locale.find("en-us")),
                (DayPilot.Switcher = function (e) {
                    function t(e, t, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.day = i),
                            (a.target = n.active.control),
                            (a.preventDefault = function () {
                                this.preventDefault.value = !0;
                            });
                        var r = n.t;
                        (r &&
                            r.start === a.start &&
                            r.end === a.end &&
                            r.day === a.day &&
                            r.target === a.target) ||
                            ((n.t = a),
                            ("function" == typeof n.onChange &&
                                (n.onChange(a), a.preventDefault.value)) ||
                                ("function" == typeof n.onTimeRangeSelect &&
                                    (n.onTimeRangeSelect(a),
                                    a.preventDefault.value)) ||
                                (n.active.sendNavigate(n.day),
                                "function" == typeof n.onChanged &&
                                    n.onChanged(a),
                                "function" == typeof n.onTimeRangeSelected &&
                                    n.onTimeRangeSelected(a)));
                    }
                    var n = this;
                    (this.views = []),
                        (this.triggers = []),
                        (this.navigator = {}),
                        (this.selectedClass = null),
                        (this.active = null),
                        (this.day = DayPilot.Date.today()),
                        (this.onChange = null),
                        (this.onChanged = null),
                        (this.navigator.updateMode = function (e) {
                            var t = n.navigator.control;
                            t && ((t.selectMode = e), t.select(n.day));
                        }),
                        (this.addView = function (e, t) {
                            var i;
                            if ("string" == typeof e) {
                                if (((i = document.getElementById(e)), !i))
                                    throw "Element not found: " + e;
                            } else i = e;
                            var a = i,
                                r = {};
                            return (
                                (r.isView = !0),
                                (r.id = a.id),
                                (r.control = a),
                                (r.options = t || {}),
                                (r.hide = function () {
                                    a.hide
                                        ? a.hide()
                                        : a.nav && a.nav.top
                                        ? (a.nav.top.style.display = "none")
                                        : (a.style.display = "none");
                                }),
                                (r.sendNavigate = function (e) {
                                    (function () {
                                        return (
                                            !!a.backendUrl ||
                                            !(
                                                "function" !=
                                                    typeof WebForm_DoCallback ||
                                                !a.uniqueID
                                            )
                                        );
                                    })()
                                        ? a.commandCallBack &&
                                          a.commandCallBack("navigate", {
                                              day: e,
                                          })
                                        : ((a.startDate = e), a.update());
                                }),
                                (r.show = function () {
                                    n.n(),
                                        a.show
                                            ? a.show()
                                            : a.nav && a.nav.top
                                            ? (a.nav.top.style.display = "")
                                            : (a.style.display = "");
                                }),
                                (r.selectMode = function () {
                                    if (r.options.navigatorSelectMode)
                                        return r.options.navigatorSelectMode;
                                    if (a.isCalendar)
                                        switch (a.viewType) {
                                            case "Day":
                                                return "day";
                                            case "Week":
                                                return "week";
                                            case "WorkWeek":
                                                return "week";
                                            default:
                                                return "day";
                                        }
                                    else if (a.isMonth)
                                        switch (a.viewType) {
                                            case "Month":
                                                return "month";
                                            case "Weeks":
                                                return "week";
                                            default:
                                                return "day";
                                        }
                                    return "day";
                                }),
                                this.views.push(r),
                                r
                            );
                        }),
                        (this.addTrigger = function (e, t) {
                            var i;
                            if ("string" == typeof e) {
                                if (((i = document.getElementById(e)), !i))
                                    throw "Element not found: " + e;
                            } else i = e;
                            var a = this.p(t);
                            a || (a = this.addView(t));
                            var r = {};
                            return (
                                (r.isTrigger = !0),
                                (r.element = i),
                                (r.id = i.id),
                                (r.view = a),
                                (r.onClick = function (e) {
                                    n.show(r),
                                        n.q(r),
                                        e &&
                                            (e.preventDefault
                                                ? e.preventDefault()
                                                : (e.returnValue = !1));
                                }),
                                DayPilot.re(i, "click", r.onClick),
                                this.triggers.push(r),
                                r
                            );
                        }),
                        (this.addButton = this.addTrigger),
                        (this.select = function (e) {
                            var t = this.s(e);
                            t
                                ? t.onClick()
                                : this.triggers.length > 0 &&
                                  this.triggers[0].onClick();
                        }),
                        (this.s = function (e) {
                            for (var t = 0; t < this.triggers.length; t++) {
                                var n = this.triggers[t];
                                if (n.id === e) return n;
                            }
                            return null;
                        }),
                        (this.q = function (e) {
                            if (this.selectedClass) {
                                for (var t = 0; t < this.triggers.length; t++) {
                                    var n = this.triggers[t];
                                    DayPilot.Util.removeClass(
                                        n.element,
                                        this.selectedClass
                                    );
                                }
                                DayPilot.Util.addClass(
                                    e.element,
                                    this.selectedClass
                                );
                            }
                        }),
                        (this.addNavigator = function (e) {
                            (n.navigator.control = e),
                                (e.timeRangeSelectedHandling = "JavaScript"),
                                (e.onTimeRangeSelected = function () {
                                    var i, a, r;
                                    if (1 === e.api)
                                        (i = arguments[0]),
                                            (a = arguments[1]),
                                            (r = arguments[2]);
                                    else {
                                        var o = arguments[0];
                                        (i = o.start), (a = o.end), (r = o.day);
                                    }
                                    (n.day = r), t(i, a, r);
                                });
                        }),
                        (this.show = function (e) {
                            var i, a;
                            if (e.isTrigger) (a = e), (i = a.view);
                            else if (
                                ((i = e.isView ? e : this.p(e)),
                                this.active === i)
                            )
                                return;
                            if (n.onSelect) {
                                var r = {};
                                (r.source = a ? a.element : null),
                                    (r.target = i.control),
                                    n.onSelect(r);
                            }
                            (this.active = i), i.show();
                            var o = i.selectMode();
                            n.navigator.updateMode(o),
                                t(
                                    n.navigator.control.selectionStart,
                                    n.navigator.control.selectionEnd.addDays(1),
                                    n.navigator.control.selectionDay
                                );
                        }),
                        (this.p = function (e) {
                            for (var t = 0; t < this.views.length; t++)
                                if (this.views[t].control === e)
                                    return this.views[t];
                            return null;
                        }),
                        (this.n = function () {
                            for (var e = 0; e < this.views.length; e++)
                                this.views[e].hide();
                        }),
                        (this.events = {}),
                        (this.events.load = function (e, t, i) {
                            if (!n.active || !n.active.control)
                                throw "DayPilot.Switcher.events.load(): Active view not found";
                            n.active.control.events.load(e, t, i);
                        }),
                        (this.t = null),
                        (this.u = function () {
                            if (e)
                                for (var t in e)
                                    "triggers" === t
                                        ? DayPilot.list(e.triggers).forEach(
                                              function (e) {
                                                  n.addTrigger(e.id, e.view);
                                              }
                                          )
                                        : "navigator" === t
                                        ? n.addNavigator(e.navigator)
                                        : (n[t] = e[t]);
                        }),
                        this.u();
                }),
                (function () {
                    if (!DayPilot.Global.defaultCss) {
                        var e = DayPilot.sheet();
                        e.add(
                            ".bubble_default_main",
                            "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                        ),
                            e.add(
                                ".bubble_default_main_inner",
                                'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'
                            ),
                            e.add(
                                ".calendar_default_main",
                                "border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(
                                ".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".calendar_default_colheader_back",
                                "background: #f3f3f3; border-bottom: 1px solid red;"
                            ),
                            e.add(
                                ".calendar_default_colheader_back_inner",
                                "position: absolute; inset: 0; border-bottom: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".calendar_default_cornerright_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px; border-bottom: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".calendar_default_direction_rtl .calendar_default_cornerright_inner",
                                "border-right: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".calendar_default_rowheader_inner",
                                "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"
                            ),
                            e.add(
                                ".calendar_default_direction_rtl .calendar_default_rowheader_inner",
                                "border-right: none;"
                            ),
                            e.add(
                                ".calendar_default_corner_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".calendar_default_direction_rtl .calendar_default_corner_inner",
                                "border-right: none;"
                            ),
                            e.add(
                                ".calendar_default_rowheader_minutes",
                                "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"
                            ),
                            e.add(
                                ".calendar_default_colheader_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".calendar_default_cell_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"
                            ),
                            e.add(
                                ".calendar_default_cell_business .calendar_default_cell_inner",
                                "background: #fff"
                            ),
                            e.add(
                                ".calendar_default_alldayheader_inner",
                                "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".calendar_default_message",
                                "opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"
                            ),
                            e.add(
                                ".calendar_default_alldayevent_inner,.calendar_default_event_inner",
                                "color: #333; border: 1px solid #999;"
                            ),
                            e.add(
                                ".calendar_default_event_bar",
                                "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"
                            ),
                            e.add(
                                ".calendar_default_event_bar_inner",
                                "position: absolute;width: 4px;background-color: #1066a8;"
                            ),
                            e.add(
                                ".calendar_default_alldayevent_inner,.calendar_default_event_inner",
                                'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".calendar_default_selected .calendar_default_event_inner",
                                "background: #ddd;"
                            ),
                            e.add(
                                ".calendar_default_alldayevent_inner",
                                "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 4px;margin-right: 1px; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".calendar_default_event_withheader .calendar_default_event_inner",
                                "padding-top: 15px;"
                            ),
                            e.add(
                                ".calendar_default_event",
                                "cursor: default;"
                            ),
                            e.add(
                                ".calendar_default_event_inner",
                                "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;"
                            ),
                            e.add(
                                ".calendar_default_shadow_inner",
                                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;"
                            ),
                            e.add(
                                ".calendar_default_event_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(
                                ".calendar_default_event_delete:hover",
                                "opacity: 1;-ms-filter: none;"
                            ),
                            e.add(
                                ".calendar_default_scroll_up",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".calendar_default_scroll_down",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"
                            ),
                            e.add(
                                ".calendar_default_now",
                                "background-color: red;"
                            ),
                            e.add(
                                ".calendar_default_now:before",
                                "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"
                            ),
                            e.add(
                                ".calendar_default_shadow_forbidden .calendar_default_shadow_inner",
                                "background-color: red;"
                            ),
                            e.add(
                                ".calendar_default_shadow_top",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".calendar_default_shadow_bottom",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top",
                                "background-color: gray; opacity: 0.2;"
                            ),
                            e.add(
                                ".calendar_default_loading",
                                "background-color: orange; color: white; padding: 2px;"
                            ),
                            e.add(
                                ".calendar_default_scroll",
                                "background-color: #f3f3f3;"
                            ),
                            e.add(
                                ".calendar_default_event_moving_source",
                                "opacity: 0.5;"
                            ),
                            e.add(
                                ".menu_default_main",
                                "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"
                            ),
                            e.add(
                                ".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".menu_default_title",
                                "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"
                            ),
                            e.add(
                                ".menu_default_main a",
                                "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"
                            ),
                            e.add(
                                ".menu_default_main a img",
                                "margin-left: 6px;margin-top: 2px;"
                            ),
                            e.add(
                                ".menu_default_item_text",
                                "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"
                            ),
                            e.add(
                                ".menu_default_main a:hover",
                                "background-color: #f3f3f3;"
                            ),
                            e.add(
                                ".menu_default_main div div",
                                "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"
                            ),
                            e.add(
                                ".menu_default_main a.menu_default_item_disabled",
                                "color: #ccc"
                            ),
                            e.add(
                                ".menu_default_item_haschildren.menu_default_item_haschildren_active",
                                'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'
                            ),
                            e.add(
                                ".menu_default_item_haschildren a:before",
                                "content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"
                            ),
                            e.add(
                                ".menu_default_item_icon",
                                "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"
                            ),
                            e.add(
                                ".menu_default_item a i",
                                "height: 20px;line-height: 20px;"
                            ),
                            e.add(
                                ".menubar_default_main",
                                "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"
                            ),
                            e.add(
                                ".menubar_default_item",
                                "display: inline-block;  padding: 6px 10px; cursor: default;"
                            ),
                            e.add(
                                ".menubar_default_item:hover",
                                "background-color: #f2f2f2;"
                            ),
                            e.add(
                                ".menubar_default_item_active",
                                "background-color: #f2f2f2;"
                            ),
                            e.add(
                                ".month_default_main",
                                "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"
                            ),
                            e.add(
                                ".month_default_main *, .month_default_main *:before, .month_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".month_default_cell_inner",
                                "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"
                            ),
                            e.add(
                                ".month_default_cell_business .month_default_cell_inner",
                                "background-color: #fff;"
                            ),
                            e.add(
                                ".month_default_cell_header",
                                "text-align: right; padding: 4px; box-sizing: border-box;"
                            ),
                            e.add(
                                ".month_default_header_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".month_default_message",
                                "padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"
                            ),
                            e.add(
                                ".month_default_event_inner",
                                "position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"
                            ),
                            e.add(
                                ".month_default_event_continueright .month_default_event_inner",
                                "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"
                            ),
                            e.add(
                                ".month_default_event_continueleft .month_default_event_inner",
                                "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"
                            ),
                            e.add(
                                ".month_default_selected .month_default_event_inner",
                                "background: #ddd;"
                            ),
                            e.add(
                                ".month_default_shadow_inner",
                                "background-color: #666666;opacity: 0.5;height: 100%;"
                            ),
                            e.add(
                                ".month_default_event_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(
                                ".month_default_event_delete:hover",
                                "opacity: 1;-ms-filter: none;"
                            ),
                            e.add(
                                ".month_default_event_timeleft",
                                "color: #ccc; font-size: 8pt"
                            ),
                            e.add(
                                ".month_default_event_timeright",
                                "color: #ccc; font-size: 8pt; text-align: right;"
                            ),
                            e.add(
                                ".month_default_loading",
                                "background-color: orange; color: white; padding: 2px;"
                            ),
                            e.add(
                                ".navigator_default_main",
                                "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"
                            ),
                            e.add(
                                ".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".navigator_default_month",
                                "font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"
                            ),
                            e.add(".navigator_default_day", "color: black;"),
                            e.add(
                                ".navigator_default_weekend",
                                "background-color: #f0f0f0;"
                            ),
                            e.add(
                                ".navigator_default_dayheader",
                                "color: black;"
                            ),
                            e.add(
                                ".navigator_default_line",
                                "border-bottom: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".navigator_default_dayother",
                                "color: gray;"
                            ),
                            e.add(
                                ".navigator_default_todaybox",
                                "border: 1px solid red;"
                            ),
                            e.add(
                                ".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",
                                "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".navigator_default_busy",
                                "font-weight: bold;"
                            ),
                            e.add(
                                ".navigator_default_cell",
                                "text-align: center;"
                            ),
                            e.add(
                                ".navigator_default_select .navigator_default_cell_box",
                                "background-color: #FFE794; opacity: 0.5;"
                            ),
                            e.add(
                                ".navigator_default_title",
                                "text-align: center;"
                            ),
                            e.add(
                                ".navigator_default_titleleft, .navigator_default_titleright",
                                "text-align: center;"
                            ),
                            e.add(
                                ".navigator_default_dayheader",
                                "text-align: center;"
                            ),
                            e.add(
                                ".navigator_default_weeknumber",
                                "text-align: center;"
                            ),
                            e.add(
                                ".navigator_default_cell_text",
                                "cursor: pointer;"
                            ),
                            e.add(
                                ".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".scheduler_default_main",
                                "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(
                                ".scheduler_default_selected .scheduler_default_event_inner",
                                "background: #ddd;"
                            ),
                            e.add(
                                ".scheduler_default_timeheader_scroll",
                                "background: #f3f3f3;"
                            ),
                            e.add(
                                ".scheduler_default_message",
                                "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"
                            ),
                            e.add(
                                ".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".scheduler_default_rowheader,.scheduler_default_corner",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".scheduler_default_rowheader.scheduler_default_rowheader_selected",
                                "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
                            ),
                            e.add(
                                ".scheduler_default_rowheader_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_timeheadergroup_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".scheduler_default_timeheadercol_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".scheduler_default_timeheader_float",
                                "display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".scheduler_default_divider, .scheduler_default_splitter",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".scheduler_default_divider_horizontal",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".scheduler_default_matrix_vertical_line",
                                "background-color: #eee;"
                            ),
                            e.add(
                                ".scheduler_default_matrix_vertical_break",
                                "background-color: #999;"
                            ),
                            e.add(
                                ".scheduler_default_matrix_horizontal_line",
                                "background-color: #eee;"
                            ),
                            e.add(
                                ".scheduler_default_resourcedivider",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".scheduler_default_shadow_inner",
                                "background-color: #666666;opacity: 0.5;height: 100%;"
                            ),
                            e.add(
                                ".scheduler_default_event",
                                "font-size:13px;color:#333;"
                            ),
                            e.add(
                                ".scheduler_default_event_inner",
                                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_event_bar",
                                "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"
                            ),
                            e.add(
                                ".scheduler_default_event_bar_inner",
                                "position:absolute;height:4px;background-color:#1066a8;"
                            ),
                            e.add(
                                ".scheduler_default_event_inner",
                                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".scheduler_default_event_float",
                                "display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_event_float_inner",
                                "padding:2px 2px 2px 8px; position: relative;"
                            ),
                            e.add(
                                ".scheduler_default_event_float_inner:after",
                                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:5px;left:-4px;'
                            ),
                            e.add(
                                ".scheduler_default_event_focus",
                                "outline: red 2px solid; z-index: 100; opacity: 0.5;"
                            ),
                            e.add(
                                ".scheduler_default_columnheader_inner",
                                "font-weight: bold;"
                            ),
                            e.add(
                                ".scheduler_default_columnheader_splitter",
                                "box-sizing: border-box; border-right: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".scheduler_default_columnheader_splitter:hover",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".scheduler_default_columnheader_cell_inner",
                                "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_cell",
                                "background-color: #f9f9f9;"
                            ),
                            e.add(
                                ".scheduler_default_cell.scheduler_default_cell_business",
                                "background-color: #fff;"
                            ),
                            e.add(
                                ".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected",
                                "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
                            ),
                            e.add(
                                ".scheduler_default_tree_image_no_children",
                                ""
                            ),
                            e.add(
                                ".scheduler_default_tree_image_expand",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
                            ),
                            e.add(
                                ".scheduler_default_tree_image_collapse",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
                            ),
                            e.add(
                                ".scheduler_default_event_delete",
                                "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(
                                ".scheduler_default_event_delete:hover",
                                "opacity: 1;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_handle",
                                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_source",
                                "background-color: black; opacity: 0.2;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after",
                                "background-color: #999; height: 2px;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_position_child",
                                "margin-left: 10px; background-color: #999; height: 2px;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_position_child:before",
                                "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_position_forbidden",
                                "background-color: red; height: 2px; margin-left: 10px;"
                            ),
                            e.add(
                                ".scheduler_default_rowmove_position_forbidden:before",
                                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
                            ),
                            e.add(
                                ".scheduler_default_link_horizontal",
                                "border-bottom-style: solid; border-bottom-color: #cc0000"
                            ),
                            e.add(
                                ".scheduler_default_link_vertical",
                                "border-right-style: solid; border-right-color: #cc0000"
                            ),
                            e.add(
                                ".scheduler_default_link_arrow_right:before",
                                "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".scheduler_default_link_arrow_left:before",
                                "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".scheduler_default_link_arrow_down:before",
                                "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".scheduler_default_link_arrow_up:before",
                                "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".scheduler_default_shadow_overlap .scheduler_default_shadow_inner",
                                "background-color: red;"
                            ),
                            e.add(
                                ".scheduler_default_block",
                                "background-color: #808080; opacity: 0.5;"
                            ),
                            e.add(
                                ".scheduler_default_main .scheduler_default_event_group",
                                "box-sizing: border-box; font-size:13px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"
                            ),
                            e.add(
                                ".scheduler_default_main .scheduler_default_header_icon",
                                "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"
                            ),
                            e.add(
                                ".scheduler_default_header_icon:hover",
                                "background-color: #ccc;"
                            ),
                            e.add(
                                ".scheduler_default_header_icon_hide:before",
                                "content: '\\00AB';"
                            ),
                            e.add(
                                ".scheduler_default_header_icon_show:before",
                                "content: '\\00BB';"
                            ),
                            e.add(
                                ".scheduler_default_row_new .scheduler_default_rowheader_inner",
                                "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".scheduler_default_row_new .scheduler_default_rowheader_inner:hover",
                                "background: white; color: white;"
                            ),
                            e.add(
                                ".scheduler_default_rowheader textarea",
                                "padding: 3px;"
                            ),
                            e.add(
                                ".scheduler_default_rowheader_scroll",
                                "cursor: default; background: #f3f3f3;"
                            ),
                            e.add(
                                ".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner",
                                "background-color: red;"
                            ),
                            e.add(
                                ".scheduler_default_shadow_invalid .scheduler_default_shadow_inner",
                                "background-color: red;"
                            ),
                            e.add(
                                ".scheduler_default_event_moving_source",
                                "opacity: 0.5;"
                            ),
                            e.add(
                                ".scheduler_default_linkpoint",
                                "background-color: white; border: 1px solid gray; border-radius: 5px;"
                            ),
                            e.add(
                                ".scheduler_default_linkpoint.scheduler_default_linkpoint_hover",
                                "background-color: black;"
                            ),
                            e.add(
                                ".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner",
                                "overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(
                                ".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top",
                                "background-color: gray; opacity: 0.2;"
                            ),
                            e.add(
                                ".scheduler_default_link_dot",
                                "border-radius: 10px; background-color: #cc0000"
                            ),
                            e.add(
                                ".scheduler_default_task_milestone .scheduler_default_event_inner",
                                "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                            ),
                            e.add(
                                ".scheduler_default_event_left",
                                "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_event_right",
                                "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_main:focus",
                                "outline: none;"
                            ),
                            e.add(
                                ".scheduler_default_cell_focus",
                                "outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"
                            ),
                            e.add(
                                ".scheduler_default_cell_focus.scheduler_default_cell_focus_top",
                                "border-top: 4px solid red;"
                            ),
                            e.add(
                                ".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom",
                                "border-bottom: 4px solid red;"
                            ),
                            e.add(
                                ".scheduler_default_selectionrectangle",
                                "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"
                            ),
                            e.add(
                                ".scheduler_default_link_shadow",
                                "border:1px solid black;"
                            ),
                            e.add(
                                ".scheduler_default_link_shadow_circle",
                                "background-color:black;"
                            ),
                            e.add(
                                ".scheduler_default_event_move_left",
                                "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_event_move_right",
                                "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_link_hover",
                                "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
                            ),
                            e.add(
                                ".scheduler_default_sorticon",
                                "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"
                            ),
                            e.add(
                                ".scheduler_default_sorticon.scheduler_default_sorticon_asc",
                                "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"
                            ),
                            e.add(
                                ".scheduler_default_sorticon.scheduler_default_sorticon_desc",
                                "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"
                            ),
                            e.add(
                                ".scheduler_default_sorticon.scheduler_default_sorticon_active",
                                "opacity: 1;"
                            ),
                            e.add(
                                ".scheduler_default_loading",
                                "background-color: orange; color: white; padding: 2px;"
                            ),
                            e.add(
                                ".gantt_default_selected .gantt_default_event_inner",
                                "background: #ddd;"
                            ),
                            e.add(
                                ".gantt_default_main",
                                "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(
                                ".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".gantt_default_timeheader",
                                "cursor: default;color: #666;"
                            ),
                            e.add(
                                ".gantt_default_message",
                                "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"
                            ),
                            e.add(
                                ".gantt_default_timeheadergroup,.gantt_default_timeheadercol",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".gantt_default_rowheader,.gantt_default_corner",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".gantt_default_rowheader.gantt_default_rowheader_selected",
                                "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(
                                ".gantt_default_rowheader_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"
                            ),
                            e.add(
                                ".gantt_default_timeheadergroup_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".gantt_default_timeheadercol_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".gantt_default_timeheader_float",
                                "display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(
                                ".gantt_default_divider, .gantt_default_splitter",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".gantt_default_divider_horizontal",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".gantt_default_matrix_vertical_line",
                                "background-color: #eee;"
                            ),
                            e.add(
                                ".gantt_default_matrix_vertical_break",
                                "background-color: #000;"
                            );
                        e.add(
                            ".gantt_default_matrix_horizontal_line",
                            "background-color: #eee;"
                        );
                        e.add(
                            ".gantt_default_resourcedivider",
                            "background-color: #c0c0c0;"
                        ),
                            e.add(
                                ".gantt_default_shadow_inner",
                                "background-color: #666666;opacity: 0.5;height: 100%;"
                            ),
                            e.add(".gantt_default_event", "color:#666;"),
                            e.add(
                                ".gantt_default_event_inner",
                                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".gantt_default_event_bar",
                                "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"
                            ),
                            e.add(
                                ".gantt_default_event_bar_inner",
                                "position:absolute;height:4px;background-color:#1066a8;"
                            ),
                            e.add(
                                ".gantt_default_event_inner",
                                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".gantt_default_event_float_inner",
                                "padding:6px 2px 2px 8px;"
                            ),
                            e.add(
                                ".gantt_default_event_float_inner:after",
                                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'
                            ),
                            e.add(
                                ".gantt_default_columnheader_inner",
                                "font-weight: bold;"
                            ),
                            e.add(
                                ".gantt_default_columnheader_splitter",
                                "background-color: #666;opacity: 0.5;"
                            ),
                            e.add(
                                ".gantt_default_columnheader_cell_inner",
                                "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".gantt_default_cell",
                                "background-color: #f9f9f9;"
                            ),
                            e.add(
                                ".gantt_default_cell.gantt_default_cell_business",
                                "background-color: #fff;"
                            ),
                            e.add(
                                ".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected",
                                "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(".gantt_default_tree_image_no_children", ""),
                            e.add(
                                ".gantt_default_tree_image_expand",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
                            ),
                            e.add(
                                ".gantt_default_tree_image_collapse",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
                            ),
                            e.add(
                                ".gantt_default_event_move_left",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".gantt_default_event_move_right",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".gantt_default_event_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(
                                ".gantt_default_event_delete:hover",
                                "opacity: 1;-ms-filter: none;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_handle",
                                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_source",
                                "background-color: black; opacity: 0.2;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after",
                                "background-color: #999; height: 2px;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_position_child",
                                "margin-left: 10px; background-color: #999; height: 2px;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_position_child:before",
                                "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_position_forbidden",
                                "background-color: red; height: 2px; margin-left: 10px;"
                            ),
                            e.add(
                                ".gantt_default_rowmove_position_forbidden:before",
                                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
                            ),
                            e.add(
                                ".gantt_default_task_group .gantt_default_event_inner",
                                "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"
                            ),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event:before",
                                "content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
                            ),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event:after",
                                "content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
                            ),
                            e.add(
                                ".gantt_default_task_milestone .gantt_default_event_inner",
                                "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                            ),
                            e.add(
                                ".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner",
                                "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
                            ),
                            e.add(
                                ".gantt_default_event_left",
                                "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;  display: flex; align-items: center;"
                            ),
                            e.add(
                                ".gantt_default_event_right",
                                "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;  display: flex; align-items: center;"
                            ),
                            e.add(
                                ".gantt_default_link_horizontal",
                                "border-bottom-style: solid; border-bottom-color: #cc0000;"
                            ),
                            e.add(
                                ".gantt_default_link_vertical",
                                "border-right-style: solid; border-right-color: #cc0000;"
                            ),
                            e.add(
                                ".gantt_default_link_arrow_right:before",
                                "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".gantt_default_link_arrow_left:before",
                                "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".gantt_default_link_arrow_down:before",
                                "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".gantt_default_link_arrow_up:before",
                                "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(
                                ".gantt_default_shadow_overlap .gantt_default_shadow_inner",
                                "background-color: red;"
                            ),
                            e.add(
                                ".gantt_default_block",
                                "background-color: gray; opacity: 0.5;"
                            ),
                            e.add(
                                ".gantt_default_link_hover",
                                "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
                            ),
                            e.add(
                                ".gantt_default_main .gantt_default_header_icon",
                                "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"
                            ),
                            e.add(
                                ".gantt_default_header_icon:hover",
                                "background-color: #ccc;"
                            ),
                            e.add(
                                ".gantt_default_header_icon_hide:before",
                                "content: '\\00AB';"
                            ),
                            e.add(
                                ".gantt_default_header_icon_show:before",
                                "content: '\\00BB';"
                            ),
                            e.add(
                                ".gantt_default_row_new .gantt_default_rowheader_inner",
                                "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".gantt_default_row_new .gantt_default_rowheader_inner:hover",
                                "background: white;"
                            ),
                            e.add(
                                ".gantt_default_rowheader textarea",
                                "padding: 5px;"
                            ),
                            e.add(
                                ".gantt_default_rowheader_scroll",
                                "cursor: default; background: #f3f3f3;"
                            ),
                            e.add(
                                ".gantt_default_shadow_forbidden .gantt_default_shadow_inner",
                                "background-color: red;"
                            ),
                            e.add(
                                ".gantt_default_event_moving_source",
                                "opacity: 0.5;"
                            ),
                            e.add(
                                ".gantt_default_event.gantt_default_event_version .gantt_default_event_inner",
                                "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before",
                                "border:0;"
                            ),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
                                'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'
                            ),
                            e.add(
                                ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner",
                                "padding-left: 8px;"
                            ),
                            e.add(
                                ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
                                'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'
                            ),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after",
                                "border:0;"
                            ),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
                                'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'
                            ),
                            e.add(
                                ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner",
                                "padding-right: 8px;"
                            ),
                            e.add(
                                ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
                                'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'
                            ),
                            e.add(
                                ".gantt_default_linkpoint",
                                "background-color: white; border: 1px solid gray; border-radius: 5px;"
                            ),
                            e.add(
                                ".gantt_default_linkpoint.gantt_default_linkpoint_hover",
                                "background-color: black;"
                            ),
                            e.add(
                                ".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top",
                                "background-color: gray; opacity: 0.2; "
                            ),
                            e.add(
                                ".gantt_default_selectionrectangle",
                                "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"
                            ),
                            e.add(
                                ".gantt_default_link_shadow",
                                "border:1px solid black;"
                            ),
                            e.add(
                                ".gantt_default_link_shadow_circle",
                                "background-color:black;"
                            ),
                            e.add(
                                ".gantt_default_link_hover",
                                "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
                            ),
                            e.add(
                                ".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after",
                                "box-sizing: content-box;"
                            ),
                            e.add(
                                ".kanban_default_main",
                                "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(
                                ".kanban_default_selected .kanban_default_event_inner",
                                "background: #ddd;"
                            ),
                            e.add(
                                ".kanban_default_timeheader",
                                "cursor: default;color: #333;"
                            ),
                            e.add(
                                ".kanban_default_message",
                                "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"
                            ),
                            e.add(
                                ".kanban_default_colheadercell",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".kanban_default_rowheader,.kanban_default_corner",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(
                                ".kanban_default_rowheader.kanban_default_rowheader_selected",
                                "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(
                                ".kanban_default_rowheader_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"
                            ),
                            e.add(
                                ".kanban_default_colheadercell",
                                "text-align: center;"
                            ),
                            e.add(
                                ".kanban_default_colheadercell_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"
                            ),
                            e.add(
                                ".kanban_default_divider, .kanban_default_splitter",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".kanban_default_divider_horizontal",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".kanban_default_matrix_vertical_line",
                                "background-color: #eee;"
                            ),
                            e.add(
                                ".kanban_default_matrix_vertical_break",
                                "background-color: #000;"
                            ),
                            e.add(
                                ".kanban_default_matrix_horizontal_line",
                                "background-color: #eee;"
                            ),
                            e.add(
                                ".kanban_default_rowheaderdivider",
                                "background-color: #c0c0c0;"
                            ),
                            e.add(
                                ".kanban_default_shadow_inner",
                                "background-color: #666666;opacity: 0.5;height: 100%;"
                            ),
                            e.add(".kanban_default_card", "color:#333;"),
                            e.add(
                                ".kanban_default_card_inner",
                                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"
                            ),
                            e.add(
                                ".kanban_default_card_inner",
                                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".kanban_default_cell",
                                "background-color: #fff;"
                            ),
                            e.add(
                                ".kanban_default_cell.kanban_default_cell_selected",
                                "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(
                                ".kanban_default_tree_image_no_children",
                                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"
                            ),
                            e.add(
                                ".kanban_default_tree_image_expand",
                                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".kanban_default_tree_image_collapse",
                                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".kanban_default_card_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(
                                ".kanban_default_card_delete:hover",
                                "opacity: 1;-ms-filter: none;"
                            ),
                            e.add(
                                ".kanban_default_rowmove_source",
                                "background-color: black; opacity: 0.2;"
                            ),
                            e.add(
                                ".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after",
                                "background-color: #999; height: 2px;"
                            ),
                            e.add(
                                ".kanban_default_rowmove_position_forbidden",
                                "background-color: red; height: 2px; margin-left: 10px;"
                            ),
                            e.add(
                                ".kanban_default_rowmove_position_forbidden:before",
                                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
                            ),
                            e.add(
                                ".kanban_default_block",
                                "background-color: gray; opacity: 0.5;"
                            ),
                            e.add(
                                ".kanban_default_main .kanban_default_header_icon",
                                "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"
                            ),
                            e.add(
                                ".kanban_default_header_icon:hover",
                                "background-color: #ccc;"
                            ),
                            e.add(
                                ".kanban_default_header_icon_hide:before",
                                "content: '\\00AB';"
                            ),
                            e.add(
                                ".kanban_default_header_icon_show:before",
                                "content: '\\00BB';"
                            ),
                            e.add(
                                ".kanban_default_row_new .kanban_default_rowheader_inner",
                                "cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".kanban_default_row_new .kanban_default_rowheader_inner:hover",
                                "background: white;"
                            ),
                            e.add(
                                ".kanban_default_rowheader textarea",
                                "padding: 3px;"
                            ),
                            e.add(
                                ".kanban_default_rowheader_scroll",
                                "cursor: default;"
                            ),
                            e.add(
                                ".kanban_default_card_moving_source",
                                "opacity: 0.5;"
                            ),
                            e.add(
                                ".kanban_default_card .kanban_default_card_inner",
                                "padding: 5px 5px 5px 10px;"
                            ),
                            e.add(
                                ".kanban_default_cell",
                                "background-color: #fff;"
                            ),
                            e.add(
                                ".kanban_default_rowmove_handle",
                                "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(
                                ".kanban_default_card_header",
                                "font-size: 120%; font-weight: bold;"
                            ),
                            e.add(
                                ".kanban_default_card_bar",
                                "background-color: #cc0000; cursor:move;"
                            ),
                            e.add(
                                ".kanban_default_cell.kanban_default_collapsed",
                                "background-color: #eee;"
                            ),
                            e.add(
                                ".kanban_default_swimlane_collapse",
                                "cursor:pointer; border: 1px solid #ccc; text-align:center;"
                            ),
                            e.add(
                                ".kanban_default_swimlane_collapse:before",
                                "content: '^';"
                            ),
                            e.add(
                                ".kanban_default_swimlane_expand",
                                "cursor:pointer; border: 1px solid #ccc; text-align:center;"
                            ),
                            e.add(
                                ".kanban_default_swimlane_expand:before",
                                "content: '>';"
                            ),
                            e.add(
                                ".kanban_default_columnmove_handle",
                                "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(
                                ".kanban_default_columnmove_position",
                                "background-color: #333;"
                            ),
                            e.add(
                                ".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top",
                                "background-color: gray; opacity: 0.2;"
                            ),
                            e.add(
                                ".queue_default_main",
                                "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(
                                ".queue_default_event_bar",
                                "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"
                            ),
                            e.add(
                                ".queue_default_event_inner",
                                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
                            ),
                            e.add(
                                ".queue_default_event_inner",
                                "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"
                            ),
                            e.add(
                                ".queue_default_selected .queue_default_event_inner",
                                "background: #ddd;"
                            ),
                            e.add(
                                ".queue_default_shadow",
                                "background-color: #ccc;"
                            ),
                            e.commit(),
                            (DayPilot.Global.defaultCss = !0);
                    }
                })();
            var o = function (e) {
                    function t() {
                        var t = new URL(e, location.href);
                        return (
                            t.origin + t.pathname !==
                            location.origin + location.pathname
                        );
                    }
                    var n = this;
                    (this.k = function () {
                        return t()
                            ? fetch(e)
                                  .then(function (e) {
                                      return e.text();
                                  })
                                  .then(function (e) {
                                      var t = document.createElement("div");
                                      return (
                                          (t.innerHTML = e),
                                          new Promise(function (e, i) {
                                              e(t.querySelector(n.z()));
                                          })
                                      );
                                  })
                            : new Promise(function (e, t) {
                                  e(document.querySelector(n.z()));
                              });
                    }),
                        (this.z = function () {
                            return new URL(e, location.href).hash;
                        });
                },
                s = function (e) {
                    var t = this;
                    (this.id = e),
                        (this.widths = []),
                        (this.titles = []),
                        (this.data = []),
                        (this.height = null),
                        (this.splitterWidth = 3),
                        (this.css = {}),
                        (this.css.title = null),
                        (this.css.titleInner = null),
                        (this.css.splitter = null),
                        (this.enabled = !0),
                        (this.blocks = []),
                        (this.drag = {}),
                        (this.updated = function () {}),
                        (this.updating = function () {});
                    var n = {};
                    (n.splitterWidth = function () {
                        return t.enabled ? t.splitterWidth : 1;
                    }),
                        (this.init = function () {
                            var i;
                            if (!e) throw "error: id not provided";
                            if ("string" == typeof e)
                                i = document.getElementById(e);
                            else {
                                if (!e.appendChild)
                                    throw "error: invalid object provided";
                                i = e;
                            }
                            (this.div = i), (this.blocks = []);
                            for (var a = 0; a < this.widths.length; a++) {
                                var r = document.createElement("div");
                                (r.style.display = "inline-block"),
                                    null !== t.height
                                        ? (r.style.height = t.height + "px")
                                        : (r.style.height = "100%"),
                                    (r.style.width =
                                        this.widths[a] -
                                        n.splitterWidth() +
                                        "px"),
                                    (r.style.overflow = "hidden"),
                                    (r.style.position = "relative"),
                                    r.setAttribute("unselectable", "on"),
                                    (r.className = this.css.title),
                                    i.appendChild(r);
                                var o = this.titles[a],
                                    s = null,
                                    l = [],
                                    d = null;
                                "object" == typeof o &&
                                    ((s = o.html),
                                    (l = o.areas),
                                    (d = o.cssClass)),
                                    d && DayPilot.Util.addClass(r, d);
                                var c = document.createElement("div");
                                (c.innerHTML = s),
                                    c.setAttribute("unselectable", "on"),
                                    (c.className = this.css.titleInner),
                                    r.appendChild(c),
                                    DayPilot.Areas.attach(r, t.data[a], {
                                        areas: l,
                                    });
                                var u = document.createElement("div");
                                (u.style.display = "inline-block"),
                                    null !== t.height
                                        ? (u.style.height = t.height + "px")
                                        : (u.style.height = "100%"),
                                    (u.style.width = n.splitterWidth() + "px"),
                                    (u.style.position = "relative"),
                                    u.appendChild(
                                        document.createElement("div")
                                    ),
                                    t.enabled &&
                                        (u.style.cursor = "col-resize"),
                                    u.setAttribute("unselectable", "on"),
                                    (u.className = this.css.splitter);
                                var h = {};
                                (h.index = a),
                                    (h.width = this.widths[a]),
                                    (u.data = h),
                                    (u.onmousedown = function (e) {
                                        if (t.enabled) {
                                            var n = DayPilot.page(e);
                                            n &&
                                                ((t.drag.start = n),
                                                (t.drag.data = this.data),
                                                (t.div.style.cursor =
                                                    "col-resize"),
                                                e.preventDefault
                                                    ? e.preventDefault()
                                                    : (e.returnValue = !1));
                                        }
                                    }),
                                    i.appendChild(u);
                                var f = {};
                                (f.section = r),
                                    (f.handle = u),
                                    this.blocks.push(f);
                            }
                            this.registerGlobalHandlers();
                        }),
                        (this.updateWidths = function () {
                            for (var e = 0; e < this.blocks.length; e++) {
                                var t = this.blocks[e],
                                    n = this.widths[e];
                                (t.handle.data.width = n), this.A(e);
                            }
                        }),
                        (this.A = function (e) {
                            var t = this.blocks[e],
                                i = this.widths[e];
                            t.section.style.width =
                                i - n.splitterWidth() + "px";
                        }),
                        (this.totalWidth = function () {
                            for (var e = 0, t = 0; t < this.widths.length; t++)
                                e += this.widths[t];
                            return e;
                        }),
                        (this.gMouseMove = function (e) {
                            if (t.drag.start) {
                                var n = t.drag.data,
                                    i = DayPilot.page(e);
                                if (i) {
                                    var a = i.x - t.drag.start.x,
                                        r = n.index;
                                    (t.widths[r] = Math.max(5, n.width + a)),
                                        t.A(r);
                                    var o = {};
                                    (o.widths = this.widths),
                                        (o.index = n.index),
                                        t.updating(o);
                                }
                            }
                        }),
                        (this.gMouseUp = function (e) {
                            if (t.drag.start) {
                                (t.drag.start = null),
                                    (document.body.style.cursor = ""),
                                    (t.div.style.cursor = "");
                                var n = t.drag.data;
                                n.width = t.widths[n.index];
                                var i = {};
                                (i.widths = this.widths),
                                    (i.index = n.index),
                                    t.updated(i);
                            }
                        }),
                        (this.dispose = function () {
                            DayPilot.list(this.blocks).forEach(function (e) {
                                (e.handle.onmousedown = null),
                                    DayPilot.de(e.section),
                                    DayPilot.de(e.handle);
                            }),
                                this.unregisterGlobalHandlers();
                        }),
                        (this.registerGlobalHandlers = function () {
                            DayPilot.re(document, "mousemove", this.gMouseMove),
                                DayPilot.re(document, "mouseup", this.gMouseUp);
                        }),
                        (this.unregisterGlobalHandlers = function () {
                            DayPilot.ue(document, "mousemove", this.gMouseMove),
                                DayPilot.ue(document, "mouseup", this.gMouseUp);
                        });
                };
            DayPilot.Splitter = s;
        }
    })(DayPilot),
    (function () {
        "undefined" != typeof Sys &&
            Sys.Application &&
            Sys.Application.notifyScriptLoaded &&
            Sys.Application.notifyScriptLoaded();
    })(),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Bubble) {
            var e = {};
            (e.mouseMove = function (t) {
                if ("undefined" != typeof e) {
                    e.mouse = e.mousePosition(t);
                    var n = e.active;
                    if (n && n.B.showPosition) {
                        var i = n.B.showPosition,
                            a = e.mouse;
                        i.clientX !== a.clientX || i.clientY !== a.clientY;
                    }
                }
            }),
                (e.touchPosition = function (e) {
                    if (!e || !e.touches) return null;
                    var t = e.touches[0],
                        n = {};
                    return (
                        (n.x = t.pageX),
                        (n.y = t.pageY),
                        (n.clientX = t.clientX),
                        (n.clientY = t.clientY),
                        n
                    );
                }),
                (e.mousePosition = function (e) {
                    var t = DayPilot.mo3(null, e);
                    return (
                        e && ((t.clientY = e.clientY), (t.clientX = e.clientX)),
                        t
                    );
                }),
                (DayPilot.Bubble = function (t) {
                    this.v = "2022.1.5188";
                    var n = this,
                        i = {};
                    if (
                        ((this.hideAfter = 500),
                        (this.loadingText = "Loading..."),
                        (this.animated = !0),
                        (this.animation = "fast"),
                        (this.position = "Above"),
                        (this.hideOnClick = !0),
                        (this.hideOnHover = !1),
                        (this.showAfter = 500),
                        (this.showLoadingLabel = !0),
                        (this.zIndex = 10),
                        (this.theme = "bubble_default"),
                        (this.onLoad = null),
                        (this.onBeforeDomAdd = null),
                        (this.onBeforeDomRemove = null),
                        (this.B = function () {}),
                        (this.callBack = function (e) {
                            this.aspnet()
                                ? WebForm_DoCallback(
                                      this.uniqueID,
                                      JSON.stringify(e),
                                      this.updateView,
                                      this,
                                      this.callbackError,
                                      !0
                                  )
                                : e.calendar.internal.bubbleCallBack
                                ? e.calendar.internal.bubbleCallBack(e, this)
                                : e.calendar.bubbleCallBack(e, this);
                        }),
                        (this.callbackError = function (e, t) {
                            alert(e);
                        }),
                        (this.updateView = function (t, a) {
                            if (n !== a)
                                throw "Callback object mismatch (internal error)";
                            if (!t) return void n.C();
                            var r = null,
                                o = null,
                                s = null;
                            if (
                                ("string" == typeof t
                                    ? (o = t)
                                    : "object" == typeof t &&
                                      ((r = t), (o = t.html), (s = t.element)),
                                (e.active = n),
                                n)
                            ) {
                                var l = !1;
                                if (i.div) {
                                    if (s) {
                                        i.div.firstChild.innerHTML = "";
                                        if (DayPilot.Util.isReactComponent(s)) {
                                            var d =
                                                n.D.calendar &&
                                                n.D.calendar.internal.reactRefs()
                                                    .reactDOM;
                                            if (!d)
                                                throw new DayPilot.Exception(
                                                    "Can't reach ReactDOM"
                                                );
                                            d.render(s, i.div.firstChild);
                                        } else i.div.firstChild.appendChild(s);
                                        l = !0;
                                    } else
                                        o &&
                                            ((i.div.firstChild.innerHTML = o),
                                            (l = !0));
                                    i.div.domArgs = r;
                                }
                                l && n.E();
                            }
                        }),
                        (this.init = function () {}),
                        (this.aspnet = function () {
                            return "undefined" != typeof WebForm_DoCallback;
                        }),
                        (this.showEvent = function (t, n) {
                            var i = new e.CallBackArgs(
                                t.calendar || t.root,
                                "Event",
                                t,
                                t.bubbleHtml ? t.bubbleHtml() : null
                            );
                            n ? this.show(i) : this.showOnMouseOver(i);
                        }),
                        (this.showGroup = function (e) {
                            this.showOnMouseOver(e);
                        }),
                        (this.showCell = function (t, n) {
                            e.cancelShowing();
                            var i = new e.CallBackArgs(
                                t.calendar || t.root,
                                "Cell",
                                t,
                                t.staticBubbleHTML ? t.staticBubbleHTML() : null
                            );
                            (i.div = n), this.showOnMouseOver(i);
                        }),
                        (this.showLink = function (t) {
                            e.cancelShowing();
                            var n = new e.CallBackArgs(
                                t.calendar || t.root,
                                "Cell",
                                t,
                                t.data && t.data.bubbleHtml
                            );
                            this.showOnMouseOver(n);
                        }),
                        (this.showTime = function (t) {
                            var n = new e.CallBackArgs(
                                t.calendar || t.root,
                                "Time",
                                t,
                                t.staticBubbleHTML ? t.staticBubbleHTML() : null
                            );
                            this.showOnMouseOver(n);
                        }),
                        (this.showResource = function (t, n) {
                            var i = {};
                            (i.calendar = t.calendar),
                                (i.id = t.id),
                                (i.name = t.name),
                                (i.start = t.start),
                                t.bubbleHtml
                                    ? (i.bubbleHtml = function () {
                                          return t.bubbleHtml;
                                      })
                                    : t.data &&
                                      t.data.bubbleHtml &&
                                      (i.bubbleHtml = function () {
                                          return t.data.bubbleHtml;
                                      }),
                                (i.toJSON = function () {
                                    var e = {};
                                    return (e.id = this.id), e;
                                });
                            var a = new e.CallBackArgs(
                                i.calendar || i.root,
                                "Resource",
                                i,
                                i.bubbleHtml ? i.bubbleHtml() : null
                            );
                            (a.div = t.div),
                                n ? this.show(a) : this.showOnMouseOver(a);
                        }),
                        (this.showHtml = function (t, n) {
                            var i = new e.CallBackArgs(null, "Html", null, t);
                            (i.div = n), this.show(i);
                        }),
                        (this.hide = function () {
                            e.active === this && DayPilot.Bubble.hide();
                        }),
                        (this.toJSON = function () {
                            return null;
                        }),
                        (this.show = function (t) {
                            if (n.F(t)) {
                                var a = this.animated;
                                if (
                                    ((this.B.showPosition = e.mouse),
                                    (e.showing = null),
                                    !e.mouse)
                                )
                                    return void setTimeout(function () {
                                        n.show(t);
                                    }, 100);
                                var r = e.mouse;
                                (r.h = 0), (r.w = 0);
                                var o = this.getDiv(t);
                                if ("Above" === n.G() && o) {
                                    var s = 2,
                                        l = DayPilot.abs(o, !0);
                                    if (!l) return;
                                    (r.x = l.x),
                                        (r.y = l.y),
                                        (r.h = l.h + s),
                                        (r.w = l.w);
                                }
                                this.B.mouse = r;
                                var d;
                                try {
                                    d = JSON.stringify(t.object);
                                } catch (e) {
                                    return;
                                }
                                if (
                                    !(
                                        (e.active === this &&
                                            this.B.sourceId === d) ||
                                        ("undefined" != typeof DayPilot.Menu &&
                                            DayPilot.Menu.active)
                                    )
                                ) {
                                    e.hideActive(),
                                        (e.active = this),
                                        (this.B.sourceId = d);
                                    var c = document.createElement("div");
                                    c.setAttribute("unselectable", "on"),
                                        (c.style.position = "absolute"),
                                        this.showLoadingLabel ||
                                            (c.style.display = "none"),
                                        (c.className = this.H("_main")),
                                        (c.style.top = "-3000px"),
                                        (c.style.left = "-3000px"),
                                        (c.style.zIndex = this.zIndex + 1),
                                        a && (c.style.visibility = "hidden"),
                                        this.hideOnClick &&
                                            (c.onclick = function () {
                                                e.hideActive();
                                            }),
                                        (c.onmousemove = function (t) {
                                            n.hideOnHover && e.hideActive(),
                                                e.cancelShowing(),
                                                e.cancelHiding();
                                            var t = t || window.event;
                                            t.cancelBubble = !0;
                                        }),
                                        (c.oncontextmenu = function () {
                                            return !1;
                                        }),
                                        (c.onmouseout = function () {
                                            n.delayedHide();
                                        });
                                    var u = document.createElement("div");
                                    c.appendChild(u),
                                        (u.className = this.H("_main_inner")),
                                        (u.innerHTML = this.loadingText),
                                        document.body.appendChild(c),
                                        (i.div = c),
                                        (n.D = function () {}),
                                        (n.D.calendar = t.calendar);
                                    var h = {};
                                    (h.source = t.object),
                                        (h.async = !1),
                                        (h.html = t.staticHTML),
                                        (h.loaded = function () {
                                            this.async && n.I(h);
                                        }),
                                        this.showLoadingLabel && !a && this.E(),
                                        t.staticHTML &&
                                        "function" != typeof this.onLoad
                                            ? n.I(h)
                                            : "function" == typeof this.onLoad
                                            ? (this.onLoad(h),
                                              h.async || n.I(h))
                                            : "function" == typeof n.onDomAdd ||
                                              "function" ==
                                                  typeof n.onBeforeDomAdd
                                            ? n.I(h)
                                            : this.J(t) && this.callBack(t);
                                }
                            }
                        }),
                        (this.F = function (e) {
                            return (
                                !!e.staticHTML ||
                                "function" == typeof this.onLoad ||
                                "function" == typeof n.onDomAdd ||
                                "function" == typeof n.onBeforeDomAdd ||
                                !!this.J(e)
                            );
                        }),
                        (this.I = function (e) {
                            var t = {};
                            (t.source = e.source),
                                (t.html = e.html),
                                (t.element = null),
                                "function" == typeof n.onDomAdd &&
                                    n.onDomAdd(t),
                                "function" == typeof n.onBeforeDomAdd &&
                                    n.onBeforeDomAdd(t),
                                n.updateView(t, n);
                        }),
                        (this.getDiv = function (e) {
                            return e.div
                                ? e.div
                                : "Event" === e.type &&
                                  e.calendar &&
                                  e.calendar.internal.findEventDiv
                                ? e.calendar.internal.findEventDiv(e.object)
                                : void 0;
                        }),
                        (this.H = function (e) {
                            var t = this.theme || this.cssClassPrefix;
                            return t ? t + e : "";
                        }),
                        (this.G = function () {
                            var e = n.position;
                            if (!e) return "Above";
                            if ("eventtop" === e.toLowerCase()) return "Above";
                            if ("above" === e.toLowerCase()) return "Above";
                            if ("mouse" === e.toLowerCase()) return "Mouse";
                            throw new DayPilot.Exception(
                                "Unrecognized DayPilot.Bubble.position value: " +
                                    e
                            );
                        }),
                        (this.E = function () {
                            var t = this.animated,
                                a = n.G(),
                                r = 10;
                            if (i.div && this.B.mouse) {
                                if (!this.B.mouse.x || !this.B.mouse.y)
                                    return void e.hideActive();
                                var o = i.div;
                                o.style.display = "";
                                var s = o.offsetHeight,
                                    l = o.offsetWidth;
                                o.style.display = "none";
                                var d = DayPilot.wd(),
                                    c = d.width,
                                    u = d.height,
                                    h = "bottom",
                                    f = "left";
                                if ("Mouse" === a) {
                                    var v = 0;
                                    if (this.B.mouse.clientY > u - s + r) {
                                        this.B.mouse.clientY - (u - s) + r;
                                        v = this.B.mouse.y - s - 10;
                                    } else v = this.B.mouse.y + 22;
                                    if (
                                        ("number" == typeof v &&
                                            (o.style.top =
                                                Math.max(v, 0) + "px"),
                                        this.B.mouse.clientX > c - l + r)
                                    ) {
                                        var p =
                                            this.B.mouse.clientX - (c - l) + r;
                                        o.style.left =
                                            this.B.mouse.x - p + "px";
                                    } else o.style.left = this.B.mouse.x + "px";
                                } else if ("Above" === a) {
                                    var m = 2,
                                        v = this.B.mouse.y - s - m,
                                        g = d.scrollTop;
                                    v < g &&
                                        ((v =
                                            this.B.mouse.y +
                                            this.B.mouse.h +
                                            m),
                                        (h = "top")),
                                        "number" == typeof v &&
                                            (o.style.top =
                                                Math.max(v, 0) + "px");
                                    var b = this.B.mouse.x;
                                    this.B.mouse.x + l + r > c &&
                                        ((b = c - l - r), (f = "right")),
                                        (o.style.left = b + "px");
                                }
                                if (((o.style.display = ""), t)) {
                                    o.style.display = "";
                                    var y = {};
                                    (y.color = o.firstChild.style.color),
                                        (y.overflow = o.style.overflow),
                                        (o.firstChild.style.color =
                                            "transparent"),
                                        (o.style.overflow = "hidden"),
                                        DayPilot.pop(o, {
                                            finished: function () {
                                                (o.firstChild.style.color =
                                                    y.color),
                                                    (o.style.overflow =
                                                        y.overflow);
                                            },
                                            vertical: h,
                                            horizontal: f,
                                            animation: n.animation,
                                        });
                                }
                            }
                        }),
                        (this.delayedHide = function () {
                            e.showing === this && e.cancelShowing();
                            var t = e.active;
                            if (
                                t === this &&
                                (e.cancelHiding(), t.hideAfter > 0)
                            ) {
                                var n = t.hideAfter;
                                e.timeoutHide = window.setTimeout(
                                    e.hideActive,
                                    n
                                );
                            }
                        }),
                        (this.showOnMouseOver = function (t) {
                            e.active === this && e.cancelHiding();
                            var i = function (e) {
                                return function () {
                                    n.show(e);
                                };
                            };
                            clearTimeout(e.timeoutShow),
                                (e.timeoutShow = window.setTimeout(
                                    i(t),
                                    this.showAfter
                                )),
                                (e.showing = this);
                        }),
                        (this.hideOnMouseOut = function () {
                            this.delayedHide();
                        }),
                        (this.J = function (e) {
                            return (
                                !!e.calendar.backendUrl ||
                                !(
                                    "function" != typeof WebForm_DoCallback ||
                                    !this.uniqueID
                                )
                            );
                        }),
                        (this.C = function () {
                            if (i.div) {
                                var e = i.div.domArgs;
                                if (
                                    ((i.div.domArgs = null),
                                    e &&
                                        ("function" == typeof n.onDomRemove &&
                                            n.onDomRemove(e),
                                        "function" ==
                                            typeof n.onBeforeDomRemove &&
                                            n.onBeforeDomRemove(e),
                                        "function" == typeof n.onDomAdd ||
                                            "function" ==
                                                typeof n.onBeforeDomAdd))
                                ) {
                                    var t = i.div.firstChild;
                                    if (t) {
                                        if (
                                            DayPilot.Util.isReactComponent(
                                                e.element
                                            )
                                        ) {
                                            var a =
                                                n.D.calendar &&
                                                n.D.calendar.internal.reactRefs()
                                                    .reactDOM;
                                            if (!a)
                                                throw new DayPilot.Exception(
                                                    "Can't reach ReactDOM"
                                                );
                                            a.unmountComponentAtNode(t);
                                        }
                                    }
                                }
                                document.body.removeChild(i.div),
                                    (i.div = null);
                            }
                        }),
                        t)
                    )
                        for (var a in t) this[a] = t[a];
                    this.init();
                }),
                (DayPilot.Bubble.touchPosition = function (t) {
                    t.touches && (e.mouse = e.touchPosition(t));
                }),
                (e.cancelShowing = function () {
                    (e.showing = null),
                        e.timeoutShow &&
                            (window.clearTimeout(e.timeoutShow),
                            (e.timeoutShow = null));
                }),
                (e.cancelHiding = function () {
                    e.timeoutHide && window.clearTimeout(e.timeoutHide);
                }),
                (e.hideActive = function () {
                    e.cancelHiding();
                    var t = e.active;
                    t && t.C(), (e.active = null);
                }),
                (e.CallBackArgs = function (e, t, n, i) {
                    (this.calendar = e),
                        (this.type = t),
                        (this.object = n),
                        (this.staticHTML = i),
                        (this.toJSON = function () {
                            var e = {};
                            return (
                                (e.uid = this.calendar.uniqueID),
                                (e.type = this.type),
                                (e.object = n),
                                e
                            );
                        });
                }),
                DayPilot.re(document, "mousemove", e.mouseMove),
                (DayPilot.Bubble.hideActive = e.hideActive),
                (DayPilot.Bubble.cancelShowing = e.cancelShowing),
                (DayPilot.Bubble.hide = function (t) {
                    if (((t = t || {}), t.calendar)) {
                        var n = e.active;
                        n &&
                            n.D.calendar === t.calendar &&
                            DayPilot.Bubble.hide();
                    } else e.hideActive();
                }),
                (DayPilot.Bubble.getActive = function () {
                    return e.active;
                }),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Calendar) {
            var e = 10;
            DayPilot.Calendar = function (n, i) {
                this.v = "2022.1.5188";
                var a = !1;
                if (
                    (this instanceof DayPilot.Calendar &&
                        !this.K &&
                        ((a = !0), (this.K = !0)),
                    !a)
                )
                    throw new DayPilot.Exception(
                        "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'"
                    );
                var r = this;
                (this.uniqueID = null),
                    (this.clientName = n),
                    (this.id = n),
                    (this.isCalendar = !0),
                    (this.allDayEnd = "DateTime"),
                    (this.allDayEventHeight = 30),
                    (this.allowEventOverlap = !0),
                    (this.allowMultiSelect = !0),
                    (this.api = 2),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.autoScroll = "Drag"),
                    (this.backendUrl = null),
                    "function" == typeof DayPilot.Bubble
                        ? (this.bubble = new DayPilot.Bubble())
                        : (this.bubble = null),
                    (this.cellBubble = null),
                    (this.columnBubble = null),
                    (this.businessBeginsHour = 9),
                    (this.businessEndsHour = 18),
                    (this.cellHeight = 30),
                    (this.cellDuration = 30),
                    (this.clientState = {}),
                    (this.columnMarginRight = 5),
                    (this.columnWidth = 200),
                    (this.columnWidthSpec = "Auto"),
                    (this.columnsLoadMethod = "GET"),
                    (this.contextMenu = null),
                    (this.contextMenuSelection = null),
                    (this.cornerText = ""),
                    (this.cornerHtml = null),
                    (this.crosshairType = "Header"),
                    (this.cssOnly = !0),
                    (this.dayBeginsHour = 0),
                    (this.dayEndsHour = 24),
                    (this.days = 1),
                    (this.doubleClickTimeout = 300),
                    (this.durationBarVisible = !0),
                    (this.dynamicEventRendering = "Disabled"),
                    (this.dynamicEventRenderingMarginX = 0),
                    (this.dynamicEventRenderingMarginY = 0),
                    (this.eventArrangement = "Cascade"),
                    (this.eventsLoadMethod = "GET"),
                    (this.headerHeight = 30),
                    (this.headerHeightAutoFit = !1),
                    (this.headerLevels = 1),
                    (this.height = 300),
                    (this.heightSpec = "BusinessHours"),
                    (this.hideFreeCells = !1),
                    (this.hideUntilInit = !0),
                    (this.headerDateFormat = null),
                    (this.hourWidth = 60),
                    (this.initEventEnabled = !1),
                    (this.initScrollPos = null),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.loadingLabelVisible = !0),
                    (this.locale = "en-us"),
                    (this.messageHideAfter = 5e3),
                    (this.moveBy = "Full"),
                    (this.notifyCommit = "Immediate"),
                    (this.rtl = !1),
                    (this.scrollDelayCells = 0),
                    (this.scrollDelayEvents = 10),
                    (this.scrollLabelsVisible = !1),
                    (this.showToolTip = !0),
                    (this.showAllDayEvents = !1),
                    (this.showEventStartEnd = !1),
                    (this.showHeader = !0),
                    (this.showHours = !0),
                    (this.showCurrentTime = !0),
                    (this.showCurrentTimeMode = "Day"),
                    (this.showCurrentTimeOffset = 0),
                    (this.startDate = DayPilot.Date.today()),
                    (this.cssClassPrefix = "calendar_default"),
                    (this.tapAndHoldTimeout = 300),
                    (this.theme = null),
                    (this.timeFormat = "Auto"),
                    (this.timeHeaderCellDuration = 60),
                    (this.timeRangeSelectingStartEndEnabled = !1),
                    (this.timeRangeSelectingStartEndFormat = "Auto"),
                    (this.eventMovingStartEndEnabled = !1),
                    (this.eventMovingStartEndFormat = "Auto"),
                    (this.eventResizingStartEndEnabled = !1),
                    (this.eventResizingStartEndFormat = "Auto"),
                    (this.useEventBoxes = "Always"),
                    (this.viewType = "Days"),
                    (this.visible = !0),
                    (this.watchWidthChanges = !0),
                    (this.weekStarts = "Auto"),
                    (this.width = null),
                    (this.xssProtection = "Enabled"),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventDoubleClickHandling = "Disabled"),
                    (this.eventRightClickHandling = "ContextMenu"),
                    (this.eventDeleteHandling = "Disabled"),
                    (this.eventEditHandling = "Update"),
                    (this.eventHoverHandling = "Bubble"),
                    (this.eventResizeHandling = "Update"),
                    (this.eventMoveHandling = "Update"),
                    (this.eventSelectHandling = "Update"),
                    (this.eventTapAndHoldHandling = "Move"),
                    (this.headerClickHandling = "Enabled"),
                    (this.timeRangeTapAndHoldHandling = "Select"),
                    (this.timeRangeSelectedHandling = "Enabled"),
                    (this.timeRangeDoubleClickHandling = "Disabled"),
                    (this.timeRangeRightClickHandling = "ContextMenu"),
                    (this.onAutoRefresh = null),
                    (this.onColumnFilter = null),
                    (this.onEventFilter = null),
                    (this.onEventClick = null),
                    (this.onEventClicked = null),
                    (this.onEventDelete = null),
                    (this.onEventDeleted = null),
                    (this.onEventEdit = null),
                    (this.onEventEdited = null),
                    (this.onEventMove = null),
                    (this.onEventMoved = null),
                    (this.onEventMoving = null),
                    (this.onEventResize = null),
                    (this.onEventResized = null),
                    (this.onEventResizing = null),
                    (this.onEventSelect = null),
                    (this.onEventSelected = null),
                    (this.onEventRightClick = null),
                    (this.onEventRightClicked = null),
                    (this.onEventDoubleClick = null),
                    (this.onEventDoubleClicked = null),
                    (this.onHeaderClick = null),
                    (this.onHeaderClicked = null),
                    (this.onTimeRangeRightClick = null),
                    (this.onTimeRangeRightClicked = null),
                    (this.onTimeRangeDoubleClick = null),
                    (this.onTimeRangeDoubleClicked = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.onTimeRangeSelecting = null),
                    (this.onAfterRender = null),
                    (this.onAfterEventRender = null),
                    (this.onAfterCellRender = null),
                    (this.onBeforeEventRender = null),
                    (this.onBeforeEventExport = null),
                    (this.onBeforeEventDomAdd = null),
                    (this.onBeforeEventDomRemove = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeCornerDomAdd = null),
                    (this.onBeforeCornerDomRemove = null),
                    (this.onBeforeCornerRender = null),
                    (this.onBeforeHeaderRender = null),
                    (this.onBeforeHeaderExport = null),
                    (this.onBeforeTimeHeaderRender = null),
                    (this.L = !0),
                    (this.M = e),
                    (this.N = !0),
                    (this.O = !0),
                    (this.P = !0),
                    (this.Q = {}),
                    (this.Q.pixels = {}),
                    (this.Q.events = []),
                    (this.Q.drawArea = null),
                    (this.Q.R = null),
                    (this.elements = {}),
                    (this.elements.events = []),
                    (this.elements.separators = []),
                    (this.elements.selection = []),
                    (this.elements.cells = {}),
                    (this.elements.crosshair = []),
                    (this.elements.timeHeaders = []),
                    (this.events = {}),
                    (this.events.list = []),
                    (this.nav = {}),
                    (this.S = 0),
                    (this.T = !1),
                    (this.U = !1),
                    (this.members = {}),
                    (this.members.obsolete = [
                        "Init",
                        "cleanSelection",
                        "cssClassPrefix",
                        "cssOnly",
                        "clientName",
                        "uniqueID",
                    ]),
                    (this.members.ignore = [
                        "internal",
                        "nav",
                        "debug",
                        "temp",
                        "elements",
                        "members",
                        "onCallbackError",
                    ]),
                    (this.members.noCssOnly = []),
                    (this.V = "javasc"),
                    (this.W = {}),
                    (this.W.ie =
                        navigator &&
                        navigator.userAgent &&
                        navigator.userAgent.indexOf("MSIE") !== -1),
                    (this.W.ff =
                        navigator &&
                        navigator.userAgent &&
                        navigator.userAgent.indexOf("Firefox") !== -1),
                    (this.clearSelection = function () {
                        return this.selectedCells
                            ? ((t.topSelectedCell = null),
                              (t.bottomSelectedCell = null),
                              (DayPilot.Global.selecting = null),
                              this.X(),
                              void (this.selectedCells = []))
                            : void (this.selectedCells = []);
                    }),
                    (this.X = function () {
                        this.selectedCells &&
                            (DayPilot.de(r.elements.selection),
                            (r.elements.selection = []),
                            (r.nav.activeSelection = null));
                    }),
                    (this.cleanSelection = this.clearSelection),
                    (this.Y = function () {
                        if (r.Q.drawArea) return r.Q.drawArea;
                        var e = r.Z();
                        if (!e) return null;
                        var t = {};
                        (t.pixels = {}),
                            (t.pixels.left = e.scrollLeft),
                            (t.pixels.right = e.scrollLeft + e.clientWidth),
                            (t.pixels.top = e.scrollTop),
                            (t.pixels.bottom = e.scrollTop + e.clientHeight),
                            (t.pixels.width = e.scrollWidth);
                        var n = r.dynamicEventRenderingMarginX;
                        n &&
                            ((t.pixels.left -= n),
                            (t.pixels.right += n),
                            t.pixels.left < 0 && (t.pixels.left = 0),
                            t.pixels.right > t.pixels.width &&
                                (t.pixels.right = t.pixels.width));
                        var i = r.dynamicEventRenderingMarginY;
                        if (i) {
                            (t.pixels.top -= i), (t.pixels.bottom += i);
                            var a = r._();
                            t.pixels.top < 0 && (t.pixels.top = 0),
                                t.pixels.bottom > a && (t.pixels.bottom = a);
                        }
                        for (
                            var o = r.aa(), s = null, l = null, d = 0;
                            d < o.length;
                            d++
                        ) {
                            var c = o[d],
                                u = c.left + c.width;
                            if (
                                (null === s && u > t.pixels.left && (s = d),
                                null !== s &&
                                    null === l &&
                                    (u >= t.pixels.right || d === o.length - 1))
                            ) {
                                l = d;
                                break;
                            }
                        }
                        var h = Math.floor(t.pixels.top / r.cellHeight);
                        h = DayPilot.Util.atLeast(0, h);
                        var f = Math.ceil(t.pixels.bottom / r.cellHeight);
                        return (
                            (f = DayPilot.Util.atMost(r.ba() - 1, f)),
                            (t.xStart = s),
                            (t.xEnd = l),
                            (t.yStart = h),
                            (t.yEnd = f),
                            (r.Q.drawArea = t),
                            t
                        );
                    }),
                    (this.ca = function (e) {
                        return r.Q.R || (r.Q.R = r.aa()), r.Q.R[e];
                    }),
                    (this.da = function () {
                        (r.Q.drawArea = null), (r.Q.R = null);
                    }),
                    (this.ea = function (e, t) {
                        return r.ga.fa()
                            ? DayPilot.Util.escapeTextHtml(e, t)
                            : DayPilot.Util.isNullOrUndefined(t)
                            ? DayPilot.Util.isNullOrUndefined(e)
                                ? ""
                                : e
                            : t;
                    }),
                    (this.ha = function (e, t, n) {
                        var i = {};
                        (i.action = e),
                            (i.parameters = n),
                            (i.data = t),
                            (i.header = this.ia());
                        var a = "JSON" + JSON.stringify(i);
                        __doPostBack(r.uniqueID, a);
                    }),
                    (this.ja = function (e, t, n, i) {
                        if (!this.J())
                            return void r.debug.message(
                                "Callback invoked without the server-side backend specified. Callback canceled.",
                                "warning"
                            );
                        "undefined" == typeof i && (i = "CallBack"), r.ka();
                        var a = {};
                        (a.action = e),
                            (a.type = i),
                            (a.parameters = t),
                            (a.data = n),
                            (a.header = this.ia());
                        var o = "JSON" + JSON.stringify(a);
                        this.backendUrl
                            ? DayPilot.request(
                                  this.backendUrl,
                                  this.la,
                                  o,
                                  this.ma
                              )
                            : "function" == typeof WebForm_DoCallback &&
                              WebForm_DoCallback(
                                  this.uniqueID,
                                  o,
                                  this.na,
                                  this.clientName,
                                  this.onCallbackError,
                                  !0
                              );
                    }),
                    (this.J = function () {
                        return (
                            ("javasc" !== r.V && r.V.indexOf("DCODE") === -1) ||
                            r.devsb
                        );
                    }),
                    (this.oa = function () {
                        return !(
                            "function" != typeof WebForm_DoCallback ||
                            !this.uniqueID
                        );
                    }),
                    (this.ma = function (e) {
                        if ("function" == typeof r.onAjaxError) {
                            var t = {};
                            (t.request = e), r.onAjaxError(t);
                        } else
                            "function" == typeof r.ajaxError && r.ajaxError(e);
                    }),
                    (this.dispose = function () {
                        var e = r;
                        if (e.T && !e.U) {
                            (e.U = !0),
                                e.pa && e.pa.disconnect(),
                                e.qa(),
                                e.ra(),
                                e.nav.messageClose &&
                                    (e.nav.messageClose.onclick = null),
                                e.nav.hourTable &&
                                    ((e.nav.hourTable.oncontextmenu = null),
                                    (e.nav.hourTable.onmousemove = null)),
                                e.nav.header &&
                                    (e.nav.header.oncontextmenu = null),
                                e.nav.corner &&
                                    (e.nav.corner.oncontextmenu = null),
                                e.nav.zoom &&
                                    ((e.nav.zoom.onmousemove = null),
                                    (e.nav.zoom.oncontextmenu = null)),
                                e.nav.scroll &&
                                    ((e.nav.scroll.onscroll = null),
                                    (e.nav.scroll.root = null)),
                                DayPilot.pu(e.nav.loading),
                                e.sa(),
                                e.ta(),
                                e.va(),
                                e.wa(),
                                (e.nav.select = null),
                                (e.nav.cornerRight = null),
                                (e.nav.scrollable = null),
                                (e.nav.bottomLeft = null),
                                (e.nav.bottomRight = null),
                                (e.nav.allday = null),
                                (e.nav.zoom = null),
                                (e.nav.loading = null),
                                (e.nav.events = null),
                                (e.nav.header = null),
                                (e.nav.hourTable = null),
                                (e.nav.scrolltop = null),
                                (e.nav.scroll = null),
                                (e.nav.vsph = null),
                                (e.nav.main = null),
                                (e.nav.message = null),
                                (e.nav.messageClose = null),
                                e.nav.top.removeAttribute("style"),
                                e.nav.top.removeAttribute("class"),
                                e.nav.top.removeEventListener(
                                    "mouseleave",
                                    r.xa
                                );
                            !(r.ya.reactDOM && DayPilot.browser.ie) &&
                                (e.nav.top.innerHTML = ""),
                                (e.nav.top.dp = null),
                                (e.nav.top = null),
                                DayPilot.ue(window, "resize", e.za),
                                t.unregister(e),
                                "undefined" != typeof DayPilot.Bubble &&
                                    (DayPilot.Bubble.cancelShowing(),
                                    DayPilot.Bubble.hide({ calendar: e })),
                                "undefined" != typeof DayPilot.Menu &&
                                    DayPilot.Menu.hide({ calendar: e });
                        }
                    }),
                    (this.Aa = function () {
                        this.nav.top.dispose = this.dispose;
                    }),
                    (this.la = function (e) {
                        r.na(e.responseText);
                    }),
                    (this.ia = function () {
                        var e = {};
                        return (
                            (e.v = this.v),
                            (e.control = "dpc"),
                            (e.id = this.id),
                            (e.clientState = r.clientState),
                            (e.columns = this.Ba()),
                            (e.days = r.days),
                            (e.startDate = r.startDate),
                            (e.cellDuration = r.cellDuration),
                            (e.cssClassPrefix = r.cssClassPrefix),
                            (e.heightSpec = r.heightSpec),
                            (e.businessBeginsHour = r.businessBeginsHour),
                            (e.businessEndsHour = r.businessEndsHour),
                            (e.viewType = r.viewType),
                            (e.dayBeginsHour = r.dayBeginsHour),
                            (e.dayEndsHour = r.dayEndsHour),
                            (e.headerLevels = r.headerLevels),
                            (e.eventHeaderVisible = r.eventHeaderVisible),
                            (e.timeFormat = r.timeFormat),
                            (e.timeHeaderCellDuration =
                                r.timeHeaderCellDuration),
                            (e.locale = r.locale),
                            (e.scrollY = r.scrollPos),
                            (e.showAllDayEvents = r.showAllDayEvents),
                            (e.tagFields = r.tagFields),
                            (e.weekStarts = r.weekStarts),
                            (e.selected = r.multiselect.events()),
                            (e.hashes = r.hashes),
                            e
                        );
                    }),
                    (this.Ca = function () {
                        r.Da(), r.Ea(), (r.Fa = null);
                    });
                this.Ba = function () {
                    var e = [];
                    if (((e.ignoreToJSON = !0), !this.Ga)) return e;
                    for (var t = 0; t < this.Ga.length; t++) {
                        var n = this.Ga[t],
                            i = this.Ha(n);
                        e.push(i);
                    }
                    return e;
                };
                (this.Ha = function (e) {
                    var t = {};
                    return (
                        (t.Value = e.id),
                        (t.Name = e.name),
                        (t.ToolTip = e.toolTip),
                        (t.Date = e.start),
                        (t.Children = this.Ia(e.children)),
                        t
                    );
                }),
                    (this.Ia = function (e) {
                        var t = [];
                        if (((t.ignoreToJSON = !0), !e)) return t;
                        for (var n = 0; n < e.length; n++)
                            t.push(this.Ha(e[n]));
                        return t;
                    }),
                    (this.na = function (e, t) {
                        var e = JSON.parse(e);
                        if (e.BubbleGuid) {
                            var n = e.BubbleGuid,
                                i = this.bubbles[n];
                            return (
                                delete this.bubbles[n],
                                r.Ja(),
                                void (
                                    "undefined" != typeof e.Result.BubbleHTML &&
                                    i.updateView(e.Result.BubbleHTML, i)
                                )
                            );
                        }
                        if (e.CallBackRedirect)
                            return void (document.location.href =
                                e.CallBackRedirect);
                        if (
                            ("undefined" != typeof e.ClientState &&
                                (r.clientState = e.ClientState),
                            "None" === e.UpdateType)
                        )
                            return (
                                r.Ja(),
                                r.Ka(e.CallBackData, !0),
                                void (e.Message && r.message(e.Message))
                            );
                        if ((r.da(), e.VsUpdate)) {
                            var a = document.createElement("input");
                            (a.type = "hidden"),
                                (a.name = r.id + "_vsupdate"),
                                (a.id = a.name),
                                (a.value = e.VsUpdate),
                                (r.nav.vsph.innerHTML = ""),
                                r.nav.vsph.appendChild(a);
                        }
                        if (
                            (r.ra(),
                            r.multiselect.clear(!0),
                            (r.multiselect.La = e.SelectedEvents),
                            "undefined" != typeof e.TagFields &&
                                (r.tagFields = e.TagFields),
                            "undefined" != typeof e.SortDirections &&
                                (r.sortDirections = e.SortDirections),
                            "Full" === e.UpdateType &&
                                ((r.colors = e.Colors),
                                (r.palette = e.Palette),
                                (r.dirtyColors = e.DirtyColors),
                                (r.cellProperties = e.CellProperties),
                                (r.cellConfig = e.CellConfig),
                                r.Ma() === r.columns
                                    ? (r.columns = e.Columns)
                                    : (r.columns.list = e.Columns),
                                (r.days = e.Days),
                                (r.startDate = new DayPilot.Date(
                                    e.StartDate
                                ).getDatePart()),
                                (r.cellDuration = e.CellDuration),
                                (r.heightSpec = e.HeightSpec
                                    ? e.HeightSpec
                                    : r.heightSpec),
                                (r.businessBeginsHour = e.BusinessBeginsHour
                                    ? e.BusinessBeginsHour
                                    : r.businessBeginsHour),
                                (r.businessEndsHour = e.BusinessEndsHour
                                    ? e.BusinessEndsHour
                                    : r.businessEndsHour),
                                (r.viewType = e.ViewType),
                                (r.headerLevels = e.HeaderLevels),
                                (r.backColor = e.BackColor
                                    ? e.BackColor
                                    : r.backColor),
                                (r.nonBusinessBackColor = e.NonBusinessBackColor
                                    ? e.NonBusinessBackColor
                                    : r.nonBusinessBackColor),
                                (r.eventHeaderVisible = e.EventHeaderVisible
                                    ? e.EventHeaderVisible
                                    : r.eventHeaderVisible),
                                (r.timeFormat = e.TimeFormat
                                    ? e.TimeFormat
                                    : r.timeFormat),
                                (r.timeHeaderCellDuration =
                                    "undefined" !=
                                    typeof e.TimeHeaderCellDuration
                                        ? e.TimeHeaderCellDuration
                                        : r.timeHeaderCellDuration),
                                (r.locale = e.Locale ? e.Locale : r.locale),
                                (r.dayBeginsHour =
                                    "undefined" != typeof e.DayBeginsHour
                                        ? e.DayBeginsHour
                                        : r.dayBeginsHour),
                                (r.dayEndsHour =
                                    "undefined" != typeof e.DayEndsHour
                                        ? e.DayEndsHour
                                        : r.dayEndsHour),
                                (r.cornerHtml = e.CornerHTML),
                                (r.hours = e.Hours),
                                r.Na(),
                                r.Oa()),
                            e.Hashes)
                        )
                            for (var o in e.Hashes) r.hashes[o] = e.Hashes[o];
                        if (
                            (r.Pa(e.Events),
                            r.Qa(),
                            ("Full" === e.UpdateType || r.hideFreeCells) &&
                                (r.Ra(),
                                r.Sa(),
                                r.Ta(),
                                r.Ua(),
                                r.Va(),
                                r.Wa(),
                                r.Xa(),
                                r.Ya(),
                                r.clearSelection(),
                                r.Za(),
                                "undefined" != typeof e.ScrollY
                                    ? r.scrollToY(e.ScrollY)
                                    : r.scrollToY(r.initScrollPos)),
                            r.$a(),
                            r._a(),
                            r.ab(),
                            r.bb(),
                            "Parent100Pct" === r.heightSpec && r.cb(),
                            "HoldForever" !== r.timeRangeSelectedHandling &&
                                r.clearSelection(),
                            r.db(),
                            r.todo && r.todo.del)
                        ) {
                            var s = r.todo.del;
                            s.parentNode.removeChild(s), (r.todo.del = null);
                        }
                        r.Ka(e.CallBackData, !0),
                            r.Ja(),
                            r.eb(),
                            e.Message && r.message(e.Message);
                    }),
                    (this.Ka = function (e, t) {
                        var n = function (e, t) {
                            return function () {
                                if (r.fb()) {
                                    if ("function" == typeof r.onAfterRender) {
                                        var n = {};
                                        (n.isCallBack = t),
                                            (n.data = e),
                                            r.onAfterRender(n);
                                    }
                                } else r.afterRender && r.afterRender(e, t);
                            };
                        };
                        window.setTimeout(n(e, t), 0);
                    }),
                    (this.gb = function (e, t) {
                        var n = r.nav.events,
                            i = n.rows[0].cells.length,
                            a = n.clientWidth / i,
                            o = Math.floor(r.coords.x / a);
                        o < 0 && (o = 0),
                            o >= i && (o = i - 1),
                            r.rtl && (o = r.hb.length - o - 1);
                        var s = n.rows[0].cells[o],
                            l = 0,
                            d = 0,
                            c = 0;
                        if ("undefined" != typeof e.duration) {
                            var u = e.duration;
                            (c =
                                Math.floor(
                                    (r.coords.y - l + r.cellHeight / 2) /
                                        r.cellHeight
                                ) *
                                    r.cellHeight +
                                l),
                                (d =
                                    (u * r.cellHeight) / (60 * r.cellDuration)),
                                (d = Math.max(d, r.cellHeight));
                        } else {
                            var h = e.event;
                            (d = h.part.height), (c = h.part.top);
                        }
                        var f = document.createElement("div");
                        f.setAttribute("unselectable", "on"),
                            (f.style.position = "absolute"),
                            (f.style.width = "100%"),
                            (f.style.height = d + "px"),
                            (f.style.left = "0px"),
                            (f.style.top = c + "px"),
                            (f.style.zIndex = r.M),
                            (f.exclude = !0);
                        var v = document.createElement("div");
                        return (
                            f.appendChild(v),
                            (f.className = r.H("_shadow")),
                            (v.className = this.H("_shadow_inner")),
                            s.events.appendChild(f),
                            f
                        );
                    }),
                    (this.ib = function () {
                        return this.jb() / 36e5;
                    }),
                    (this.kb = function () {
                        return this.businessBeginsHour > this.businessEndsHour
                            ? 24 -
                                  this.businessBeginsHour +
                                  this.businessEndsHour
                            : this.businessEndsHour - this.businessBeginsHour;
                    }),
                    (this.lb = function () {
                        return this.dayBeginsHour >= this.dayEndsHour
                            ? 24 - this.dayBeginsHour + this.dayEndsHour
                            : this.dayEndsHour - this.dayBeginsHour;
                    }),
                    (this.jb = function (e) {
                        var t = 0;
                        if ("BusinessHoursNoScroll" === this.heightSpec)
                            t = this.kb();
                        else if (this.hideFreeCells && !e) {
                            var n =
                                    ((this.mb - 1) * this.cellDuration) /
                                    this.cellHeight,
                                i = Math.ceil(n / 60),
                                a =
                                    this.businessBeginsHour >
                                    this.businessEndsHour
                                        ? this.businessEndsHour + 24
                                        : this.businessEndsHour;
                            t = Math.max(this.dayBeginsHour + i, a) - this.nb();
                        } else t = this.lb();
                        return 60 * t * 60 * 1e3;
                    }),
                    (this.message = function (e, t) {
                        if (null !== e && r.T) {
                            var n,
                                i = {};
                            "object" == typeof arguments[1]
                                ? ((i = arguments[1]), (n = i.delay))
                                : (n = t);
                            var a = "";
                            (a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                                (n = n || this.messageHideAfter || 2e3);
                            var o,
                                s = this.ob(),
                                l = this.showHours ? this.hourWidth : 0,
                                d = DayPilot.sw(r.pb());
                            if (r.rtl) {
                                var c = l;
                                (l = d), (d = c);
                            }
                            if (this.nav.message)
                                (o = r.nav.message),
                                    (this.nav.message.style.top = s + "px");
                            else {
                                (o = document.createElement("div")),
                                    (o.style.position = "absolute"),
                                    (o.style.left = l + "px"),
                                    (o.style.top = s + "px"),
                                    (o.style.right = "0px"),
                                    (o.style.display = "none"),
                                    (o.onmousemove = function () {
                                        o.messageTimeout &&
                                            !o.status &&
                                            clearTimeout(o.messageTimeout);
                                    }),
                                    (o.onmouseout = function () {
                                        "none" !==
                                            r.nav.message.style.display &&
                                            (o.messageTimeout = setTimeout(
                                                r.qb,
                                                500
                                            ));
                                    });
                                var u = document.createElement("div");
                                (u.onclick = function () {
                                    r.nav.message.style.display = "none";
                                }),
                                    (u.className = this.H("_message")),
                                    o.appendChild(u);
                                var h = document.createElement("div");
                                (h.style.position = "absolute"),
                                    (h.className = this.H("_message_close")),
                                    (h.onclick = function () {
                                        r.nav.message.style.display = "none";
                                    }),
                                    o.appendChild(h),
                                    this.nav.top.insertBefore(
                                        o,
                                        this.nav.loading
                                    ),
                                    (this.nav.message = o),
                                    (this.nav.messageClose = h);
                            }
                            this.nav.cornerRight
                                ? (this.nav.message.style.right = d + "px")
                                : (this.nav.message.style.right = "0px");
                            var f = function () {
                                if (r.nav.message) {
                                    var e = r.nav.message.firstChild;
                                    (e.className = r.H("_message")),
                                        i.cssClass &&
                                            DayPilot.Util.addClass(
                                                e,
                                                i.cssClass
                                            ),
                                        (e.innerHTML = a);
                                    var t = function () {
                                        o.messageTimeout = setTimeout(r.qb, n);
                                    };
                                    DayPilot.fade(r.nav.message, 0.2, t);
                                }
                            };
                            clearTimeout(o.messageTimeout),
                                "none" !== this.nav.message.style.display
                                    ? DayPilot.fade(r.nav.message, -0.2, f)
                                    : f();
                        }
                    }),
                    (this.message.show = function (e) {
                        r.message(e);
                    }),
                    (this.message.hide = function () {
                        r.qb();
                    }),
                    (this.qb = function () {
                        var e = function () {
                            r.nav.message.style.display = "none";
                        };
                        DayPilot.fade(r.nav.message, -0.2, e);
                    }),
                    (this.Ua = function () {
                        this.nav.message &&
                            (this.nav.message.style.top = this.ob() + "px");
                    }),
                    (this.ba = function () {
                        return this.jb() / (6e4 * this.cellDuration);
                    }),
                    (this.eventClickPostBack = function (e, t) {
                        this.ha("EventClick", t, e);
                    }),
                    (this.eventClickCallBack = function (e, t) {
                        this.ja("EventClick", e, t);
                    }),
                    (this.rb = function (e) {
                        var t = this,
                            e = e || window.event,
                            n = e.ctrlKey,
                            i = e.metaKey;
                        if (
                            ("undefined" != typeof DayPilot.Bubble &&
                                DayPilot.Bubble.hideActive(),
                            "Disabled" === r.eventDoubleClickHandling)
                        )
                            return void r.sb(t, n, i, e);
                        if (r.timeouts) {
                            for (var a in r.timeouts)
                                window.clearTimeout(r.timeouts[a]);
                            r.timeouts = [];
                        } else r.timeouts = [];
                        var o = function (e, t, n, i) {
                            return function () {
                                r.sb(e, t, n, i);
                            };
                        };
                        r.timeouts.push(
                            window.setTimeout(
                                o(this, n, i, e),
                                r.doubleClickTimeout
                            )
                        );
                    }),
                    (this.sb = function (e, t, n, i) {
                        var a = e.event;
                        if (a.client.clickEnabled())
                            if (r.fb()) {
                                var o = {};
                                if (
                                    ((o.e = a),
                                    (o.control = r),
                                    (o.ctrl = t),
                                    (o.meta = n),
                                    (o.originalEvent = i),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof r.onEventClick &&
                                        (r.onEventClick(o),
                                        o.preventDefault.value))
                                )
                                    return;
                                switch (r.eventClickHandling) {
                                    case "PostBack":
                                        r.eventClickPostBack(a);
                                        break;
                                    case "CallBack":
                                        r.eventClickCallBack(a);
                                        break;
                                    case "Edit":
                                        r.tb(e);
                                        break;
                                    case "Select":
                                        r.ub(e, a, t, n);
                                        break;
                                    case "Bubble":
                                        r.bubble && r.bubble.showEvent(a);
                                        break;
                                    case "ContextMenu":
                                        var s = a.client.contextMenu();
                                        s
                                            ? s.show(a)
                                            : r.contextMenu &&
                                              r.contextMenu.show(a);
                                }
                                "function" == typeof r.onEventClicked &&
                                    r.onEventClicked(o);
                            } else
                                switch (r.eventClickHandling) {
                                    case "PostBack":
                                        r.eventClickPostBack(a);
                                        break;
                                    case "CallBack":
                                        r.eventClickCallBack(a);
                                        break;
                                    case "JavaScript":
                                        r.onEventClick(a);
                                        break;
                                    case "Edit":
                                        r.tb(e);
                                        break;
                                    case "Select":
                                        r.ub(e, a, t, n);
                                        break;
                                    case "Bubble":
                                        r.bubble && r.bubble.showEvent(a);
                                        break;
                                    case "ContextMenu":
                                        var s = a.client.contextMenu();
                                        s
                                            ? s.show(a)
                                            : r.contextMenu &&
                                              r.contextMenu.show(a);
                                }
                    }),
                    (this.eventDoubleClickPostBack = function (e, t) {
                        this.ha("EventDoubleClick", t, e);
                    }),
                    (this.eventDoubleClickCallBack = function (e, t) {
                        this.ja("EventDoubleClick", e, t);
                    }),
                    (this.vb = function (e) {
                        if (
                            ("undefined" != typeof DayPilot.Bubble &&
                                DayPilot.Bubble.hideActive(),
                            r.timeouts)
                        ) {
                            for (var t in r.timeouts)
                                window.clearTimeout(r.timeouts[t]);
                            r.timeouts = null;
                        }
                        var n = this.event,
                            e = e || window.event;
                        if (r.fb()) {
                            var i = {};
                            if (
                                ((i.e = n),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onEventDoubleClick &&
                                    (r.onEventDoubleClick(i),
                                    i.preventDefault.value))
                            )
                                return;
                            switch (r.eventDoubleClickHandling) {
                                case "PostBack":
                                    r.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    r.eventDoubleClickCallBack(n);
                                    break;
                                case "Edit":
                                    n.allday() || r.tb(this);
                                    break;
                                case "Select":
                                    n.allday() || r.ub(this, n, e.ctrlKey);
                                    break;
                                case "Bubble":
                                    r.bubble && r.bubble.showEvent(n);
                            }
                            "function" == typeof r.onEventDoubleClicked &&
                                r.onEventDoubleClicked(i);
                        } else
                            switch (r.eventDoubleClickHandling) {
                                case "PostBack":
                                    r.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    r.eventDoubleClickCallBack(n);
                                    break;
                                case "JavaScript":
                                    r.onEventDoubleClick(n);
                                    break;
                                case "Edit":
                                    n.allday() || r.tb(this);
                                    break;
                                case "Select":
                                    n.allday() || r.ub(this, n, e.ctrlKey);
                                    break;
                                case "Bubble":
                                    r.bubble && r.bubble.showEvent(n);
                            }
                    }),
                    (this.eventRightClickPostBack = function (e, t) {
                        this.ha("EventRightClick", t, e);
                    }),
                    (this.eventRightClickCallBack = function (e, t) {
                        this.ja("EventRightClick", e, t);
                    }),
                    (this.wb = function (e) {
                        var t = this.event;
                        if (
                            (e.stopPropagation && e.stopPropagation(),
                            !t.client.rightClickEnabled())
                        )
                            return !1;
                        if (r.fb()) {
                            var n = {};
                            if (
                                ((n.e = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onEventRightClick &&
                                    (r.onEventRightClick(n),
                                    n.preventDefault.value))
                            )
                                return !1;
                            switch (r.eventRightClickHandling) {
                                case "PostBack":
                                    r.eventRightClickPostBack(t);
                                    break;
                                case "CallBack":
                                    r.eventRightClickCallBack(t);
                                    break;
                                case "ContextMenu":
                                    var i = t.client.contextMenu();
                                    i
                                        ? i.show(t)
                                        : r.contextMenu &&
                                          r.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    r.bubble && r.bubble.showEvent(t);
                            }
                            "function" == typeof r.onEventRightClicked &&
                                r.onEventRightClicked(n);
                        } else
                            switch (r.eventRightClickHandling) {
                                case "PostBack":
                                    r.eventRightClickPostBack(t);
                                    break;
                                case "CallBack":
                                    r.eventRightClickCallBack(t);
                                    break;
                                case "JavaScript":
                                    r.onEventRightClick(t);
                                    break;
                                case "ContextMenu":
                                    var i = t.client.contextMenu();
                                    i
                                        ? i.show(t)
                                        : r.contextMenu &&
                                          r.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    r.bubble && r.bubble.showEvent(t);
                            }
                        return e.preventDefault && e.preventDefault(), !1;
                    }),
                    (this.xb = function (e) {
                        return new DayPilot.Column(e, r);
                    }),
                    (this.headerClickPostBack = function (e, t) {
                        this.ha("HeaderClick", t, e);
                    }),
                    (this.headerClickCallBack = function (e, t) {
                        this.ja("HeaderClick", e, t);
                    }),
                    (this.yb = function (e) {
                        var t = this.data,
                            n = r.xb(t);
                        if (r.fb()) {
                            var i = {};
                            if (
                                ((i.header = {}),
                                (i.header.id = t.id),
                                (i.header.name = t.name),
                                (i.header.start = t.start),
                                (i.column = n),
                                (i.originalEvent = e),
                                (i.shift = e.shiftKey),
                                (i.ctrl = e.ctrlKey),
                                (i.meta = e.metaKey),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onHeaderClick &&
                                    (r.onHeaderClick(i),
                                    i.preventDefault.value))
                            )
                                return;
                            switch (r.headerClickHandling) {
                                case "PostBack":
                                    r.headerClickPostBack(n);
                                    break;
                                case "CallBack":
                                    r.headerClickCallBack(n);
                            }
                            "function" == typeof r.onHeaderClicked &&
                                r.onHeaderClicked(i);
                        } else
                            switch (r.headerClickHandling) {
                                case "PostBack":
                                    r.headerClickPostBack(n);
                                    break;
                                case "CallBack":
                                    r.headerClickCallBack(n);
                                    break;
                                case "JavaScript":
                                    r.onHeaderClick(n);
                            }
                    }),
                    (this.zb = function () {
                        if (
                            "undefined" != typeof DayPilot.Bubble &&
                            r.columnBubble
                        )
                            if ("Resources" === r.viewType) {
                                var e = {};
                                (e.calendar = r),
                                    (e.start = this.data.start),
                                    (e.name = this.data.name),
                                    (e.id = this.data.id),
                                    (e.toJSON = function () {
                                        var e = {};
                                        return (
                                            (e.id = this.id),
                                            (e.start = this.start),
                                            (e.name = this.name),
                                            e
                                        );
                                    }),
                                    r.columnBubble.showResource(e);
                            } else {
                                var t = new DayPilot.Date(this.data.start),
                                    n = t.addDays(1),
                                    i = {};
                                (i.calendar = r),
                                    (i.start = t),
                                    (i.end = n),
                                    (i.toJSON = function () {
                                        var e = {};
                                        return (
                                            (e.start = this.start),
                                            (e.end = this.end),
                                            e
                                        );
                                    }),
                                    r.columnBubble.showTime(i);
                            }
                        var a = this,
                            o = a.firstChild;
                        if (!o.active) {
                            var s = a.data,
                                l = r.xb(s);
                            (l.areas = a.data.areas),
                                DayPilot.Areas.showAreas(o, l);
                        }
                    }),
                    (this.Ab = function (e) {
                        "undefined" != typeof DayPilot.Bubble &&
                            r.columnBubble &&
                            r.columnBubble.hideOnMouseOut(),
                            DayPilot.Areas.hideAreas(this.firstChild, e);
                    }),
                    (this.eventDeletePostBack = function (e, t) {
                        this.ha("EventDelete", t, e);
                    }),
                    (this.eventDeleteCallBack = function (e, t) {
                        this.ja("EventDelete", e, t);
                    }),
                    (this.Bb = function (e) {
                        var t;
                        if (
                            ((t =
                                e && e.isEvent
                                    ? e
                                    : e.parentNode.parentNode.event),
                            "undefined" != typeof DayPilot.Bubble &&
                                (DayPilot.Bubble.hideActive(),
                                DayPilot.Bubble.cancelShowing()),
                            r.fb())
                        ) {
                            var n = {};
                            if (
                                ((n.e = t),
                                (n.control = r),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onEventDelete &&
                                    (r.onEventDelete(n),
                                    n.preventDefault.value))
                            )
                                return;
                            switch (r.eventDeleteHandling) {
                                case "PostBack":
                                    r.eventDeletePostBack(t);
                                    break;
                                case "CallBack":
                                    r.eventDeleteCallBack(t);
                                    break;
                                case "Update":
                                    r.events.remove(t);
                            }
                            "function" == typeof r.onEventDeleted &&
                                r.onEventDeleted(n);
                        } else
                            switch (r.eventDeleteHandling) {
                                case "PostBack":
                                    r.eventDeletePostBack(t);
                                    break;
                                case "CallBack":
                                    r.eventDeleteCallBack(t);
                                    break;
                                case "JavaScript":
                                    r.onEventDelete(t);
                            }
                    }),
                    (this.eventResizePostBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e),
                            (a.newStart = t),
                            (a.newEnd = n),
                            this.ha("EventResize", i, a);
                    }),
                    (this.eventResizeCallBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e),
                            (a.newStart = t),
                            (a.newEnd = n),
                            this.ja("EventResize", a, i);
                    }),
                    (this.Cb = function (e, t, n, i) {
                        if ("PostBack" === e) r.postBack2(t, n, i);
                        else if ("CallBack" === e) r.ja(t, n, i, "CallBack");
                        else if ("Immediate" === e) r.ja(t, n, i, "Notify");
                        else if ("Queue" === e)
                            r.queue.add(new DayPilot.Action(this, t, n, i));
                        else {
                            if ("Notify" !== e)
                                throw new DayPilot.Exception(
                                    "Invalid event invocation type"
                                );
                            "Notify" === s.notifyType()
                                ? r.ja(t, n, i, "Notify")
                                : r.queue.add(new DayPilot.Action(r, t, n, i));
                        }
                    }),
                    (this.nb = function (e) {
                        if ("BusinessHoursNoScroll" === this.heightSpec)
                            return this.businessBeginsHour;
                        if (this.hideFreeCells && !e) {
                            var t =
                                    (this.Db * this.cellDuration) /
                                    this.cellHeight,
                                n = Math.floor(t / 60);
                            return (
                                (n = Math.max(0, n)),
                                Math.min(
                                    this.dayBeginsHour + n,
                                    this.businessBeginsHour
                                )
                            );
                        }
                        return this.dayBeginsHour;
                    }),
                    (this.visibleStart = function () {
                        if ("Resources" === r.viewType) {
                            if (r.hb.isEmpty()) return DayPilot.Date.today();
                            var e = DayPilot.list(r.hb).map(function (e) {
                                    return e.start.getTime();
                                }),
                                t = Math.min.apply(null, e);
                            return new DayPilot.Date(t);
                        }
                        return this.hb[0].start;
                    }),
                    (this.visibleEnd = function () {
                        if ("Resources" === r.viewType) {
                            if (r.hb.isEmpty())
                                return DayPilot.Date.today().addDays(1);
                            var e = DayPilot.list(r.hb).map(function (e) {
                                    return e.start.getTime();
                                }),
                                t = Math.max.apply(null, e);
                            return new DayPilot.Date(t).addDays(1);
                        }
                        var n = this.hb,
                            t = n.length - 1;
                        return n[t].start.addDays(1);
                    }),
                    (this.fb = function () {
                        return 2 === r.api;
                    }),
                    (this.Eb = function (e, t) {
                        var n = (e.start(), r.hb[e.part.dayIndex].start),
                            i = Math.floor(t / r.cellHeight),
                            a = i * r.cellDuration,
                            o = 60 * a * 1e3,
                            s = 60 * r.nb() * 60 * 1e3;
                        return n.addTime(o + s);
                    }),
                    (this.Fb = function (e, t) {
                        var n = Math.floor(t / r.cellHeight),
                            i = n * r.cellDuration,
                            a = 60 * i * 1e3,
                            o = 60 * r.nb() * 60 * 1e3;
                        return r.hb[e.part.dayIndex].start.addTime(a + o);
                    }),
                    (this.Gb = function (e, t, n, i) {
                        if ("Disabled" !== this.eventResizeHandling) {
                            var a, o;
                            if (
                                ("top" === i
                                    ? ((a = r.Eb(e, n)), (o = e.end()))
                                    : "bottom" === i &&
                                      ((a = e.start()), (o = r.Fb(e, n + t))),
                                r.fb())
                            ) {
                                var s = {},
                                    l = function () {
                                        if (
                                            ((s.loaded = function () {}),
                                            r.Hb(),
                                            !s.preventDefault.value)
                                        ) {
                                            switch (r.eventResizeHandling) {
                                                case "PostBack":
                                                    r.eventResizePostBack(
                                                        e,
                                                        a,
                                                        o
                                                    );
                                                    break;
                                                case "CallBack":
                                                    r.eventResizeCallBack(
                                                        e,
                                                        a,
                                                        o
                                                    );
                                                    break;
                                                case "Notify":
                                                    r.eventResizeNotify(
                                                        e,
                                                        a,
                                                        o
                                                    );
                                                    break;
                                                case "Update":
                                                    e.start(a),
                                                        e.end(o),
                                                        r.events.update(e);
                                            }
                                            "function" ==
                                                typeof r.onEventResized &&
                                                r.onEventResized(s);
                                        }
                                    };
                                if (
                                    ((s.e = e),
                                    (s.control = r),
                                    (s.newStart = a),
                                    (s.newEnd = o),
                                    (s.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    (s.async = !1),
                                    (s.hideShadow = function () {
                                        r.Hb();
                                    }),
                                    (s.loaded = function () {
                                        l();
                                    }),
                                    "function" == typeof r.onEventResize &&
                                        (r.onEventResize(s),
                                        s.preventDefault.value))
                                )
                                    return void r.Hb();
                                s.async || l();
                            } else
                                switch ((r.Hb(), r.eventResizeHandling)) {
                                    case "PostBack":
                                        r.eventResizePostBack(e, a, o);
                                        break;
                                    case "CallBack":
                                        r.eventResizeCallBack(e, a, o);
                                        break;
                                    case "JavaScript":
                                        r.onEventResize(e, a, o);
                                        break;
                                    case "Notify":
                                        r.eventResizeNotify(e, a, o);
                                }
                        }
                    }),
                    (this.eventResizeNotify = function (e, t, n, i) {
                        var a = new DayPilot.Event(e.copy(), this);
                        e.start(t),
                            e.end(n),
                            e.commit(),
                            r.update(),
                            this.Ib("Notify", a, t, n, i);
                    }),
                    (this.Ib = function (e, t, n, i, a) {
                        var r = {};
                        (r.e = t),
                            (r.newStart = n),
                            (r.newEnd = i),
                            this.Cb(e, "EventResize", r, a);
                    }),
                    (this.eventMovePostBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e),
                            (r.newStart = t),
                            (r.newEnd = n),
                            (r.newResource = i),
                            this.ha("EventMove", a, r);
                    }),
                    (this.eventMoveCallBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e),
                            (r.newStart = t),
                            (r.newEnd = n),
                            (r.newResource = i),
                            this.ja("EventMove", r, a);
                    }),
                    (this.Jb = function (e, t, n) {
                        var i = 0,
                            a = Math.floor((n - i) / r.cellHeight),
                            o = r.cellDuration,
                            s = a * o * 60 * 1e3,
                            l = e.start(),
                            d = e.end(),
                            c = new Date();
                        l instanceof DayPilot.Date && (l = l.toDate()),
                            c.setTime(
                                Date.UTC(
                                    l.getUTCFullYear(),
                                    l.getUTCMonth(),
                                    l.getUTCDate()
                                )
                            );
                        var u =
                                "Never" !== r.useEventBoxes
                                    ? l.getTime() -
                                      (c.getTime() +
                                          3600 * l.getUTCHours() * 1e3 +
                                          Math.floor(l.getUTCMinutes() / o) *
                                              o *
                                              60 *
                                              1e3)
                                    : 0,
                            h = d.getTime() - l.getTime(),
                            f = 3600 * r.nb() * 1e3;
                        "undefined" == typeof t && (t = e.part.dayIndex);
                        var v = this.hb[t],
                            p = v.start.getTime(),
                            m = new Date();
                        m.setTime(p + s + u + f);
                        var g = new DayPilot.Date(m);
                        return { start: g, end: g.addTime(h), resource: v.id };
                    }),
                    (this.Kb = function (e, t, n, i, a) {
                        if ("Disabled" !== r.eventMoveHandling) {
                            var o = r.Jb(e, t, n),
                                s = o.start,
                                l = o.end,
                                d = o.resource,
                                c = !!a;
                            if (r.fb()) {
                                var u = {},
                                    h = function () {
                                        if (
                                            ((u.loaded = function () {}),
                                            r.Lb(),
                                            !u.preventDefault.value)
                                        ) {
                                            switch (r.eventMoveHandling) {
                                                case "PostBack":
                                                    r.eventMovePostBack(
                                                        e,
                                                        s,
                                                        l,
                                                        d
                                                    );
                                                    break;
                                                case "CallBack":
                                                    r.eventMoveCallBack(
                                                        e,
                                                        s,
                                                        l,
                                                        d
                                                    );
                                                    break;
                                                case "Notify":
                                                    r.eventMoveNotify(
                                                        e,
                                                        s,
                                                        l,
                                                        d
                                                    );
                                                    break;
                                                case "Update":
                                                    e.start(s),
                                                        e.end(l),
                                                        e.resource(d),
                                                        c
                                                            ? (e.commit(),
                                                              r.events.add(e))
                                                            : r.events.update(
                                                                  e
                                                              ),
                                                        r.Mb();
                                            }
                                            "function" ==
                                                typeof r.onEventMoved &&
                                                r.onEventMoved(u);
                                        }
                                    };
                                if (
                                    ((u.e = e),
                                    (u.control = r),
                                    (u.newStart = o.start),
                                    (u.newEnd = o.end),
                                    (u.newResource = o.resource),
                                    (u.external = c),
                                    (u.areaData =
                                        DayPilot.Global.movingAreaData),
                                    (u.ctrl = !1),
                                    i && (u.ctrl = i.ctrlKey),
                                    (u.shift = !1),
                                    i && (u.shift = i.shiftKey),
                                    (u.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    (u.async = !1),
                                    (u.hideShadow = function () {
                                        r.Lb();
                                    }),
                                    (u.loaded = function () {
                                        h();
                                    }),
                                    "function" == typeof r.onEventMove &&
                                        (r.onEventMove(u),
                                        u.preventDefault.value))
                                )
                                    return void r.Lb();
                                u.async || h();
                            } else
                                switch ((r.Lb(), r.eventMoveHandling)) {
                                    case "PostBack":
                                        r.eventMovePostBack(e, s, l, d);
                                        break;
                                    case "CallBack":
                                        r.eventMoveCallBack(e, s, l, d);
                                        break;
                                    case "JavaScript":
                                        r.onEventMove(
                                            e,
                                            s,
                                            l,
                                            d,
                                            c,
                                            !!i && i.ctrlKey,
                                            !!i && i.shiftKey
                                        );
                                        break;
                                    case "Notify":
                                        r.eventMoveNotify(e, s, l, d, null);
                                }
                        }
                    }),
                    (this.eventMoveNotify = function (e, t, n, i, a) {
                        var o = new DayPilot.Event(e.copy(), this);
                        e.start(t),
                            e.end(n),
                            e.resource(i),
                            e.commit(),
                            r.update(),
                            this.Nb("Notify", o, t, n, i, a);
                    }),
                    (this.Nb = function (e, t, n, i, a, r) {
                        var o = {};
                        (o.e = t),
                            (o.newStart = n),
                            (o.newEnd = i),
                            (o.newResource = a),
                            this.Cb(e, "EventMove", o, r);
                    }),
                    (this.Mb = function () {
                        if (r.todo && r.todo.del) {
                            var e = r.todo.del;
                            e.parentNode.removeChild(e), (r.todo.del = null);
                        }
                    }),
                    (this.Ob = function (e, t) {
                        var n = r.Pb(t),
                            i = {};
                        (i.args = e), (i.guid = n), r.ja("Bubble", i);
                    }),
                    (this.Pb = function (e) {
                        var t = DayPilot.guid();
                        return (
                            this.bubbles || (this.bubbles = []),
                            (this.bubbles[t] = e),
                            t
                        );
                    }),
                    (this.eventMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e),
                            (i.command = t),
                            this.ha("EventMenuClick", n, i);
                    }),
                    (this.eventMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e),
                            (i.command = t),
                            this.ja("EventMenuClick", i, n);
                    }),
                    (this.Qb = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                r.eventMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                r.eventMenuClickCallBack(t, e);
                        }
                    }),
                    (this.timeRangeMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e),
                            (i.command = t),
                            this.ha("TimeRangeMenuClick", n, i);
                    }),
                    (this.timeRangeMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e),
                            (i.command = t),
                            this.ja("TimeRangeMenuClick", i, n);
                    }),
                    (this.Rb = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                r.timeRangeMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                r.timeRangeMenuClickCallBack(t, e);
                        }
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ha("TimeRangeSelected", i, a);
                    }),
                    (this.timeRangeSelectedCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ja("TimeRangeSelected", a, i);
                    }),
                    (this.Sb = function (e, t, n) {
                        (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
                        var i = n;
                        if (r.fb()) {
                            var a = {};
                            if (
                                ((a.start = e),
                                (a.end = t),
                                (a.resource = i),
                                (a.control = r),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (a.toJSON = function () {
                                    return DayPilot.Util.copyProps(a, {}, [
                                        "start",
                                        "end",
                                        "resource",
                                    ]);
                                }),
                                "function" == typeof r.onTimeRangeSelect &&
                                    (r.onTimeRangeSelect(a),
                                    a.preventDefault.value))
                            )
                                return;
                            switch (r.timeRangeSelectedHandling) {
                                case "PostBack":
                                    r.timeRangeSelectedPostBack(e, t, i);
                                    break;
                                case "CallBack":
                                    r.timeRangeSelectedCallBack(e, t, i);
                            }
                            "function" == typeof r.onTimeRangeSelected &&
                                r.onTimeRangeSelected(a);
                        } else
                            switch (r.timeRangeSelectedHandling) {
                                case "PostBack":
                                    r.timeRangeSelectedPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    r.timeRangeSelectedCallBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    r.onTimeRangeSelected(e, t, n);
                            }
                    }),
                    (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ha("TimeRangeDoubleClick", i, a);
                    }),
                    (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ja("TimeRangeDoubleClick", a, i);
                    }),
                    (this.Tb = function (e, t, n) {
                        if (r.fb()) {
                            var i = n,
                                a = {};
                            if (
                                ((a.start = e),
                                (a.end = t),
                                (a.resource = i),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onTimeRangeDoubleClick &&
                                    (r.onTimeRangeDoubleClick(a),
                                    a.preventDefault.value))
                            )
                                return;
                            switch (r.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    r.timeRangeDoubleClickPostBack(e, t, i);
                                    break;
                                case "CallBack":
                                    r.timeRangeDoubleClickCallBack(e, t, i);
                            }
                            "function" == typeof r.onTimeRangeDoubleClicked &&
                                r.onTimeRangeDoubleClicked(a);
                        } else
                            switch (r.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    r.timeRangeDoubleClickPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    r.timeRangeDoubleClickCallBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    r.onTimeRangeDoubleClick(e, t, n);
                            }
                    }),
                    (this.eventEditPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.ha("EventEdit", n, i);
                    }),
                    (this.eventEditCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.ja("EventEdit", i, n);
                    }),
                    (this.Ub = function (e, t) {
                        if (r.fb()) {
                            var n = {};
                            if (
                                ((n.control = r),
                                (n.e = e),
                                (n.newText = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onEventEdit &&
                                    (r.onEventEdit(n), n.preventDefault.value))
                            )
                                return;
                            switch (r.eventEditHandling) {
                                case "PostBack":
                                    r.eventEditPostBack(e, n.newText);
                                    break;
                                case "CallBack":
                                    r.eventEditCallBack(e, n.newText);
                                    break;
                                case "Update":
                                    e.text(n.newText), r.events.update(e);
                            }
                            if (
                                "function" == typeof r.onEventEdited &&
                                (r.onEventEdited(n), n.preventDefault.value)
                            )
                                return;
                        } else
                            switch (r.eventEditHandling) {
                                case "PostBack":
                                    r.eventEditPostBack(e, t);
                                    break;
                                case "CallBack":
                                    r.eventEditCallBack(e, t);
                                    break;
                                case "JavaScript":
                                    r.onEventEdit(e, t);
                            }
                    }),
                    (this.eventSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.ha("EventSelect", n, i);
                    }),
                    (this.eventSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.ja("EventSelect", i, n);
                    }),
                    (this.Vb = function (e, t, n, i) {
                        var a = r.multiselect,
                            o = a.isSelected(t);
                        if (n || i || !o || 1 !== a.Wb.length)
                            if (r.fb()) {
                                a.previous = a.events();
                                var s = {};
                                if (
                                    ((s.e = t),
                                    (s.selected = a.isSelected(t)),
                                    (s.ctrl = n),
                                    (s.meta = i),
                                    (s.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof r.onEventSelect &&
                                        (r.onEventSelect(s),
                                        s.preventDefault.value))
                                )
                                    return;
                                switch (r.eventSelectHandling) {
                                    case "PostBack":
                                        r.eventSelectPostBack(t, l);
                                        break;
                                    case "CallBack":
                                        "undefined" !=
                                            typeof WebForm_InitCallback &&
                                            ((window.Xb = ""),
                                            (window.Yb = []),
                                            WebForm_InitCallback()),
                                            r.eventSelectCallBack(t, l);
                                        break;
                                    case "Update":
                                        a.Zb(e, n);
                                }
                                "function" == typeof r.onEventSelected &&
                                    ((s.change = a.isSelected(t)
                                        ? "selected"
                                        : "deselected"),
                                    (s.selected = a.isSelected(t)),
                                    r.onEventSelected(s));
                            } else {
                                (a.previous = a.events()), a.Zb(e, n);
                                var l = a.isSelected(t)
                                    ? "selected"
                                    : "deselected";
                                switch (r.eventSelectHandling) {
                                    case "PostBack":
                                        r.eventSelectPostBack(t, l);
                                        break;
                                    case "CallBack":
                                        "undefined" !=
                                            typeof WebForm_InitCallback &&
                                            ((window.Xb = ""),
                                            (window.Yb = []),
                                            WebForm_InitCallback()),
                                            r.eventSelectCallBack(t, l);
                                        break;
                                    case "JavaScript":
                                        r.onEventSelect(t, l);
                                }
                            }
                    }),
                    (this.commandCallBack = function (e, t) {
                        this.qa();
                        var n = {};
                        (n.command = e), this.ja("Command", n, t);
                    }),
                    (this.$b = function (e) {
                        if (
                            !o.active &&
                            !o.using &&
                            (clearTimeout(t.selectedTimeout),
                            !DayPilot.Global.selecting)
                        ) {
                            if (t.editing) return void t.editing.blur();
                            if (
                                r.selectedCells &&
                                "Disabled" !== r.timeRangeDoubleClickHandling
                            )
                                for (var n = 0; n < r.selectedCells.length; n++)
                                    if (this === r.selectedCells[n]) return;
                            if ("Disabled" !== r.timeRangeSelectedHandling) {
                                if (DayPilot.Util.mouseButton(e).left) {
                                    var i = r._b(r.coords.x, !0);
                                    (t.firstMousePos = r.coords),
                                        (t.firstMousePos.calendar = r),
                                        r.clearSelection(),
                                        (t.topSelectedCell = this),
                                        (t.bottomSelectedCell = this),
                                        (t.column = i),
                                        r.selectedCells.push(this),
                                        (t.firstSelected = this),
                                        (DayPilot.Global.selecting = {
                                            calendar: r,
                                        }),
                                        r.bc();
                                }
                            }
                        }
                    }),
                    (this.bc = function () {
                        this.getSelection() &&
                            r.selectedCells &&
                            !(function () {
                                var e = t.topSelectedCell,
                                    n = t.bottomSelectedCell,
                                    i = (function () {
                                        if (e.data) return e.data.x;
                                        for (
                                            var t = e.parentNode.cells, n = 0;
                                            n < t.length;
                                            n++
                                        )
                                            if (t[n] === e) return n;
                                        return -1;
                                    })(),
                                    a = r.timeRangeSelectingStartEndFormat;
                                "Auto" === a &&
                                    (a =
                                        "Clock24Hours" === s.timeFormat()
                                            ? "H:mm"
                                            : "h:mm tt");
                                var o = r.hb[i];
                                if (o) {
                                    var l = {};
                                    (l.start = e.start),
                                        (l.end = n.end),
                                        (l.duration = new DayPilot.Duration(
                                            l.start,
                                            l.end
                                        )),
                                        (l.resource = o.id),
                                        (l.allowed = !0),
                                        (l.html = null),
                                        (l.cssClass = null),
                                        (l.top = {}),
                                        (l.top.width = null),
                                        (l.top.space = 5),
                                        (l.top.html = l.start.toString(
                                            a,
                                            s.locale()
                                        )),
                                        (l.top.enabled =
                                            r.timeRangeSelectingStartEndEnabled),
                                        (l.bottom = {}),
                                        (l.bottom.width = null),
                                        (l.bottom.space = 5),
                                        (l.bottom.html = l.end.toString(
                                            a,
                                            s.locale()
                                        )),
                                        (l.bottom.enabled =
                                            r.timeRangeSelectingStartEndEnabled);
                                    var d =
                                        DayPilot.Global.selecting &&
                                        DayPilot.Global.selecting.args;
                                    if (
                                        !d ||
                                        d.start !== l.start ||
                                        d.end !== l.end ||
                                        d.resource != l.resource
                                    ) {
                                        if (!r.allowEventOverlap) {
                                            var c = {
                                                id: null,
                                                start: l.start,
                                                end: l.end,
                                                resource: l.resource,
                                            };
                                            r.events.cc(c) && (l.allowed = !1);
                                        }
                                        r.dc(l.start, l.end, l.resource) &&
                                            (l.allowed = !1),
                                            "function" ==
                                                typeof r.onTimeRangeSelecting &&
                                                l.allowed &&
                                                r.onTimeRangeSelecting(l),
                                            DayPilot.Global.selecting &&
                                                (DayPilot.Global.selecting.args =
                                                    l);
                                        var u =
                                                r.ec(e.start, o.start).boxTop -
                                                r.fc(),
                                            h =
                                                r.ec(n.end, o.start).boxBottom -
                                                r.fc(),
                                            f = h - u,
                                            v = (function () {
                                                if (r.nav.activeSelection)
                                                    return r.nav
                                                        .activeSelection;
                                                var e =
                                                    document.createElement(
                                                        "div"
                                                    );
                                                e.setAttribute(
                                                    "unselectable",
                                                    "on"
                                                ),
                                                    (e.style.zIndex = r.M),
                                                    (e.style.position =
                                                        "absolute"),
                                                    (e.style.left = "0px"),
                                                    (e.style.width = "100%"),
                                                    (e.ondblclick = function (
                                                        e
                                                    ) {
                                                        if (
                                                            "Disabled" !==
                                                            r.timeRangeDoubleClickHandling
                                                        ) {
                                                            clearTimeout(r.gc);
                                                            var t =
                                                                r.getSelection();
                                                            t &&
                                                                r.Tb(
                                                                    t.start,
                                                                    t.end,
                                                                    t.resource
                                                                );
                                                        }
                                                    });
                                                var t =
                                                    document.createElement(
                                                        "div"
                                                    );
                                                return (
                                                    t.setAttribute(
                                                        "unselectable",
                                                        "on"
                                                    ),
                                                    (t.className =
                                                        r.H("_shadow_inner")),
                                                    e.appendChild(t),
                                                    r.nav.events.rows[0].cells[
                                                        i
                                                    ].selection.appendChild(e),
                                                    r.elements.selection.push(
                                                        e
                                                    ),
                                                    (r.nav.activeSelection = e),
                                                    e
                                                );
                                            })();
                                        (v.className = r.H("_shadow")),
                                            (v.firstChild.innerHTML = ""),
                                            (v.style.top = u + "px"),
                                            (v.style.height = f + "px");
                                        var p = v.firstChild;
                                        l.html && (p.innerHTML = l.html),
                                            l.cssClass &&
                                                DayPilot.Util.addClass(
                                                    v,
                                                    l.cssClass
                                                ),
                                            l.allowed ||
                                                DayPilot.Util.addClass(
                                                    v,
                                                    r.H("_shadow_forbidden")
                                                ),
                                            r.hc(v, i, l);
                                    }
                                }
                            })();
                    }),
                    (this.Lb = function () {
                        r.ic(t.movingShadow), (t.movingShadow = null);
                    }),
                    (this.Hb = function () {
                        r.ic(t.resizingShadow), (t.resizingShadow = null);
                    }),
                    (this.ic = function (e) {
                        DayPilot.de(e),
                            DayPilot.de(r.nav.indicatorTop),
                            DayPilot.de(r.nav.indicatorBottom);
                    }),
                    (this.hc = function (e, t, n) {
                        var i = r.nav.events.rows[0].cells,
                            a = i[t].events,
                            o = t === i.length - 1;
                        if (
                            (DayPilot.de(r.nav.indicatorTop),
                            DayPilot.de(r.nav.indicatorBottom),
                            n.top.enabled)
                        ) {
                            var s = document.createElement("div");
                            (s.style.zIndex = r.M),
                                (s.style.position = "absolute"),
                                (s.style.top = e.offsetTop + "px"),
                                o
                                    ? (s.style.right = "0px")
                                    : (s.style.left =
                                          e.offsetWidth + n.top.space + "px"),
                                n.top.width
                                    ? (s.style.width = n.top.width + "px")
                                    : (s.style.whiteSpace = "nowrap"),
                                n.top.html && (s.innerHTML = n.top.html),
                                (s.className = r.H("_shadow_top")),
                                a.appendChild(s),
                                r.elements.selection.push(s),
                                (r.nav.indicatorTop = s);
                        }
                        if (n.bottom.enabled) {
                            var l = document.createElement("div");
                            (l.style.zIndex = r.M),
                                (l.style.position = "absolute"),
                                (l.style.top =
                                    e.offsetTop + e.offsetHeight + "px"),
                                o
                                    ? (l.style.right = "0px")
                                    : (l.style.left =
                                          e.offsetWidth +
                                          n.bottom.space +
                                          "px"),
                                n.bottom.width
                                    ? (l.style.width = n.bottom.width + "px")
                                    : (l.style.whiteSpace = "nowrap"),
                                n.bottom.html && (l.innerHTML = n.bottom.html),
                                (l.className = r.H("_shadow_bottom")),
                                a.appendChild(l);
                            var d = l.offsetHeight;
                            (l.style.top =
                                e.offsetTop + e.offsetHeight - d + "px"),
                                r.elements.selection.push(l),
                                (r.nav.indicatorBottom = l);
                        }
                    }),
                    (this.jc = function (e) {
                        "undefined" != typeof DayPilot.Bubble &&
                            r.cellBubble &&
                            r.cellBubble.hideOnMouseOut();
                    }),
                    (this.kc = function (e) {
                        if (
                            "undefined" != typeof t &&
                            !o.active &&
                            !o.using &&
                            "undefined" != typeof DayPilot.Bubble &&
                            r.cellBubble
                        ) {
                            var n = t.getColumn(this),
                                i = r.hb[n].id,
                                a = {};
                            (a.calendar = r),
                                (a.start = this.start),
                                (a.end = this.end),
                                (a.resource = i),
                                (a.toJSON = function () {
                                    var e = {};
                                    return (
                                        (e.start = this.start),
                                        (e.end = this.end),
                                        (e.resource = this.resource),
                                        e
                                    );
                                }),
                                r.cellBubble.showCell(a, this);
                        }
                    }),
                    (this.getSelection = function () {
                        if (!t.topSelectedCell) return null;
                        if (!t.bottomSelectedCell) return null;
                        var e = t.topSelectedCell.start,
                            n = t.bottomSelectedCell.end,
                            i = t.topSelectedCell.resource;
                        return new DayPilot.Selection(e, n, i, r);
                    }),
                    (this.lc = function (e) {}),
                    (this.nc = function (e) {
                        if ("Fixed" === r.columnWidthSpec || r.N) {
                            if (!r.nav.bottomLeft) return;
                            (r.nav.bottomLeft.scrollTop =
                                r.nav.bottomRight.scrollTop),
                                r.nav.upperRight &&
                                    (r.nav.upperRight.scrollLeft =
                                        r.nav.bottomRight.scrollLeft),
                                (r.nav.scrollLayer.scrollLeft =
                                    r.nav.bottomRight.scrollLeft);
                        }
                        var t = r.Z();
                        (r.scrollPos = t.scrollTop),
                            (r.oc = t.clientHeight),
                            (r.nav.scrollpos.value = r.scrollPos),
                            r.db(),
                            r.da(),
                            "Progressive" === r.dynamicEventRendering &&
                                (clearTimeout(r.pc),
                                0 === r.scrollDelayEvents
                                    ? r.qc()
                                    : (r.pc = setTimeout(function () {
                                          r.qc();
                                      }, r.scrollDelayEvents))),
                            "Fixed" === r.columnWidthSpec &&
                                (clearTimeout(r.rc),
                                0 === r.scrollDelayCells
                                    ? r.sc()
                                    : (r.rc = setTimeout(function () {
                                          r.sc();
                                      }, r.scrollDelayCells)));
                    }),
                    (this.db = function () {
                        if (this.scrollLabelsVisible && this.tc) {
                            if (
                                this.nav &&
                                this.nav.main &&
                                this.nav.main.rows &&
                                this.nav.main.rows.length > 0 &&
                                this.nav.main.rows[0].cells.length > 0
                            ) {
                                for (
                                    var e =
                                            (this.hb,
                                            this.showHours
                                                ? this.hourWidth
                                                : 0),
                                        t =
                                            this.nav.main.rows[0].cells[0]
                                                .clientWidth,
                                        n = 1,
                                        i = 0;
                                    i < this.nav.scrollUp.length;
                                    i++
                                ) {
                                    var a = this.nav.scrollUp[i],
                                        o = this.nav.scrollDown[i],
                                        s = Math.floor(
                                            e + i * t + t / 2 - 5 + n
                                        );
                                    s < 0 && (s = 0),
                                        (s -= r.nav.bottomRight.scrollLeft),
                                        a &&
                                            a.style &&
                                            (a.style.left = s + "px"),
                                        o &&
                                            o.style &&
                                            (o.style.left = s + "px");
                                }
                                for (
                                    var l = this.fc(), i = 0;
                                    i < this.nav.scrollUp.length;
                                    i++
                                ) {
                                    var d = this.nav.scrollUp[i],
                                        c = this.nav.scrollDown[i],
                                        u = this.tc[i].minEnd - l,
                                        h = this.tc[i].maxStart - l;
                                    d &&
                                        c &&
                                        (u <= r.scrollPos &&
                                        parseInt(d.style.left) >= r.hourWidth
                                            ? ((d.style.top = this.ob() + "px"),
                                              (d.style.display = ""))
                                            : (d.style.display = "none"),
                                        h >= r.scrollPos + r.oc &&
                                        parseInt(c.style.left) >= r.hourWidth
                                            ? ((c.style.top =
                                                  this.ob() +
                                                  this.oc -
                                                  10 +
                                                  "px"),
                                              (c.style.display = ""))
                                            : (c.style.display = "none"));
                                }
                            }
                        }
                    }),
                    (this.uc = function (e) {
                        var t = e.parentNode,
                            n = 0,
                            i = e.offsetTop,
                            a = e.parentNode.offsetWidth,
                            r = e.offsetHeight;
                        e.event.allday() &&
                            ((n = e.offsetLeft), (a = e.offsetWidth));
                        var o = document.createElement("textarea");
                        (o.style.boxSizing = "border-box"),
                            (o.style.position = "absolute"),
                            (o.style.width = a + "px"),
                            (o.style.height = r + "px");
                        var s = DayPilot.gs(e, "fontFamily");
                        s || (s = DayPilot.gs(e, "font-family")),
                            (o.style.fontFamily = s);
                        var l = DayPilot.gs(e, "fontSize");
                        return (
                            l || (l = DayPilot.gs(e, "font-size")),
                            (o.style.fontSize = l),
                            (o.style.left = n + "px"),
                            (o.style.top = i + "px"),
                            (o.style.border = "1px solid black"),
                            (o.style.padding = "0px"),
                            (o.style.marginTop = "0px"),
                            (o.style.backgroundColor = "white"),
                            (o.value = (e.event.text() || "").trim()),
                            (o.event = e.event),
                            t.appendChild(o),
                            o
                        );
                    }),
                    (this.ub = function (e, t, n, i) {
                        r.Vb(e, t, n, i);
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.La = []),
                    (this.multiselect.Wb = []),
                    (this.multiselect.vc = []),
                    (this.multiselect.wc = []),
                    (this.multiselect.xc = function () {
                        var e = r.multiselect;
                        return JSON.stringify(e.events());
                    }),
                    (this.multiselect.events = function () {
                        var e = r.multiselect,
                            t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.Wb.length; n++) t.push(e.Wb[n]);
                        return t;
                    }),
                    (this.multiselect.yc = function () {
                        r.nav.select.value = r.multiselect.xc();
                    }),
                    (this.multiselect.Zb = function (e, t) {
                        var n = r.multiselect;
                        if (n.isSelected(e.event))
                            if (r.allowMultiSelect)
                                if (t) n.remove(e.event, !0);
                                else {
                                    var i = n.Wb.length;
                                    n.clear(!0), i > 1 && n.add(e.event, !0);
                                }
                            else n.clear(!0);
                        else
                            r.allowMultiSelect && t
                                ? n.add(e.event, !0)
                                : (n.clear(!0), n.add(e.event, !0));
                        n.redraw(), n.yc();
                    }),
                    (this.multiselect.zc = function (e) {
                        var t = r.multiselect;
                        return t.Ac(e, t.La);
                    }),
                    (this.multiselect.Bc = function () {
                        for (
                            var e = r.multiselect, t = [], n = 0;
                            n < e.Wb.length;
                            n++
                        ) {
                            var i = e.Wb[n];
                            t.push(i.value());
                        }
                        alert(t.join("\n"));
                    }),
                    (this.multiselect.add = function (e, t) {
                        var n = r.multiselect;
                        n.Cc(e) === -1 && n.Wb.push(e), n.yc(), t || n.redraw();
                    }),
                    (this.multiselect.remove = function (e, t) {
                        var n = r.multiselect,
                            i = n.Cc(e);
                        i !== -1 && n.Wb.splice(i, 1), n.yc(), t || n.redraw();
                    }),
                    (this.multiselect.clear = function (e) {
                        var t = r.multiselect;
                        (t.Wb = []), t.yc(), e || t.redraw();
                    }),
                    (this.multiselect.redraw = function () {
                        for (
                            var e = r.multiselect, t = 0;
                            t < r.elements.events.length;
                            t++
                        ) {
                            var n = r.elements.events[t];
                            e.isSelected(n.event) ? e.Dc(n) : e.Ec(n);
                        }
                    }),
                    (this.multiselect.Dc = function (e) {
                        var t = r.multiselect,
                            n = r.H("_selected"),
                            i = t.Fc(e);
                        DayPilot.Util.addClass(i, n), t.vc.push(e);
                    }),
                    (this.multiselect.Fc = function (e) {
                        return e;
                    }),
                    (this.multiselect.Gc = function () {
                        for (
                            var e = r.multiselect, t = 0;
                            t < e.vc.length;
                            t++
                        ) {
                            var n = e.vc[t];
                            e.Ec(n, !0);
                        }
                        e.vc = [];
                    }),
                    (this.multiselect.Ec = function (e, t) {
                        var n = r.multiselect,
                            i = r.H("_selected"),
                            a = n.Fc(e);
                        if ((DayPilot.Util.removeClass(a, i), !t)) {
                            var o = DayPilot.indexOf(n.vc, e);
                            o !== -1 && n.vc.splice(o, 1);
                        }
                    }),
                    (this.multiselect.isSelected = function (e) {
                        return r.multiselect.Ac(e, r.multiselect.Wb);
                    }),
                    (this.multiselect.Cc = function (e) {
                        for (
                            var t = e.data, n = 0;
                            n < r.multiselect.Wb.length;
                            n++
                        ) {
                            var i = r.multiselect.Wb[n];
                            if (r.Hc(i.data, t)) return n;
                        }
                        return -1;
                    }),
                    (this.multiselect.Ac = function (e, t) {
                        if (!t) return !1;
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (r.Hc(e, i)) return !0;
                        }
                        return !1;
                    }),
                    (this.tb = function (e) {
                        if (t.editing) return void t.editing.blur();
                        var n = this.uc(e);
                        (t.editing = n),
                            DayPilot.re(n, DayPilot.touch.start, function (e) {
                                e.stopPropagation();
                            }),
                            (n.onblur = function () {
                                if (e.event) {
                                    var i = e.event.text(),
                                        a = n.value;
                                    (t.editing = null),
                                        (n.onblur = null),
                                        DayPilot.de(n),
                                        i !== a &&
                                            ((e.style.display = "none"),
                                            r.Ub(e.event, a));
                                }
                            }),
                            (n.onkeypress = function (e) {
                                if (
                                    13 ===
                                    (window.event ? event.keyCode : e.keyCode)
                                )
                                    return (
                                        this.onblur(), e.preventDefault(), !1
                                    );
                            }),
                            (n.onkeyup = function (e) {
                                return (
                                    27 ===
                                        (window.event
                                            ? event.keyCode
                                            : e.keyCode) &&
                                        ((n.onblur = null),
                                        n.parentNode &&
                                            n.parentNode.removeChild(n),
                                        (t.editing = !1)),
                                    !0
                                );
                            }),
                            n.select(),
                            n.focus();
                    }),
                    (this.Ic = function () {
                        return (
                            "Resources" !== r.viewType && (!r.Ma() || !r.J())
                        );
                    }),
                    (this.Ma = function () {
                        return DayPilot.isArray(r.columns)
                            ? r.columns
                            : r.columns.list;
                    }),
                    (this.columns = {}),
                    (this.columns.list = []),
                    (this.columns.Jc = !1),
                    (this.columns.filter = function (e) {
                        (r.Kc.params = e), r.T && r.Lc();
                    }),
                    (this.columns.find = function (e, t) {
                        var n = "Resources" === r.viewType;
                        e = new DayPilot.Date(e);
                        var i = r.hb.find(function (i) {
                            var a = !n || i.id === t,
                                r = i.start.addDays(1);
                            return !!(a && i.start <= e && e < r);
                        });
                        return i ? r.xb(i, r) : null;
                    }),
                    (this.columns.load = function (e, t, n) {
                        if (!e)
                            throw new DayPilot.Exception(
                                "columns.load(): 'url' parameter required"
                            );
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var o = {};
                                    return (o.exception = e), void i(o);
                                }
                                if (DayPilot.isArray(n)) {
                                    var s = {};
                                    if (
                                        ((s.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (s.data = n),
                                        "function" == typeof t && t(s),
                                        s.preventDefault.value)
                                    )
                                        return;
                                    (r.columns.list = n), r.T && r.update();
                                }
                            };
                        r.columnsLoadMethod &&
                        "POST" === r.columnsLoadMethod.toUpperCase()
                            ? DayPilot.ajax({
                                  method: "POST",
                                  url: e,
                                  success: a,
                                  error: i,
                              })
                            : DayPilot.ajax({
                                  method: "GET",
                                  url: e,
                                  success: a,
                                  error: i,
                              });
                    }),
                    (this.Na = function () {
                        if (r.Ic()) {
                            var e = this.Mc();
                            this.hb = this.Nc(e);
                        } else
                            (this.Ga = this.Nc(this.Ma() || [])),
                                (this.hb = this.Oc(this.headerLevels, !0));
                    }),
                    (this.Pc = function () {
                        var e = this.startDate.getDatePart(),
                            t = this.days;
                        switch (this.viewType) {
                            case "Day":
                                t = 1;
                                break;
                            case "Week":
                                (t = 7), (e = e.firstDayOfWeek(s.weekStarts()));
                                break;
                            case "WorkWeek":
                                for (
                                    t = 5, e = e.firstDayOfWeek(s.weekStarts());
                                    1 !== e.dayOfWeek();

                                )
                                    e = e.addDays(1);
                        }
                        var n = e.addDays(t),
                            i = {};
                        return (i.start = e), (i.end = n), (i.days = t), i;
                    }),
                    (this.Mc = function () {
                        for (
                            var e = [],
                                t = this.Pc(),
                                n = t.start,
                                i = t.days,
                                a = 0;
                            a < i;
                            a++
                        ) {
                            var o = {};
                            o.start = n.addDays(a);
                            var l = s.locale().datePattern;
                            r.headerDateFormat && (l = r.headerDateFormat),
                                (o.name = o.start.toString(l, s.locale())),
                                (o.html = o.name),
                                e.push(o);
                        }
                        return e;
                    }),
                    (this.Kc = {}),
                    (this.Qc = function (e, t) {
                        var n = {};
                        (n.id = e.id),
                            (n.start = new DayPilot.Date(
                                e.start || r.startDate
                            ).getDatePart()),
                            (n.name = e.name),
                            (n.html = e.html || e.name),
                            (n.toolTip = e.toolTip),
                            (n.backColor = e.backColor),
                            (n.areas = e.areas),
                            (n.parent = t);
                        var i = !e.children || 0 === e.children.length;
                        if (
                            "function" == typeof r.onColumnFilter &&
                            r.Kc.params
                        )
                            if (i) {
                                var t = n.parent,
                                    a = {};
                                (a.visible = !0),
                                    (a.column = {
                                        id: e.id,
                                        name: e.name,
                                        start: e.start,
                                        data: e,
                                    }),
                                    (a.filter = r.Kc.params),
                                    (a.filterParam = a.filter),
                                    r.onColumnFilter(a),
                                    a.visible ? t && t.Rc() : (n.hidden = !0);
                            } else n.hidden = !0;
                        return (
                            (n.Rc = function () {
                                (n.hidden = !1), n.parent && n.parent.Rc();
                            }),
                            (n.getChildren = function (e, t) {
                                var n = [];
                                if (e <= 1)
                                    return this.hidden || n.push(this), n;
                                if (
                                    !this.children ||
                                    0 === this.children.length
                                )
                                    return (
                                        t
                                            ? this.hidden || n.push(this)
                                            : n.push("empty"),
                                        n
                                    );
                                for (var i = 0; i < this.children.length; i++)
                                    for (
                                        var a = this.children[i],
                                            r = a.getChildren(e - 1, t),
                                            o = 0;
                                        o < r.length;
                                        o++
                                    )
                                        n.push(r[o]);
                                return n;
                            }),
                            (n.getChildrenCount = function (e) {
                                var t = 0;
                                if (
                                    !this.children ||
                                    this.children.length <= 0 ||
                                    e <= 1
                                ) {
                                    return !this.hidden ? 1 : 0;
                                }
                                for (var n = 0; n < this.children.length; n++)
                                    t += this.children[n].getChildrenCount(
                                        e - 1
                                    );
                                return t;
                            }),
                            (n.putIntoBlock = function (e) {
                                for (var t = 0; t < this.blocks.length; t++) {
                                    var n = this.blocks[t];
                                    if (
                                        n.overlapsWith(
                                            e.part.top,
                                            e.part.height
                                        )
                                    )
                                        return (
                                            n.events.push(e),
                                            (n.min = Math.min(
                                                n.min,
                                                e.part.top
                                            )),
                                            (n.max = Math.max(
                                                n.max,
                                                e.part.top + e.part.height
                                            )),
                                            t
                                        );
                                }
                                var n = [];
                                return (
                                    (n.lines = []),
                                    (n.events = []),
                                    (n.overlapsWith = function (e, t) {
                                        return !(
                                            e + t - 1 < this.min ||
                                            e > this.max - 1
                                        );
                                    }),
                                    (n.putIntoLine = function (e) {
                                        for (
                                            var t = 0;
                                            t < this.lines.length;
                                            t++
                                        ) {
                                            var n = this.lines[t];
                                            if (
                                                n.isFree(
                                                    e.part.top,
                                                    e.part.height
                                                )
                                            )
                                                return n.push(e), t;
                                        }
                                        var n = [];
                                        return (
                                            (n.isFree = function (e, t) {
                                                for (
                                                    var n = e + t - 1,
                                                        i = this.length,
                                                        a = 0;
                                                    a < i;
                                                    a++
                                                ) {
                                                    var r = this[a];
                                                    if (
                                                        !(
                                                            n < r.part.top ||
                                                            e >
                                                                r.part.top +
                                                                    r.part
                                                                        .height -
                                                                    1
                                                        )
                                                    )
                                                        return !1;
                                                }
                                                return !0;
                                            }),
                                            n.push(e),
                                            this.lines.push(n),
                                            this.lines.length - 1
                                        );
                                    }),
                                    n.events.push(e),
                                    (n.min = e.part.top),
                                    (n.max = e.part.top + e.part.height),
                                    this.blocks.push(n),
                                    this.blocks.length - 1
                                );
                            }),
                            (n.putIntoLine = function (e) {
                                for (var t = 0; t < this.lines.length; t++) {
                                    var n = this.lines[t];
                                    if (n.isFree(e.part.top, e.part.height))
                                        return n.push(e), t;
                                }
                                var n = [];
                                return (
                                    (n.isFree = function (e, t) {
                                        for (
                                            var n = e + t - 1,
                                                i = this.length,
                                                a = 0;
                                            a < i;
                                            a++
                                        ) {
                                            var r = this[a];
                                            if (
                                                !(
                                                    n < r.part.top ||
                                                    e >
                                                        r.part.top +
                                                            r.part.height -
                                                            1
                                                )
                                            )
                                                return !1;
                                        }
                                        return !0;
                                    }),
                                    n.push(e),
                                    this.lines.push(n),
                                    this.lines.length - 1
                                );
                            }),
                            (n.visibleStart = function () {
                                return n.start.addHours(r.nb(!0));
                            }),
                            (n.visibleEnd = function () {
                                var e = r.jb(!0);
                                return n.visibleStart().addTime(e);
                            }),
                            e.children && (n.children = this.Nc(e.children, n)),
                            n
                        );
                    }),
                    (this.Nc = function (e, t) {
                        var n = DayPilot.list();
                        return (
                            DayPilot.list(e).forEach(function (e) {
                                var i = r.Qc(e, t);
                                n.push(i);
                            }),
                            n
                        );
                    }),
                    (this.Oc = function (e, t) {
                        for (
                            var n = this.Ic() ? this.hb : this.Ga,
                                i = DayPilot.list(),
                                a = 0;
                            a < n.length;
                            a++
                        )
                            for (
                                var r = n[a].getChildren(e, t), o = 0;
                                o < r.length;
                                o++
                            )
                                i.push(r[o]);
                        return i;
                    }),
                    (this.bb = function () {
                        if (this.showAllDayEvents) {
                            var e = this.nav.header;
                            if (e) {
                                e.style.display = "none";
                                for (
                                    var t = this.hb.length, n = 0;
                                    n < this.Sc.lines.length;
                                    n++
                                )
                                    for (
                                        var i = this.Sc.lines[n], a = 0;
                                        a < i.length;
                                        a++
                                    ) {
                                        var o = i[a],
                                            l = o.cache || o.data,
                                            d = document.createElement("div");
                                        (d.event = o),
                                            d.setAttribute(
                                                "unselectable",
                                                "on"
                                            ),
                                            (d.style.position = "absolute"),
                                            r.rtl
                                                ? (d.style.right =
                                                      (100 * o.part.colStart) /
                                                          t +
                                                      "%")
                                                : (d.style.left =
                                                      (100 * o.part.colStart) /
                                                          t +
                                                      "%"),
                                            (d.style.width =
                                                (100 * o.part.colWidth) / t +
                                                "%"),
                                            (d.style.height =
                                                s.allDayEventHeight() + "px"),
                                            (d.className =
                                                this.H("_alldayevent")),
                                            (d.style.top =
                                                this.headerLevels *
                                                    s.headerHeight() +
                                                n * s.allDayEventHeight() +
                                                "px"),
                                            l.cssClass &&
                                                DayPilot.Util.addClass(
                                                    d,
                                                    l.cssClass
                                                ),
                                            (d.style.textAlign = "left"),
                                            (d.style.lineHeight = "1.2"),
                                            o.client.clickEnabled() &&
                                                (d.onclick = this.rb),
                                            o.client.doubleClickEnabled() &&
                                                (d.ondblclick = this.vb),
                                            o.client.clickEnabled() ||
                                            o.client.doubleClickEnabled()
                                                ? (d.style.cursor = "pointer")
                                                : (d.style.cursor = "default"),
                                            DayPilot.re(
                                                d,
                                                "contextmenu",
                                                this.wb
                                            ),
                                            (d.onmousemove = function (e) {
                                                var t = this,
                                                    n = t.event,
                                                    i = n.cache || n.data;
                                                if (!t.active) {
                                                    var a = [];
                                                    n.client.deleteEnabled() &&
                                                        a.push({
                                                            action: "JavaScript",
                                                            v: "Hover",
                                                            w: 17,
                                                            h: 17,
                                                            top: 3,
                                                            right: 3,
                                                            css: r.H(
                                                                "_event_delete"
                                                            ),
                                                            js: function (e) {
                                                                r.Bb(e);
                                                            },
                                                        });
                                                    var o = i.areas;
                                                    o &&
                                                        o.length > 0 &&
                                                        (a = a.concat(o)),
                                                        DayPilot.Areas.showAreas(
                                                            t,
                                                            n,
                                                            null,
                                                            a
                                                        ),
                                                        DayPilot.Util.addClass(
                                                            t,
                                                            r.H(
                                                                "_alldayevent_hover"
                                                            )
                                                        );
                                                }
                                                "undefined" !=
                                                    typeof DayPilot.Bubble &&
                                                    r.bubble &&
                                                    "Disabled" !==
                                                        r.eventHoverHandling &&
                                                    r.bubble.showEvent(
                                                        this.event
                                                    );
                                            }),
                                            (d.onmouseout = function (e) {
                                                var t = this;
                                                DayPilot.Util.removeClass(
                                                    t,
                                                    r.H("_alldayevent_hover")
                                                ),
                                                    DayPilot.Areas.hideAreas(
                                                        this,
                                                        e
                                                    ),
                                                    r.bubble &&
                                                        r.bubble.hideOnMouseOut();
                                            }),
                                            this.showToolTip &&
                                                !this.bubble &&
                                                d.setAttribute(
                                                    "title",
                                                    o.client.toolTip()
                                                );
                                        var c =
                                                o.start().getTime() ===
                                                o.part.start.getTime(),
                                            u =
                                                o.end().getTime() ===
                                                o.part.end.getTime(),
                                            h = l.backColor,
                                            f = document.createElement("div");
                                        if (
                                            (f.setAttribute(
                                                "unselectable",
                                                "on"
                                            ),
                                            (f.className =
                                                this.H("_alldayevent_inner")),
                                            h && (f.style.background = h),
                                            l.fontColor &&
                                                (f.style.color = l.fontColor),
                                            "darker" === l.borderColor &&
                                            l.backColor
                                                ? (f.style.borderColor =
                                                      DayPilot.ColorUtil.darker(
                                                          l.backColor,
                                                          2
                                                      ))
                                                : (f.style.borderColor =
                                                      l.borderColor),
                                            r.rtl
                                                ? (c ||
                                                      DayPilot.Util.addClass(
                                                          d,
                                                          this.H(
                                                              "_alldayevent_continueright"
                                                          )
                                                      ),
                                                  u ||
                                                      DayPilot.Util.addClass(
                                                          d,
                                                          this.H(
                                                              "_alldayevent_continueleft"
                                                          )
                                                      ))
                                                : (c ||
                                                      DayPilot.Util.addClass(
                                                          d,
                                                          this.H(
                                                              "_alldayevent_continueleft"
                                                          )
                                                      ),
                                                  u ||
                                                      DayPilot.Util.addClass(
                                                          d,
                                                          this.H(
                                                              "_alldayevent_continueright"
                                                          )
                                                      )),
                                            d.appendChild(f),
                                            DayPilot.isArray(l.areas) &&
                                                l.areas
                                                    .filter(function (e) {
                                                        return DayPilot.Areas.isVisible(
                                                            e
                                                        );
                                                    })
                                                    .forEach(function (e) {
                                                        var t =
                                                            DayPilot.Areas.createArea(
                                                                d,
                                                                o,
                                                                e
                                                            );
                                                        d.appendChild(t);
                                                    }),
                                            r.fb())
                                        ) {
                                            if (
                                                "function" ==
                                                typeof r.onAfterEventRender
                                            ) {
                                                var v = {};
                                                (v.e = d.event),
                                                    (v.div = d),
                                                    r.onAfterEventRender(v);
                                            }
                                        } else
                                            r.afterEventRender &&
                                                r.afterEventRender(d.event, d);
                                        !(function () {
                                            var e = {};
                                            if (
                                                ((e.control = r),
                                                (e.e = o),
                                                (e.element = null),
                                                (d.domArgs = e),
                                                "function" ==
                                                    typeof r.onBeforeEventDomAdd &&
                                                    r.onBeforeEventDomAdd(e),
                                                e.element)
                                            ) {
                                                var t = f;
                                                if (t) {
                                                    e.Tc = t;
                                                    if (
                                                        DayPilot.Util.isReactComponent(
                                                            e.element
                                                        )
                                                    ) {
                                                        if (!r.ya.reactDOM)
                                                            throw new DayPilot.Exception(
                                                                "Can't reach ReactDOM"
                                                            );
                                                        r.ya.reactDOM.render(
                                                            e.element,
                                                            t
                                                        );
                                                    } else
                                                        t.appendChild(
                                                            e.element
                                                        );
                                                }
                                            } else
                                                f.innerHTML =
                                                    o.client.innerHTML();
                                        })(),
                                            this.nav.allday.appendChild(d),
                                            this.elements.events.push(d);
                                    }
                                e.style.display = "";
                            }
                        }
                    }),
                    (this.ra = function (e) {
                        if ((r.multiselect.Gc(), this.elements.events))
                            for (
                                var t = 0;
                                t < this.elements.events.length;
                                t++
                            ) {
                                var n = this.elements.events[t],
                                    i = n.event;
                                (i && e && !i.allday()) || r.Uc(n);
                            }
                        this.elements.events = [];
                    }),
                    (this.Uc = function (e) {
                        var t = e.event,
                            n = e.domArgs;
                        if (
                            ((e.domArgs = null),
                            n &&
                                "function" == typeof r.onBeforeEventDomRemove &&
                                r.onBeforeEventDomRemove(n),
                            n &&
                                "function" == typeof r.onBeforeEventDomAdd &&
                                r.ya.reactDOM)
                        ) {
                            var i = n && n.Tc;
                            if (i) {
                                if (DayPilot.Util.isReactComponent(n.element)) {
                                    if (!r.ya.reactDOM)
                                        throw new DayPilot.Exception(
                                            "Can't reach ReactDOM"
                                        );
                                    r.ya.reactDOM.unmountComponentAtNode(i);
                                }
                            }
                        }
                        if (
                            (t &&
                                ((t.div = null),
                                (t.root = null),
                                (t.rendered = !1)),
                            (e.onclick = null),
                            (e.onclickSave = null),
                            (e.ondblclick = null),
                            (e.oncontextmenu = null),
                            (e.onmouseover = null),
                            (e.onmouseout = null),
                            (e.onmousemove = null),
                            (e.onmousedown = null),
                            e.firstChild &&
                                e.firstChild.firstChild &&
                                e.firstChild.firstChild.tagName &&
                                "IMG" ===
                                    e.firstChild.firstChild.tagName.toUpperCase())
                        ) {
                            var a = e.firstChild.firstChild;
                            (a.onmousedown = null),
                                (a.onmousemove = null),
                                (a.onclick = null);
                        }
                        e !== DayPilot.Global.moving &&
                            ((e.helper = null), (e.event = null)),
                            DayPilot.de(e);
                    }),
                    (this.Vc = function (e) {
                        var t = r.ca(e.part.dayIndex),
                            n = this.Y(),
                            i = n.pixels.left,
                            a = n.pixels.right,
                            o = n.pixels.top,
                            s = n.pixels.bottom,
                            l = (e.part.width / 100) * t.width,
                            d = e.part.left + t.left,
                            c = d + l,
                            u = e.part.top - this.fc(),
                            h = u + e.part.height,
                            f = a <= d || i >= c,
                            v = s <= u || o >= h;
                        return !f && !v;
                    }),
                    (this.Wc = function (e) {
                        var t = this.nav.events,
                            n = e.cache || e.data;
                        if (!e.rendered) {
                            var i = r.multiselect.zc(e),
                                a = r.Vc(e),
                                o =
                                    "Progressive" === r.dynamicEventRendering &&
                                    "Fixed" === r.columnWidthSpec;
                            if (i || !o || a) {
                                var s = document.createElement("div");
                                s.setAttribute("unselectable", "on"),
                                    (s.style.MozUserSelect = "none"),
                                    (s.style.KhtmlUserSelect = "none"),
                                    (s.style.WebkitUserSelect = "none"),
                                    (s.style.position = "absolute"),
                                    (s.className = this.H("_event")),
                                    (s.style.left = e.part.left + "%"),
                                    (s.style.top =
                                        e.part.top - this.fc() + "px"),
                                    (s.style.width = e.part.width + "%"),
                                    (s.style.height =
                                        Math.max(e.part.height, 2) + "px"),
                                    (s.style.overflow = "hidden"),
                                    (s.isFirst =
                                        e.part.start.getTime() ===
                                        e.start().getTime()),
                                    (s.isLast =
                                        e.part.end.getTime() ===
                                        e.end().getTime()),
                                    e.client.clickEnabled() &&
                                        (s.onclick = this.rb),
                                    e.client.doubleClickEnabled() &&
                                        (s.ondblclick = this.vb),
                                    DayPilot.re(s, "contextmenu", this.wb),
                                    (s.onmousemove = this.Xc),
                                    (s.onmouseout = this.Yc),
                                    (s.onmousedown = this.Zc),
                                    DayPilot.reNonPassive(
                                        s,
                                        DayPilot.touch.start,
                                        this.$c.onEventTouchStart
                                    ),
                                    DayPilot.rePassive(
                                        s,
                                        DayPilot.touch.move,
                                        this.$c.onEventTouchMove
                                    ),
                                    DayPilot.rePassive(
                                        s,
                                        DayPilot.touch.end,
                                        this.$c.onEventTouchEnd
                                    ),
                                    n.cssClass &&
                                        DayPilot.Util.addClass(s, n.cssClass),
                                    this.showToolTip &&
                                        !this.bubble &&
                                        s.setAttribute(
                                            "title",
                                            e.client.toolTip()
                                        );
                                var l = document.createElement("div");
                                if (
                                    (l.setAttribute("unselectable", "on"),
                                    (l.className = r.H("_event_inner")),
                                    n.fontColor &&
                                        (l.style.color = n.fontColor),
                                    n.backColor &&
                                        (l.style.background = n.backColor),
                                    n.borderColor &&
                                        ("darker" === n.borderColor &&
                                        n.backColor
                                            ? (l.style.borderColor =
                                                  DayPilot.ColorUtil.darker(
                                                      n.backColor,
                                                      2
                                                  ))
                                            : (l.style.borderColor =
                                                  n.borderColor)),
                                    n.backgroundImage &&
                                        ((l.style.backgroundImage =
                                            "url(" + n.backgroundImage + ")"),
                                        n.backgroundRepeat &&
                                            (l.style.backgroundRepeat =
                                                n.backgroundRepeat)),
                                    s.appendChild(l),
                                    e.client.barVisible())
                                ) {
                                    var d = e.part.height - 2,
                                        c = (100 * e.part.barTop) / d,
                                        u = Math.ceil(
                                            (100 * e.part.barHeight) / d
                                        );
                                    "PercentComplete" ===
                                        this.durationBarMode &&
                                        ((c = 0), (u = n.complete));
                                    var h = document.createElement("div");
                                    h.setAttribute("unselectable", "on"),
                                        (h.className = this.H("_event_bar")),
                                        (h.style.position = "absolute"),
                                        n.barBackColor &&
                                            (h.style.backgroundColor =
                                                n.barBackColor);
                                    var f = document.createElement("div");
                                    f.setAttribute("unselectable", "on"),
                                        (f.className =
                                            this.H("_event_bar_inner")),
                                        (f.style.top = c + "%"),
                                        0 < u && u <= 1
                                            ? (f.style.height = "1px")
                                            : (f.style.height = u + "%"),
                                        n.barColor &&
                                            (f.style.backgroundColor =
                                                n.barColor),
                                        h.appendChild(f),
                                        s.appendChild(h);
                                }
                                var v = n.areas
                                        ? DayPilot.Areas.copy(n.areas)
                                        : [],
                                    p = r.hb[e.part.dayIndex];
                                if (
                                    (v.forEach(function (t) {
                                        t.start &&
                                            (t.top =
                                                r.ec(
                                                    new DayPilot.Date(t.start),
                                                    p.start
                                                ).top -
                                                e.part.top -
                                                r.fc()),
                                            t.end &&
                                                (t.bottom =
                                                    e.part.top +
                                                    e.part.height -
                                                    r.ec(
                                                        new DayPilot.Date(
                                                            t.end
                                                        ),
                                                        p.start
                                                    ).top -
                                                    r.fc());
                                    }),
                                    e.client.deleteEnabled() &&
                                        v.push({
                                            action: "JavaScript",
                                            v: "Hover",
                                            w: 17,
                                            h: 17,
                                            top: 2,
                                            right: 2,
                                            css: r.H("_event_delete"),
                                            js: function (e) {
                                                r.Bb(e);
                                            },
                                        }),
                                    DayPilot.Areas.attach(s, e, { areas: v }),
                                    (function () {
                                        var t = {};
                                        if (
                                            ((t.control = r),
                                            (t.e = e),
                                            (t.element = null),
                                            (s.domArgs = t),
                                            "function" ==
                                                typeof r.onBeforeEventDomAdd &&
                                                r.onBeforeEventDomAdd(t),
                                            t.element)
                                        ) {
                                            var n = l;
                                            if (n) {
                                                t.Tc = n;
                                                if (
                                                    DayPilot.Util.isReactComponent(
                                                        t.element
                                                    )
                                                ) {
                                                    if (!r.ya.reactDOM)
                                                        throw new DayPilot.Exception(
                                                            "Can't reach ReactDOM"
                                                        );
                                                    r.ya.reactDOM.render(
                                                        t.element,
                                                        n
                                                    );
                                                } else n.appendChild(t.element);
                                            }
                                        } else
                                            l.innerHTML = e.client.innerHTML();
                                    })(),
                                    t.rows[0].cells[e.part.dayIndex])
                                ) {
                                    if (
                                        (t.rows[0].cells[
                                            e.part.dayIndex
                                        ].events.appendChild(s),
                                        r._c(s),
                                        (s.event = e),
                                        r.multiselect.zc(e) &&
                                            r.multiselect.add(s.event, !0),
                                        (e.rendered = !0),
                                        r.fb())
                                    ) {
                                        if (
                                            "function" ==
                                            typeof r.onAfterEventRender
                                        ) {
                                            var m = {};
                                            (m.e = s.event),
                                                (m.div = s),
                                                r.onAfterEventRender(m);
                                        }
                                    } else
                                        r.afterEventRender &&
                                            r.afterEventRender(s.event, s);
                                    r.elements.events.push(s);
                                }
                            }
                        }
                    }),
                    (this._c = function (e) {
                        for (
                            var t = e && e.childNodes ? e.childNodes.length : 0,
                                n = 0;
                            n < t;
                            n++
                        )
                            try {
                                var i = e.childNodes[n];
                                1 === i.nodeType &&
                                    (i.setAttribute("unselectable", "on"),
                                    this._c(i));
                            } catch (e) {}
                    }),
                    (this.ab = function () {
                        for (
                            var e = new Date(), t = 0;
                            t < this.hb.length;
                            t++
                        ) {
                            var n = this.hb[t];
                            if (n.blocks)
                                for (var i = 0; i < n.blocks.length; i++)
                                    for (
                                        var a = n.blocks[i], r = 0;
                                        r < a.lines.length;
                                        r++
                                    )
                                        for (
                                            var o = a.lines[r], s = 0;
                                            s < o.length;
                                            s++
                                        ) {
                                            var l = o[s];
                                            if (
                                                ((l.part.width =
                                                    100 / a.lines.length),
                                                (l.part.left =
                                                    l.part.width * r),
                                                "Cascade" ===
                                                    this.eventArrangement)
                                            ) {
                                                var d =
                                                    r === a.lines.length - 1;
                                                d ||
                                                    (l.part.width =
                                                        1.5 * l.part.width);
                                            }
                                            "Full" === this.eventArrangement &&
                                                ((l.part.left =
                                                    l.part.left / 2),
                                                (l.part.width =
                                                    100 - l.part.left)),
                                                l.allday() || this.Wc(l);
                                        }
                        }
                        this.multiselect.redraw();
                        var c = new Date();
                        c.getTime() - e.getTime();
                    }),
                    (this.qc = function () {
                        r.elements.events.forEach(function (e) {
                            e.event && !r.Vc(e.event) && r.Uc(e);
                        }),
                            r.Q.ad.forEach(function (e) {
                                r.Wc(e);
                            }),
                            (r.elements.events = r.elements.events.filter(
                                function (e) {
                                    return !!e.event;
                                }
                            ));
                    }),
                    (this.sc = function () {
                        if (r.hb && 0 !== r.hb.length) {
                            for (var e = r.Y(), t = e.xStart; t <= e.xEnd; t++)
                                for (var n = e.yStart; n <= e.yEnd; n++)
                                    r.bd(t, n);
                            r.cd();
                        }
                    }),
                    (r.cd = function () {
                        for (
                            var e = r.Y(),
                                t = this.ba(),
                                n = r.hb.length,
                                i = 0;
                            i < n;
                            i++
                        ) {
                            var a = !0;
                            e.xStart <= i && i <= e.xEnd && (a = !1);
                            for (var o = 0; o < t; o++) {
                                var s = !0;
                                e.yStart <= o && o <= e.yEnd && (s = !1);
                                var l = r.elements.cells[i + "_" + o];
                                l &&
                                    (s || a) &&
                                    (l.remove(),
                                    (r.elements.cells[i + "_" + o] = null));
                            }
                        }
                    }),
                    (this.dd = function () {
                        this.multiselect.Wb = [];
                        for (var e = 0; e < this.hb.length; e++)
                            for (
                                var t = this.hb[e], n = 0;
                                n < t.lines.length;
                                n++
                            )
                                for (
                                    var i = t.lines[n], a = 0;
                                    a < i.length;
                                    a++
                                ) {
                                    var r = i[a];
                                    (r.part.width = 100 / t.lines.length),
                                        (r.part.left = r.Width * n),
                                        r.allday() || this.Wc(r);
                                }
                    }),
                    (this.H = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.ed = function () {
                        switch (r.V) {
                            case "aspnet":
                                if (!this.oa())
                                    throw new DayPilot.Exception(
                                        "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                                    );
                                break;
                            case "netmvc":
                                if (!this.backendUrl)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                                    );
                                break;
                            case "javaxx":
                                if (!this.backendUrl)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                                    );
                        }
                    }),
                    (this._a = function () {
                        "hidden" === this.nav.top.style.visibility &&
                            (this.nav.top.style.visibility = "visible");
                    }),
                    (this.fd = function () {
                        var e = this.ob() + this.gd();
                        return (
                            r.debug.message(
                                "Getting totalHeight, headerHeight: " +
                                    this.ob() +
                                    " scrollable: " +
                                    this.gd()
                            ),
                            e < 0 ? 0 : e
                        );
                    }),
                    (this.xa = function () {
                        r.Ca();
                    }),
                    (this.hd = function () {
                        if (
                            ((this.nav.top.dp = this),
                            (this.nav.top.innerHTML = ""),
                            (this.nav.top.style.MozUserSelect = "none"),
                            (this.nav.top.style.KhtmlUserSelect = "none"),
                            (this.nav.top.style.WebkitUserSelect = "none"),
                            (this.nav.top.style.WebkitTapHighlightColor =
                                "rgba(0,0,0,0)"),
                            (this.nav.top.style.WebkitTouchCallout = "none"),
                            (this.nav.top.style.position = "relative"),
                            this.width &&
                                (this.nav.top.style.width = this.width),
                            this.rtl && (this.nav.top.style.direction = "rtl"),
                            "Parent100Pct" === this.heightSpec
                                ? (this.nav.top.style.height = "100%")
                                : (this.nav.top.style.height =
                                      this.fd() + "px"),
                            this.hideUntilInit &&
                                (this.nav.top.style.visibility = "hidden"),
                            this.visible ||
                                (this.nav.top.style.display = "none"),
                            this.nav.top.addEventListener("mouseleave", r.xa),
                            (this.nav.scroll = document.createElement("div")),
                            (this.nav.scroll.style.height = this.gd() + "px"),
                            DayPilot.Util.addClass(
                                this.nav.top,
                                this.H("_main")
                            ),
                            r.rtl &&
                                DayPilot.Util.addClass(
                                    this.nav.top,
                                    this.H("_direction_rtl")
                                ),
                            (this.nav.scroll.style.position = "relative"),
                            this.showHeader)
                        ) {
                            var e = this.jd();
                            this.nav.top.appendChild(e);
                        }
                        (this.nav.scroll.style.zoom = 1),
                            (this.nav.scroll.style.position = "absolute"),
                            (this.nav.scroll.style.left = "0px"),
                            (this.nav.scroll.style.right = "0px"),
                            (this.nav.scroll.style.top = this.ob() + "px"),
                            (this.nav.scroll.className = r.H("_scroll"));
                        var t = this.kd();
                        (this.nav.scrollable = t.firstChild),
                            this.nav.scroll.appendChild(t),
                            this.nav.top.appendChild(this.nav.scroll),
                            (this.nav.vsph = document.createElement("div")),
                            (this.nav.vsph.style.display = "none"),
                            this.nav.top.appendChild(this.nav.vsph),
                            (this.nav.scrollpos =
                                document.createElement("input")),
                            (this.nav.scrollpos.type = "hidden"),
                            (this.nav.scrollpos.id = r.id + "_scrollpos"),
                            (this.nav.scrollpos.name = this.nav.scrollpos.id),
                            this.nav.top.appendChild(this.nav.scrollpos),
                            (this.nav.select = document.createElement("input")),
                            (this.nav.select.type = "hidden"),
                            (this.nav.select.id = r.id + "_select"),
                            (this.nav.select.name = this.nav.select.id),
                            (this.nav.select.value = null),
                            this.nav.top.appendChild(this.nav.select),
                            (this.nav.scrollLayer =
                                document.createElement("div")),
                            (this.nav.scrollLayer.style.position = "absolute"),
                            (this.nav.scrollLayer.style.top = "0px"),
                            (this.nav.scrollLayer.style.left = "0px"),
                            this.nav.top.appendChild(this.nav.scrollLayer),
                            (this.nav.scrollUp = []),
                            (this.nav.scrollDown = []),
                            (this.nav.loading = document.createElement("div")),
                            (this.nav.loading.style.position = "absolute"),
                            (this.nav.loading.style.top = "0px"),
                            (this.nav.loading.style.left =
                                this.hourWidth + 5 + "px"),
                            (this.nav.loading.className = r.H("_loading")),
                            (this.nav.loading.innerHTML = r.ea(
                                this.loadingLabelText,
                                this.loadingLabelHtml
                            )),
                            (this.nav.loading.style.display = "none"),
                            this.nav.top.appendChild(this.nav.loading);
                    }),
                    (this.ld = function () {
                        for (
                            var e = "Fixed" === this.columnWidthSpec,
                                t =
                                    this.nav.header &&
                                    this.nav.header.rows[
                                        this.nav.header.rows.length - 1
                                    ],
                                n = this.nav.events.rows[0],
                                i = 0;
                            i < r.hb.length;
                            i++
                        ) {
                            var a = t && t.cells[i],
                                o = n.cells[i],
                                s = a && a.firstChild,
                                l = r.hb[i];
                            if (e) {
                                var d = l.width ? l.width : r.columnWidth;
                                s && (s.style.width = d + "px"),
                                    o && (o.style.width = d + "px");
                            } else
                                r.O ||
                                    (s && (s.style.width = null),
                                    o && (o.style.width = null));
                        }
                    }),
                    (this.pb = function () {
                        return this.N ? r.nav.bottomRight : r.nav.scroll;
                    }),
                    (this.Za = function () {
                        var e = "Fixed" === this.columnWidthSpec;
                        if (!e) {
                            var t = r.pb();
                            "Fixed" === this.heightSpec
                                ? (t.style.overflowY = "scroll")
                                : "BusinessHours" === this.heightSpec &&
                                  this.ib() <=
                                      this.businessEndsHour -
                                          this.businessBeginsHour
                                ? (t.style.overflow = "hidden")
                                : "Full" !== this.heightSpec &&
                                  "BusinessHoursNoScroll" !== this.heightSpec
                                ? (t.style.overflow = "auto")
                                : (t.style.overflow = "hidden");
                        }
                        if (e) {
                            var n = 0,
                                i = this.hb.length * this.columnWidth;
                            i > r.Z().clientWidth &&
                                (n = DayPilot.sw(r.nav.bottomRight)),
                                r.nav.headerParent &&
                                    (r.nav.headerParent.style.width =
                                        i + n + "px"),
                                (r.nav.main.style.width = i + "px"),
                                (r.nav.events.style.width = i + "px"),
                                (r.nav.crosshair.style.width = i + "px");
                        } else
                            r.nav.headerParent &&
                                (r.nav.headerParent.style.width = "100%"),
                                (r.nav.main.style.width = "100%"),
                                (r.nav.events.style.width = "100%"),
                                (r.nav.crosshair.style.width = "100%");
                        this.ld();
                    }),
                    (this.Wa = function () {
                        this.P ? this.sa() : DayPilot.pu(this.nav.hourTable),
                            this.nav.hoursPlaceholder &&
                                ((this.nav.hoursPlaceholder.innerHTML = ""),
                                (this.nav.hourTable = this.md()),
                                this.nav.hoursPlaceholder.appendChild(
                                    this.nav.hourTable
                                ));
                    }),
                    (this.sa = function () {
                        if (this.nav.hourTable) {
                            r.elements.timeHeaders.forEach(function (e) {
                                var t = e.domArgs;
                                if (
                                    ((e.domArgs = null),
                                    "function" ==
                                        typeof r.onBeforeTimeHeaderDomRemove &&
                                        r.onBeforeTimeHeaderDomRemove(t),
                                    "function" ==
                                        typeof r.onBeforeTimeHeaderDomAdd &&
                                        r.ya.reactDOM)
                                ) {
                                    var n = t && t.Tc;
                                    if (n) {
                                        if (
                                            DayPilot.Util.isReactComponent(
                                                t.element
                                            )
                                        ) {
                                            if (!r.ya.reactDOM)
                                                throw new DayPilot.Exception(
                                                    "Can't reach ReactDOM"
                                                );
                                            r.ya.reactDOM.unmountComponentAtNode(
                                                n
                                            );
                                        }
                                    }
                                }
                            });
                            for (
                                var e = 0;
                                e < this.nav.hourTable.rows.length;
                                e++
                            ) {
                                var t = this.nav.hourTable.rows[e],
                                    n = t.cells[0].firstChild;
                                (n.data = null),
                                    (n.onmousemove = null),
                                    (n.onmouseout = null);
                            }
                            r.elements.timeHeaders = [];
                        }
                    }),
                    (this.kd = function () {
                        var e = document.createElement("div");
                        (e.style.zoom = 1),
                            (e.style.position = "relative"),
                            (e.onmousemove = this.nd),
                            (e.oncontextmenu = this.od),
                            DayPilot.reNonPassive(
                                e,
                                DayPilot.touch.start,
                                this.$c.onMainTouchStart
                            ),
                            DayPilot.reNonPassive(
                                e,
                                DayPilot.touch.move,
                                this.$c.onMainTouchMove
                            ),
                            DayPilot.reNonPassive(
                                e,
                                DayPilot.touch.end,
                                this.$c.onMainTouchEnd
                            ),
                            DayPilot.re(e, "contextmenu", function (e) {
                                var e = e || window.event;
                                e.preventDefault
                                    ? e.preventDefault()
                                    : (e.returnValue = !1);
                            }),
                            navigator.msPointerEnabled &&
                                ((e.style.msTouchAction = "none"),
                                (e.style.touchAction = "none")),
                            (e.daypilotMainD = !0),
                            (e.calendar = this);
                        var t = null,
                            n = null;
                        if (this.showHours) {
                            var i = document.createElement("div");
                            (i.style.cssFloat = "left"),
                                r.rtl && (i.style.cssFloat = "right"),
                                (i.style.width = this.hourWidth + "px"),
                                (i.style.height = this.gd() + "px"),
                                (i.style.overflow = "hidden"),
                                (i.style.position = "relative"),
                                e.appendChild(i),
                                (t = i);
                            var a = 30,
                                o = r._() + a;
                            (n = document.createElement("div")),
                                (n.style.height = o + "px"),
                                i.appendChild(n);
                        }
                        var s = document.createElement("div");
                        (s.style.height = this.gd() + "px"),
                            this.showHours &&
                                (r.rtl
                                    ? (s.style.marginRight =
                                          this.hourWidth + "px")
                                    : (s.style.marginLeft =
                                          this.hourWidth + "px")),
                            (s.style.position = "relative"),
                            (s.style.overflow = "auto"),
                            e.appendChild(s),
                            n &&
                                ((this.nav.hourTable = this.md()),
                                n.appendChild(this.nav.hourTable));
                        var l = document.createElement("div");
                        (l.style.height = "0px"),
                            (l.style.position = "relative"),
                            l.appendChild(this.pd());
                        var d = document.createElement("div");
                        return (
                            (d.style.position = "absolute"),
                            (d.style.top = "0px"),
                            (d.style.left = "0px"),
                            (d.style.width = "100%"),
                            (d.style.height = "0px"),
                            l.appendChild(d),
                            (this.nav.crosshair = d),
                            l.appendChild(this.qd()),
                            s.appendChild(l),
                            (this.nav.grid = l),
                            (this.nav.zoom = e),
                            (this.nav.bottomLeft = t),
                            (this.nav.bottomRight = s),
                            (this.nav.hoursPlaceholder = n),
                            e
                        );
                    }),
                    (this.pd = function () {
                        if (r.O) {
                            var e = document.createElement("div");
                            return (r.nav.main = e), e;
                        }
                        var t = document.createElement("table");
                        return (
                            (t.cellPadding = "0"),
                            (t.cellSpacing = "0"),
                            (t.border = "0"),
                            "Fixed" === this.columnWidthSpec ||
                                (t.style.width = "100%"),
                            (t.style.border = "0px none"),
                            (t.style.margin = "0px"),
                            (t.style.tableLayout = "fixed"),
                            (this.nav.main = t),
                            t
                        );
                    }),
                    (this.rd = function () {
                        if ("Fixed" === this.columnWidthSpec) {
                            for (var e = 0, t = 0; t < r.hb.length; t++) {
                                var n = r.hb[t];
                                e += n.width ? n.width : r.columnWidth;
                            }
                            return e + "px";
                        }
                        return "100%";
                    }),
                    (this.qd = function () {
                        if (r.O) {
                            var e = document.createElement("div");
                            return (
                                (e.style.userSelect = "none"),
                                (e.style.position = "absolute"),
                                (e.style.left = "0px"),
                                (e.style.right = "0px"),
                                (e.style.top = "0px"),
                                (e.style.height = "0px"),
                                (r.nav.events = e),
                                e
                            );
                        }
                        var t = document.createElement("table");
                        (t.style.position = "absolute"),
                            (t.style.top = "0px"),
                            (t.cellPadding = "0"),
                            (t.cellSpacing = "0"),
                            (t.border = "0"),
                            (t.style.width = r.rd()),
                            (t.style.border = "0px none"),
                            (t.style.margin = "0px"),
                            (t.style.tableLayout = "fixed"),
                            (this.nav.events = t);
                        for (
                            var n = this.hb,
                                i = n.length,
                                a = t.insertRow(-1),
                                o = 0;
                            o < i;
                            o++
                        ) {
                            var s = a.insertCell(-1);
                            (s.style.padding = "0px"),
                                (s.style.border = "0px none"),
                                (s.style.height = "0px"),
                                (s.style.overflow = "visible"),
                                r.rtl || (s.style.textAlign = "left"),
                                r.sd(s);
                        }
                        return t;
                    }),
                    (this.td = function () {
                        var e = document.createElement("table");
                        (e.cellSpacing = "0"),
                            (e.cellPadding = "0"),
                            (e.border = "0"),
                            (e.style.margin = "0px"),
                            (e.style.border = "0px none"),
                            (e.style.width = this.hourWidth + "px"),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            (e.onmousemove = function () {
                                r.Da();
                            });
                        for (var t = r.ud(), n = 0; n < t; n++) this.vd(e, n);
                        return e;
                    }),
                    (this.md = function () {
                        var e = document.createElement("div");
                        (e.style.width = this.hourWidth + "px"),
                            (e.style.position = "relative"),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            (e.onmousemove = function () {
                                r.Da();
                            }),
                            (e.rows = []);
                        for (var t = r.ud(), n = 0; n < t; n++) this.xd(e, n);
                        return e;
                    }),
                    (this.ud = function () {
                        return (
                            this.jb() / (60 * this.timeHeaderCellDuration * 1e3)
                        );
                    }),
                    (this.yd = function () {
                        return (
                            (60 * this.cellHeight) /
                            this.cellDuration /
                            (60 / this.timeHeaderCellDuration)
                        );
                    }),
                    (this.zd = function () {
                        return (
                            (this.nb() - this.nb(!0)) * (60 / this.cellDuration)
                        );
                    }),
                    (this.Ad = function () {
                        return this.nb() - this.nb(!0);
                    }),
                    (this.fc = function () {
                        return this.zd() * this.cellHeight;
                    }),
                    (this.vd = function (e, t) {
                        var n = r.yd(),
                            i = e.insertRow(-1);
                        i.style.height = n + "px";
                        var a = i.insertCell(-1);
                        (a.valign = "bottom"),
                            a.setAttribute("unselectable", "on"),
                            (a.style.padding = "0px"),
                            (a.style.border = "0px none");
                        var o = document.createElement("div");
                        (o.className = this.H("_rowheader")),
                            (o.style.position = "relative"),
                            (o.style.width = this.hourWidth + "px"),
                            (o.style.height = n + "px"),
                            (o.style.overflow = "hidden"),
                            o.setAttribute("unselectable", "on");
                        var s = document.createElement("div");
                        (s.className = this.H("_rowheader_inner")),
                            s.setAttribute("unselectable", "on");
                        var l = r.Bd(t),
                            d = l.html,
                            c = l.data;
                        c &&
                            ((o.data = c),
                            (o.onmousemove = r.Cd),
                            (o.onmouseout = r.Dd));
                        var u = null,
                            h = {};
                        if (
                            ((h.header = c),
                            "function" == typeof r.onBeforeTimeHeaderDomAdd &&
                                ((h.element = null),
                                r.onBeforeTimeHeaderDomAdd(h),
                                (u = h.element)),
                            (o.domArgs = h),
                            u)
                        ) {
                            var f = s;
                            h.Tc = f;
                            if (DayPilot.Util.isReactComponent(u)) {
                                if (!r.ya.reactDOM)
                                    throw new DayPilot.Exception(
                                        "Can't reach ReactDOM"
                                    );
                                r.ya.reactDOM.render(u, f);
                            } else f.appendChild(u);
                        } else s.innerHTML = d;
                        o.appendChild(s),
                            r.elements.timeHeaders.push(o),
                            a.appendChild(o);
                    }),
                    (this.xd = function (e, t) {
                        var n = r.yd(),
                            i = document.createElement("div");
                        (i.style.position = "absolute"),
                            (i.style.top = t * n + "px"),
                            (i.style.height = n + "px"),
                            (e.rows[t] = i);
                        var a = document.createElement("div");
                        i.appendChild(a), (i.cells = [a]);
                        var o = document.createElement("div");
                        (o.className = this.H("_rowheader")),
                            (o.style.position = "relative"),
                            (o.style.width = this.hourWidth + "px"),
                            (o.style.height = n + "px"),
                            (o.style.overflow = "hidden"),
                            o.setAttribute("unselectable", "on");
                        var s = document.createElement("div");
                        (s.className = this.H("_rowheader_inner")),
                            s.setAttribute("unselectable", "on");
                        var l = r.Bd(t),
                            d = l.html,
                            c = l.data;
                        c &&
                            ((o.data = c),
                            (o.onmousemove = r.Cd),
                            (o.onmouseout = r.Dd));
                        var u = null,
                            h = {};
                        if (
                            ((h.header = c),
                            "function" == typeof r.onBeforeTimeHeaderDomAdd &&
                                ((h.element = null),
                                r.onBeforeTimeHeaderDomAdd(h),
                                (u = h.element)),
                            (o.domArgs = h),
                            u)
                        ) {
                            var f = s;
                            h.Tc = f;
                            if (DayPilot.Util.isReactComponent(u)) {
                                if (!r.ya.reactDOM)
                                    throw new DayPilot.Exception(
                                        "Can't reach ReactDOM"
                                    );
                                r.ya.reactDOM.render(u, f);
                            } else f.appendChild(u);
                        } else s.innerHTML = d;
                        o.appendChild(s),
                            r.elements.timeHeaders.push(o),
                            a.appendChild(o),
                            e.appendChild(i);
                    }),
                    (this.Bd = function (e) {
                        var t, n;
                        if (this.hours) {
                            var i = e + this.Ad();
                            (n = this.hours[i]), (t = n.html);
                        }
                        var a,
                            o = this.timeHeaderCellDuration,
                            s = this.startDate.addMinutes(
                                o * e + 60 * this.nb()
                            ),
                            l = s.getHours(),
                            d = l < 12;
                        if (
                            ((a =
                                "Clock12Hours" === this.ga.timeFormat()
                                    ? d
                                        ? "AM"
                                        : "PM"
                                    : "00"),
                            !t)
                        ) {
                            var c = document.createElement("div");
                            if (
                                (c.setAttribute("unselectable", "on"),
                                "Clock12Hours" === this.ga.timeFormat() &&
                                    ((l %= 12), 0 === l && (l = 12)),
                                60 !== this.timeHeaderCellDuration &&
                                    (l += ":" + s.toString("mm")),
                                (c.innerHTML = l),
                                60 === this.timeHeaderCellDuration)
                            ) {
                                var u = document.createElement("span");
                                u.setAttribute("unselectable", "on"),
                                    (u.className =
                                        this.H("_rowheader_minutes")),
                                    (u.innerHTML = a),
                                    c.appendChild(u);
                            }
                            t = c.outerHTML;
                        }
                        var h = {};
                        (h.header = {}),
                            (h.header.hours = s.getHours()),
                            (h.header.minutes = s.getMinutes()),
                            (h.header.start = s.toString("HH:mm")),
                            (h.header.html = t),
                            (h.header.areas = n ? n.areas : null),
                            (h.header.time = new DayPilot.Duration(
                                s.getTimePart()
                            )),
                            "function" == typeof r.onBeforeTimeHeaderRender &&
                                (r.onBeforeTimeHeaderRender(h),
                                null !== h.header.html && (t = h.header.html)),
                            (n = h.header);
                        var f = {};
                        return (
                            (f.start = s),
                            (f.hour = l),
                            (f.html = t),
                            (f.data = n),
                            (f.sup = a),
                            f
                        );
                    }),
                    (this.Cd = function (e) {
                        r.Da();
                        var t = this;
                        t.active || DayPilot.Areas.showAreas(t, t.data);
                    }),
                    (this.Dd = function (e) {
                        DayPilot.Areas.hideAreas(this, e);
                    }),
                    (this.gd = function () {
                        switch (this.heightSpec) {
                            case "Fixed":
                                return this.height;
                            case "Parent100Pct":
                                return this.height;
                            case "Full":
                                return this._();
                            case "BusinessHours":
                            case "BusinessHoursNoScroll":
                                return (
                                    (this.kb() * this.cellHeight * 60) /
                                    this.cellDuration
                                );
                            default:
                                throw new DayPilot.Exception(
                                    "DayPilot.Calendar: Unexpected 'heightSpec' value."
                                );
                        }
                    }),
                    (this._ = function () {
                        return (
                            (r.jb() * this.cellHeight) / (6e4 * r.cellDuration)
                        );
                    }),
                    (this.ob = function () {
                        if (!this.showHeader) return 0;
                        var e = this.headerLevels * s.headerHeight();
                        return this.showAllDayEvents && s.allDayHeaderHeight()
                            ? e + s.allDayHeaderHeight()
                            : e;
                    }),
                    (this.Sa = function () {
                        if (this.headerHeightAutoFit) {
                            for (
                                var e = 0, t = 0;
                                t < this.nav.header.rows.length;
                                t++
                            )
                                for (
                                    var n = this.nav.header.rows[t], i = 0;
                                    i < n.cells.length;
                                    i++
                                ) {
                                    var a = n.cells[i],
                                        r = a.firstChild,
                                        o = r.firstChild,
                                        s = r.style.height;
                                    (r.style.height = "auto"),
                                        (o.style.position = "static");
                                    var l = r.offsetHeight;
                                    (r.style.height = s),
                                        (o.style.position = ""),
                                        (e = Math.max(e, l));
                                }
                            e > this.headerHeight &&
                                ((this.Q.headerHeight = e),
                                this.Qa(),
                                this.Ra());
                        }
                    }),
                    (this.Ed = function () {
                        var e = this.N ? r.nav.bottomRight : r.nav.scroll;
                        return DayPilot.sw(e) > 0;
                    }),
                    (this.jd = function () {
                        var e = document.createElement("div"),
                            t = "Fixed" === this.columnWidthSpec;
                        t || (e.style.overflow = "auto"),
                            (e.style.position = "absolute"),
                            (e.style.left = "0px"),
                            (e.style.right = "0px");
                        var n = document.createElement("div");
                        (n.style.position = "relative"), (n.style.zoom = "1");
                        var i = null,
                            t = "Fixed" === this.columnWidthSpec;
                        if (t || this.N) {
                            var a = document.createElement("div");
                            if (
                                ((a.style.cssFloat = "left"),
                                r.rtl && (a.style.cssFloat = "right"),
                                (a.style.width = this.hourWidth + "px"),
                                this.showHours)
                            ) {
                                var o = this.Fd();
                                (this.nav.corner = o),
                                    a.appendChild(o),
                                    n.appendChild(a),
                                    (this.nav.upperLeft = a);
                            }
                            var s = document.createElement("div");
                            this.showHours &&
                                (r.rtl
                                    ? (s.style.marginRight =
                                          this.hourWidth + "px")
                                    : (s.style.marginLeft =
                                          this.hourWidth + "px")),
                                (s.style.position = "relative"),
                                (s.style.overflow = "hidden"),
                                (s.style.height = this.ob() + "px"),
                                (s.className = r.H("_colheader_back")),
                                n.appendChild(s),
                                (this.nav.upperRight = s);
                            var l = document.createElement("div");
                            (l.className = r.H("_colheader_back_inner")),
                                s.appendChild(l),
                                (i = document.createElement("div")),
                                (i.style.position = "relative"),
                                s.appendChild(i);
                        } else {
                            var d = document.createElement("table");
                            (d.cellPadding = "0"),
                                (d.cellSpacing = "0"),
                                (d.border = "0"),
                                (d.style.margin = "0px"),
                                (d.style.width = "100%"),
                                (d.style.borderCollapse = "separate"),
                                (d.style.border = "0px none");
                            var c = d.insertRow(-1);
                            if (((this.nav.fullHeader = d), this.showHours)) {
                                var u = c.insertCell(-1);
                                (u.style.padding = "0px"),
                                    (u.style.border = "0px none");
                                var o = this.Fd();
                                u.appendChild(o), (this.nav.corner = o);
                            }
                            (u = c.insertCell(-1)),
                                (u.style.width = "100%"),
                                (u.valign = "top"),
                                (u.style.position = "relative"),
                                (u.style.padding = "0px"),
                                (u.style.border = "0px none"),
                                (i = document.createElement("div")),
                                (i.style.position = "relative"),
                                (i.style.height = this.ob() + "px"),
                                (i.style.overflow = "hidden"),
                                u.appendChild(i),
                                (this.nav.mid = i),
                                n.appendChild(d);
                        }
                        (this.nav.headerParent = i),
                            (this.nav.headerParent.onmousemove = function (e) {
                                e.insideMainD = !0;
                            }),
                            this.Gd();
                        var h = this.Ed(),
                            t = "Fixed" === this.columnWidthSpec;
                        return h && !t && this.Hd(), e.appendChild(n), e;
                    }),
                    (this.Gd = function () {
                        if (((this.nav.unifiedCornerRight = null), r.O))
                            (this.nav.header = document.createElement("div")),
                                (this.nav.header.style.position = "relative");
                        else {
                            (this.nav.header = document.createElement("table")),
                                (this.nav.header.style.margin = "0px"),
                                (this.nav.header.cellPadding = "0"),
                                (this.nav.header.cellSpacing = "0");
                            "Fixed" === this.columnWidthSpec ||
                                (this.nav.header.width = "100%"),
                                (this.nav.header.style.tableLayout = "fixed"),
                                (this.nav.header.oncontextmenu = function () {
                                    return !1;
                                });
                        }
                        this.nav.header.setAttribute("dp-id", "header"),
                            this.nav.headerParent.appendChild(this.nav.header),
                            (this.nav.header.onmousemove = function () {
                                r.Da();
                            }),
                            this.nav.allday && DayPilot.de(this.nav.allday);
                        var e = document.createElement("div");
                        (e.style.position = "absolute"),
                            (e.style.top = "0px"),
                            (e.style.height = "0px"),
                            e.setAttribute("dp-id", "allday"),
                            "Fixed" === this.columnWidthSpec
                                ? (e.style.width =
                                      this.hb.length * this.columnWidth + "px")
                                : ((e.style.left = "0px"),
                                  (e.style.right = "0px")),
                            (this.nav.allday = e),
                            this.nav.headerParent.appendChild(e);
                    }),
                    (this.Hd = function () {
                        if (this.nav.fullHeader) {
                            var e = this.nav.fullHeader.rows[0],
                                t = e.insertCell(-1);
                            (t.style.padding = "0px"),
                                (t.style.verticalAlign = "top"),
                                t.setAttribute("unselectable", "on");
                            var n = document.createElement("div");
                            n.setAttribute("unselectable", "on"),
                                (n.className = this.H("_cornerright")),
                                (n.style.overflow = "hidden"),
                                (n.style.position = "relative"),
                                (n.style.width = "16px"),
                                (n.style.height = this.ob() + "px");
                            var i = document.createElement("div");
                            (i.className = this.H("_cornerright_inner")),
                                n.appendChild(i),
                                t.appendChild(n),
                                (this.nav.cornerRight = n);
                        }
                    }),
                    (this.Fd = function () {
                        var e = document.createElement("div");
                        (e.style.position = "relative"),
                            (e.className = this.H("_corner")),
                            (e.style.width = this.hourWidth + "px"),
                            (e.style.height = this.ob() + "px"),
                            (e.style.overflow = "hidden"),
                            (e.oncontextmenu = function () {
                                return !1;
                            });
                        var t = document.createElement("div");
                        (t.className = this.H("_corner_inner")),
                            t.setAttribute("unselectable", "on"),
                            e.appendChild(t);
                        var n = document.createElement("div");
                        return (
                            (n.style.position = "absolute"),
                            (n.style.padding = "2px"),
                            (n.style.top = "0px"),
                            (n.style.left = "1px"),
                            (n.style.backgroundColor = "#FF6600"),
                            (n.style.color = "white"),
                            (n.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                            n.setAttribute("unselectable", "on"),
                            DayPilot.Util.isNullOrUndefined(undefined) &&
                                e.appendChild(n),
                            e
                        );
                    }),
                    (this.wa = function () {
                        if (r.nav.corner && r.nav.corner.firstChild) {
                            var e = r.nav.corner.firstChild,
                                t = e.domArgs;
                            if (
                                ((e.domArgs = null),
                                t &&
                                    ("function" ==
                                        typeof r.onBeforeCornerDomRemove &&
                                        r.onBeforeCornerDomRemove(t),
                                    "function" ==
                                        typeof r.onBeforeCornerDomAdd &&
                                        r.ya.reactDOM &&
                                        e))
                            ) {
                                if (DayPilot.Util.isReactComponent(t.element)) {
                                    if (!r.ya.reactDOM)
                                        throw new DayPilot.Exception(
                                            "Can't reach ReactDOM"
                                        );
                                    r.ya.reactDOM.unmountComponentAtNode(e);
                                }
                            }
                        }
                    }),
                    (this.ta = function () {
                        var e = this.nav.main;
                        (e.root = null), (e.onmouseup = null);
                        for (var t = 0; t < e.rows.length; t++)
                            for (
                                var n = e.rows[t], i = 0;
                                i < n.cells.length;
                                i++
                            ) {
                                var a = n.cells[i];
                                (a.root = null),
                                    (a.onmousedown = null),
                                    (a.onmousemove = null),
                                    (a.onmouseout = null),
                                    (a.onmouseup = null),
                                    (a.onclick = null),
                                    (a.ondblclick = null),
                                    (a.oncontextmenu = null);
                            }
                        this.P || DayPilot.pu(e);
                    }),
                    (this.Ta = function () {
                        for (
                            var e = 0;
                            this.nav.scrollUp && e < this.nav.scrollUp.length;
                            e++
                        )
                            this.nav.scrollLayer.removeChild(
                                this.nav.scrollUp[e]
                            );
                        for (
                            var e = 0;
                            this.nav.scrollDown &&
                            e < this.nav.scrollDown.length;
                            e++
                        )
                            this.nav.scrollLayer.removeChild(
                                this.nav.scrollDown[e]
                            );
                        (this.nav.scrollUp = []), (this.nav.scrollDown = []);
                    }),
                    (this.sd = function (e) {
                        var t = document.createElement("div");
                        (t.style.marginRight = r.columnMarginRight + "px"),
                            (t.style.position = "relative"),
                            (t.style.height = "1px"),
                            (t.style.marginTop = "-1px"),
                            (e.events = t);
                        var n = document.createElement("div");
                        (n.style.position = "relative"),
                            (n.style.height = "1px"),
                            (n.style.marginTop = "-1px"),
                            (e.separators = n);
                        var i = document.createElement("div");
                        (i.style.position = "relative"),
                            (i.style.height = "1px"),
                            (i.style.marginTop = "-1px"),
                            (e.selection = i),
                            e.appendChild(n),
                            e.appendChild(i),
                            e.appendChild(t);
                    }),
                    (this.Va = function () {
                        r.O ? r.Id() : r.Jd();
                    }),
                    (this.Kd = function () {
                        if (this.scrollLabelsVisible)
                            for (
                                var e = this.hb,
                                    t = this.showHours ? this.hourWidth : 0,
                                    n =
                                        (this.nav.scroll.clientWidth - t) /
                                        e.length,
                                    i = 0;
                                i < e.length;
                                i++
                            ) {
                                var a = document.createElement("div");
                                (a.style.position = "absolute"),
                                    (a.style.top = "0px"),
                                    (a.style.left =
                                        t + 2 + i * n + n / 2 + "px"),
                                    (a.style.display = "none");
                                var r = document.createElement("div");
                                (r.style.height = "10px"),
                                    (r.style.width = "10px"),
                                    (r.className = this.H("_scroll_up")),
                                    a.appendChild(r),
                                    this.nav.scrollLayer.appendChild(a),
                                    this.nav.scrollUp.push(a);
                                var o = document.createElement("div");
                                (o.style.position = "absolute"),
                                    (o.style.top = "0px"),
                                    (o.style.left =
                                        t + 2 + i * n + n / 2 + "px"),
                                    (o.style.display = "none");
                                var r = document.createElement("div");
                                (r.style.height = "10px"),
                                    (r.style.width = "10px"),
                                    (r.className = this.H("_scroll_down")),
                                    o.appendChild(r),
                                    this.nav.scrollLayer.appendChild(o),
                                    this.nav.scrollDown.push(o);
                            }
                    }),
                    (this.Ld = function () {
                        var e = this.nav.events;
                        (e.innerHTML = ""),
                            (e.rows = [{ cells: [] }]),
                            r.aa().forEach(function (t, n) {
                                var i = document.createElement("div");
                                (i.style.height = "1px"),
                                    (i.style.overflow = "visible"),
                                    (i.style.position = "absolute"),
                                    (i.style.left = t.left + t.unit),
                                    (i.style.right = t.left + t.unit),
                                    (i.style.width = t.width + t.unit),
                                    r.sd(i),
                                    e.appendChild(i),
                                    e.rows[0].cells.push(i);
                            });
                    }),
                    (this.aa = function () {
                        function e(e) {
                            return DayPilot.browser.ie || DayPilot.browser.edge
                                ? Math.floor(100 * e) / 100
                                : e;
                        }
                        var t = r.hb,
                            n = "Fixed" === this.columnWidthSpec,
                            i = 0;
                        return DayPilot.list.for(t.length, function (a) {
                            var o = {},
                                s = 0,
                                l = "";
                            return (
                                n
                                    ? ((l = "px"),
                                      (s = t[a].width
                                          ? t[a].width
                                          : r.columnWidth))
                                    : ((l = "%"), (s = e(100 / t.length))),
                                (o.left = i),
                                (o.width = s),
                                (o.unit = l),
                                (i += s),
                                o
                            );
                        });
                    }),
                    (this.Id = function () {
                        var e = this.nav.main,
                            t = this.ba(),
                            n = (this.Ad() * (60 / this.cellDuration), r.hb);
                        !(function () {
                            (r.elements.cells = {}),
                                (r.nav.main.innerHTML = ""),
                                (r.nav.main.rows = []);
                        })(),
                            (this.nav.scrollable.daypilotMainD = !0),
                            (this.nav.scrollable.calendar = this),
                            r.Kd(),
                            r.Ld();
                        for (var i = 0; i < t; i++)
                            if (
                                (r.nav.main.rows.push({ cells: [] }),
                                DayPilot.browser.ie)
                            )
                                for (var a = n.length - 1; a >= 0; a--)
                                    r.bd(a, i);
                            else for (var a = 0; a < n.length; a++) r.bd(a, i);
                        e.style.height = t * r.cellHeight + "px";
                    }),
                    (r.Md = function (e, t) {
                        var n = {},
                            i = r.ca(e),
                            a = t * r.cellHeight;
                        return (
                            (n.left = i.left),
                            (n.width = i.width),
                            (n.right = n.left + n.width),
                            (n.top = a),
                            (n.height = r.cellHeight),
                            (n.bottom = n.top + n.height),
                            n
                        );
                    }),
                    (r.bd = function (e, n) {
                        var i =
                            "Fixed" === r.columnWidthSpec &&
                            !DayPilot.browser.ie;
                        if (!r.elements.cells[e + "_" + n]) {
                            if (i) {
                                var a = r.Md(e, n),
                                    o = r.Y(),
                                    s =
                                        o.pixels.right <= a.left ||
                                        o.pixels.left >= a.right,
                                    l =
                                        o.pixels.bottom <= a.top ||
                                        o.pixels.top >= a.bottom;
                                if (!(!s && !l)) return;
                            }
                            var d = r.ca(e),
                                c = 60 * this.cellDuration * 1e3,
                                u = n * r.cellHeight,
                                h = r.hb[e],
                                f = document.createElement("div");
                            (f.style.position = "absolute"),
                                (f.style.left = d.left + d.unit),
                                (f.style.right = d.left + d.unit),
                                (f.style.width = d.width + d.unit),
                                (f.style.top = u + "px"),
                                (f.start = h.start
                                    .addTime(n * c)
                                    .addHours(r.nb())),
                                (f.end = f.start.addTime(c)),
                                (f.resource = h.id),
                                (f.data = {}),
                                (f.data.x = e),
                                (f.data.y = n),
                                (f.data.start = f.start),
                                (f.data.end = f.end),
                                (f.data.resource = f.resource),
                                (f.data.calendar = r),
                                r.cellProperties || (r.cellProperties = {});
                            var v = {};
                            (v.resource = f.resource),
                                (v.start = f.start),
                                (v.end = f.end);
                            var p = e + "_" + n,
                                m = [
                                    "cssClass",
                                    "html",
                                    "backImage",
                                    "backRepeat",
                                    "backColor",
                                    "business",
                                    "areas",
                                    "disabled",
                                ];
                            if (
                                ((v.properties = r.cellProperties[p]),
                                !r.cellProperties[p])
                            ) {
                                var g = (v.properties = {});
                                (g.cssClass = null),
                                    (g.html = null),
                                    (g.backImage = null),
                                    (g.backRepeat = null),
                                    (g.backColor = null),
                                    (g.business = r.Nd(f.start, f.end)),
                                    (r.cellProperties[p] = g);
                            }
                            if ("function" == typeof r.onBeforeCellRender) {
                                var b = {};
                                (b.cell = v),
                                    r.onBeforeCellRender(b),
                                    DayPilot.Util.copyProps(
                                        b.cell,
                                        b.cell.properties,
                                        m
                                    );
                            }
                            var y,
                                w = r.Od(e, n);
                            (f.root = r),
                                f.setAttribute("unselectable", "on"),
                                (y = document.createElement("div")),
                                (y.className = r.H("_cell")),
                                (y.style.position = "relative"),
                                (y.style.height = r.cellHeight + "px"),
                                (y.style.overflow = "hidden"),
                                y.setAttribute("unselectable", "on");
                            var x = document.createElement("div");
                            (x.className = r.H("_cell_inner")),
                                y.appendChild(x),
                                f.appendChild(y),
                                (f.onmousedown = r.$b),
                                (f.onmousemove = r.kc),
                                (f.onmouseout = r.jc),
                                DayPilot.re(
                                    f,
                                    DayPilot.touch.end,
                                    r.$c.onCellTouchEnd
                                ),
                                (f.oncontextmenu = function () {
                                    return (
                                        this.selected ||
                                            (r.clearSelection(),
                                            (t.column = e),
                                            r.selectedCells.push(this),
                                            (t.firstSelected = this),
                                            (t.topSelectedCell = this),
                                            (t.bottomSelectedCell = this),
                                            r.bc()),
                                        "Disabled" ===
                                            r.timeRangeRightClickHandling,
                                        !1
                                    );
                                });
                            var k = r.Pd(e, n);
                            y = f.firstChild;
                            "Fixed" === r.columnWidthSpec &&
                                (h.width
                                    ? (y.style.width = h.width + "px")
                                    : (y.style.width = r.columnWidth + "px")),
                                k && (y.firstChild.style.background = k);
                            (w ? w.business : r.Nd(f.start, f.end)) &&
                                DayPilot.Util.addClass(
                                    y,
                                    r.H("_cell_business")
                                );
                            var C = y.firstChild;
                            if (
                                (C && (C.innerHTML = ""),
                                (y.style.backgroundImage = ""),
                                (y.style.backgroundRepeat = ""),
                                w &&
                                    (w.html && (C.innerHTML = w.html),
                                    w.cssClass &&
                                        DayPilot.Util.addClass(y, w.cssClass),
                                    w.backImage &&
                                        (y.style.backgroundImage =
                                            "url('" + w.backImage + "')"),
                                    w.backRepeat &&
                                        (y.style.backgroundRepeat =
                                            w.backRepeat),
                                    w.areas))
                            ) {
                                var H = {};
                                (H.start = f.start),
                                    (H.end = f.end),
                                    (H.resource = f.resource);
                                var D = DayPilot.list(w.areas).filter(function (
                                    e
                                ) {
                                    return (
                                        !(
                                            e.end &&
                                            new DayPilot.Date(e.end) <= f.start
                                        ) &&
                                        !(
                                            e.start &&
                                            new DayPilot.Date(e.start) >= f.end
                                        )
                                    );
                                });
                                D.forEach(function (e) {
                                    if (e.start || e.end) {
                                        if (e.start) {
                                            var t =
                                                new DayPilot.Date(
                                                    e.start
                                                ).getTime() - f.start.getTime();
                                            e.top = r.Qd(t);
                                        }
                                        if (e.end) {
                                            var n =
                                                new DayPilot.Date(
                                                    e.end
                                                ).getTime() - f.start.getTime();
                                            e.height = r.Qd(n) - e.top;
                                        }
                                    }
                                }),
                                    DayPilot.Areas.attach(y, H, { areas: D });
                            }
                            if (
                                (r.nav.main.appendChild(f),
                                (r.nav.main.rows[n].cells[e] = f),
                                (r.elements.cells[e + "_" + n] = f),
                                "function" == typeof r.onAfterCellRender)
                            ) {
                                var b = {};
                                (b.cell = DayPilot.Util.copyProps(v, {}, [
                                    "start",
                                    "end",
                                    "resource",
                                ])),
                                    (b.div = y),
                                    r.onAfterCellRender(b);
                            }
                        }
                    }),
                    (this.Jd = function () {
                        var e = this.nav.main,
                            n = 60 * this.cellDuration * 1e3,
                            i = this.ba(),
                            a = (this.Ad() * (60 / this.cellDuration), r.hb),
                            o = 0;
                        for (
                            e && ((o = r.Z().scrollTop), this.ta()),
                                this.nav.scrollable.daypilotMainD = !0,
                                this.nav.scrollable.calendar = this;
                            e && e.rows && e.rows.length > 0;

                        )
                            this.P || DayPilot.pu(e.rows[0]), e.deleteRow(0);
                        if (((this.Rd = !0), this.scrollLabelsVisible))
                            for (
                                var a = this.hb,
                                    s = this.showHours ? this.hourWidth : 0,
                                    l =
                                        (this.nav.scroll.clientWidth - s) /
                                        a.length,
                                    d = 0;
                                d < a.length;
                                d++
                            ) {
                                var c = document.createElement("div");
                                (c.style.position = "absolute"),
                                    (c.style.top = "0px"),
                                    (c.style.left =
                                        s + 2 + d * l + l / 2 + "px"),
                                    (c.style.display = "none");
                                var u = document.createElement("div");
                                (u.style.height = "10px"),
                                    (u.style.width = "10px"),
                                    (u.className = this.H("_scroll_up")),
                                    c.appendChild(u),
                                    this.nav.scrollLayer.appendChild(c),
                                    this.nav.scrollUp.push(c);
                                var h = document.createElement("div");
                                (h.style.position = "absolute"),
                                    (h.style.top = "0px"),
                                    (h.style.left =
                                        s + 2 + d * l + l / 2 + "px"),
                                    (h.style.display = "none");
                                var u = document.createElement("div");
                                (u.style.height = "10px"),
                                    (u.style.width = "10px"),
                                    (u.className = this.H("_scroll_down")),
                                    h.appendChild(u),
                                    this.nav.scrollLayer.appendChild(h),
                                    this.nav.scrollDown.push(h);
                            }
                        var f = a.length;
                        if (this.cssOnly || this.L) {
                            for (
                                var v = this.nav.events;
                                v && v.rows && v.rows.length > 0;

                            )
                                this.P || DayPilot.pu(v.rows[0]),
                                    v.deleteRow(0);
                            for (var p = v.insertRow(-1), m = 0; m < f; m++) {
                                var g = p.insertCell(-1);
                                (g.style.padding = "0px"),
                                    (g.style.border = "0px none"),
                                    (g.style.height = "1px"),
                                    (g.style.overflow = "visible");
                                var b = "Fixed" === this.columnWidthSpec;
                                b &&
                                    (a[m].width
                                        ? (g.style.width = a[m].width + "px")
                                        : (g.style.width =
                                              this.columnWidth + "px")),
                                    r.rtl || (g.style.textAlign = "left"),
                                    r.sd(g);
                            }
                        }
                        for (var d = 0; d < i; d++) {
                            var p = e.insertRow(-1),
                                y = d;
                            (p.style.MozUserSelect = "none"),
                                (p.style.KhtmlUserSelect = "none"),
                                (p.style.WebkitUserSelect = "none");
                            for (var m = 0; m < f; m++) {
                                var w = this.hb[m],
                                    g = p.insertCell(-1);
                                (g.start = w.start
                                    .addTime(y * n)
                                    .addHours(this.nb())),
                                    (g.end = g.start.addTime(n)),
                                    (g.resource = w.id),
                                    this.cellProperties ||
                                        (this.cellProperties = {});
                                var x = {};
                                (x.resource = g.resource),
                                    (x.start = g.start),
                                    (x.end = g.end);
                                var k = m + "_" + y;
                                if (
                                    ((x.cssClass = null),
                                    (x.html = null),
                                    (x.backImage = null),
                                    (x.backRepeat = null),
                                    (x.backColor = null),
                                    (x.business = this.Nd(g.start, g.end)),
                                    this.cellProperties[k] &&
                                        DayPilot.Util.copyProps(
                                            this.cellProperties[k],
                                            x,
                                            [
                                                "cssClass",
                                                "html",
                                                "backImage",
                                                "backRepeat",
                                                "backColor",
                                                "business",
                                                "areas",
                                                "disabled",
                                            ]
                                        ),
                                    "function" ==
                                        typeof this.onBeforeCellRender)
                                ) {
                                    var C = {};
                                    (C.cell = x), this.onBeforeCellRender(C);
                                }
                                this.cellProperties[k] = x;
                                var H,
                                    D = r.Od(m, y);
                                (g.root = this),
                                    g.setAttribute("unselectable", "on"),
                                    (H = document.createElement("div")),
                                    (H.className = r.H("_cell")),
                                    (H.style.position = "relative"),
                                    (H.style.height = r.cellHeight + "px"),
                                    (H.style.overflow = "hidden"),
                                    H.setAttribute("unselectable", "on");
                                var E = document.createElement("div");
                                (E.className = r.H("_cell_inner")),
                                    H.appendChild(E),
                                    g.appendChild(H),
                                    (g.onmousedown = this.$b),
                                    (g.onmousemove = this.kc),
                                    (g.onmouseout = this.jc),
                                    DayPilot.re(
                                        g,
                                        DayPilot.touch.end,
                                        this.$c.onCellTouchEnd
                                    ),
                                    (g.oncontextmenu = function () {
                                        return (
                                            this.selected ||
                                                (r.clearSelection(),
                                                (t.column = t.getColumn(this)),
                                                r.selectedCells.push(this),
                                                (t.firstSelected = this),
                                                (t.topSelectedCell = this),
                                                (t.bottomSelectedCell = this),
                                                r.bc()),
                                            "Disabled" ===
                                                r.timeRangeRightClickHandling,
                                            !1
                                        );
                                    });
                                var S = r.Pd(m, y);
                                H = g.firstChild;
                                var b = "Fixed" === this.columnWidthSpec;
                                b &&
                                    (w.width
                                        ? (H.style.width = w.width + "px")
                                        : (H.style.width =
                                              this.columnWidth + "px")),
                                    S && (H.firstChild.style.background = S);
                                (D ? D.business : this.Nd(g.start, g.end)) &&
                                    DayPilot.Util.addClass(
                                        H,
                                        r.H("_cell_business")
                                    );
                                var T = H.firstChild;
                                if (
                                    (T && (T.innerHTML = ""),
                                    (H.style.backgroundImage = ""),
                                    (H.style.backgroundRepeat = ""),
                                    D &&
                                        (D.html && (T.innerHTML = D.html),
                                        D.cssClass &&
                                            DayPilot.Util.addClass(
                                                H,
                                                D.cssClass
                                            ),
                                        D.backImage &&
                                            (H.style.backgroundImage =
                                                "url('" + D.backImage + "')"),
                                        D.backRepeat &&
                                            (H.style.backgroundRepeat =
                                                D.backRepeat),
                                        D.areas))
                                ) {
                                    var _ = {};
                                    (_.start = g.start),
                                        (_.end = g.end),
                                        (_.resource = g.resource);
                                    var M = DayPilot.list(D.areas).filter(
                                        function (e) {
                                            return (
                                                !(
                                                    e.end &&
                                                    new DayPilot.Date(e.end) <=
                                                        g.start
                                                ) &&
                                                !(
                                                    e.start &&
                                                    new DayPilot.Date(
                                                        e.start
                                                    ) >= g.end
                                                )
                                            );
                                        }
                                    );
                                    M.forEach(function (e) {
                                        if (e.start || e.end) {
                                            if (e.start) {
                                                var t =
                                                    new DayPilot.Date(
                                                        e.start
                                                    ).getTime() -
                                                    g.start.getTime();
                                                e.top = r.Qd(t);
                                            }
                                            if (e.end) {
                                                var n =
                                                    new DayPilot.Date(
                                                        e.end
                                                    ).getTime() -
                                                    g.start.getTime();
                                                e.height = r.Qd(n) - e.top;
                                            }
                                        }
                                    }),
                                        DayPilot.Areas.attach(H, _, {
                                            areas: M,
                                        });
                                }
                            }
                        }
                        (e.onmouseup = this.lc),
                            (e.root = this),
                            (e.style.height = i * r.cellHeight + "px"),
                            (r.nav.scrollable.style.display = ""),
                            (r.Z().scrollTop = o);
                    }),
                    (this.od = function (e) {
                        if (!o.detected) {
                            var t = r.getSelection();
                            if (t) {
                                var n = {};
                                if (
                                    ((n.start = t.start),
                                    (n.end = t.end),
                                    (n.resource = t.resource),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" ==
                                        typeof r.onTimeRangeRightClick &&
                                        (r.onTimeRangeRightClick(n),
                                        n.preventDefault.value))
                                )
                                    return !1;
                                "ContextMenu" ===
                                    r.timeRangeRightClickHandling &&
                                    r.contextMenuSelection &&
                                    r.contextMenuSelection.show(
                                        r.getSelection()
                                    ),
                                    "function" ==
                                        typeof r.onTimeRangeRightClicked &&
                                        r.onTimeRangeRightClicked(n);
                            }
                        }
                    }),
                    (this.Nd = function (e, t) {
                        return this.businessBeginsHour < this.businessEndsHour
                            ? !(
                                  e.getHours() < this.businessBeginsHour ||
                                  e.getHours() >= this.businessEndsHour ||
                                  6 === e.getDayOfWeek() ||
                                  0 === e.getDayOfWeek()
                              )
                            : e.getHours() >= this.businessBeginsHour ||
                                  e.getHours() < this.businessEndsHour;
                    }),
                    (this.nd = function (e) {
                        (e = e || window.event),
                            (e.insideMainD = !0),
                            window.event &&
                                window.event.srcElement &&
                                (window.event.srcElement.inside = !0);
                        for (var n = 0; n < t.registered.length; n++) {
                            var i = t.registered[n];
                            i !== r && i.Ca && i.Ca();
                        }
                        t.activeCalendar = this;
                        var a = r.nav.main;
                        r.coords = DayPilot.mo3(a, e);
                        var o = DayPilot.mc(e),
                            l =
                                r.crosshairType &&
                                "Disabled" !== r.crosshairType;
                        if (
                            (DayPilot.Global.moving ||
                            DayPilot.Global.resizing ||
                            DayPilot.Global.selecting
                                ? r.Da()
                                : l && r.Sd(),
                            DayPilot.Global.resizing)
                        )
                            r.Td(o);
                        else if (DayPilot.Global.moving) {
                            if (!DayPilot.Global.moving.helper)
                                return (
                                    DayPilot.de(t.movingShadow),
                                    void (t.movingShadow = null)
                                );
                            if (!t.movingShadow) {
                                var d = 3;
                                if (
                                    !(DayPilot.distance(o, t.originalMouse) > d)
                                )
                                    return;
                                (t.movingShadow = r.gb(
                                    DayPilot.Global.moving,
                                    !r.W.ie
                                )),
                                    (t.movingShadow.style.width =
                                        t.movingShadow.parentNode.offsetWidth +
                                        1 +
                                        "px");
                            }
                            if (!r.coords) return;
                            DayPilot.Util.addClass(
                                DayPilot.Global.moving,
                                r.H("_event_moving_source")
                            );
                            var c = r.cellHeight,
                                u = 0,
                                h = t.moveOffsetY;
                            h || (h = c / 2), "Top" === this.moveBy && (h = 0);
                            var f =
                                Math.floor((r.coords.y - h - u + c / 2) / c) *
                                    c +
                                u;
                            f < u && (f = u);
                            var v = r.nav.main,
                                p = r.O
                                    ? r.ba() * r.cellHeight
                                    : v.clientHeight,
                                m = parseInt(t.movingShadow.style.height);
                            f + m > p && (f = p - m);
                            var g = v.clientWidth / r.hb.length,
                                b = Math.floor(r.coords.x / g);
                            b < 0 && (b = 0),
                                b >= r.hb.length && (b = r.hb.length - 1),
                                r.rtl && (b = r.hb.length - b - 1);
                            var y = t.movingShadow,
                                w = DayPilot.Global.moving.event,
                                x = r.Jb(w, b, f),
                                k = r.eventMovingStartEndFormat;
                            "Auto" === k &&
                                (k =
                                    "Clock24Hours" === s.timeFormat()
                                        ? "H:mm"
                                        : "h:mm tt");
                            var C = {};
                            (C.e = w),
                                (C.start = x.start),
                                (C.end = x.end),
                                (C.resource = x.resource),
                                (C.html = null),
                                (C.cssClass = null),
                                (C.allowed = !0),
                                (C.areaData = DayPilot.Global.movingAreaData),
                                (C.top = {}),
                                (C.top.width = null),
                                (C.top.space = 5),
                                (C.top.html = C.start.toString(k, s.locale())),
                                (C.top.enabled = r.eventMovingStartEndEnabled),
                                (C.bottom = {}),
                                (C.bottom.width = null),
                                (C.bottom.space = 5),
                                (C.bottom.html = C.end.toString(k, s.locale())),
                                (C.bottom.enabled =
                                    r.eventMovingStartEndEnabled),
                                (C.external = !!t.drag),
                                (function () {
                                    var e = r.Fa;
                                    if (
                                        !(
                                            e &&
                                            e.start.getTime() ===
                                                x.start.getTime() &&
                                            e.end.getTime() ===
                                                x.end.getTime() &&
                                            e.resource === x.resource
                                        )
                                    ) {
                                        if (
                                            ((y.className = r.H("_shadow")),
                                            (y.firstChild.innerHTML = ""),
                                            (r.Fa = C),
                                            (y.args = C),
                                            !r.allowEventOverlap)
                                        ) {
                                            var n = {
                                                id: w.id(),
                                                start: C.start,
                                                end: C.end,
                                                resource: C.resource,
                                            };
                                            r.events.cc(n) &&
                                                (DayPilot.Util.addClass(
                                                    y,
                                                    r.H("_shadow_forbidden")
                                                ),
                                                (C.allowed = !1));
                                        }
                                        r.dc(C.start, C.end, C.resource) &&
                                            (DayPilot.Util.addClass(
                                                y,
                                                r.H("_shadow_forbidden")
                                            ),
                                            (C.allowed = !1)),
                                            DayPilot.Util.removeClass(
                                                y,
                                                r.H("_shadow_forbidden")
                                            ),
                                            "function" ==
                                                typeof r.onEventMoving &&
                                                C.allowed &&
                                                r.onEventMoving(C),
                                            C.html &&
                                                (y.firstChild.innerHTML =
                                                    C.html),
                                            C.cssClass &&
                                                DayPilot.Util.addClass(
                                                    y,
                                                    C.cssClass
                                                ),
                                            C.allowed ||
                                                DayPilot.Util.addClass(
                                                    y,
                                                    r.H("_shadow_forbidden")
                                                ),
                                            (t.movingShadow.style.top =
                                                f + "px");
                                        var i = r.nav.events;
                                        b < i.rows[0].cells.length &&
                                            b >= 0 &&
                                            t.movingShadow.column !== b &&
                                            ((t.movingShadow.column = b),
                                            t.moveShadow(i.rows[0].cells[b]));
                                        var a = b,
                                            o = y;
                                        r.hc(o, a, C);
                                    }
                                })();
                        } else if (t.firstMousePos) {
                            var H = r._b(r.coords.x, !0),
                                D = Math.floor(r.coords.y / r.cellHeight),
                                E = r.nav.main.rows[D].cells[H];
                            if (!DayPilot.Global.selecting) {
                                var S = t.firstMousePos,
                                    T = r.coords;
                                (S.x === T.x && S.y === T.y) ||
                                    (DayPilot.Global.selecting = {
                                        calendar: r,
                                    });
                            }
                            if (!DayPilot.Global.selecting) return;
                            var o = r.coords,
                                _ = H;
                            _ !== t.column &&
                                (E = r.nav.main.rows[D].cells[t.column]);
                            var M = DayPilot.Global.selecting;
                            if (M.last && M.last.x === H && M.last.y === D)
                                return;
                            (M.last = { x: H, y: D }),
                                o.y < t.firstMousePos.y
                                    ? ((r.selectedCells = t.getCellsBelow(E)),
                                      (t.topSelectedCell = r.selectedCells[0]),
                                      (t.bottomSelectedCell = t.firstSelected))
                                    : ((r.selectedCells = t.getCellsAbove(E)),
                                      (t.topSelectedCell = t.firstSelected),
                                      (t.bottomSelectedCell =
                                          r.selectedCells[0])),
                                r.bc();
                        }
                        if (t.drag) {
                            if (
                                (t.gShadow &&
                                    document.body.removeChild(t.gShadow),
                                (t.gShadow = null),
                                !t.movingShadow && r.coords)
                            ) {
                                var y = r.gb(t.drag, !1);
                                if (y) {
                                    t.movingShadow = y;
                                    var T = DayPilot.Date.today(),
                                        A = {
                                            id: t.drag.id,
                                            start: T,
                                            end: T.addSeconds(t.drag.duration),
                                            text: t.drag.text,
                                        },
                                        R = t.drag.Ud,
                                        B = t.drag.Vd,
                                        P = B || R;
                                    if (P) {
                                        var N = [
                                            "duration",
                                            "element",
                                            "remove",
                                            "id",
                                            "text",
                                        ];
                                        P === R && N.push("data");
                                        for (var L in P)
                                            DayPilot.contains(N, L) ||
                                                (A[L] = P[L]);
                                    }
                                    var U = new DayPilot.Event(A, r);
                                    (U.external = !0),
                                        (DayPilot.Global.moving = {}),
                                        (DayPilot.Global.moving.event = U),
                                        (DayPilot.Global.moving.helper = {});
                                }
                            }
                            e.cancelBubble = !0;
                        }
                        r.Wd(r.coords);
                    }),
                    (this.Xd = function (e) {
                        t.movingShadow.offsetTop,
                            DayPilot.Global.moving.event,
                            t.movingShadow.column;
                    }),
                    (this.dc = function (e, t, n) {
                        return r.Yd(e, t, n).some(function (e) {
                            return e.disabled;
                        });
                    }),
                    (this.Yd = function (e, t, n) {
                        var i = [];
                        for (var a in r.cellProperties) {
                            var o = r.cellProperties[a];
                            (!n || n === o.resource) &&
                                DayPilot.Util.overlaps(e, t, o.start, o.end) &&
                                i.push(o);
                        }
                        return i;
                    }),
                    (this.Td = function (e) {
                        if (!DayPilot.Global.resizing.event)
                            return (
                                (DayPilot.Global.resizing = null),
                                DayPilot.de(t.resizingShadow),
                                void (t.resizingShadow = null)
                            );
                        t.resizingShadow ||
                            (t.resizingShadow = r.gb(
                                DayPilot.Global.resizing,
                                !1
                            ));
                        var n =
                                DayPilot.Global.resizing.event.calendar
                                    .cellHeight,
                            i = 0,
                            a = e.y - t.originalMouse.y,
                            o = DayPilot.Global.resizing.event,
                            l = o.start(),
                            d = o.end();
                        if ("bottom" === DayPilot.Global.resizing.dpBorder) {
                            var c =
                                Math.floor(
                                    (t.originalHeight +
                                        t.originalTop +
                                        a +
                                        n / 2) /
                                        n
                                ) *
                                    n -
                                t.originalTop +
                                i;
                            c < n && (c = n);
                            var u = r.O
                                ? r.ba() * r.cellHeight
                                : r.nav.main.clientHeight;
                            t.originalTop + c > u && (c = u - t.originalTop),
                                (t.resizingShadow.style.height = c + "px"),
                                (d = r.Fb(o, t.originalTop + c));
                        } else if (
                            "top" === DayPilot.Global.resizing.dpBorder
                        ) {
                            var h =
                                Math.floor(
                                    (t.originalTop + a - i + n / 2) / n
                                ) *
                                    n +
                                i;
                            h < i && (h = i),
                                h > t.originalTop + t.originalHeight - n &&
                                    (h = t.originalTop + t.originalHeight - n);
                            var c = t.originalHeight - (h - t.originalTop);
                            c < n
                                ? (c = n)
                                : (t.resizingShadow.style.top = h + "px"),
                                (t.resizingShadow.style.height = c + "px"),
                                (l = r.Eb(o, h));
                        }
                        var f = t.resizingShadow,
                            v = r.eventResizingStartEndFormat;
                        "Auto" === v &&
                            (v =
                                "Clock24Hours" === s.timeFormat()
                                    ? "H:mm"
                                    : "h:mm tt");
                        var p = {};
                        if (
                            ((p.e = o),
                            (p.start = l),
                            (p.end = d),
                            (p.resource = o.resource()),
                            (p.allowed = !0),
                            (p.html = null),
                            (p.cssClass = null),
                            (p.top = {}),
                            (p.top.width = null),
                            (p.top.space = 5),
                            (p.top.html = p.start.toString(v, s.locale())),
                            (p.top.enabled = r.eventResizingStartEndEnabled),
                            (p.bottom = {}),
                            (p.bottom.width = null),
                            (p.bottom.space = 5),
                            (p.bottom.html = p.end.toString(v, s.locale())),
                            (p.bottom.enabled = r.eventResizingStartEndEnabled),
                            (f.args = p),
                            (f.firstChild.innerHTML = ""),
                            (f.className = r.H("_shadow")),
                            !r.allowEventOverlap)
                        ) {
                            var m = {
                                id: o.id(),
                                start: p.start,
                                end: p.end,
                                resource: p.resource,
                            };
                            r.events.cc(m) &&
                                (DayPilot.Util.addClass(
                                    f,
                                    r.H("_shadow_forbidden")
                                ),
                                (p.allowed = !1));
                        }
                        r.dc(p.start, p.end, p.resource) &&
                            (DayPilot.Util.addClass(
                                f,
                                r.H("_shadow_forbidden")
                            ),
                            (p.allowed = !1)),
                            "function" == typeof r.onEventResizing &&
                                p.allowed &&
                                r.onEventResizing(p),
                            p.html && (f.firstChild.innerHTML = p.html),
                            p.cssClass && DayPilot.Util.addClass(f, p.cssClass),
                            p.allowed ||
                                DayPilot.Util.addClass(
                                    f,
                                    r.H("_shadow_forbidden")
                                );
                        var g = o.part.dayIndex,
                            b = f;
                        r.hc(b, g, p);
                    }),
                    (this.temp = {}),
                    (this.temp.getPosition = function () {
                        var e = r.Zd.getCellCoords();
                        if (!e) return null;
                        var t = r.hb[e.x],
                            n = {};
                        return (
                            (n.resource = t.id),
                            (n.start = new DayPilot.Date(t.start)
                                .addHours(r.nb(!0))
                                .addMinutes(e.y * r.cellDuration)),
                            (n.end = n.start.addMinutes(r.cellDuration)),
                            n
                        );
                    }),
                    (this.Zd = {}),
                    (this.Zd.getCellCoords = function () {
                        var e = {};
                        if (((e.x = 0), (e.y = 0), !r.coords)) return null;
                        e.x = r._b(r.coords.x);
                        var t = 0,
                            n = Math.floor((r.coords.y - t) / r.cellHeight);
                        return (e.y = n), e.x < 0 ? null : e;
                    }),
                    (this.Zd.col = function (e, t) {
                        var n = {};
                        if (((n.left = 0), (n.width = 0), !e)) return null;
                        if (!e.rows) return null;
                        if (0 === e.rows.length) return null;
                        if (0 == e.rows[0].cells.length) return null;
                        var i = e.rows[0].cells[t];
                        if (!i) return null;
                        var a = DayPilot.abs(e),
                            r = DayPilot.abs(i);
                        return (
                            (n.left = r.x - a.x), (n.width = i.offsetWidth), n
                        );
                    }),
                    (this.Sd = function () {
                        this.Da(),
                            this.elements.crosshair ||
                                (this.elements.crosshair = []);
                        var e = this.Zd.getCellCoords();
                        if (e) {
                            var t = e.x;
                            if (null !== t) {
                                var n = Math.floor(
                                    (e.y / (60 / r.cellDuration)) *
                                        (60 / r.timeHeaderCellDuration)
                                );
                                if (!(n < 0)) {
                                    if (this.nav.hourTable) {
                                        if (n >= this.nav.hourTable.rows.length)
                                            return;
                                        var i = document.createElement("div");
                                        (i.style.position = "absolute"),
                                            (i.style.left = "0px"),
                                            (i.style.right = "0px"),
                                            (i.style.top = "0px"),
                                            (i.style.bottom = "0px"),
                                            (i.className =
                                                r.H("_crosshair_left")),
                                            this.nav.hourTable.rows[
                                                n
                                            ].cells[0].firstChild.appendChild(
                                                i
                                            ),
                                            this.elements.crosshair.push(i);
                                    }
                                    if (this.nav.header) {
                                        var a = document.createElement("div");
                                        (a.style.position = "absolute"),
                                            (a.style.left = "0px"),
                                            (a.style.right = "0px"),
                                            (a.style.top = "0px"),
                                            (a.style.bottom = "0px"),
                                            (a.className =
                                                r.H("_crosshair_top"));
                                        var o =
                                            this.nav.header.rows[
                                                this.headerLevels - 1
                                            ];
                                        o.cells[t] &&
                                            (o.cells[t].firstChild.appendChild(
                                                a
                                            ),
                                            this.elements.crosshair.push(a));
                                    }
                                    if ("Header" !== this.crosshairType) {
                                        var s = this.nav.crosshair,
                                            l = 0,
                                            d =
                                                Math.floor(
                                                    (r.coords.y - l) /
                                                        r.cellHeight
                                                ) *
                                                    r.cellHeight +
                                                l,
                                            c = r.cellHeight,
                                            u = document.createElement("div");
                                        (u.style.position = "absolute"),
                                            (u.style.left = "0px"),
                                            (u.style.right = "0px"),
                                            (u.style.top = d + "px"),
                                            (u.style.height = c + "px"),
                                            (u.className = r.H(
                                                "_crosshair_horizontal"
                                            )),
                                            (u.onmousedown = this.$d),
                                            s.appendChild(u),
                                            this.elements.crosshair.push(u);
                                        var h = t;
                                        DayPilot.browser.ie &&
                                            (h = r.hb.length - 1 - t);
                                        var f = this.Zd.col(this.nav.main, h);
                                        if (((c = r._()), f)) {
                                            var v =
                                                document.createElement("div");
                                            (v.style.position = "absolute"),
                                                (v.style.left = f.left + "px"),
                                                (v.style.width =
                                                    f.width + "px"),
                                                (v.style.top = "0px"),
                                                (v.style.height = c + "px"),
                                                (v.className = r.H(
                                                    "_crosshair_vertical"
                                                )),
                                                (v.onmousedown = this.$d),
                                                s.appendChild(v),
                                                this.elements.crosshair.push(v);
                                        }
                                    }
                                }
                            }
                        }
                    }),
                    (this.$d = function (e) {
                        var t = r.nav.main;
                        r.Da(), (r.coords = DayPilot.mo3(t, e));
                        var n = r.Zd.getCellCoords(),
                            i = 0,
                            a = n.x;
                        DayPilot.browser.ie && (a = r.hb.length - 1 - n.x);
                        var o = t.rows[n.y + i].cells[a];
                        r.$b.apply(o, [e]);
                    }),
                    (this.Da = function () {
                        if (
                            this.elements.crosshair &&
                            0 !== this.elements.crosshair.length
                        ) {
                            for (
                                var e = 0;
                                e < this.elements.crosshair.length;
                                e++
                            ) {
                                var t = this.elements.crosshair[e];
                                t &&
                                    t.parentNode &&
                                    t.parentNode.removeChild(t);
                            }
                            this.elements.crosshair = [];
                        }
                    });
                this.Oa = function () {
                    if (this.cellConfig) {
                        var e = this.cellConfig;
                        if (e.vertical)
                            for (var t = 0; t < e.x; t++)
                                for (
                                    var n = this.cellProperties[t + "_0"],
                                        i = 1;
                                    i < e.y;
                                    i++
                                )
                                    this.cellProperties[t + "_" + i] = n;
                        if (e.horizontal)
                            for (var i = 0; i < e.y; i++)
                                for (
                                    var n = this.cellProperties["0_" + i],
                                        t = 1;
                                    t < e.x;
                                    t++
                                )
                                    this.cellProperties[t + "_" + i] = n;
                        if (e["default"])
                            for (var n = e["default"], i = 0; i < e.y; i++)
                                for (var t = 0; t < e.x; t++)
                                    this.cellProperties[t + "_" + i] ||
                                        (this.cellProperties[t + "_" + i] = n);
                    }
                };
                (this.Od = function (e, t) {
                    return this.cellProperties
                        ? this.cellProperties[e + "_" + t]
                        : null;
                }),
                    (this._d = function (e, t) {
                        var n = e + "_" + t;
                        return (
                            !(
                                !this.cellProperties || !this.cellProperties[n]
                            ) && this.cellProperties[n].business
                        );
                    }),
                    (this.Pd = function (e, t) {
                        var n = e + "_" + t;
                        return this.cellProperties && this.cellProperties[n]
                            ? this.cellProperties[n].backColor
                            : null;
                    }),
                    (this.va = function () {
                        var e = this.nav.header;
                        if (e && e.rows)
                            for (var t = 0; t < e.rows.length; t++)
                                for (
                                    var n = e.rows[t], i = 0;
                                    i < n.cells.length;
                                    i++
                                ) {
                                    var a = n.cells[i];
                                    (a.onclick = null),
                                        (a.onmousemove = null),
                                        (a.onmouseout = null);
                                    var o = a,
                                        s = o.domArgs;
                                    if (
                                        ((o.domArgs = null),
                                        "function" ==
                                            typeof r.onBeforeHeaderDomRemove &&
                                            r.onBeforeHeaderDomRemove(s),
                                        "function" ==
                                            typeof r.onBeforeHeaderDomAdd &&
                                            r.ya.reactDOM)
                                    ) {
                                        var l = s && s.Tc;
                                        if (l) {
                                            var d =
                                                DayPilot.Util.isReactComponent(
                                                    s.element
                                                );
                                            if (d) {
                                                if (!r.ya.reactDOM)
                                                    throw new DayPilot.Exception(
                                                        "Can't reach ReactDOM"
                                                    );
                                                r.ya.reactDOM.unmountComponentAtNode(
                                                    l
                                                );
                                            }
                                        }
                                    }
                                }
                        e &&
                            (this.P || DayPilot.pu(e),
                            (e.innerHTML = ""),
                            (e.rows = []));
                    }),
                    (this.ae = function (e) {
                        var t = e + 1,
                            n = t === r.headerLevels,
                            i = this.Oc(t),
                            a = 0,
                            o = 0,
                            s = r.aa(),
                            l = [];
                        if (!n)
                            for (var d = 0; d < i.length; d++) {
                                var c = i[d],
                                    u = s[d],
                                    h = !!c.getChildren,
                                    f = h
                                        ? c.getChildrenCount(
                                              r.headerLevels - t + 1
                                          )
                                        : 1,
                                    v = u.width;
                                DayPilot.list.for(f - 1, function () {
                                    (v += s[d + a].width), (a += 1);
                                }),
                                    l.push({ left: o, width: v }),
                                    (o += v);
                            }
                        return l;
                    }),
                    (this.be = function (e) {
                        function t(e) {
                            var t = i[e],
                                n = l[e],
                                a = {};
                            (a.header = {}), (a.column = r.xb(t, r));
                            var h = null;
                            r.fb() &&
                                "function" == typeof r.onBeforeHeaderRender &&
                                (DayPilot.Util.copyProps(t, a.header, [
                                    "id",
                                    "start",
                                    "name",
                                    "html",
                                    "backColor",
                                    "toolTip",
                                    "areas",
                                    "children",
                                ]),
                                r.onBeforeHeaderRender(a),
                                DayPilot.Util.copyProps(a.header, t, [
                                    "html",
                                    "backColor",
                                    "toolTip",
                                    "areas",
                                ]));
                            var f = !!t.getChildren,
                                v = n.width,
                                p = n.left;
                            o || ((p = u[e].left), (v = u[e].width));
                            var m = document.createElement("div");
                            (m.style.position = "absolute"),
                                (m.style.top = d + "px"),
                                (m.style.left = p + n.unit),
                                (m.style.right = p + n.unit),
                                (m.style.width = v + n.unit),
                                (m.data = t),
                                c.push(m),
                                f &&
                                    ((m.onclick = r.yb),
                                    (m.onmousemove = r.zb),
                                    (m.onmouseout = r.Ab),
                                    t.toolTip && (m.title = t.toolTip)),
                                (m.style.overflow = "hidden"),
                                (m.style.height = s.headerHeight() + "px");
                            var g = document.createElement("div");
                            g.setAttribute("unselectable", "on"),
                                (g.style.userSelect = "none"),
                                (g.style.position = "relative"),
                                (g.style.height = s.headerHeight() + "px"),
                                (g.className = r.H("_colheader"));
                            var b = document.createElement("div");
                            if (
                                ((b.className = r.H("_colheader_inner")),
                                t.backColor &&
                                    (b.style.background = t.backColor),
                                g.appendChild(b),
                                m.appendChild(g),
                                r.ce(g, t),
                                "function" == typeof r.onBeforeHeaderDomAdd &&
                                    ((a.element = null),
                                    r.onBeforeHeaderDomAdd(a),
                                    (h = a.element)),
                                (m.domArgs = a),
                                h)
                            ) {
                                var y = b;
                                a.Tc = y;
                                if (DayPilot.Util.isReactComponent(h)) {
                                    if (!r.ya.reactDOM)
                                        throw new DayPilot.Exception(
                                            "Can't reach ReactDOM"
                                        );
                                    r.ya.reactDOM.render(h, y);
                                } else y.appendChild(h);
                            } else f && (g.firstChild.innerHTML = t.html || "");
                            r.nav.header.appendChild(m);
                        }
                        var n = e + 1,
                            i = this.Oc(n),
                            a = i.length,
                            o = n === r.headerLevels,
                            l = r.aa(),
                            d = e * s.headerHeight(),
                            c = [];
                        r.nav.header.rows.push({ cells: c });
                        var u = r.ae(e);
                        if (DayPilot.browser.ie)
                            for (var h = a - 1; h >= 0; h--) t(h);
                        else for (var h = 0; h < a; h++) t(h);
                    }),
                    (this.ee = function (e, t) {
                        for (
                            var n = t
                                    ? this.nav.header.insertRow(-1)
                                    : this.nav.header.rows[e - 1],
                                i = this.Oc(e),
                                a = i.length,
                                o = e === r.headerLevels,
                                l = 0;
                            l < a;
                            l++
                        ) {
                            var d = i[l];
                            if (
                                r.fb() &&
                                "function" == typeof r.onBeforeHeaderRender
                            ) {
                                var c = {};
                                (c.header = {}),
                                    DayPilot.Util.copyProps(d, c.header, [
                                        "id",
                                        "start",
                                        "name",
                                        "html",
                                        "backColor",
                                        "toolTip",
                                        "areas",
                                        "children",
                                    ]),
                                    this.onBeforeHeaderRender(c),
                                    DayPilot.Util.copyProps(c.header, d, [
                                        "html",
                                        "backColor",
                                        "toolTip",
                                        "areas",
                                    ]);
                            }
                            var u = !!d.getChildren,
                                h = t ? n.insertCell(-1) : n.cells[l];
                            if (((h.data = d), o));
                            else {
                                var f = 1;
                                u &&
                                    (f = d.getChildrenCount(
                                        r.headerLevels - e + 1
                                    )),
                                    (h.colSpan = f);
                            }
                            u &&
                                ((h.onclick = this.yb),
                                (h.onmousemove = this.zb),
                                (h.onmouseout = this.Ab),
                                d.toolTip && (h.title = d.toolTip)),
                                (h.style.overflow = "hidden"),
                                (h.style.padding = "0px"),
                                (h.style.border = "0px none"),
                                (h.style.height = s.headerHeight() + "px");
                            var v = t
                                ? document.createElement("div")
                                : h.firstChild;
                            if (t) {
                                v.setAttribute("unselectable", "on"),
                                    (v.style.MozUserSelect = "none"),
                                    (v.style.KhtmlUserSelect = "none"),
                                    (v.style.WebkitUserSelect = "none"),
                                    (v.style.position = "relative"),
                                    (v.style.height = s.headerHeight() + "px"),
                                    (v.className = r.H("_colheader"));
                                var p = document.createElement("div");
                                (p.className = r.H("_colheader_inner")),
                                    d.backColor &&
                                        (p.style.background = d.backColor),
                                    v.appendChild(p),
                                    h.appendChild(v);
                            } else v.style.height = s.headerHeight() + "px";
                            this.ce(v, d),
                                u && (v.firstChild.innerHTML = d.html);
                        }
                    }),
                    (this.ce = function (e, t) {
                        for (var n = [], i = 0; i < e.childNodes.length; i++) {
                            var a = e.childNodes[i];
                            a.isActiveArea && n.push(a);
                        }
                        for (var i = 0; i < n.length; i++) {
                            var a = n[i];
                            DayPilot.de(a);
                        }
                        if (t.areas)
                            for (var o = t.areas, i = 0; i < o.length; i++) {
                                var s = o[i];
                                if (DayPilot.Areas.isVisible(s)) {
                                    var l = r.xb(t),
                                        d = DayPilot.Areas.createArea(e, l, s);
                                    e.appendChild(d);
                                }
                            }
                    }),
                    (this.Ra = function () {
                        r.O ? r.fe() : r.ge();
                    }),
                    (this.fe = function () {
                        var e = r.nav.header;
                        if ((r.va(), this.showHeader)) {
                            var t = this.Oc(r.headerLevels, !0),
                                n = t.length;
                            this.je = !0;
                            var i = r.nav.corner;
                            if (i) {
                                this.P || DayPilot.pu(i.firstChild);
                                var a = {};
                                a.html = r.ea(r.cornerText, r.cornerHtml);
                                var o = null;
                                if (
                                    (r.wa(),
                                    "function" ==
                                        typeof r.onBeforeCornerRender &&
                                        r.onBeforeCornerRender(a),
                                    "function" ==
                                        typeof r.onBeforeCornerDomAdd &&
                                        ((a.element = null),
                                        r.onBeforeCornerDomAdd(a),
                                        (o = a.element)),
                                    o)
                                ) {
                                    var l = i.firstChild;
                                    l.domArgs = a;
                                    if (DayPilot.Util.isReactComponent(o)) {
                                        if (!r.ya.reactDOM)
                                            throw new DayPilot.Exception(
                                                "Can't reach ReactDOM"
                                            );
                                        r.ya.reactDOM.render(o, l);
                                    } else l.appendChild(o);
                                } else i.firstChild.innerHTML = a.html || "";
                            }
                            for (var d = 0; d < r.headerLevels; d++) this.be(d);
                            if (this.showAllDayEvents) {
                                var c = [];
                                r.nav.header.rows.push({ cells: c });
                                for (
                                    var u = r.aa(),
                                        h = r.headerLevels * s.headerHeight(),
                                        f = 0;
                                    f < n;
                                    f++
                                ) {
                                    var v = t[f],
                                        p = u[f],
                                        m = document.createElement("div");
                                    (m.data = v),
                                        (m.style.overflow = "hidden"),
                                        (m.style.position = "absolute"),
                                        (m.style.left = p.left + p.unit),
                                        (m.style.right = p.left + p.unit),
                                        (m.style.width = p.width + p.unit),
                                        (m.style.top = h + "px");
                                    var g = document.createElement("div");
                                    g.setAttribute("unselectable", "on"),
                                        (g.style.userSelect = "none"),
                                        (g.style.overflow = "hidden"),
                                        (g.style.position = "relative"),
                                        (g.style.height =
                                            s.allDayHeaderHeight() + "px"),
                                        (g.className = this.H("_alldayheader"));
                                    var b = document.createElement("div");
                                    (b.className = this.H(
                                        "_alldayheader_inner"
                                    )),
                                        g.appendChild(b),
                                        m.appendChild(g),
                                        (g.style.height =
                                            s.allDayHeaderHeight() + "px"),
                                        c.push(m),
                                        e.appendChild(m);
                                }
                            }
                        }
                    }),
                    (this.ge = function () {
                        if (this.showHeader) {
                            var e = this.nav.header,
                                t = !0,
                                n = this.Oc(r.headerLevels, !0),
                                i = n.length;
                            for (
                                DayPilot.de(this.nav.header), this.Gd();
                                this.je && e && e.rows && e.rows.length > 0;

                            )
                                this.P || DayPilot.pu(e.rows[0]),
                                    e.deleteRow(0);
                            this.je = !0;
                            var a = r.nav.corner;
                            if (a) {
                                this.P || DayPilot.pu(a.firstChild);
                                var o = {};
                                (o.html = r.ea(r.cornerText, r.cornerHtml)),
                                    "function" ==
                                        typeof r.onBeforeCornerRender &&
                                        r.onBeforeCornerRender(o),
                                    (a.firstChild.innerHTML = o.html
                                        ? o.html
                                        : "");
                            }
                            for (var l = 0; l < r.headerLevels; l++)
                                this.ee(l + 1, t);
                            if (this.showAllDayEvents)
                                for (
                                    var d = this.nav.header.insertRow(-1),
                                        l = 0;
                                    l < i;
                                    l++
                                ) {
                                    var c = n[l],
                                        u = d.insertCell(-1);
                                    (u.data = c),
                                        (u.style.padding = "0px"),
                                        (u.style.border = "0px none"),
                                        (u.style.overflow = "hidden");
                                    var h = document.createElement("div");
                                    h.setAttribute("unselectable", "on"),
                                        (h.style.MozUserSelect = "none"),
                                        (h.style.KhtmlUserSelect = "none"),
                                        (h.style.WebkitUserSelect = "none"),
                                        (h.style.overflow = "hidden"),
                                        (h.style.position = "relative"),
                                        (h.style.height =
                                            s.allDayHeaderHeight() + "px"),
                                        (h.className = this.H("_alldayheader"));
                                    var f = document.createElement("div");
                                    (f.className = this.H(
                                        "_alldayheader_inner"
                                    )),
                                        h.appendChild(f),
                                        u.appendChild(h),
                                        (h.style.height =
                                            s.allDayHeaderHeight() + "px");
                                }
                        }
                    }),
                    (this.ka = function (e) {
                        var t = e ? 0 : 100;
                        this.callbackTimeout &&
                            window.clearTimeout(this.callbackTimeout),
                            (this.callbackTimeout = window.setTimeout(
                                function () {
                                    r.loadingLabelVisible &&
                                        r.nav.loading &&
                                        ((r.nav.loading.innerHTML = r.ea(
                                            this.loadingLabelText,
                                            this.loadingLabelHtml
                                        )),
                                        (r.nav.loading.style.top =
                                            r.ob() + 5 + "px"),
                                        (r.nav.loading.style.display = ""));
                                },
                                t
                            ));
                    }),
                    (this.Ja = function () {
                        this.callbackTimeout &&
                            window.clearTimeout(this.callbackTimeout),
                            this.nav.loading &&
                                (this.nav.loading.style.display = "none");
                    }),
                    (this.ke = function (e) {
                        var t = r.nb(!0);
                        return (
                            e < t && (e += 24),
                            (e - t) * (60 / r.cellDuration) * r.cellHeight
                        );
                    }),
                    (this.le = function () {
                        var e = this.Z(),
                            t = this.initScrollPos;
                        if (!t) {
                            var n = this.businessBeginsHour;
                            t = r.ke(n);
                        }
                        (e.root = this),
                            (e.onscroll = this.nc),
                            r.da(),
                            0 === e.scrollTop
                                ? (e.scrollTop = t - this.fc())
                                : this.nc();
                    }),
                    (this.me = function () {
                        var e = r.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.ne = function () {
                        var e = r.me;
                        return e()
                            ? void r.oe()
                            : void (
                                  r.pe ||
                                  (r.pe = setInterval(function () {
                                      e() &&
                                          (clearInterval(r.pe),
                                          r.le(),
                                          r.Ya(),
                                          r.oe());
                                  }, 100))
                              );
                    }),
                    (this.scrollToY = function (e) {
                        this.Z().scrollTop = e;
                    }),
                    (this.scrollToHour = function (e) {
                        var t = r.ke(e);
                        this.Z().scrollTop = t - this.fc();
                    }),
                    (this.Z = function () {
                        return "Fixed" === this.columnWidthSpec || this.N
                            ? this.nav.bottomRight
                            : this.nav.scroll;
                    }),
                    (this.onCallbackError = function (e, t) {
                        alert("Error!\r\nResult: " + e + "\r\nContext:" + t);
                    }),
                    (this.Ya = function () {
                        if (r.showHeader) {
                            var e = this.Ed(),
                                t = !!this.nav.cornerRight;
                            if (this.N) {
                                this.nav.unifiedCornerRight &&
                                    DayPilot.de(this.nav.unifiedCornerRight);
                                var n =
                                        (r.Z(),
                                        r.nav.main.getBoundingClientRect()
                                            .width),
                                    i = r.rd();
                                if ("100%" != i && parseInt(i) < n) return;
                                var a,
                                    o = DayPilot.sw(this.nav.bottomRight);
                                r.O
                                    ? ((a = document.createElement("div")),
                                      (a.style.position = "absolute"),
                                      (a.style.left = n + "px"),
                                      (a.style.right = n + "px"),
                                      (a.style.height = r.ob() + "px"),
                                      r.nav.headerParent.appendChild(a),
                                      (r.nav.unifiedCornerRight = a),
                                      (r.nav.header.style.width = n + "px"),
                                      r.nav.allday &&
                                          (r.nav.allday.style.width = n + "px"))
                                    : ((this.nav.unifiedCornerRight =
                                          this.nav.header.rows[0].insertCell(
                                              -1
                                          )),
                                      (a = this.nav.unifiedCornerRight),
                                      (a.rowSpan =
                                          this.nav.header.rows.length)),
                                    (a.style.width = o + "px");
                                var s = document.createElement("div");
                                (s.className = r.H("_cornerright")),
                                    s.setAttribute("unselectable", "on"),
                                    (s.style.overflow = "hidden"),
                                    (s.style.height = this.ob() + "px"),
                                    (s.style.position = "relative");
                                var l = document.createElement("div");
                                (l.className = r.H("_cornerright_inner")),
                                    s.appendChild(l),
                                    a.appendChild(s);
                                return void (
                                    !("Fixed" === this.columnWidthSpec) &&
                                    this.nav.allday &&
                                    (r.rtl
                                        ? (this.nav.allday.style.left =
                                              o + "px")
                                        : (this.nav.allday.style.right =
                                              o + "px"))
                                );
                            }
                            if (e !== t)
                                if (e) this.Hd();
                                else {
                                    if (
                                        this.nav.fullHeader &&
                                        3 ===
                                            this.nav.fullHeader.rows[0].cells
                                                .length
                                    ) {
                                        var a =
                                            this.nav.fullHeader.rows[0]
                                                .cells[2];
                                        a.parentNode &&
                                            a.parentNode.removeChild(a);
                                    }
                                    this.nav.cornerRight = null;
                                }
                            var d = this.nav.cornerRight;
                            if (d) {
                                var o = DayPilot.sw(r.pb());
                                return d && (d.style.width = o + "px"), o;
                            }
                        }
                    }),
                    (this.eb = function (e) {
                        if (
                            (e && (this.autoRefreshEnabled = !0),
                            this.autoRefreshEnabled &&
                                !(this.S >= this.autoRefreshMaxCount))
                        ) {
                            this.qa();
                            var t = this.autoRefreshInterval;
                            if (!t || t < 10)
                                throw new DayPilot.Exception(
                                    "The minimum autoRefreshInterval is 10 seconds"
                                );
                            this.autoRefreshTimeout = window.setTimeout(
                                function () {
                                    r.qe();
                                },
                                1e3 * this.autoRefreshInterval
                            );
                        }
                    }),
                    (this.qa = function () {
                        this.autoRefreshTimeout &&
                            window.clearTimeout(this.autoRefreshTimeout);
                    }),
                    (this.qe = function () {
                        if (
                            !(
                                DayPilot.Global.resizing ||
                                DayPilot.Global.moving ||
                                t.drag ||
                                DayPilot.Global.selecting
                            )
                        ) {
                            var e = !1;
                            if ("function" == typeof this.onAutoRefresh) {
                                var n = {};
                                (n.i = this.S),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    r.onAutoRefresh(n),
                                    n.preventDefault.value && (e = !0);
                            }
                            !e &&
                                this.J() &&
                                this.commandCallBack(this.autoRefreshCommand),
                                this.S++;
                        }
                        this.S < this.autoRefreshMaxCount &&
                            (this.autoRefreshTimeout = window.setTimeout(
                                function () {
                                    r.qe();
                                },
                                1e3 * this.autoRefreshInterval
                            ));
                    }),
                    (this.za = function () {
                        r.cb();
                    }),
                    (this.cb = function () {
                        r.Xa(),
                            "Parent100Pct" === r.heightSpec &&
                                r.setHeight(
                                    parseInt(r.nav.top.clientHeight, 10)
                                ),
                            r.Ya(),
                            r.db(),
                            r.da();
                    }),
                    (this.se = null),
                    (this.te = null),
                    (r.pa = null),
                    (this.oe = function () {
                        var e = function () {
                            r.cb(), r.nc();
                        };
                        if (r.watchWidthChanges) {
                            if ("function" == typeof ResizeObserver) {
                                if (r.pa) return;
                                var t = new ResizeObserver(e);
                                return t.observe(r.nav.top), void (r.pa = t);
                            }
                            if (!r.te) {
                                var n = function () {
                                    return r.nav && r.nav.top
                                        ? r.se
                                            ? (r.se.width !==
                                                  r.nav.top.offsetWidth &&
                                                  ((r.se.changed = !0),
                                                  (r.se.counter = 0),
                                                  (r.se.width =
                                                      r.nav.top.offsetWidth)),
                                              r.se.changed &&
                                                  (r.se.counter += 1),
                                              void (
                                                  r.se.changed &&
                                                  r.se.counter > 0 &&
                                                  ((r.se.changed = !1), e())
                                              ))
                                            : ((r.se = {}),
                                              (r.se.counter = 0),
                                              (r.se.changed = !1),
                                              void (r.se.width =
                                                  r.nav.top.offsetWidth))
                                        : void clearInterval(r.te);
                                };
                                (this.te = setInterval(n, 200)), n();
                            }
                        }
                    }),
                    (this.ve = function () {
                        t.globalHandlers ||
                            ((t.globalHandlers = !0),
                            DayPilot.re(document, "mousemove", t.gMouseMove),
                            DayPilot.re(document, "mouseup", t.gMouseUp),
                            DayPilot.re(
                                document,
                                DayPilot.touch.move,
                                t.gTouchMove
                            ),
                            DayPilot.re(
                                document,
                                DayPilot.touch.end,
                                t.gTouchEnd
                            )),
                            DayPilot.re(window, "resize", this.za);
                    }),
                    (this.Zc = function (e) {
                        if (!o.active && !o.using) {
                            e = e || window.event;
                            var n = DayPilot.Util.mouseButton(e);
                            if (t.editing) return void t.editing.blur();
                            if (
                                ("undefined" != typeof DayPilot.Bubble &&
                                    (DayPilot.Bubble.hideActive(),
                                    DayPilot.Bubble.cancelShowing()),
                                ("n-resize" !== this.style.cursor &&
                                    "s-resize" !== this.style.cursor) ||
                                    !n.left)
                            ) {
                                if (
                                    ("move" === this.style.cursor ||
                                        ("Full" === r.moveBy &&
                                            this.event.client.moveEnabled())) &&
                                    n.left
                                ) {
                                    DayPilot.Global.moving = this;
                                    var i = (DayPilot.Global.moving.helper =
                                        {});
                                    (i.oldColumn =
                                        r.hb[this.event.part.dayIndex].id),
                                        (t.originalMouse = DayPilot.mc(e)),
                                        (t.originalTop = this.offsetTop);
                                    var a = DayPilot.mo3(this, e);
                                    a
                                        ? (t.moveOffsetY = a.y)
                                        : (t.moveOffsetY = 0),
                                        (r.nav.top.style.cursor =
                                            this.style.cursor);
                                }
                            } else
                                (DayPilot.Global.resizing = this),
                                    (t.originalMouse = DayPilot.mc(e)),
                                    (t.originalHeight = this.offsetHeight),
                                    (t.originalTop = this.offsetTop),
                                    (r.nav.top.style.cursor =
                                        this.style.cursor);
                            return !1;
                        }
                    }),
                    (this.we = function (e) {
                        var t = this.Q.events,
                            n = this.events.list[e],
                            i = {};
                        for (var a in n) i[a] = n[a];
                        if (r.showEventStartEnd) {
                            var o =
                                    n.start.getDatePart().getTime() ===
                                    n.end.getDatePart().getTime(),
                                l = o
                                    ? s.locale().timePattern
                                    : s.locale().dateTimePattern,
                                d = n.start.toString(l),
                                c = n.end.toString(l);
                            i.html = r.ea(i.text) + " (" + d + " - " + c + ")";
                        }
                        if ("function" == typeof this.onBeforeEventRender) {
                            var u = {};
                            (u.e = i),
                                (u.data = i),
                                this.onBeforeEventRender(u);
                        }
                        t[e] = i;
                    }),
                    (this.xe = null),
                    (this.Wd = function (e) {
                        function t(e, t) {
                            return 1 - e / t;
                        }
                        var n =
                                DayPilot.Global.moving ||
                                DayPilot.Global.resizing ||
                                DayPilot.Global.selecting,
                            i = "Always" === r.autoScroll,
                            a = "Drag" === r.autoScroll && n;
                        if (i || a) {
                            var o = r.nav.bottomRight;
                            (e.x -= o.scrollLeft), (e.y -= o.scrollTop);
                            var s = o.clientWidth,
                                l = o.clientHeight,
                                d = 30,
                                c = e.x < d ? e.x : 0,
                                u = s - e.x < d ? s - e.x : 0,
                                h = e.y < d ? e.y : 0,
                                f = l - e.y < d ? l - e.y : 0,
                                v = 0,
                                p = 0,
                                m = 50;
                            c && (v = -50 * t(c, d)),
                                u && (v = m * t(u, d)),
                                h && (p = (-50 * t(h, d)) / 2),
                                f && (p = (m * t(h, d)) / 2),
                                v || p ? r.ye(v, p) : r.Ea();
                        }
                    }),
                    (this.ye = function (e, t) {
                        this.Ea(), this.ze(e, t);
                    }),
                    (this.Ae = function (e) {
                        if (!e) return !1;
                        var t = r.nav.bottomRight,
                            n = t.scrollWidth,
                            i = t.scrollLeft,
                            a = t.clientWidth,
                            o = i + a;
                        return (
                            !(e < 0 && i <= 0) &&
                            !(e > 0 && o >= n) &&
                            ((t.scrollLeft += e), (r.coords.x += e), r.Be(), !0)
                        );
                    }),
                    (this.Ce = function (e) {
                        if (!e) return !1;
                        var t = r.nav.bottomRight,
                            n = t.scrollHeight,
                            i = t.scrollTop,
                            a = t.clientHeight,
                            o = i + a;
                        return (
                            !(e < 0 && i <= 0) &&
                            !(e > 0 && o >= n) &&
                            ((t.scrollTop += e), (r.coords.y += e), r.Be(), !0)
                        );
                    }),
                    (this.Be = function () {}),
                    (this.ze = function (e, t) {
                        if (this.Ae(e) || this.Ce(t)) {
                            var n = function (e, t) {
                                return function () {
                                    r.ze(e, t);
                                };
                            };
                            this.De = window.setTimeout(n(e, t), 200);
                        }
                    }),
                    (this.Ea = function () {
                        r.De && (window.clearTimeout(r.De), (r.De = null));
                    }),
                    (this.$c = {});
                var o = r.$c;
                (o.active = !1),
                    (o.start = null),
                    (o.timeout = null),
                    (o.startcell = null),
                    (this.$c.getCellCoords = function (e) {
                        var t, n;
                        e.touches
                            ? ((t = e.touches[0].pageX),
                              (n = e.touches[0].pageY))
                            : ((t = e.pageX), (n = e.pageY));
                        var i = DayPilot.abs(r.nav.main),
                            a = { x: t - i.x, y: n - i.y },
                            o = r.nav.main.clientWidth / r.hb.length;
                        return {
                            pageX: t,
                            pageY: n,
                            x: Math.floor(a.x / o),
                            y: Math.floor(a.y / r.cellHeight),
                            toString: function () {
                                return "x: " + this.x + " y:" + this.y;
                            },
                        };
                    }),
                    (this.$c.startSelecting = function (e) {
                        var n = r.nav.main.rows[e.y].cells[e.x];
                        (o.startcell = e),
                            r.clearSelection(),
                            (t.column = e.x),
                            r.selectedCells.push(n),
                            (t.firstSelected = n),
                            (t.topSelectedCell = n),
                            (t.bottomSelectedCell = n),
                            (DayPilot.Global.selecting = { calendar: r }),
                            r.bc();
                    }),
                    (this.$c.extendSelection = function (e) {
                        var n = r.nav.main.rows[e.y].cells[e.x];
                        r.clearSelection(),
                            (DayPilot.Global.selecting = { calendar: r }),
                            e.y < o.startcell.y
                                ? ((r.selectedCells = t.getCellsBelow(n)),
                                  (t.topSelectedCell = r.selectedCells[0]),
                                  (t.bottomSelectedCell = t.firstSelected))
                                : ((r.selectedCells = t.getCellsAbove(n)),
                                  (t.topSelectedCell = t.firstSelected),
                                  (t.bottomSelectedCell = r.selectedCells[0])),
                            r.bc();
                    }),
                    (this.$c.detected = !1),
                    (this.$c.onMainTouchStart = function (e) {
                        if (
                            !(
                                DayPilot.Util.isMouseEvent(e) ||
                                ((o.start = !0),
                                (o.detected = !0),
                                o.active || e.touches.length > 1)
                            )
                        ) {
                            o.using = !0;
                            var t = o.getCellCoords(e);
                            o.startCoords = t;
                            var n = r.tapAndHoldTimeout;
                            o.timeout = window.setTimeout(function () {
                                switch (
                                    (e.preventDefault(),
                                    (o.active = !0),
                                    (o.start = !1),
                                    r.timeRangeTapAndHoldHandling)
                                ) {
                                    case "Select":
                                        o.startSelecting(t);
                                        break;
                                    case "ContextMenu":
                                        o.startSelecting(t),
                                            (o.active = !1),
                                            r.contextMenuSelection &&
                                                r.contextMenuSelection.show(
                                                    r.getSelection()
                                                );
                                }
                            }, n);
                        }
                    }),
                    (this.$c.onCellTouchMove = function (e) {}),
                    (this.$c.onCellTouchEnd = function (e) {
                        if (!o.active)
                            return (
                                window.clearTimeout(o.timeout),
                                void (
                                    o.start &&
                                    !(function (e) {
                                        if (
                                            "Disabled" !==
                                            r.timeRangeSelectedHandling
                                        ) {
                                            r.clearSelection(),
                                                (r.selectedCells = [e]),
                                                (t.topSelectedCell = e),
                                                (t.bottomSelectedCell = e),
                                                r.bc();
                                            var n = r.getSelection();
                                            (n.toString = function () {
                                                return (
                                                    "start: " +
                                                    this.start +
                                                    "\nend: " +
                                                    this.end
                                                );
                                            }),
                                                setTimeout(function () {
                                                    r.Sb(
                                                        n.start,
                                                        n.end,
                                                        n.resource
                                                    );
                                                }, 10);
                                        }
                                    })(this)
                                )
                            );
                        e.preventDefault(),
                            e.stopPropagation(),
                            (o.startcell = null),
                            (o.start = !1);
                        var n = r.getSelection();
                        (n.toString = function () {
                            return (
                                "start: " + this.start + "\nend: " + this.end
                            );
                        }),
                            r.Sb(n.start, n.end, n.resource),
                            window.setTimeout(function () {
                                o.active = !1;
                            }, 500);
                    }),
                    (this.$c.startMoving = function (e, n) {
                        (DayPilot.Global.moving = e),
                            ((DayPilot.Global.moving.helper = {}).oldColumn =
                                r.hb[e.event.part.dayIndex].id),
                            (t.originalMouse = n),
                            (t.originalTop = this.offsetTop);
                        var i = DayPilot.abs(e);
                        (t.moveOffsetY = n.y - i.y),
                            t.movingShadow ||
                                ((t.movingShadow = r.gb(
                                    DayPilot.Global.moving,
                                    !r.W.ie
                                )),
                                (t.movingShadow.style.width =
                                    t.movingShadow.parentNode.offsetWidth +
                                    1 +
                                    "px"));
                    }),
                    (this.$c.startResizing = function (e, n, i) {
                        (DayPilot.Global.resizing = e),
                            (e.dpBorder = n),
                            (t.originalMouse = i),
                            (t.originalHeight = e.offsetHeight),
                            (t.originalTop = e.offsetTop);
                    }),
                    (this.$c.updateResizing = function (e) {
                        r.Td(e);
                    }),
                    (this.$c.updateMoving = function () {
                        var e = r.coords,
                            n = r.cellHeight,
                            i = 0,
                            a = t.moveOffsetY;
                        a || (a = n / 2);
                        var o = Math.floor((e.y - a - i + n / 2) / n) * n + i;
                        o < i && (o = i);
                        var s = r.nav.main,
                            l = r._(),
                            d = parseInt(t.movingShadow.style.height);
                        o + d > l && (o = l - d),
                            (t.movingShadow.style.top = o + "px"),
                            (t.movingShadow.allowed = !0);
                        var c = s.clientWidth / s.rows[0].cells.length,
                            u = Math.floor(e.x / c);
                        u < 0 && (u = 0);
                        var h = r.nav.events;
                        u < h.rows[0].cells.length &&
                            u >= 0 &&
                            t.movingShadow.column !== u &&
                            ((t.movingShadow.column = u),
                            t.moveShadow(h.rows[0].cells[u]));
                    }),
                    (this.$c.onEventTouchStart = function (e) {
                        if (!o.active && !DayPilot.Util.isMouseEvent(e)) {
                            e.stopPropagation(),
                                (o.preventEventTap = !1),
                                (o.using = !0),
                                (o.startCoords = o.getCellCoords(e));
                            var t = this,
                                n = e.touches ? e.touches[0].pageX : e.pageX,
                                i = e.touches ? e.touches[0].pageY : e.pageY,
                                a = { x: n, y: i, div: this };
                            r.coords = o.relativeCoords(e);
                            var s = r.tapAndHoldTimeout;
                            o.timeout = window.setTimeout(function () {
                                var n = t.event;
                                switch (
                                    ((o.active = !0), r.eventTapAndHoldHandling)
                                ) {
                                    case "Move":
                                        n.client.moveEnabled() &&
                                            o.startMoving(t, a);
                                        break;
                                    case "ContextMenu":
                                        var i = n.client.contextMenu();
                                        DayPilot.Menu &&
                                            DayPilot.Menu.touchPosition(e),
                                            i
                                                ? i.show(n)
                                                : r.contextMenu &&
                                                  r.contextMenu.show(n);
                                }
                            }, s);
                        }
                    }),
                    (this.$c.onMainTouchMove = function (e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            if (((o.start = !1), o.timeout)) {
                                var n = o.getCellCoords(e);
                                n &&
                                    o.startCoords &&
                                    ((n.pageX === o.startCoords.pageX &&
                                        n.pageY === o.startCoords.pageY) ||
                                        window.clearTimeout(r.$c.timeout));
                            }
                            if (DayPilot.Global.moving && t.movingShadow)
                                return (
                                    e.preventDefault(),
                                    (r.coords = o.relativeCoords(e)),
                                    void o.updateMoving()
                                );
                            if (DayPilot.Global.resizing) {
                                e.preventDefault();
                                var i = e.touches ? e.touches[0] : e,
                                    n = { x: i.pageX, y: i.pageY };
                                return void o.updateResizing(n);
                            }
                            if (o.startcell) {
                                if ((e.preventDefault(), !o.active))
                                    return void window.clearTimeout(o.timeout);
                                var n = o.getCellCoords(e);
                                o.extendSelection(n);
                            }
                            o.preventEventTap = !0;
                        }
                    }),
                    (this.$c.relativeCoords = function (e) {
                        var t = r.nav.main,
                            n = e.touches ? e.touches[0].pageX : e.pageX,
                            i = e.touches ? e.touches[0].pageY : e.pageY,
                            a = DayPilot.abs(t);
                        return {
                            x: n - a.x,
                            y: i - a.y,
                            toString: function () {
                                return "x: " + this.x + ", y:" + this.y;
                            },
                        };
                    }),
                    (this.$c.onMainTouchEnd = function (e) {
                        if (!DayPilot.Util.isMouseEvent(e))
                            if (DayPilot.Global.moving) {
                                (o.active = !1),
                                    e.preventDefault(),
                                    e.stopPropagation();
                                var n = t.movingShadow.offsetTop,
                                    i = DayPilot.Global.moving.event,
                                    a = i.calendar;
                                a.ic(t.movingShadow);
                                var r = t.movingShadow.column,
                                    s = t.movingShadow;
                                if (
                                    (DayPilot.Util.removeClass(
                                        DayPilot.Global.moving,
                                        a.H("_event_moving_source")
                                    ),
                                    (DayPilot.Global.moving = null),
                                    (t.movingShadow = null),
                                    !s.allowed)
                                )
                                    return void a.Lb();
                                i.calendar.Kb(i, r, n, e, t.drag);
                            } else if (o.startcell) {
                                if (!o.active)
                                    return void window.clearTimeout(o.timeout);
                                e.preventDefault(), (o.startcell = null);
                                var l = a.getSelection();
                                (l.toString = function () {
                                    return (
                                        "start: " +
                                        this.start +
                                        "\nend: " +
                                        this.end
                                    );
                                }),
                                    a.Sb(l.start, l.end, l.resource),
                                    window.setTimeout(function () {
                                        o.active = !1;
                                    }, 500);
                            }
                    }),
                    (this.$c.onEventTouchMove = function (e) {
                        o.preventEventTap = !0;
                    }),
                    (this.$c.onEventTouchEnd = function (e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            if (!o.active) {
                                if (o.preventEventTap) return;
                                return (
                                    window.clearTimeout(o.timeout),
                                    void r.sb(this, !1, !1, e)
                                );
                            }
                            return (
                                (o.active = !1),
                                o.timeout
                                    ? void window.clearTimeout(o.timeout)
                                    : void 0
                            );
                        }
                    }),
                    (this.Xc = function (e) {
                        var n = 5,
                            i = 10,
                            a = "Top" === r.moveBy;
                        if ("undefined" != typeof t) {
                            var o = DayPilot.mo3(this, e);
                            if (o) {
                                r.eventOffset = o;
                                var s = this;
                                if (
                                    (s.active ||
                                        DayPilot.Util.addClass(
                                            s,
                                            r.H("_event_hover")
                                        ),
                                    !DayPilot.Global.resizing &&
                                        !DayPilot.Global.moving)
                                ) {
                                    var l = this.isFirst,
                                        d = this.isLast;
                                    if (
                                        "Disabled" !== r.moveBy &&
                                        "None" !== r.moveBy &&
                                        (!a &&
                                        o.x <= i &&
                                        this.event.client.moveEnabled()
                                            ? l
                                                ? (this.style.cursor = "move")
                                                : (this.style.cursor =
                                                      "not-allowed")
                                            : !a &&
                                              o.y <= n &&
                                              this.event.client.resizeEnabled()
                                            ? l
                                                ? ((this.style.cursor =
                                                      "n-resize"),
                                                  (this.dpBorder = "top"))
                                                : (this.style.cursor =
                                                      "not-allowed")
                                            : a &&
                                              o.y <= i &&
                                              this.event.client.moveEnabled()
                                            ? (this.style.cursor = "move")
                                            : this.offsetHeight - o.y <= n &&
                                              this.event.client.resizeEnabled()
                                            ? d
                                                ? ((this.style.cursor =
                                                      "s-resize"),
                                                  (this.dpBorder = "bottom"))
                                                : (this.style.cursor =
                                                      "not-allowed")
                                            : DayPilot.Global.resizing ||
                                              DayPilot.Global.moving ||
                                              (this.event.client.clickEnabled()
                                                  ? (this.style.cursor =
                                                        "pointer")
                                                  : (this.style.cursor =
                                                        "default")),
                                        "undefined" != typeof DayPilot.Bubble &&
                                            r.bubble &&
                                            "Disabled" !==
                                                r.eventHoverHandling &&
                                            ("default" === this.style.cursor ||
                                                "pointer" ===
                                                    this.style.cursor))
                                    ) {
                                        (this.Ee &&
                                            o.x === this.Ee.x &&
                                            o.y === this.Ee.y) ||
                                            ((this.Ee = o),
                                            r.bubble.showEvent(this.event));
                                    }
                                }
                            }
                        }
                    }),
                    (this.Yc = function (e) {
                        DayPilot.Util.removeClass(this, r.H("_event_hover")),
                            r.bubble && r.bubble.hideOnMouseOut(),
                            DayPilot.Areas.hideAreas(this, e);
                    }),
                    (this.Fe = null),
                    (this.$a = function () {
                        if (this.showCurrentTime) {
                            this.Ge();
                            var e = new DayPilot.Date().addMinutes(
                                r.showCurrentTimeOffset
                            );
                            if ("Full" === r.showCurrentTimeMode) this.He(e);
                            else {
                                if ("Day" !== r.showCurrentTimeMode)
                                    throw new DayPilot.Exception(
                                        "Invalid DayPilot.Calendar.showCurrentTimeMode value: " +
                                            r.showCurrentTimeMode
                                    );
                                this.Ie(e);
                            }
                            if (this.nav.events && !this.Fe) {
                                this.Fe = setTimeout(function () {
                                    (r.Fe = null), r.$a();
                                }, 3e4);
                            }
                        }
                    }),
                    (this.Ge = function () {
                        DayPilot.de(r.elements.separators),
                            (r.elements.separators = []);
                    }),
                    (this.Ie = function (e) {
                        var t = e.getTime(),
                            n = r.nav.events;
                        if (n)
                            for (var i = 0; i < r.hb.length; i++) {
                                var a = r.hb[i],
                                    o = r.jb(!0),
                                    s = new DayPilot.Date(a.start).addHours(
                                        this.nb(!0)
                                    ),
                                    l = s.getTime(),
                                    d = s.addTime(o),
                                    c = d.getTime();
                                if (l <= t && t <= c) {
                                    var u =
                                            this.ec(e, a.start).top -
                                            1 -
                                            r.fc(),
                                        h = n.rows[0].cells[i],
                                        f = h.separators,
                                        v = document.createElement("div");
                                    (v.style.position = "absolute"),
                                        (v.style.top = u + "px"),
                                        (v.style.height = "1px"),
                                        (v.style.left = "0px"),
                                        (v.style.right = "0px"),
                                        (v.className = r.H("_now")),
                                        f.insertBefore(v, f.firstChild),
                                        r.elements.separators.push(v);
                                }
                            }
                    }),
                    (this.He = function (e) {
                        var t = e.getTime();
                        if (r.nav.events) {
                            var n = r.hb[0];
                            if (n)
                                for (
                                    var i = n.start
                                            .getDatePart()
                                            .addTime(e.getTimePart()),
                                        a = this.ec(i, n.start).top - 1,
                                        o = 0;
                                    o < r.hb.length;
                                    o++
                                ) {
                                    var n = r.hb[o],
                                        s = r.jb(!0),
                                        l = new DayPilot.Date(n.start).addHours(
                                            this.nb(!0)
                                        ),
                                        d = l.getTime(),
                                        c = l.addTime(s),
                                        u = c.getTime();
                                    if (d <= t && t <= u) {
                                        var h = document.createElement("div");
                                        return (
                                            (h.style.position = "absolute"),
                                            (h.style.top = a + "px"),
                                            (h.style.height = "1px"),
                                            (h.style.left = "0px"),
                                            (h.style.right = "0px"),
                                            (h.className = r.H("_now")),
                                            r.nav.events.appendChild(h),
                                            void r.elements.separators.push(h)
                                        );
                                    }
                                }
                        }
                    }),
                    (this.Pa = function (e) {
                        if (
                            (e
                                ? (this.events.list = e)
                                : (e = this.events.list),
                            e)
                        ) {
                            (this.Sc = {}),
                                (this.Sc.events = []),
                                (this.Sc.lines = []);
                            var t = e.length,
                                n = this.jb(!0);
                            (this.Q.pixels = {}), (this.Q.ad = []);
                            var i = [];
                            (this.tc = []),
                                (this.Db = 1e4),
                                (this.mb = 0),
                                (this.startDate = new DayPilot.Date(
                                    this.startDate
                                ));
                            for (var a = 0; a < t; a++) {
                                var o = e[a];
                                if ("object" != typeof o)
                                    throw new DayPilot.Exception(
                                        "Event data item must be an object"
                                    );
                                if (!o.start)
                                    throw new DayPilot.Exception(
                                        "Event data item must specify 'start' property"
                                    );
                                (o.start = new DayPilot.Date(o.start)),
                                    (o.end = new DayPilot.Date(o.end));
                            }
                            if (
                                "function" == typeof this.onBeforeEventRender ||
                                r.showEventStartEnd
                            )
                                for (var a = 0; a < t; a++) this.we(a);
                            for (
                                var l = "Resources" === this.viewType,
                                    d = this.Pc(),
                                    c = d.start,
                                    u = d.end,
                                    a = 0;
                                a < this.hb.length;
                                a++
                            ) {
                                var h = {};
                                (h.minEnd = 1e6),
                                    (h.maxStart = -1),
                                    this.tc.push(h);
                                var f = this.hb[a];
                                (f.events = []),
                                    (f.lines = []),
                                    (f.blocks = []);
                                var v = new DayPilot.Date(f.start).addHours(
                                        this.nb(!0)
                                    ),
                                    p = v.getTime(),
                                    m = v.addTime(n),
                                    g = m.getTime();
                                l &&
                                    ((c = v.getDatePart()), (u = v.addDays(1)));
                                for (var b = 0; b < t; b++)
                                    if (!i[b]) {
                                        var o = e[b],
                                            y = null;
                                        if (
                                            ("function" ==
                                                typeof r.onBeforeEventRender &&
                                                (y = r.Q.events[b]),
                                            y)
                                        ) {
                                            if (y.hidden) continue;
                                        } else if (o.hidden) continue;
                                        var w = o.start,
                                            x = o.end,
                                            k = w.getTime(),
                                            C = x.getTime();
                                        if (!(C < k))
                                            if (o.allday) {
                                                var H = !1;
                                                if (
                                                    ((H =
                                                        k === C
                                                            ? !(
                                                                  C <
                                                                      c.getTime() ||
                                                                  k >=
                                                                      u.getTime()
                                                              )
                                                            : "Date" ===
                                                              r.allDayEnd
                                                            ? !(
                                                                  C <
                                                                      c.getTime() ||
                                                                  k >=
                                                                      u.getTime()
                                                              )
                                                            : !(
                                                                  C <=
                                                                      c.getTime() ||
                                                                  k >=
                                                                      u.getTime()
                                                              )),
                                                    l &&
                                                        (H =
                                                            H &&
                                                            (o.resource ===
                                                                f.id ||
                                                                "*" === f.id)),
                                                    H)
                                                ) {
                                                    var D = new DayPilot.Event(
                                                        o,
                                                        this
                                                    );
                                                    if (
                                                        ((D.part.start =
                                                            c.getTime() < k
                                                                ? w
                                                                : c),
                                                        (D.part.end =
                                                            u.getTime() > C
                                                                ? x
                                                                : u),
                                                        (D.part.colStart =
                                                            DayPilot.DateUtil.daysDiff(
                                                                c,
                                                                D.part.start
                                                            )),
                                                        (D.part.colWidth =
                                                            DayPilot.DateUtil.daysSpan(
                                                                D.part.start,
                                                                D.part.end
                                                            ) + 1),
                                                        l &&
                                                            ((D.part.colStart =
                                                                a),
                                                            (D.part.colWidth = 1)),
                                                        "function" ==
                                                            typeof r.onEventFilter &&
                                                            r.events.Je)
                                                    ) {
                                                        var E = {};
                                                        if (
                                                            ((E.filter =
                                                                r.events.Je),
                                                            (E.filterParam =
                                                                E.filter),
                                                            (E.visible = !0),
                                                            (E.e = D),
                                                            r.onEventFilter(E),
                                                            !E.visible)
                                                        )
                                                            continue;
                                                    }
                                                    this.Sc.events.push(D),
                                                        ("function" ==
                                                            typeof this
                                                                .onBeforeEventRender ||
                                                            r.showEventStartEnd) &&
                                                            (D.cache =
                                                                this.Q.events[
                                                                    b
                                                                ]),
                                                        (i[b] = !0),
                                                        !l ||
                                                            (D.part.start.getTime() ===
                                                                k &&
                                                                D.part.end.getTime() ===
                                                                    C) ||
                                                            (i[b] = !1);
                                                }
                                            } else {
                                                var y = null;
                                                if (
                                                    ("function" ==
                                                        typeof r.onBeforeEventRender &&
                                                        (y = r.Q.events[b]),
                                                    y)
                                                ) {
                                                    if (y.hidden) continue;
                                                } else if (o.hidden) continue;
                                                var H = !1;
                                                if (
                                                    (H = l
                                                        ? f.id === o.resource &&
                                                          !(C <= p || k >= g)
                                                        : !(C <= p || k >= g) ||
                                                          (C === k && k === p))
                                                ) {
                                                    var D = new DayPilot.Event(
                                                        o,
                                                        r
                                                    );
                                                    (D.part.dayIndex = a),
                                                        (D.part.start =
                                                            p < k ? w : v),
                                                        (D.part.end =
                                                            g > C ? x : m);
                                                    var S = this.ec(
                                                            D.part.start,
                                                            f.start
                                                        ),
                                                        T = this.ec(
                                                            D.part.end,
                                                            f.start
                                                        ),
                                                        _ = S.top,
                                                        M = T.top;
                                                    if (
                                                        _ === M &&
                                                        (S.cut || T.cut)
                                                    )
                                                        continue;
                                                    D.part.box = s.useBox(
                                                        C - k
                                                    );
                                                    var A = 0;
                                                    if (D.part.box) {
                                                        var R = T.boxBottom;
                                                        (D.part.top =
                                                            Math.floor(
                                                                _ /
                                                                    this
                                                                        .cellHeight
                                                            ) *
                                                                this
                                                                    .cellHeight +
                                                            A),
                                                            (D.part.height =
                                                                Math.max(
                                                                    Math.ceil(
                                                                        R /
                                                                            this
                                                                                .cellHeight
                                                                    ) *
                                                                        this
                                                                            .cellHeight -
                                                                        D.part
                                                                            .top,
                                                                    this
                                                                        .cellHeight -
                                                                        1
                                                                )),
                                                            (D.part.barTop =
                                                                Math.max(
                                                                    _ -
                                                                        D.part
                                                                            .top -
                                                                        1,
                                                                    0
                                                                )),
                                                            (D.part.barHeight =
                                                                Math.max(
                                                                    M - _ - 2,
                                                                    1
                                                                ));
                                                    } else
                                                        (D.part.top = _ + A),
                                                            (D.part.height =
                                                                Math.max(
                                                                    M - _,
                                                                    0
                                                                )),
                                                            (D.part.barTop = 0),
                                                            (D.part.barHeight =
                                                                Math.max(
                                                                    M - _ - 2,
                                                                    1
                                                                ));
                                                    if (
                                                        "function" ==
                                                            typeof r.onEventFilter &&
                                                        r.events.Je
                                                    ) {
                                                        var E = {};
                                                        if (
                                                            ((E.filter =
                                                                r.events.Je),
                                                            (E.visible = !0),
                                                            (E.e = D),
                                                            r.onEventFilter(E),
                                                            !E.visible)
                                                        )
                                                            continue;
                                                    }
                                                    var w = D.part.top,
                                                        x =
                                                            D.part.top +
                                                            D.part.height;
                                                    w > h.maxStart &&
                                                        (h.maxStart = w),
                                                        x < h.minEnd &&
                                                            (h.minEnd = x),
                                                        w < this.Db &&
                                                            (this.Db = w),
                                                        x > this.mb &&
                                                            (this.mb = x),
                                                        f.events.push(D),
                                                        ("function" ==
                                                            typeof this
                                                                .onBeforeEventRender ||
                                                            r.showEventStartEnd) &&
                                                            (D.cache =
                                                                this.Q.events[
                                                                    b
                                                                ]),
                                                        D.part.start.getTime() ===
                                                            k &&
                                                            D.part.end.getTime() ===
                                                                C &&
                                                            (i[b] = !0),
                                                        r.Q.ad.push(D);
                                                }
                                            }
                                    }
                            }
                            for (var a = 0; a < this.hb.length; a++) {
                                var f = this.hb[a];
                                f.events.sort(this.Ke);
                                for (var b = 0; b < f.events.length; b++) {
                                    var o = f.events[b];
                                    f.putIntoBlock(o);
                                }
                                for (var b = 0; b < f.blocks.length; b++) {
                                    var B = f.blocks[b];
                                    B.events.sort(this.Le);
                                    for (var P = 0; P < B.events.length; P++) {
                                        var o = B.events[P];
                                        B.putIntoLine(o);
                                    }
                                }
                            }
                            this.Sc.events.sort(this.Le),
                                (this.Sc.putIntoLine = function (e) {
                                    for (
                                        var t = 0;
                                        t < this.lines.length;
                                        t++
                                    ) {
                                        var n = this.lines[t];
                                        if (
                                            n.isFree(
                                                e.part.colStart,
                                                e.part.colWidth
                                            )
                                        )
                                            return n.push(e), t;
                                    }
                                    var n = [];
                                    return (
                                        (n.isFree = function (e, t) {
                                            for (
                                                var n = e + t - 1,
                                                    i = this.length,
                                                    a = 0;
                                                a < i;
                                                a++
                                            ) {
                                                var r = this[a];
                                                if (
                                                    !(
                                                        n < r.part.colStart ||
                                                        e >
                                                            r.part.colStart +
                                                                r.part
                                                                    .colWidth -
                                                                1
                                                    )
                                                )
                                                    return !1;
                                            }
                                            return !0;
                                        }),
                                        n.push(e),
                                        this.lines.push(n),
                                        this.lines.length - 1
                                    );
                                });
                            for (var a = 0; a < this.Sc.events.length; a++) {
                                var o = this.Sc.events[a];
                                this.Sc.putIntoLine(o);
                            }
                            var N = Math.max(this.Sc.lines.length, 1);
                            this.Q.allDayHeaderHeight =
                                N * (s.allDayEventHeight() + 2) + 2;
                        }
                    }),
                    (this.Ke = function (e, t) {
                        if (!(e && t && e.start && t.start)) return 0;
                        var n = e.start().ticks - t.start().ticks;
                        return 0 !== n ? n : t.end().ticks - e.end().ticks;
                    }),
                    (this.Le = function (e, t) {
                        if (!e || !t) return 0;
                        if (
                            !(
                                e.data &&
                                t.data &&
                                e.data.sort &&
                                t.data.sort &&
                                0 !== e.data.sort.length &&
                                0 !== t.data.sort.length
                            )
                        )
                            return r.Ke(e, t);
                        for (
                            var n = 0, i = 0;
                            0 === n &&
                            "undefined" != typeof e.data.sort[i] &&
                            "undefined" != typeof t.data.sort[i];

                        )
                            (n =
                                e.data.sort[i] === t.data.sort[i]
                                    ? 0
                                    : "number" == typeof e.data.sort[i] &&
                                      "number" == typeof t.data.sort[i]
                                    ? e.data.sort[i] - t.data.sort[i]
                                    : r.Me(
                                          e.data.sort[i],
                                          t.data.sort[i],
                                          r.sortDirections[i]
                                      )),
                                i++;
                        return n;
                    }),
                    (this.Me = function (e, t, n) {
                        var i = "desc" !== n,
                            a = i ? -1 : 1,
                            r = -a;
                        if (null === e && null === t) return 0;
                        if (null === t) return r;
                        if (null === e) return a;
                        var o = [];
                        return (
                            (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r
                        );
                    }),
                    (this.Ne = function (e) {
                        for (var t = 0; t < r.elements.events.length; t++) {
                            var n = r.elements.events[t];
                            if (n.event === e || n.event.data === e.data)
                                return n;
                        }
                        return null;
                    }),
                    (this.events.find = function (e) {
                        if (
                            !r.events.list ||
                            "undefined" == typeof r.events.list.length
                        )
                            return null;
                        for (var t = r.events.list.length, n = 0; n < t; n++)
                            if (r.events.list[n].id === e)
                                return new DayPilot.Event(r.events.list[n], r);
                        return null;
                    }),
                    (this.events.findRecurrent = function (e, t) {
                        if (
                            !r.events.list ||
                            "undefined" == typeof r.events.list.length
                        )
                            return null;
                        for (var n = r.events.list.length, i = 0; i < n; i++)
                            if (
                                r.events.list[i].recurrentMasterId === e &&
                                r.events.list[i].start.getTime() === t.getTime()
                            )
                                return new DayPilot.Event(r.events.list[i], r);
                        return null;
                    }),
                    (this.events.all = function () {
                        for (var e = [], t = 0; t < r.events.list.length; t++) {
                            var n = new DayPilot.Event(r.events.list[t], r);
                            e.push(n);
                        }
                        return DayPilot.list(e);
                    }),
                    (this.events.edit = function (e) {
                        function t() {
                            var t = r.Ne(e);
                            t && r.tb(t);
                        }
                        t();
                    }),
                    (this.events.update = function (e, t) {
                        if (
                            "object" == typeof e &&
                            !(e instanceof DayPilot.Event)
                        ) {
                            var n = r.events.find(e.id);
                            if (!n)
                                throw new DayPilot.Exception(
                                    "The event to be updated was not found"
                                );
                            return r.events.remove(n), void r.events.add(e);
                        }
                        var i = {};
                        (i.oldEvent = new DayPilot.Event(e.copy(), r)),
                            (i.newEvent = new DayPilot.Event(e.temp(), r));
                        var a = new DayPilot.Action(r, "EventUpdate", i, t);
                        return (
                            e.commit(),
                            r.T && r.Lc({ eventsOnly: !0 }),
                            r.Oe.notify(),
                            a
                        );
                    }),
                    (this.events.remove = function (e, t) {
                        if ("string" == typeof e || "number" == typeof e) {
                            var n = e,
                                i = r.events.find(n);
                            if (!i)
                                throw new DayPilot.Exception(
                                    "The event to be removed was not found"
                                );
                            return void r.events.remove(i);
                        }
                        var a = {};
                        a.e = new DayPilot.Event(e.data, r);
                        var o = new DayPilot.Action(r, "EventRemove", a, t),
                            s = DayPilot.indexOf(r.events.list, e.data);
                        return (
                            r.events.list.splice(s, 1),
                            r.T && r.Lc({ eventsOnly: !0 }),
                            r.Oe.notify(),
                            o
                        );
                    }),
                    (this.events.add = function (e, t) {
                        e instanceof DayPilot.Event ||
                            (e = new DayPilot.Event(e)),
                            (e.calendar = r),
                            r.events.list || (r.events.list = []),
                            r.events.list.push(e.data);
                        var n = {};
                        n.e = e;
                        var i = new DayPilot.Action(r, "EventAdd", n, t);
                        return (
                            r.T && r.Lc({ eventsOnly: !0 }), r.Oe.notify(), i
                        );
                    }),
                    (this.events.filter = function (e) {
                        (r.events.Je = e), r.Lc({ eventsOnly: !0 });
                    }),
                    (this.events.load = function (e, t, n) {
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var o = {};
                                    return (o.exception = e), void i(o);
                                }
                                if (DayPilot.isArray(n)) {
                                    var s = {};
                                    if (
                                        ((s.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (s.data = n),
                                        "function" == typeof t && t(s),
                                        s.preventDefault.value)
                                    )
                                        return;
                                    (r.events.list = n),
                                        r.T && r.Lc({ eventsOnly: !0 });
                                }
                            };
                        if (
                            r.eventsLoadMethod &&
                            "POST" === r.eventsLoadMethod.toUpperCase()
                        )
                            DayPilot.ajax({
                                method: "POST",
                                data: {
                                    start: r.visibleStart().toString(),
                                    end: r.visibleEnd().toString(),
                                },
                                url: e,
                                success: a,
                                error: i,
                            });
                        else {
                            var o = e,
                                s =
                                    "start=" +
                                    r.visibleStart().toString() +
                                    "&end=" +
                                    r.visibleEnd().toString();
                            (o += o.indexOf("?") > -1 ? "&" + s : "?" + s),
                                DayPilot.ajax({
                                    method: "GET",
                                    url: o,
                                    success: a,
                                    error: i,
                                });
                        }
                    }),
                    (this.events.forRange = function (e, t) {
                        return (
                            (e = new DayPilot.Date(e)),
                            (t = new DayPilot.Date(t)),
                            DayPilot.list(r.events.list)
                                .filter(function (n) {
                                    var i = new DayPilot.Date(n.start),
                                        a = new DayPilot.Date(n.end);
                                    return DayPilot.Util.overlaps(e, t, i, a);
                                })
                                .map(function (e) {
                                    return new DayPilot.Event(e, r);
                                })
                        );
                    }),
                    (this.events.cc = function (e) {
                        if (!e)
                            throw new DayPilot.Exception(
                                "Error checking overlap for null (internal error)"
                            );
                        var t = e instanceof DayPilot.Event ? e.data : e,
                            n = new DayPilot.Date(t.start),
                            i = new DayPilot.Date(t.end);
                        return !!DayPilot.list(r.events.list).find(function (
                            e
                        ) {
                            if (r.Hc(t, e)) return !1;
                            if (
                                "Resources" == r.viewType &&
                                t.resource !== e.resource
                            )
                                return !1;
                            if (e.allday) return !1;
                            var a = new DayPilot.Date(e.start),
                                o = new DayPilot.Date(e.end);
                            return DayPilot.Util.overlaps(n, i, a, o);
                        });
                    }),
                    (this.Hc = function (e, t) {
                        return DayPilot.Util.isSameEvent(e, t);
                    }),
                    (this.ya = {}),
                    (this.ya.reactDOM = null),
                    (this.ya.react = null),
                    (this.queue = {}),
                    (this.queue.list = []),
                    (this.queue.list.ignoreToJSON = !0),
                    (this.queue.add = function (e) {
                        if (e) {
                            if (!e.isAction)
                                throw new DayPilot.Exception(
                                    "DayPilot.Action object required for queue.add()"
                                );
                            r.queue.list.push(e);
                        }
                    }),
                    (this.queue.notify = function (e) {
                        var t = {};
                        (t.actions = r.queue.list),
                            r.ja("Notify", t, e, "Notify"),
                            (r.queue.list = []);
                    }),
                    (this.queue.clear = function () {
                        r.queue.list = [];
                    }),
                    (this.queue.pop = function () {
                        return r.queue.list.pop();
                    }),
                    (this.Lc = function (e) {
                        if (this.T && this.hb) {
                            var e = e || {},
                                t = !e.eventsOnly;
                            r.cssOnly || (r.cssOnly = !0),
                                r.da(),
                                t
                                    ? (this.J() || (r.cellProperties = {}),
                                      r.ga.clearCache(),
                                      r.ra(),
                                      r.Pe(),
                                      r.Na(),
                                      r.Pa(),
                                      r.Ra(),
                                      r.Sa(),
                                      r.Qa(),
                                      r.Ta(),
                                      r.Ua(),
                                      r.X(),
                                      r.Va(),
                                      r.bc(),
                                      r.Wa(),
                                      r.Xa(),
                                      r.Ya(),
                                      r.Za(),
                                      r.Qe(),
                                      r.ab(),
                                      r.bb(),
                                      r.$a(),
                                      r.db())
                                    : (r.ra(),
                                      r.Pa(),
                                      r.Qa(),
                                      r.ab(),
                                      r.bb(),
                                      r.db()),
                                this.visible ? this.show() : this.hide();
                        }
                    }),
                    (this.update = function (e) {
                        if (!r.T)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet."
                            );
                        if (r.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Calendar instance that has been disposed."
                            );
                        if (!r.T) return void r.Re(e);
                        if (DayPilot.Util.isOnlyProperty(e, "events"))
                            return (
                                (r.events.list = e.events),
                                void r.Lc({ eventsOnly: !0 })
                            );
                        if (
                            (this.Re(e),
                            this.Lc(),
                            "function" == typeof r.onAfterRender)
                        ) {
                            var t = {};
                            (t.isUpdate = !0),
                                (t.data = null),
                                r.onAfterRender(t);
                        }
                    }),
                    (this.Qe = function () {
                        if (r.nav.top.className !== r.H("_main")) {
                            r.nav.top.className = r.H("_main");
                            var e = r.nav.corner;
                            (e.className = r.H("_corner")),
                                (e.firstChild.className = r.H("_corner_inner"));
                            var t = r.nav.unifiedCornerRight;
                            t &&
                                ((t.firstChild.className = r.H("_cornerright")),
                                (t.firstChild.firstChild.className =
                                    r.H("_cornerright_inner")));
                        }
                    }),
                    (this.show = function () {
                        (r.visible = !0),
                            (r.nav.top.style.display = ""),
                            r.cb(),
                            r.nc();
                    }),
                    (this.hide = function () {
                        (r.visible = !1), (r.nav.top.style.display = "none");
                    }),
                    (this.Oe = {}),
                    (this.Oe.scope = null),
                    (this.Oe.notify = function () {
                        r.Oe.scope && r.Oe.scope["$apply"]();
                    }),
                    (this.debug = new DayPilot.Debug(this)),
                    (this._b = function (e, t) {
                        if (e < 0) return null;
                        r.rtl && (e = r.nav.main.offsetWidth - e);
                        var n = 0,
                            i = r.nav.events.rows[0].cells;
                        if (DayPilot.browser.ie && !t)
                            for (var a = i.length - 1; a >= 0; a--) {
                                var o = i[a],
                                    s = o.offsetWidth;
                                if (((n += s), e < n)) return a;
                            }
                        else
                            for (var a = 0; a < i.length; a++) {
                                var o = i[a],
                                    s = o.offsetWidth;
                                if (((n += s), e < n)) return a;
                            }
                        return null;
                    }),
                    (this.ec = function (e, t) {
                        t || (t = this.startDate);
                        var n = t.getTime(),
                            i = e.getTime(),
                            a = this.Q.pixels[i + "_" + n];
                        if (a) return a;
                        this.nb(!0);
                        n = t.addHours(this.nb(!0)).getTime();
                        var r = 60 * this.cellDuration * 1e3,
                            o = i - n,
                            s = o % r,
                            l = o - s,
                            d = l + r;
                        0 === s && (d = l);
                        var c = {};
                        return (
                            (c.cut = !1),
                            (c.top = this.Qd(o)),
                            (c.boxTop = this.Qd(l)),
                            (c.boxBottom = this.Qd(d)),
                            (this.Q.pixels[i + "_" + n] = c),
                            c
                        );
                    }),
                    (this.Qd = function (e) {
                        return Math.floor(
                            (this.cellHeight * e) / (6e4 * this.cellDuration)
                        );
                    }),
                    (this.Pe = function () {
                        (this.startDate = new DayPilot.Date(
                            this.startDate
                        ).getDatePart()),
                            (this.Se = s.allDayEventHeight() + 4);
                    }),
                    (this.Qa = function () {
                        var e = this.ob(),
                            t = this.fd();
                        if (
                            (this.nav.corner &&
                                (this.nav.corner.style.height = e + "px"),
                            this.nav.cornerRight &&
                                (this.nav.cornerRight.style.height = e + "px"),
                            this.nav.mid &&
                                (this.nav.mid.style.height = e + "px"),
                            this.showAllDayEvents && this.nav.header)
                        )
                            for (
                                var n =
                                        this.nav.header.rows[
                                            this.nav.header.rows.length - 1
                                        ],
                                    i = 0;
                                i < n.cells.length;
                                i++
                            ) {
                                var a = n.cells[i];
                                a.firstChild.style.height =
                                    s.allDayHeaderHeight() + "px";
                            }
                        this.nav.upperRight &&
                            (this.nav.upperRight.style.height = e + "px"),
                            (this.nav.scroll.style.top = e + "px"),
                            (this.nav.top.style.height = t + "px");
                    }),
                    (this.Xa = function () {
                        var e = this.gd();
                        this.nav.scroll &&
                            e > 0 &&
                            ((this.nav.scroll.style.height = e + "px"),
                            (this.oc = r.nav.scroll.clientHeight),
                            this.nav.bottomLeft &&
                                (this.nav.bottomLeft.style.height = e + "px"),
                            this.nav.bottomRight &&
                                (this.nav.bottomRight.style.height = e + "px")),
                            "Parent100Pct" === this.heightSpec
                                ? (this.nav.top.style.height = "100%")
                                : (this.nav.top.style.height =
                                      this.fd() + "px");
                    }),
                    (this.setHeight = function (e) {
                        "Parent100Pct" !== this.heightSpec &&
                            (this.heightSpec = "Fixed"),
                            (this.height = e - this.ob()),
                            this.Xa();
                    }),
                    (this.Te = function (e) {
                        var t = document.createElement("div");
                        (t.style.position = "absolute"),
                            (t.style.top = "-2000px"),
                            (t.style.left = "-2000px"),
                            (t.className = this.H(e)),
                            document.body.appendChild(t);
                        var n = t.offsetHeight,
                            i = t.offsetWidth;
                        document.body.removeChild(t);
                        var a = {};
                        return (a.height = n), (a.width = i), a;
                    }),
                    (this.ga = {});
                var s = this.ga;
                (s.fa = function () {
                    return "Disabled" !== r.xssProtection;
                }),
                    (s.locale = function () {
                        return DayPilot.Locale.find(r.locale);
                    }),
                    (s.weekStarts = function () {
                        return "number" == typeof r.weekStarts
                            ? r.weekStarts
                            : s.locale().weekStarts;
                    }),
                    (s.timeFormat = function () {
                        return "Auto" !== r.timeFormat
                            ? r.timeFormat
                            : this.locale().timeFormat;
                    }),
                    (s.useBox = function (e) {
                        return (
                            "Always" === r.useEventBoxes ||
                            ("Never" !== r.useEventBoxes &&
                                e < 60 * r.cellDuration * 1e3)
                        );
                    }),
                    (s.notifyType = function () {
                        var e;
                        if ("Immediate" === r.notifyCommit) e = "Notify";
                        else {
                            if ("Queue" !== r.notifyCommit)
                                throw new DayPilot.Exception(
                                    "Invalid notifyCommit value: " +
                                        r.notifyCommit
                                );
                            e = "Queue";
                        }
                        return e;
                    }),
                    (s.clearCache = function () {
                        delete r.Q.allDayEventHeight,
                            delete r.Q.allDayHeaderHeight,
                            delete r.Q.headerHeight;
                    }),
                    (s.allDayEventHeight = function () {
                        if (r.Q.allDayEventHeight) return r.Q.allDayEventHeight;
                        var e = r.Te("_alldayevent_height").height;
                        return (
                            e || (e = r.allDayEventHeight),
                            (r.Q.allDayEventHeight = e),
                            e
                        );
                    }),
                    (s.allDayHeaderHeight = function () {
                        if (r.Q.allDayHeaderHeight)
                            return r.Q.allDayHeaderHeight;
                        var e = r.Se;
                        return (r.Q.allDayHeaderHeight = e), e;
                    }),
                    (s.headerHeight = function () {
                        if (r.Q.headerHeight) return r.Q.headerHeight;
                        var e = r.Te("_header_height").height;
                        return (
                            e || (e = r.headerHeight), (r.Q.headerHeight = e), e
                        );
                    }),
                    (this.exportAs = function (e, t) {
                        if (!r.me())
                            throw new DayPilot.Exception(
                                "DayPilot.Calendar.exportAs(): The instance must be visible during export."
                            );
                        var n = l.generate(e, t);
                        return new DayPilot.Export(n);
                    }),
                    (this.Ue = {});
                var l = this.Ue;
                (l.Ve = null),
                    (l.We = null),
                    (l.generate = function (e, t) {
                        "object" == typeof e && ((t = e), (e = null));
                        var t = t || {},
                            e = e || t.format || "svg",
                            n = t.scale || 1;
                        if ("config" !== e) {
                            "jpg" === e.toLowerCase() && (e = "jpeg");
                            var i = t.area || "viewport";
                            (l.Ve = t), (l.We = i);
                            var a,
                                o = l.getWidth(),
                                d = l.getHeight();
                            switch (e.toLowerCase()) {
                                case "svg":
                                    a = new DayPilot.Svg(o, d);
                                    break;
                                case "png":
                                    a = new DayPilot.Canvas(
                                        o,
                                        d,
                                        "image/png",
                                        n
                                    );
                                    break;
                                case "jpeg":
                                    a = new DayPilot.Canvas(
                                        o,
                                        d,
                                        "image/jpeg",
                                        n,
                                        t.quality
                                    );
                                    break;
                                default:
                                    throw new DayPilot.Exception(
                                        "Export format not supported: " + e
                                    );
                            }
                            var c = l.getRectangles(),
                                u = new DayPilot.StyleReader(
                                    r.nav.top
                                ).getBackColor(),
                                h = new DayPilot.StyleReader(r.nav.top).get(
                                    "border-top-color"
                                );
                            "0px" !==
                                new DayPilot.StyleReader(r.nav.top).get(
                                    "border-top-width"
                                ) || (h = "white");
                            var f = new DayPilot.StyleReader(
                                    r.nav.corner.firstChild
                                ).getBackColor(u),
                                v =
                                    r.nav.hourTable.rows[0].cells[0].firstChild
                                        .firstChild,
                                p = new DayPilot.StyleReader(v).get(
                                    "border-right-color"
                                ),
                                m = new DayPilot.StyleReader(v).getBackColor(u),
                                g = new DayPilot.StyleReader(v).getFont(),
                                b = new DayPilot.StyleReader(
                                    v.firstChild.childNodes[1]
                                ).getFont(),
                                y = new DayPilot.StyleReader(
                                    v.firstChild.childNodes[1]
                                ).getPx("padding-right"),
                                w = new DayPilot.StyleReader(v).get("color"),
                                x =
                                    r.nav.header.rows[0].cells[0].firstChild
                                        .firstChild,
                                k = new DayPilot.StyleReader(x).getBackColor(u),
                                C = new DayPilot.StyleReader(x).getFont(),
                                H = new DayPilot.StyleReader(x).get("color"),
                                D = new DayPilot.StyleReader(x).get(
                                    "border-right-color"
                                ),
                                E =
                                    r.nav.header.rows[
                                        r.nav.header.rows.length - 1
                                    ].cells[0].firstChild,
                                S = E.firstChild,
                                T = new DayPilot.StyleReader(E).getBackColor(u),
                                _ = new DayPilot.StyleReader(S).getBackColor(T),
                                M =
                                    r.nav.main.rows[0].cells[0].firstChild
                                        .firstChild,
                                A = new DayPilot.StyleReader(M).get(
                                    "border-right-color"
                                ),
                                M = l.fakeCell(),
                                R = new DayPilot.StyleReader(
                                    M.firstChild
                                ).getBackColor();
                            DayPilot.Util.addClass(M, r.H("_cell_business"));
                            var B = new DayPilot.StyleReader(
                                M.firstChild
                            ).getBackColor();
                            DayPilot.de(M);
                            var P = l.getViewportOffsetTop(),
                                N = 0;
                            (N =
                                "Fixed" === r.columnWidthSpec
                                    ? r.columnWidth
                                    : c.gridContent.w / r.hb.length),
                                a.fillRect(c.main, "white"),
                                a.fillRect(c.main, u);
                            var L = c.corner.h - P;
                            DayPilot.list
                                .for(r.ud(), function (e) {
                                    return r.Bd(e);
                                })
                                .forEach(function (e) {
                                    var t = r.yd(),
                                        n = e.hour,
                                        i = e.sup,
                                        o = n,
                                        s = 20,
                                        l = {
                                            x: 0,
                                            y: L,
                                            w: c.grid.x + 1,
                                            h: t + 1,
                                        },
                                        d = {
                                            x: 0,
                                            y: L,
                                            w: c.grid.x + 1 - s,
                                            h: t + 1,
                                        },
                                        u = {
                                            x: d.w,
                                            y: L,
                                            w: s - y - 1,
                                            h: t + 1,
                                        },
                                        h = m;
                                    a.fillRect(l, h),
                                        a.text(d, o, g, w, "right"),
                                        a.text(u, i, b, w, "right"),
                                        a.rect(l, p),
                                        (L += t);
                                });
                            var U = 60 * r.cellDuration * 1e3,
                                I = c.grid.x;
                            DayPilot.list(r.hb).forEach(function (e, t) {
                                var n = N,
                                    i = c.grid.y - P;
                                DayPilot.list
                                    .for(r.ba())
                                    .forEach(function (o, s) {
                                        var d = r.Od(t, s) || {},
                                            c = null;
                                        if (d.cssClass) {
                                            var u = l.fakeCell();
                                            DayPilot.Util.addClass(
                                                u,
                                                d.cssClass
                                            ),
                                                (c = new DayPilot.StyleReader(
                                                    u.firstChild
                                                ).getBackColor()),
                                                DayPilot.de(u);
                                        }
                                        var h = r.cellHeight,
                                            f = {
                                                x: I,
                                                y: i,
                                                w: n + 1,
                                                h: h + 1,
                                            },
                                            v = d.business,
                                            p = {};
                                        (p.cell = {}),
                                            (p.cell.start = e.start
                                                .addTime(s * U)
                                                .addHours(r.nb())),
                                            (p.cell.end =
                                                p.cell.start.addTime(U)),
                                            (p.cell.resource = e.id),
                                            DayPilot.Util.copyProps(d, p.cell, [
                                                "cssClass",
                                                "html",
                                                "backImage",
                                                "backRepeat",
                                                "backColor",
                                                "business",
                                            ]),
                                            (p.backColor = c || (v ? B : R)),
                                            "function" ==
                                                typeof r.onBeforeCellExport &&
                                                r.onBeforeCellExport(p),
                                            a.fillRect(f, p.backColor),
                                            a.rect(f, A),
                                            (i += h);
                                    }),
                                    (I += n);
                            });
                            var j = c.grid.x;
                            DayPilot.list(r.hb).forEach(function (e) {
                                DayPilot.list(e.events).forEach(function (e) {
                                    var t = e.cache || e.data,
                                        n = l.fakeEvent();
                                    n.className += " " + t.cssClass;
                                    var i = n.firstChild,
                                        o = n.childNodes[1],
                                        s = new DayPilot.StyleReader(
                                            i
                                        ).getBackColor(),
                                        d = new DayPilot.StyleReader(
                                            i.firstChild
                                        ).getBackColor(),
                                        u = new DayPilot.StyleReader(
                                            i.firstChild
                                        ).getPx("width"),
                                        h = new DayPilot.StyleReader(o).get(
                                            "border-right-color"
                                        ),
                                        f = new DayPilot.StyleReader(
                                            o
                                        ).getFont(),
                                        v = new DayPilot.StyleReader(o).get(
                                            "color"
                                        ),
                                        p = new DayPilot.StyleReader(
                                            o
                                        ).getBackColor(),
                                        m = {};
                                    (m.left = new DayPilot.StyleReader(o).getPx(
                                        "padding-left"
                                    )),
                                        (m.right = new DayPilot.StyleReader(
                                            o
                                        ).getPx("padding-right")),
                                        (m.top = new DayPilot.StyleReader(
                                            o
                                        ).getPx("padding-top")),
                                        (m.bottom = new DayPilot.StyleReader(
                                            o
                                        ).getPx("padding-bottom")),
                                        DayPilot.de(n);
                                    var g = j + (N * e.part.left) / 100,
                                        b =
                                            ((N - r.columnMarginRight) *
                                                e.part.width) /
                                            100,
                                        y = e.part.top + c.grid.y - r.fc() - P,
                                        w = e.part.height,
                                        x = t.backColor || p,
                                        k = t.barColor || d,
                                        C = t.barBackColor || s,
                                        H = {};
                                    (H.e = e),
                                        (H.text = e.text
                                            ? e.text()
                                            : e.client.html()),
                                        (H.fontSize = f.size),
                                        (H.fontFamily = f.family),
                                        (H.fontStyle = f.style),
                                        (H.fontColor = v),
                                        (H.backColor = x),
                                        (H.borderColor = h),
                                        (H.horizontalAlignment = "left"),
                                        (H.barWidth = u),
                                        (H.barColor = k),
                                        (H.barBackColor = C),
                                        "function" ==
                                            typeof r.onBeforeEventExport &&
                                            r.onBeforeEventExport(H);
                                    var D = { x: g, y: y, w: b + 1, h: w + 1 },
                                        E = DayPilot.Util.copyProps(D);
                                    e.client.barVisible() &&
                                        ((E.x += u), (E.w -= u));
                                    var S = DayPilot.Util.copyProps(E);
                                    if (
                                        ((S.x += m.left),
                                        (S.w -= m.left + m.right),
                                        (S.y += m.top),
                                        (S.h -= m.top + m.bottom),
                                        a.fillRect(D, H.backColor),
                                        e.client.barVisible())
                                    ) {
                                        var T = {
                                                x: D.x,
                                                y: D.y,
                                                w: H.barWidth,
                                                h: D.h,
                                            },
                                            _ = {
                                                x: D.x,
                                                y: D.y + 1 + e.part.barTop,
                                                w: H.barWidth,
                                                h: e.part.barHeight + 1,
                                            };
                                        a.fillRect(T, H.barBackColor),
                                            a.fillRect(_, H.barColor);
                                    }
                                    a.text(
                                        S,
                                        H.text,
                                        {
                                            size: H.fontSize,
                                            family: H.fontFamily,
                                            style: H.fontStyle,
                                        },
                                        H.fontColor,
                                        H.horizontalAlignment
                                    ),
                                        a.rect(D, H.borderColor);
                                    var g = D.x,
                                        M = D.x + D.w - 2,
                                        y = D.y;
                                    DayPilot.list(t.areas).forEach(function (
                                        t
                                    ) {
                                        if (DayPilot.Areas.isVisible(t)) {
                                            var n = t.left;
                                            t.start &&
                                                (n =
                                                    r.getPixels(
                                                        new DayPilot.Date(
                                                            t.start
                                                        )
                                                    ).left - e.part.left);
                                            var i = t.width || t.w,
                                                o = t.height || t.h;
                                            n || (n = M - i - g),
                                                t.right
                                                    ? (i =
                                                          e.part.width -
                                                          t.right -
                                                          n)
                                                    : t.end &&
                                                      (i =
                                                          r.getPixels(
                                                              new DayPilot.Date(
                                                                  t.end
                                                              )
                                                          ).left -
                                                          t.left -
                                                          e.part.left +
                                                          1);
                                            var s = t.top;
                                            "number" == typeof t.bottom &&
                                                (o =
                                                    e.part.height -
                                                    t.bottom -
                                                    s);
                                            var l = {
                                                x: g + n,
                                                y: y + s,
                                                w: i,
                                                h: o,
                                            };
                                            if (
                                                (t.backColor &&
                                                    a.fillRect(l, t.backColor),
                                                t.image)
                                            ) {
                                                var d = new Image();
                                                (d.src = t.image),
                                                    a.image(l, d);
                                            } else
                                                t.html &&
                                                    a.text(
                                                        l,
                                                        t.html,
                                                        {
                                                            size: H.fontSize,
                                                            family: H.fontFamily,
                                                            style: H.fontStyle,
                                                        },
                                                        t.fontColor ||
                                                            H.fontColor,
                                                        null,
                                                        t.padding
                                                    );
                                        }
                                    });
                                }),
                                    (j += N);
                            }),
                                a.fillRect(c.corner, f);
                            var O = 1;
                            return (
                                "Fixed" !== r.columnWidthSpec &&
                                    (O = c.gridContent.w / 100),
                                DayPilot.list
                                    .for(r.headerLevels)
                                    .forEach(function (e) {
                                        var t = c.gridContent.x,
                                            n = r.headerHeight * e,
                                            i = r.Oc(e + 1),
                                            o = r.ae(e);
                                        DayPilot.list(i).forEach(function (
                                            i,
                                            s
                                        ) {
                                            var l = {};
                                            (l.text = DayPilot.Util.stripTags(
                                                i.html
                                            )),
                                                (l.horizontalAlignment =
                                                    "center"),
                                                (l.verticalAlignment =
                                                    "center"),
                                                (l.backColor =
                                                    i.backColor || k),
                                                (l.fontSize = C.size),
                                                (l.fontFamily = C.family),
                                                (l.fontStyle = C.style),
                                                (l.fontColor = H),
                                                (l.header = {}),
                                                (l.header.level = e),
                                                DayPilot.Util.copyProps(
                                                    i,
                                                    l.header,
                                                    [
                                                        "id",
                                                        "start",
                                                        "name",
                                                        "html",
                                                        "backColor",
                                                    ]
                                                ),
                                                "function" ==
                                                    typeof r.onBeforeHeaderExport &&
                                                    r.onBeforeHeaderExport(l);
                                            var d = 0 === o.length,
                                                c = d ? N : o[s].width * O,
                                                u = d ? t : t + o[s].left * O,
                                                h = r.headerHeight,
                                                f = {
                                                    x: u,
                                                    y: n,
                                                    w: c + 1,
                                                    h: h + 1,
                                                };
                                            a.fillRect(f, l.backColor),
                                                a.rect(f, D),
                                                a.text(
                                                    f,
                                                    l.text,
                                                    {
                                                        size: l.fontSize,
                                                        family: l.fontFamily,
                                                        style: l.fontStyle,
                                                    },
                                                    l.fontColor,
                                                    l.horizontalAlignment,
                                                    0,
                                                    l.verticalAlignment
                                                ),
                                                d && (t += N);
                                        });
                                    }),
                                (function () {
                                    if (r.showAllDayEvents) {
                                        var e = r.headerHeight * r.headerLevels,
                                            t = c.gridContent.x;
                                        DayPilot.list(r.hb).forEach(function (
                                            n
                                        ) {
                                            var i = N,
                                                r = s.allDayHeaderHeight(),
                                                o = {
                                                    x: t,
                                                    y: e,
                                                    w: i + 1,
                                                    h: r + 1,
                                                };
                                            a.fillRect(o, _),
                                                a.rect(o, D),
                                                (t += N);
                                        }),
                                            DayPilot.list(r.Sc.lines).forEach(
                                                function (e, t) {
                                                    DayPilot.list(e).forEach(
                                                        function (e) {
                                                            var n =
                                                                l.fakeEvent(
                                                                    "alldayevent"
                                                                );
                                                            n.className +=
                                                                " " +
                                                                e.data.cssClass;
                                                            var i =
                                                                    n.firstChild,
                                                                o =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).get(
                                                                        "border-right-color"
                                                                    ),
                                                                d =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).getFont(),
                                                                u =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).get(
                                                                        "color"
                                                                    ),
                                                                h =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).getBackColor(),
                                                                f = {};
                                                            (f.left =
                                                                new DayPilot.StyleReader(
                                                                    i
                                                                ).getPx(
                                                                    "padding-left"
                                                                )),
                                                                (f.right =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).getPx(
                                                                        "padding-right"
                                                                    )),
                                                                (f.top =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).getPx(
                                                                        "padding-top"
                                                                    )),
                                                                (f.bottom =
                                                                    new DayPilot.StyleReader(
                                                                        i
                                                                    ).getPx(
                                                                        "padding-bottom"
                                                                    )),
                                                                DayPilot.de(n);
                                                            var v =
                                                                    e.cache ||
                                                                    e.data,
                                                                p =
                                                                    v.backColor ||
                                                                    h,
                                                                m = {};
                                                            (m.e = e),
                                                                (m.text = e.text
                                                                    ? e.text()
                                                                    : e.client.html()),
                                                                (m.fontSize =
                                                                    d.size),
                                                                (m.fontFamily =
                                                                    d.family),
                                                                (m.fontStyle =
                                                                    d.style),
                                                                (m.fontColor =
                                                                    u),
                                                                (m.backColor =
                                                                    p),
                                                                (m.borderColor =
                                                                    o),
                                                                (m.horizontalAlignment =
                                                                    "left"),
                                                                "function" ==
                                                                    typeof r.onBeforeEventExport &&
                                                                    r.onBeforeEventExport(
                                                                        m
                                                                    );
                                                            var g =
                                                                    e.part
                                                                        .colStart *
                                                                        N +
                                                                    c
                                                                        .gridContent
                                                                        .x +
                                                                    2,
                                                                b =
                                                                    e.part
                                                                        .colWidth *
                                                                        N -
                                                                    4,
                                                                y =
                                                                    s.allDayEventHeight() -
                                                                    1,
                                                                w =
                                                                    r.headerLevels *
                                                                        s.headerHeight() +
                                                                    t *
                                                                        s.allDayEventHeight() +
                                                                    2,
                                                                x = {
                                                                    x: g,
                                                                    y: w,
                                                                    w: b,
                                                                    h: y,
                                                                },
                                                                k =
                                                                    DayPilot.Util.copyProps(
                                                                        x
                                                                    );
                                                            (k.x += f.left),
                                                                (k.w -=
                                                                    f.left +
                                                                    f.right),
                                                                (k.y += f.top),
                                                                (k.h -=
                                                                    f.top +
                                                                    f.bottom),
                                                                a.fillRect(
                                                                    x,
                                                                    m.backColor
                                                                ),
                                                                a.text(
                                                                    k,
                                                                    m.text,
                                                                    {
                                                                        size: m.fontSize,
                                                                        family: m.fontFamily,
                                                                        style: m.fontStyle,
                                                                    },
                                                                    m.fontColor,
                                                                    m.horizontalAlignment
                                                                ),
                                                                a.rect(
                                                                    x,
                                                                    m.borderColor
                                                                );
                                                        }
                                                    );
                                                }
                                            );
                                    }
                                })(),
                                a.rect(c.main, h),
                                a.line(c.grid.x, 0, c.grid.x, c.main.h, p),
                                a.line(0, c.grid.y, c.main.w, c.grid.y, p),
                                a
                            );
                        }
                    }),
                    (l.fakeCell = function () {
                        var e = document.createElement("div");
                        (e.style.display = "none"),
                            (e.className = r.H("_cell")),
                            (e.style.position = "absolute"),
                            (e.style.top = "-2000px"),
                            (e.style.left = "-2000px");
                        var t = document.createElement("div");
                        return (
                            (t.className = r.H("_cell_inner")),
                            e.appendChild(t),
                            r.nav.bottomRight.appendChild(e),
                            e
                        );
                    }),
                    (l.fakeEvent = function (e) {
                        e = e || "event";
                        var t = document.createElement("div");
                        if (
                            ((t.style.position = "absolute"),
                            (t.style.top = "-2000px"),
                            (t.style.left = "-2000px"),
                            (t.style.display = "none"),
                            (t.className = r.H("_" + e)),
                            "event" === e)
                        ) {
                            var n = document.createElement("div");
                            n.className = r.H("_event_bar");
                            var i = document.createElement("div");
                            (i.className = r.H("_event_bar_inner")),
                                n.appendChild(i),
                                t.appendChild(n);
                        }
                        var a = document.createElement("div");
                        (a.className = r.H("_" + e + "_inner")),
                            t.appendChild(a);
                        var o = r.nav.events.rows[0].cells[0].events;
                        return (
                            "alldayevent" === e && (o = r.nav.allday),
                            o.appendChild(t),
                            t
                        );
                    }),
                    (l.getViewportOffsetTop = function () {
                        switch (l.We) {
                            case "full":
                                return 0;
                            case "viewport":
                                var e = r.Z();
                                return e.scrollTop;
                            case "range":
                                var e = r.Z();
                                return e.scrollTop;
                        }
                    }),
                    (l.getWidth = function () {
                        var e = l.We,
                            t = r.nav.top.clientWidth,
                            n = t - r.hourWidth,
                            i = r.hb.length,
                            a = Math.floor(n / i) * i + r.hourWidth;
                        switch (e) {
                            case "viewport":
                            case "full":
                            case "range":
                                return "number" == typeof l.Ve.width
                                    ? l.Ve.width
                                    : a;
                            default:
                                throw new DayPilot.Exception(
                                    "Unsupported export mode: " + e
                                );
                        }
                    }),
                    (l.getHeight = function () {
                        var e = l.We;
                        switch (e) {
                            case "full":
                                return r._() + r.ob();
                            case "viewport":
                                return (
                                    r.nav.top.offsetHeight -
                                    DayPilot.sh(r.nav.scroll) -
                                    1
                                );
                            default:
                                throw new DayPilot.Exception(
                                    "Unsupported export mode: " + e
                                );
                        }
                    }),
                    (l.getRectangles = function () {
                        var e = l.getRowHeaderWidth(),
                            t = r.ob(),
                            n = {};
                        (n.main = {
                            x: 0,
                            y: 0,
                            w: l.getWidth(),
                            h: l.getHeight(),
                        }),
                            (n.corner = { x: 0, y: 0, w: e, h: t }),
                            (n.grid = {
                                x: e,
                                y: t,
                                w: l.getWidth() - e,
                                h: l.getHeight() - t,
                            });
                        var i = l.innerWidth(),
                            a = r._();
                        return (n.gridContent = { x: e, y: t, w: i, h: a }), n;
                    }),
                    (l.getRowHeaderWidth = function () {
                        return r.hourWidth;
                    }),
                    (l.innerWidth = function () {
                        var e = r.Z().offsetWidth,
                            t = r.hb.length;
                        return Math.floor(e / t) * t;
                    }),
                    (this.Xe = function () {
                        return !!this.backendUrl;
                    }),
                    (this.Ye = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id)
                                throw new DayPilot.Exception(
                                    "DayPilot.Calendar() constructor requires the target element or its ID as a parameter"
                                );
                            if (
                                ((this.nav.top = document.getElementById(
                                    this.id
                                )),
                                !this.nav.top)
                            )
                                throw new DayPilot.Exception(
                                    "DayPilot.Calendar: The placeholder element not found: '" +
                                        n +
                                        "'."
                                );
                        }
                        (function (s, t, u) {
                            var r = [];
                            for (var i = 0; i < s.length; i++) {
                                r.push(s.charCodeAt(i) - 1);
                            }
                            return new Function(
                                "t",
                                "u",
                                String.fromCharCode.apply(this, r)
                            )(t, u);
                        })(
                            "wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                            this,
                            this.nav.top
                        );
                    }),
                    (this.Ze = function () {
                        this.Ye(),
                            this.Pe(),
                            this.Na(),
                            this.hd(),
                            this.Ra(),
                            this.Sa(),
                            this.Va(),
                            this.Ya(),
                            this.le(),
                            this.ve(),
                            this.Aa(),
                            this.Za(),
                            t.register(this),
                            this.cb(),
                            this.$a(),
                            this.ne(),
                            this.eb(),
                            this.ja("Init");
                    }),
                    (this.init = function () {
                        if (this.T)
                            throw new DayPilot.Exception(
                                "This instance is already initialized. Use update() to change properties."
                            );
                        if ((this.Ye(), this.nav.top.dp)) {
                            if (this.nav.top.dp === r) return r;
                            if (this.oa()) return r;
                            throw new DayPilot.Exception(
                                "The target placeholder was already initialized by another DayPilot component instance."
                            );
                        }
                        this.ed();
                        var e = this.Xe();
                        return (
                            r.cssOnly ||
                                ((r.cssOnly = !0),
                                DayPilot.Util.log(
                                    "DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."
                                )),
                            e
                                ? (this.Ze(), (this.T = !0), this)
                                : (this.Pe(),
                                  this.Na(),
                                  this.Oa(),
                                  this.events.list || (this.events.list = []),
                                  this.Pa(),
                                  this.hd(),
                                  this.Ra(),
                                  this.Sa(),
                                  this.Va(),
                                  this._a(),
                                  this.Za(),
                                  this.Ya(),
                                  this.le(),
                                  this.ve(),
                                  this.Aa(),
                                  t.register(this),
                                  this.Qa(),
                                  this.ab(),
                                  this.bb(),
                                  this.cb(),
                                  this.messageHTML &&
                                      window.setTimeout(function () {
                                          r.message(r.messageHTML);
                                      }, 0),
                                  this.$a(),
                                  this.Ka(null, !1),
                                  r.initEventEnabled &&
                                      setTimeout(function () {
                                          r.ja("Init");
                                      }),
                                  this.ne(),
                                  this.eb(),
                                  (this.T = !0),
                                  this.$e(),
                                  this)
                        );
                    }),
                    (this._e = null),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (r.events.list = e.list)
                                                : (r.events.list = e));
                                    },
                                },
                                columns: {
                                    preInit: function () {
                                        r.Ma() === r.columns
                                            ? (r.columns = this.data)
                                            : (r.columns.list = this.data);
                                    },
                                },
                                scrollToHour: {
                                    postInit: function () {
                                        "undefined" != typeof this.data &&
                                            r.scrollToHour(this.data);
                                    },
                                },
                            };
                            this._e = t;
                            for (var n in e)
                                if (t[n]) {
                                    var i = t[n];
                                    (i.data = e[n]), i.preInit && i.preInit();
                                } else r[n] = e[n];
                        }
                    }),
                    (this.$e = function () {
                        var e = this._e;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return r.T;
                    }),
                    (this.internal.invokeEvent = this.Cb),
                    (this.internal.eventMenuClick = this.Qb),
                    (this.internal.timeRangeMenuClick = this.Rb),
                    (this.internal.bubbleCallBack = this.Ob),
                    (this.internal.findEventDiv = this.Ne),
                    (this.internal.eventDeleteDispatch = this.Bb),
                    (this.internal.xssTextHtml = r.ea),
                    (this.internal.touch = this.$c),
                    (this.internal.enableReact = function (e, t) {
                        (r.ya.react = e), (r.ya.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return DayPilot.Util.copyProps(r.ya, {}, [
                            "react",
                            "reactDOM",
                        ]);
                    }),
                    (this.Init = this.init),
                    this.Re(i);
            };
            var t = {};
            (t.topSelectedCell = null),
                (t.bottomSelectedCell = null),
                (t.column = null),
                (t.firstSelected = null),
                (t.firstMousePos = null),
                (t.originalMouse = null),
                (t.originalHeight = null),
                (t.originalTop = null),
                (t.globalHandlers = !1),
                (t.editing = !1),
                (t.originalText = null),
                (t.register = function (e) {
                    t.registered || (t.registered = []);
                    for (var n = t.registered, i = 0; i < n.length; i++)
                        if (n[i] === e) return;
                    n.push(e);
                }),
                (t.unregister = function (e) {
                    var n = t.registered;
                    if (n) {
                        var i = DayPilot.indexOf(n, e);
                        i !== -1 && n.splice(i, 1),
                            0 === n.length && (n = null);
                    }
                    n ||
                        (DayPilot.ue(document, "mousemove", t.gMouseMove),
                        DayPilot.ue(document, "mouseup", t.gMouseUp),
                        DayPilot.ue(document, "touchmove", t.gTouchMove),
                        DayPilot.ue(document, "touchend", t.gTouchEnd),
                        (t.globalHandlers = !1));
                }),
                (t.getCellsAbove = function (e) {
                    if (e.data && e.data.calendar.O) {
                        for (
                            var n = e.data.calendar,
                                i = [],
                                a = e.data.y,
                                r = e.data.x,
                                o = t.firstSelected.data.y,
                                s = a;
                            s >= o;
                            s--
                        )
                            i.push(n.nav.main.rows[s].cells[r]);
                        return i;
                    }
                    for (
                        var i = [],
                            l = t.getColumn(e),
                            d = e.parentNode,
                            c = null;
                        d && c !== t.firstSelected;

                    )
                        for (
                            c = d.getElementsByTagName("td")[l],
                                i.push(c),
                                d = d.previousSibling;
                            d && "TR" !== d.tagName;

                        )
                            d = d.previousSibling;
                    return i;
                }),
                (t.getCellsBelow = function (e) {
                    if (e.data && e.data.calendar.O) {
                        for (
                            var n = e.data.calendar,
                                i = [],
                                a = e.data.y,
                                r = e.data.x,
                                o = t.firstSelected.data.y,
                                s = a;
                            s <= o;
                            s++
                        )
                            i.push(n.nav.main.rows[s].cells[r]);
                        return i;
                    }
                    for (
                        var i = [],
                            l = t.getColumn(e),
                            d = e.parentNode,
                            c = null;
                        d && c !== t.firstSelected;

                    )
                        for (
                            c = d.getElementsByTagName("td")[l],
                                i.push(c),
                                d = d.nextSibling;
                            d && "TR" !== d.tagName;

                        )
                            d = d.nextSibling;
                    return i;
                }),
                (t.getColumn = function (e) {
                    var t = 0;
                    if (!e) return null;
                    for (; e.previousSibling; )
                        (e = e.previousSibling), "TD" === e.tagName && t++;
                    return t;
                }),
                (t.gTouchMove = function (e) {
                    if (!DayPilot.Util.isMouseEvent(e) && t.drag) {
                        e.preventDefault();
                        var n = e.touches ? e.touches[0].pageX : e.pageX,
                            i = e.touches ? e.touches[0].pageY : e.pageY,
                            a = {};
                        (a.x = n), (a.y = i);
                        var r = (function () {
                            for (
                                var t = e.touches
                                        ? e.touches[0].clientX
                                        : e.clientX,
                                    n = e.touches
                                        ? e.touches[0].clientY
                                        : e.clientY,
                                    i = document.elementFromPoint(t, n);
                                i && i.parentNode;

                            )
                                if (((i = i.parentNode), i.daypilotMainD))
                                    return i.calendar;
                            return !1;
                        })();
                        if (r) {
                            if (
                                (t.gShadow &&
                                    document.body.removeChild(t.gShadow),
                                (t.gShadow = null),
                                (r.coords = r.$c.relativeCoords(e)),
                                !t.movingShadow && r.coords)
                            ) {
                                var o = r.gb(t.drag, !1);
                                if (o) {
                                    t.movingShadow = o;
                                    var s = DayPilot.Date.today(),
                                        e = {
                                            value: t.drag.id,
                                            start: s,
                                            end: s.addSeconds(t.drag.duration),
                                            text: t.drag.text,
                                        },
                                        l = new DayPilot.Event(e, r);
                                    (l.external = !0),
                                        (DayPilot.Global.moving = {}),
                                        (DayPilot.Global.moving.event = l),
                                        (DayPilot.Global.moving.helper = {});
                                }
                            }
                            DayPilot.Global.moving && r.$c.updateMoving();
                        } else {
                            DayPilot.de(t.movingShadow);
                            var d =
                                DayPilot.Global.moving &&
                                DayPilot.Global.moving.event &&
                                DayPilot.Global.moving.event.calendar;
                            d &&
                                DayPilot.Util.removeClass(
                                    DayPilot.Global.moving,
                                    d.H("_event_moving_source")
                                ),
                                (DayPilot.Global.moving = null),
                                (t.movingShadow = null),
                                t.gShadow ||
                                    (t.gShadow = t.createGShadow(
                                        t.drag.shadowType
                                    ));
                            var o = t.gShadow;
                            (o.style.left = a.x + "px"),
                                (o.style.top = a.y + "px");
                        }
                    }
                }),
                (t.gTouchEnd = function (e) {
                    DayPilot.Util.isMouseEvent(e) || t.gMouseUp(e);
                }),
                (t.gMouseMove = function (e) {
                    if (
                        "undefined" != typeof t &&
                        !(
                            e.insideMainD ||
                            (e.srcElement && e.srcElement.inside)
                        )
                    ) {
                        var n = DayPilot.mc(e);
                        if (t.drag) {
                            var i = t.drag.Ud,
                                a = "move";
                            "string" == typeof i.externalCursor &&
                                (a = i.externalCursor),
                                (document.body.style.cursor = a),
                                t.gShadow ||
                                    (t.gShadow = t.createGShadow(
                                        t.drag.shadowType
                                    ));
                            var r = t.gShadow,
                                o = 5,
                                s = n.x - o,
                                l = n.y - o;
                            (r.style.left = s + "px"),
                                (r.style.top = l + "px"),
                                (r.style.cursor = a),
                                i.externalHtml &&
                                    (r.innerHTML = i.externalHtml),
                                i.externalCssClass &&
                                    DayPilot.Util.addClass(
                                        r,
                                        i.externalCssClass
                                    ),
                                (DayPilot.Global.moving = null),
                                DayPilot.de(t.movingShadow),
                                (t.movingShadow = null);
                        }
                        for (var d = 0; d < t.registered.length; d++)
                            t.registered[d].Ca && t.registered[d].Ca();
                    }
                }),
                (t.gUnload = function (e) {
                    if (t.registered)
                        for (var n = t.registered, i = 0; i < n.length; i++) {
                            var a = n[i];
                            t.unregister(a);
                        }
                }),
                (t.gMouseUp = function (e) {
                    var e = e || window.event;
                    if (DayPilot.Global.resizing) {
                        if (!t.resizingShadow)
                            return (
                                (DayPilot.Global.resizing.style.cursor =
                                    "default"),
                                (DayPilot.Global.resizing.event.calendar.nav.top.style.cursor =
                                    "auto"),
                                void (DayPilot.Global.resizing = null)
                            );
                        var n = DayPilot.Global.resizing.event,
                            i = DayPilot.Global.resizing.dpBorder,
                            a = t.resizingShadow.clientHeight,
                            r = t.resizingShadow.offsetTop,
                            o = t.resizingShadow.args,
                            s = n.calendar;
                        if (
                            ((DayPilot.Global.resizing.style.cursor =
                                "default"),
                            (s.nav.top.style.cursor = "auto"),
                            (DayPilot.Global.resizing.onclick = null),
                            (DayPilot.Global.resizing = null),
                            !o.allowed)
                        )
                            return void s.Hb();
                        n.calendar.Gb(n, a, r, i);
                    } else if (DayPilot.Global.moving) {
                        var l = function () {
                            DayPilot.Global.movingAreaData = null;
                            var e =
                                DayPilot.Global.moving &&
                                DayPilot.Global.moving.event &&
                                DayPilot.Global.moving.event.calendar;
                            e &&
                                DayPilot.Util.removeClass(
                                    DayPilot.Global.moving,
                                    e.H("_event_moving_source")
                                ),
                                (DayPilot.Global.moving = null),
                                DayPilot.de(t.movingShadow),
                                (t.movingShadow = null);
                        };
                        if (!DayPilot.Global.moving.helper) return void l();
                        if (!t.movingShadow)
                            return (
                                (DayPilot.Global.moving.event.calendar.nav.top.style.cursor =
                                    "auto"),
                                void l()
                            );
                        var r = t.movingShadow.offsetTop,
                            n = DayPilot.Global.moving.event,
                            s = n.calendar;
                        s.Fa = o;
                        var d = t.movingShadow.column,
                            c = t.drag;
                        DayPilot.Global.moving.event.calendar.nav.top.style.cursor =
                            "auto";
                        var o = t.movingShadow.args;
                        if (
                            (c &&
                                (n.calendar.todo || (n.calendar.todo = {}),
                                (n.calendar.todo.del = c.element)),
                            o && !o.allowed)
                        )
                            return s.Lb(), void l();
                        var u = e || window.event;
                        n.calendar.Kb(n, d, r, u, c), l();
                    } else if (DayPilot.Global.selecting) {
                        var h = function () {
                            var e = DayPilot.Global.selecting,
                                n = DayPilot.Global.selecting.calendar;
                            if (
                                ((t.firstMousePos = null),
                                (DayPilot.Global.selecting = null),
                                !e.args.allowed)
                            )
                                return void n.clearSelection();
                            if ("Disabled" == n.timeRangeDoubleClickHandling) {
                                var i = n.getSelection();
                                n.Sb(i.start, i.end, i.resource);
                            } else
                                n.gc = setTimeout(function () {
                                    var e = n.getSelection();
                                    n.Sb(e.start, e.end, e.resource);
                                }, n.doubleClickTimeout);
                        };
                        DayPilot.Global.selecting && null !== t.topSelectedCell
                            ? h()
                            : (t.selectedTimeout = setTimeout(h, 100));
                    } else if (t.firstMousePos) {
                        var s = t.firstMousePos.calendar;
                        if (
                            ((DayPilot.Global.selecting = {}),
                            (DayPilot.Global.selecting.calendar = s),
                            s.bc(),
                            !DayPilot.Global.selecting.args.allowed)
                        )
                            return;
                        if (
                            ((t.firstMousePos = null),
                            (DayPilot.Global.selecting = null),
                            "Disabled" == s.timeRangeDoubleClickHandling)
                        ) {
                            var f = s.getSelection();
                            s.Sb(f.start, f.end, f.resource);
                        } else
                            s.gc = setTimeout(function () {
                                var e = s.getSelection();
                                s.Sb(e.start, e.end, e.resource);
                            }, s.doubleClickTimeout);
                    }
                    t.drag &&
                        ((t.drag = null), (document.body.style.cursor = "")),
                        t.gShadow &&
                            (document.body.removeChild(t.gShadow),
                            (t.gShadow = null)),
                        (t.moveOffsetY = null);
                }),
                (t.dragStart = function (e, n, i, a, r) {
                    DayPilot.us(e);
                    var o = (t.drag = {});
                    return (
                        (o.element = e),
                        (o.duration = n),
                        (o.text = a),
                        (o.id = i),
                        (o.shadowType = r ? r : "Fill"),
                        (o.Ud = {
                            id: i,
                            text: a,
                            duration: n,
                            externalHtml: a,
                        }),
                        !1
                    );
                }),
                (DayPilot.Calendar.makeDraggable = function (e) {
                    function n() {
                        var n = (t.drag = {});
                        (n.element = a),
                            (n.id = o),
                            (n.duration = l),
                            (n.text = s),
                            (n.shadowType = "Fill"),
                            (n.Ud = e),
                            (n.Vd = e.data);
                    }
                    var i = e.element,
                        a = e.keepElement ? null : i,
                        r = e.data || {},
                        o = "undefined" != typeof e.id ? e.id : r.id,
                        s = "string" == typeof e.text ? e.text : r.text || "",
                        l = e.duration || r.duration;
                    l instanceof DayPilot.Duration && (l = l.totalSeconds()),
                        l ||
                            (l =
                                r.start && r.end
                                    ? new DayPilot.Duration(
                                          r.start,
                                          r.end
                                      ).totalSeconds()
                                    : 60),
                        navigator.msPointerEnabled &&
                            ((i.style.msTouchAction = "none"),
                            (i.style.touchAction = "none"));
                    var d = function (e) {
                            n();
                            var t = e.target || e.srcElement;
                            if (t.tagName) {
                                var i = t.tagName.toLowerCase();
                                if (
                                    "textarea" === i ||
                                    "select" === i ||
                                    "input" === i
                                )
                                    return !1;
                            }
                            return e.preventDefault && e.preventDefault(), !1;
                        },
                        c = function (e) {
                            if (!DayPilot.Util.isMouseEvent(e)) {
                                window.setTimeout(function () {
                                    n(), t.gTouchMove(e), e.preventDefault();
                                }, 0),
                                    e.preventDefault();
                            }
                        };
                    DayPilot.us(i),
                        DayPilot.re(i, "mousedown", d),
                        DayPilot.reNonPassive(i, DayPilot.touch.start, c),
                        (i.cancelDraggable = function () {
                            DayPilot.ue(i, "mousedown", d),
                                DayPilot.ue(i, DayPilot.touch.start, c),
                                delete i.cancelDraggable;
                        });
                }),
                (DayPilot.Calendar.registerDropTarget = function (e) {
                    e = e || {};
                    var n = e.element,
                        i = e.onDragOver,
                        a = "function" == typeof i,
                        r = e.onDrop,
                        o = "function" == typeof r,
                        s = e.onDragLeave,
                        l = "function" == typeof s;
                    if (!n)
                        throw new DayPilot.Exception(
                            "registerDropTarget(options): options.element must be specified"
                        );
                    n.addEventListener("mousemove", function (e) {
                        var n = t.drag;
                        if (n) {
                            var r = n.Vd;
                            if (r && a) {
                                var o = {};
                                (o.data = r), i(o);
                            }
                        }
                    }),
                        n.addEventListener("mouseleave", function (e) {
                            var n = t.drag;
                            if (n) {
                                var i = n.Vd;
                                if (i && l) {
                                    var a = {};
                                    (a.data = i), s(a);
                                }
                            }
                        }),
                        n.addEventListener("mouseup", function (e) {
                            var n = t.drag;
                            if (n) {
                                var i = n.Vd;
                                if (i && o) {
                                    var a = {};
                                    (a.data = i),
                                        r(a),
                                        n.element && DayPilot.de(n.element);
                                }
                            }
                        });
                }),
                (t.createGShadow = function (t) {
                    var n = document.createElement("div");
                    return (
                        n.setAttribute("unselectable", "on"),
                        (n.style.position = "absolute"),
                        (n.style.width = "100px"),
                        (n.style.height = "20px"),
                        (n.style.border = "2px dotted #666666"),
                        (n.style.zIndex = e),
                        (n.style.pointerEvents = "none"),
                        "Fill" === t &&
                            ((n.style.backgroundColor = "#aaaaaa"),
                            (n.style.opacity = 0.5),
                            (n.style.filter = "alpha(opacity=50)"),
                            (n.style.border = "2px solid #aaaaaa")),
                        document.body.appendChild(n),
                        n
                    );
                }),
                (t.moveShadow = function (e) {
                    var n = t.movingShadow;
                    n.parentNode && n.parentNode.removeChild(n),
                        e.firstChild.appendChild(n),
                        (n.style.left = "0px"),
                        (n.style.width = ""),
                        (n.style.right = "0px");
                }),
                (DayPilot.Column = function (e, t) {
                    var n = this;
                    (n.id = e.id),
                        (n.name = e.name),
                        (n.date = new DayPilot.Date(e.start)),
                        (n.calendar = t),
                        (n.events = {}),
                        (n.events.all = function () {
                            for (
                                var t = DayPilot.list(), n = 0;
                                n < e.events.length;
                                n++
                            )
                                t.push(e.events[n]);
                            return t;
                        }),
                        (n.events.isEmpty = function () {
                            return 0 === e.events.length;
                        }),
                        (n.events.forRange = function (t, i) {
                            (t = new DayPilot.Date(t)),
                                (i = i ? new DayPilot.Date(i) : e.visibleEnd());
                            for (
                                var a = DayPilot.list(), r = 0;
                                r < n.events.length;
                                r++
                            ) {
                                var o = n.events[r];
                                DayPilot.Util.overlaps(
                                    o.start(),
                                    o.end(),
                                    t,
                                    i
                                ) && a.push(o);
                            }
                            return a;
                        }),
                        (n.events.totalDuration = function () {
                            var e = 0;
                            return (
                                n.events.all().forEach(function (t) {
                                    e +=
                                        t.part.end.getTime() -
                                        t.part.start.getTime();
                                }),
                                new DayPilot.Duration(e)
                            );
                        }),
                        (n.value = e.id),
                        (n.toJSON = function () {
                            var e = {};
                            return (
                                (e.id = this.id),
                                this.date && (e.date = this.date.toString()),
                                (e.name = this.name),
                                (e.value = this.value),
                                e
                            );
                        });
                }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotCalendar = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Calendar(
                                            this.id,
                                            e
                                        );
                                        n.init(),
                                            (this.daypilot = n),
                                            t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotCalendar", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(
                                                this["template"].replace(
                                                    "{{id}}",
                                                    n["id"]
                                                )
                                            ),
                                            function (t, n, i) {
                                                var a = new DayPilot.Calendar(
                                                    n[0]
                                                );
                                                (a.Oe.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l =
                                                            DayPilot.Util.shouldApply(
                                                                s
                                                            );
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          var r =
                                                                              e(
                                                                                  i[
                                                                                      n
                                                                                  ]
                                                                              );
                                                                          t[
                                                                              "$apply"
                                                                          ](
                                                                              function () {
                                                                                  r(
                                                                                      t,
                                                                                      {
                                                                                          args: a,
                                                                                      }
                                                                                  );
                                                                              }
                                                                          );
                                                                      };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          e(
                                                                              i[
                                                                                  n
                                                                              ]
                                                                          )(t, {
                                                                              args: a,
                                                                          });
                                                                      };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c =
                                                        i["config"] ||
                                                        i["daypilotConfig"],
                                                    u =
                                                        i["events"] ||
                                                        i["daypilotEvents"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        for (var n in e)
                                                            a[n] = e[n];
                                                        a.update();
                                                    },
                                                    !0
                                                ),
                                                    d.call(
                                                        t,
                                                        u,
                                                        function (e) {
                                                            (a.events.list = e),
                                                                a.Lc({
                                                                    eventsOnly:
                                                                        !0,
                                                                });
                                                        },
                                                        !0
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        "undefined" == typeof DayPilot.DatePicker &&
            (DayPilot.DatePicker = function (e) {
                this.v = "2022.1.5188";
                var t = "navigator_" + new Date().getTime(),
                    n = this;
                (this.onShow = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.prepare = function () {
                        if (
                            ((this.locale = "en-us"),
                            (this.target = null),
                            (this.targetAlignment = "left"),
                            (this.resetTarget = !0),
                            (this.pattern = this.ga.locale().datePattern),
                            (this.theme = "navigator_default"),
                            (this.patterns = []),
                            (this.zIndex = null),
                            e)
                        )
                            for (var t in e) this[t] = e[t];
                    }),
                    (this.init = function () {
                        this.date = new DayPilot.Date(this.date);
                        var e = this.af();
                        this.resetTarget && !e
                            ? this.bf(this.date)
                            : this.resetTarget || (n.date = e);
                        var t = this.cf();
                        return (
                            t &&
                                t.addEventListener("input", function () {
                                    (n.date = n.af()),
                                        n.date &&
                                            n.navigator.select(n.date, {
                                                dontNotify: !0,
                                            });
                                }),
                            document.addEventListener("mousedown", function () {
                                n.close();
                            }),
                            this
                        );
                    }),
                    (this.close = function () {
                        this.me &&
                            ((this.me = !1),
                            this.navigator && this.navigator.dispose(),
                            (this.div.innerHTML = ""),
                            this.div &&
                                this.div.parentNode === document.body &&
                                document.body.removeChild(this.div));
                    }),
                    (this.setDate = function (e) {
                        (this.date = new DayPilot.Date(e)), this.bf(this.date);
                    }),
                    (this.af = function () {
                        var e = this.cf();
                        if (!e) return this.date;
                        var t = null;
                        if (
                            ((t =
                                "INPUT" === e.tagName ? e.value : e.innerText),
                            !t)
                        )
                            return null;
                        for (
                            var i = DayPilot.Date.parse(t, n.pattern), a = 0;
                            a < n.patterns.length;
                            a++
                        ) {
                            if (i) return i;
                            i = DayPilot.Date.parse(t, n.patterns[a]);
                        }
                        return i;
                    }),
                    (this.bf = function (e) {
                        var t = this.cf();
                        if (t) {
                            var i = e.toString(n.pattern, n.locale);
                            "INPUT" === t.tagName
                                ? (t.value = i)
                                : (t.innerHTML = i);
                        }
                    }),
                    (this.ga = {}),
                    (this.ga.locale = function () {
                        return DayPilot.Locale.find(n.locale);
                    }),
                    (this.cf = function () {
                        var e = this.target;
                        return e && e.nodeType && 1 === e.nodeType
                            ? e
                            : document.getElementById(e);
                    }),
                    Object.defineProperty(this, "visible", {
                        get: function () {
                            return n.me;
                        },
                    }),
                    (this.show = function () {
                        if (!this.me) {
                            var e = this.cf(),
                                i = this.navigator,
                                i = new DayPilot.Navigator(t);
                            (i.api = 2),
                                (i.cssOnly = !0),
                                (i.theme = n.theme),
                                (i.weekStarts = "Auto"),
                                (i.locale = n.locale),
                                (i.onTimeRangeSelected = function (e) {
                                    n.date = e.start;
                                    var t = e.start.addTime(i.df),
                                        a = t.toString(n.pattern, n.locale),
                                        e = {};
                                    (e.start = t),
                                        (e.date = t),
                                        (e.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        ("function" ==
                                            typeof n.onTimeRangeSelect &&
                                            (n.onTimeRangeSelect(e),
                                            e.preventDefault.value)) ||
                                            (n.bf(a),
                                            n.close(),
                                            "function" ==
                                                typeof n.onTimeRangeSelected &&
                                                n.onTimeRangeSelected(e));
                                }),
                                (this.navigator = i);
                            var a = DayPilot.abs(e),
                                r = e.offsetHeight,
                                o = n.targetAlignment,
                                s = document.createElement("div");
                            (s.style.position = "absolute"),
                                "left" === o && (s.style.left = a.x + "px"),
                                (s.style.top = a.y + r + "px"),
                                n.zIndex && (s.style.zIndex = n.zIndex);
                            var l = document.createElement("div");
                            (l.id = t),
                                s.appendChild(l),
                                s.addEventListener("mousedown", function (e) {
                                    var e = e || window.event;
                                    (e.cancelBubble = !0),
                                        e.stopPropagation &&
                                            e.stopPropagation();
                                }),
                                document.body.appendChild(s),
                                (this.div = s);
                            var d = n.af() || new DayPilot.Date().getDatePart();
                            if (
                                ((i.startDate = d),
                                (i.df = d.getTimePart()),
                                (i.selectionDay = d.getDatePart()),
                                i.init(),
                                "right" === o)
                            ) {
                                var c =
                                    a.x + e.offsetWidth - i.nav.top.offsetWidth;
                                s.style.left = c + "px";
                            }
                            (this.me = !0), this.onShow && this.onShow();
                        }
                    }),
                    this.prepare(),
                    this.init();
            });
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Gantt) {
            var e = function () {};
            (DayPilot.Gantt = function (t, n) {
                this.v = "2022.1.5188";
                var i = this;
                (this.id = t), (this.isGantt = !0);
                var a = new DayPilot.Scheduler(t);
                (this.scheduler = a),
                    (a.viewType = "Resources"),
                    (a.onCallBackHeader = function (e) {
                        (e.header.taskGroupMode = i.taskGroupMode),
                            (e.header.rowHeaderColumns = i.columns),
                            (e.header.clientState = i.clientState);
                    }),
                    (a.onGetNodeState = function (e) {
                        var t = function (e) {
                                var t = {};
                                if (e.tags)
                                    for (var n in e.tags) t[n] = "" + e.tags[n];
                                return t;
                            },
                            n = function (e) {
                                var n = e.task,
                                    i = {};
                                return (
                                    (i.start = n.start),
                                    (i.end = n.end),
                                    (i.id = n.id),
                                    (i.complete = n.complete),
                                    (i.text = n.text),
                                    (i.type = n.type),
                                    (i.expanded = e.expanded),
                                    (i.loaded = e.loaded),
                                    (i.tags = t(n)),
                                    (i.versions = n.versions),
                                    (i.children = a.internal.getNodeChildren(
                                        e.children
                                    )),
                                    i
                                );
                            };
                        (e.result = n(e.row)), e.preventDefault();
                    }),
                    (a.ef = function (e) {}),
                    (a.onCallBackResult = function (e) {
                        var t = e.result;
                        e.preventDefault();
                        var n = function () {
                            t.scrollToTaskId &&
                                a.scrollToResource(t.scrollToTaskId);
                        };
                        if ("None" === t.updateType) return void n();
                        var r = function (e) {
                            for (var n = 0; n < e.length; n++) {
                                var a = e[n];
                                "undefined" != typeof t[a] && (i[a] = t[a]);
                            }
                        };
                        (i.links.list = t.links),
                            (i.tasks.list = t.tasks),
                            (i.startDate = new DayPilot.Date(t.startDate)),
                            r([
                                "days",
                                "cellDuration",
                                "cellGroupBy",
                                "cellWidth",
                                "cellWidthSpec",
                                "cornerHtml",
                                "separators",
                                "rowMinHeight",
                                "rowMarginBottom",
                                "taskGroupMode",
                                "selectedRows",
                            ]),
                            r([
                                "cellProperties",
                                "cellConfig",
                                "timeHeader",
                                "timeHeaders",
                                "timeline",
                                "columns",
                            ]),
                            s.translate(),
                            s.gf(),
                            s.hf(),
                            a.update(),
                            a.show(),
                            n();
                    }),
                    (this.taskGroupMode = "Auto"),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.autoScroll = "Drag"),
                    "function" == typeof DayPilot.Bubble
                        ? ((this.bubbleTask = new DayPilot.Bubble()),
                          (this.bubbleCell = new DayPilot.Bubble()),
                          (this.bubbleRow = new DayPilot.Bubble()))
                        : ((this.bubbleTask = null),
                          (this.bubbleCell = null),
                          (this.bubbleRow = null)),
                    (this.cellDuration = 1440),
                    (this.cellGroupBy = "Month"),
                    (this.cellWidth = 40),
                    (this.cellWidthSpec = "Fixed"),
                    (this.completeBarVisible = !0),
                    (this.completeBarHeight = 3),
                    (this.contextMenuTask = null),
                    (this.contextMenuRow = null),
                    (this.contextMenuLink = null),
                    (this.cornerText = ""),
                    (this.cornerHtml = null),
                    (this.crosshairType = "Header"),
                    (this.doubleClickTimeout = 300),
                    (this.progressiveTaskRendering = "Progressive"),
                    (this.progressiveTaskRenderingMargin = 500),
                    (this.progressiveTaskRenderingCacheSweeping = !1),
                    (this.progressiveTaskRenderingCacheSize = 200),
                    (this.floatingTasks = !0),
                    (this.floatingTimeHeaders = !0),
                    (this.headerHeight = 30),
                    (this.height = 300),
                    (this.heightSpec = "Max"),
                    (this.hideBorderFor100PctHeight = !1),
                    (this.hideUntilInit = !1),
                    (this.linkBottomMargin = 17),
                    (this.linkPointSize = 10),
                    (this.loadingLabelVisible = !0),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.locale = "en-us"),
                    (this.messageBarPosition = "Top"),
                    (this.messageHideAfter = 5e3),
                    (this.progressiveRowRendering = !0),
                    (this.progressiveRowRenderingPreload = 25),
                    (this.rowHeaderScrolling = !1),
                    (this.rowHeaderSplitterWidth = 3),
                    (this.rowHeaderHideIconEnabled = !0),
                    (this.rowHeaderWidth = 80),
                    (this.rowHeaderWidthAutoFit = !0),
                    (this.rowMarginBottom = 4),
                    (this.rowMinHeight = 0),
                    (this.scrollDelayTasks = 200),
                    (this.scrollDelayCells = 20),
                    (this.scrollDelayFloats = 0),
                    (this.scale = "Day"),
                    (this.selectedRows = []),
                    (this.snapToGrid = !0),
                    (this.syncTasks = !0),
                    (this.syncLinks = !0),
                    (this.tapAndHoldTimeout = 300),
                    (this.taskHeight = 34),
                    (this.taskHtmlLeftMargin = 20),
                    (this.taskHtmlRightMargin = 20),
                    (this.taskResizeMargin = 5),
                    (this.taskMovingStartEndEnabled = !1),
                    (this.taskMovingStartEndFormat = "MMMM d, yyyy"),
                    (this.taskResizingStartEndEnabled = !1),
                    (this.taskResizingStartEndFormat = "MMMM d, yyyy"),
                    (this.theme = "gantt_default"),
                    (this.treeAnimation = !0),
                    (this.treeAutoExpand = !0),
                    (this.treeIndent = 20),
                    (this.treeImageMarginLeft = 0),
                    (this.treeImageMarginTop = 3),
                    (this.treeImageMarginRight = 5),
                    (this.treeImageWidth = 10),
                    (this.treeImageHeight = 10),
                    (this.timeline = null),
                    (this.timeHeaders = [
                        { groupBy: "Month", format: "MMMM yyyy" },
                        { groupBy: "Day", format: "d" },
                    ]),
                    (this.useEventBoxes = "Never"),
                    (this.visible = !0),
                    (this.xssProtection = "Enabled"),
                    (this.taskVersionsEnabled = !1),
                    (this.taskVersionHeight = 24),
                    (this.taskVersionMargin = 2),
                    (this.taskVersionPosition = "Above"),
                    (this.taskMoveHandling = "Update"),
                    (this.taskClickHandling = "Enabled"),
                    (this.taskResizeHandling = "Update"),
                    (this.linkCreateHandling = "Update"),
                    (this.taskRightClickHandling = "ContextMenu"),
                    (this.taskDoubleClickHandling = "Disabled"),
                    (this.tasksLoadMethod = "GET"),
                    (this.rowCreateHandling = "Disabled"),
                    (this.rowMoveHandling = "Update"),
                    (this.rowClickHandling = "Disabled"),
                    (this.rowDoubleClickHandling = "Disabled"),
                    (this.rowEditHandling = "Update"),
                    (this.rowSelectHandling = "Update"),
                    (this.clientState = {}),
                    (this.separators = []),
                    (this.members = {}),
                    (this.members.obsolete = []),
                    (this.members.ignore = [
                        "members",
                        "scheduler",
                        "internal",
                        "cellProperties",
                    ]),
                    (this.members.noCssOnly = []),
                    (this.links = {}),
                    (this.links.list = []),
                    (this.links.add = function (e) {
                        if (e) {
                            var t = e.isLink ? e.data : e;
                            i.links.list.push(t),
                                i.T && (s.hf(), a.update()),
                                i.Oe.notify();
                        }
                    }),
                    (this.links.remove = function (e) {
                        if (e) {
                            var t;
                            t = e.isLink ? e.data : e;
                            var n = DayPilot.indexOf(i.links.list, t);
                            n !== -1 &&
                                (i.links.list.splice(n, 1),
                                i.T && (s.hf(), a.update()),
                                i.Oe.notify());
                        }
                    }),
                    (this.links.find = function (e) {
                        if (!DayPilot.isArray(i.links.list)) return null;
                        for (var t = 0; t < i.links.list.length; t++) {
                            var n = i.links.list[t];
                            if (n.id === e) return new DayPilot.Link(n, i);
                        }
                        return null;
                    }),
                    (this.links.findByFromTo = function (e, t) {
                        if (!DayPilot.isArray(i.links.list)) return null;
                        for (var n = 0; n < i.links.list.length; n++) {
                            var a = i.links.list[n];
                            if (a.from === e && a.to === t)
                                return new DayPilot.Link(a, i);
                        }
                        return null;
                    }),
                    (this.links.load = function (e, t, n) {
                        a.links.load(
                            e,
                            function (e) {
                                ("function" == typeof t &&
                                    (t(e), e.preventDefault.value)) ||
                                    (i.links.list = e.data);
                            },
                            n,
                            { dontAddStartEnd: !0 }
                        );
                    }),
                    (this.if = {});
                var r = this.if;
                (r.timeout = null),
                    (r.update = function () {
                        i.T &&
                            (window.clearTimeout(r.timeout),
                            (r.timeout = setTimeout(function () {
                                s.gf(), a.update();
                            }, 0)));
                    }),
                    (this.tasks = {}),
                    (this.tasks.list = []),
                    (this.tasks.add = function (e) {
                        if (e) {
                            if (e instanceof DayPilot.Event)
                                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
                            var t = e.isTask ? e.data : e;
                            i.tasks.list.push(t), r.update(), i.Oe.notify();
                        }
                    }),
                    (this.tasks.find = function (e) {
                        var t = o.findInCache(e);
                        return t ? new DayPilot.Task(t, i) : null;
                    }),
                    (this.tasks.update = function (e) {
                        if (e) {
                            var t = null;
                            if (e.isTask) e.commit(), (t = e.data);
                            else {
                                if ("object" != typeof e)
                                    throw "DayPilot.Task or task data object expected";
                                t = e;
                            }
                            var n = i.tasks.find(t.id);
                            if (n) {
                                var a = o.findParentArray(n.data),
                                    s = a.indexOf(n.data);
                                a.splice(s, 1, t), r.update(), i.Oe.notify();
                            }
                        }
                    }),
                    (this.tasks.remove = function (e) {
                        if (e) {
                            if (!e.isTask)
                                throw "DayPilot.Task object expected";
                            var t = o.findParentArray(e.data);
                            if (t) {
                                var n = DayPilot.indexOf(t, e.data);
                                t.splice(n, 1), r.update(), i.Oe.notify();
                            }
                        }
                    }),
                    (this.tasks.load = function (e, t, n) {
                        if (!e)
                            throw new DayPilot.Exception(
                                "events.load(): 'url' parameter required"
                            );
                        var a = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            r = function (e) {
                                var n,
                                    r = e.request;
                                try {
                                    n = JSON.parse(r.responseText);
                                } catch (e) {
                                    var o = {};
                                    return (o.exception = e), void a(o);
                                }
                                if (DayPilot.isArray(n)) {
                                    var s = {};
                                    if (
                                        ((s.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (s.data = n),
                                        "function" == typeof t && t(s),
                                        s.preventDefault.value)
                                    )
                                        return;
                                    (i.tasks.list = n), i.T && i.update();
                                }
                            };
                        if (
                            i.tasksLoadMethod &&
                            "POST" === i.tasksLoadMethod.toUpperCase()
                        )
                            DayPilot.ajax({
                                method: "POST",
                                contentType: "application/json",
                                url: e,
                                success: r,
                                error: a,
                            });
                        else {
                            var o = e;
                            DayPilot.ajax({
                                method: "GET",
                                url: o,
                                success: r,
                                error: a,
                            });
                        }
                    }),
                    (this.visibleStart = function () {
                        return a.visibleStart();
                    }),
                    (this.visibleEnd = function () {
                        return a.visibleEnd();
                    }),
                    (this.onAfterRender = null),
                    (this.onAfterUpdate = null),
                    (this.onBeforeRowHeaderRender = null),
                    (this.onBeforeTaskRender = null),
                    (this.onBeforeTimeHeaderRender = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeCornerRender = null),
                    (this.onTaskClick = null),
                    (this.onTaskClicked = null),
                    (this.onTaskDoubleClick = null),
                    (this.onTaskDoubleClicked = null),
                    (this.onTaskRightClick = null),
                    (this.onTaskRightClicked = null),
                    (this.onRowCreate = null),
                    (this.onRowCreated = null),
                    (this.onRowMove = null),
                    (this.onRowMoved = null),
                    (this.onRowMoving = null),
                    (this.onRowClick = null),
                    (this.onRowClicked = null),
                    (this.onRowDoubleClick = null),
                    (this.onRowDoubleClicked = null),
                    (this.onRowEdit = null),
                    (this.onRowEdited = null),
                    (this.onRowSelect = null),
                    (this.onRowSelected = null),
                    (this.onTaskMove = null),
                    (this.onTaskMoved = null),
                    (this.onTaskMoving = null),
                    (this.onTaskResize = null),
                    (this.onTaskResized = null),
                    (this.onTaskResizing = null),
                    (this.onLinkCreate = null),
                    (this.onLinkCreated = null),
                    (this.J = function () {
                        return (
                            !!this.backendUrl ||
                            !(
                                "function" != typeof WebForm_DoCallback ||
                                !this.uniqueID
                            )
                        );
                    }),
                    (this.jf = function () {
                        function e(i) {
                            for (var a = 0; a < i.length; a++) {
                                var s = i[a];
                                (t = new DayPilot.Date(s.start)),
                                    (n = new DayPilot.Date(s.end)),
                                    (null === r || t.getTime() < r) &&
                                        (r = t.getTime()),
                                    (null === o || n.getTime() > o) &&
                                        (o = n.getTime()),
                                    s.children &&
                                        s.children.length > 0 &&
                                        e(s.children);
                            }
                        }
                        if (
                            ("string" == typeof i.startDate &&
                                (i.startDate = new DayPilot.Date(i.startDate)),
                            !i.startDate || !i.days)
                        ) {
                            var t = DayPilot.Date.today(),
                                n = t.addDays(1),
                                r = null,
                                o = null;
                            e(i.tasks.list),
                                r && o
                                    ? ((t = new DayPilot.Date(r).getDatePart()),
                                      (n = new DayPilot.Date(o)
                                          .getDatePart()
                                          .addDays(1)),
                                      (a.startDate = i.startDate || t),
                                      (a.days =
                                          i.days ||
                                          DayPilot.DateUtil.daysDiff(t, n)))
                                    : ((a.startDate = t), (a.days = 30));
                        }
                    }),
                    (this.kf = function (e, t, n) {}),
                    (this.commandCallBack = function (e, t) {
                        s.translate(), a.commandCallBack(e, t);
                    }),
                    (this.message = function (e, t, n, i) {
                        a.message(e, t, n, i);
                    }),
                    (this.setHeight = function (e) {
                        a.setHeight(e);
                    }),
                    (this.Xe = function () {
                        return !!this.backendUrl;
                    }),
                    (this.init = function () {
                        if (this.T)
                            throw new DayPilot.Exception(
                                "This instance is already initialized. Use update() to change properties."
                            );
                        return (
                            s.translate(),
                            s.gf(),
                            s.hf(),
                            this.jf(),
                            a.init(),
                            (this.T = !0),
                            this.$e(),
                            this
                        );
                    }),
                    (this.U = !1),
                    (this.dispose = function () {
                        a.dispose(), (i.U = !0);
                    }),
                    (this.update = function (e) {
                        if (!i.T)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet."
                            );
                        if (i.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Gantt instance that has been disposed."
                            );
                        i.Re(e),
                            s.translate(),
                            s.gf(),
                            s.hf(),
                            i.jf(),
                            a.update();
                    }),
                    (this.scrollTo = function (e) {
                        a.scrollTo(e);
                    }),
                    (this.scrollToTask = function (e) {
                        a.scrollToResource(e);
                    }),
                    (this.lf = {});
                var o = this.lf;
                (o.cache = {}),
                    (o.clearCache = function () {
                        o.cache = {};
                    }),
                    (o.addToCache = function (e, t) {
                        var n = e.id;
                        if (n) {
                            var i = {};
                            if (
                                ((i.isTaskWrapper = !0),
                                (i.data = e),
                                (i.parent = t),
                                o.cache[n])
                            )
                                throw "Duplicate task id detected";
                            o.cache[n] = i;
                        }
                    }),
                    (o.findInCache = function (e) {
                        return e ? o.cache[e.toString()] : null;
                    }),
                    (o.getProperty = function (e, t) {
                        return e.tags && e.tags[t] ? e.tags[t] : e[t];
                    }),
                    (o.findParentArray = function (e) {
                        return o.findInArray(i.tasks.list, e);
                    }),
                    (o.findInArray = function (e, t) {
                        if (DayPilot.indexOf(e, t) !== -1) return e;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            if (i.children && i.children.length > 0) {
                                var a = o.findInArray(i.children, t);
                                if (a) return a;
                            }
                        }
                        return null;
                    }),
                    (this.mf = {});
                var s = this.mf;
                (s.translate = function () {
                    if (
                        ((a.internal.gantt = i),
                        (a.durationBarMode = "PercentComplete"),
                        (a.timeRangeSelectedHandling = "Disabled"),
                        (a.treeEnabled = !0),
                        (a.rowCreateHtml = ""),
                        (a.rowHeaderColumnsMode = "Legacy"),
                        (a.autoRefreshCommand = i.autoRefreshCommand),
                        (a.autoRefreshEnabled = i.autoRefreshEnabled),
                        (a.autoRefreshInterval = i.autoRefreshInterval),
                        (a.autoRefreshMaxCount = i.autoRefreshMaxCount),
                        (a.autoScroll = i.autoScroll),
                        (a.backendUrl = i.backendUrl),
                        (a.crosshairType = i.crosshairType),
                        (a.doubleClickTimeout = i.doubleClickTimeout),
                        (a.durationBarVisible = i.completeBarVisible),
                        (a.durationBarHeight = i.completeBarHeight),
                        (a.dynamicEventRendering = i.progressiveTaskRendering),
                        (a.dynamicEventRenderingMargin =
                            i.progressiveTaskRenderingMargin),
                        (a.dynamicEventRenderingCacheSweeping =
                            i.progressiveTaskRenderingCacheSweeping),
                        (a.dynamicEventRenderingCacheSize =
                            i.progressiveTaskRenderingCacheSize),
                        (a.startDate = new DayPilot.Date(i.startDate)),
                        (a.days = i.days),
                        (a.cellDuration = i.cellDuration),
                        (a.cellGroupBy = i.cellGroupBy),
                        (a.cellWidth = i.cellWidth),
                        (a.cellWidthSpec = i.cellWidthSpec),
                        (a.cornerHtml = i.cornerHtml),
                        (a.cornerText = i.cornerText),
                        (a.eventHeight = i.taskHeight),
                        (a.eventResizeMargin = i.taskResizeMargin),
                        (a.floatingEvents = i.floatingTasks),
                        (a.floatingTimeHeaders = i.floatingTimeHeaders),
                        (a.headerHeight = i.headerHeight),
                        (a.heightSpec = i.heightSpec),
                        (a.height = i.height),
                        (a.linkBottomMargin = i.linkBottomMargin),
                        (a.linkPointSize = i.linkPointSize),
                        (a.loadingLabelVisible = i.loadingLabelVisible),
                        (a.loadingLabelText = i.loadingLabelText),
                        (a.loadingLabelHtml = i.loadingLabelHtml),
                        (a.locale = i.locale),
                        (a.messageBarPosition = i.messageBarPosition),
                        (a.messageHideAfter = i.messageHideAfter),
                        (a.rowCreateHandling = i.rowCreateHandling),
                        (a.progressiveRowRendering = i.progressiveRowRendering),
                        (a.progressiveRowRenderingPreload =
                            i.progressiveRowRenderingPreload),
                        (a.scale = i.scale),
                        (a.scrollDelayEvents = i.scrollDelayTasks),
                        (a.scrollDelayCells = i.scrollDelayCells),
                        (a.scrollDelayFloats = i.scrollDelayFloats),
                        (a.scrollX = i.scrollX),
                        (a.scrollY = i.scrollY),
                        i.scrollToTaskId &&
                            (a.scrollToResourceId = i.scrollToTaskId),
                        (a.separators = i.separators),
                        (a.tapAndHoldTimeout = i.tapAndHoldTimeout),
                        (a.eventHtmlLeftMargin = i.taskHtmlLeftMargin),
                        (a.eventHtmlRightMargin = i.taskHtmlRightMargin),
                        (a.eventMovingStartEndEnabled =
                            i.taskMovingStartEndEnabled),
                        (a.eventMovingStartEndFormat =
                            i.taskMovingStartEndFormat),
                        (a.eventResizingStartEndEnabled =
                            i.taskResizingStartEndEnabled),
                        (a.eventResizingStartEndFormat =
                            i.taskResizingStartEndFormat),
                        (a.hideBorderFor100PctHeight =
                            i.hideBorderFor100PctHeight),
                        (a.hideUntilInit = i.hideUntilInit),
                        (a.treeIndent = i.treeIndent),
                        (a.treeAnimation = i.treeAnimation),
                        (a.treeAutoExpand = i.treeAutoExpand),
                        (a.treeImageMarginLeft = i.treeImageMarginLeft),
                        (a.treeImageMarginTop = i.treeImageMarginTop),
                        (a.treeImageMarginRight = i.treeImageMarginRight),
                        (a.treeImageWidth = i.treeImageWidth),
                        (a.treeImageHeight = i.treeImageHeight),
                        (a.timeHeaders = i.timeHeaders),
                        (a.rowHeaderHideIconEnabled =
                            i.rowHeaderHideIconEnabled),
                        (a.rowHeaderScrolling = i.rowHeaderScrolling),
                        (a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth),
                        (a.rowHeaderWidth = i.rowHeaderWidth),
                        (a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit),
                        (a.rowMarginBottom = i.rowMarginBottom),
                        (a.rowMinHeight = i.rowMinHeight),
                        (a.selectedRows = i.selectedRows),
                        (a.theme = i.theme),
                        (a.useEventBoxes = i.useEventBoxes),
                        (a.snapToGrid = i.snapToGrid),
                        (a.uniqueID = i.uniqueID),
                        (a.bubble = i.bubbleTask),
                        (a.cellBubble = i.bubbleCell),
                        (a.resourceBubble = i.bubbleRow),
                        (a.contextMenu = i.contextMenuTask),
                        (a.contextMenuResource = i.contextMenuRow),
                        (a.contextMenuLink = i.contextMenuLink),
                        (a.syncResourceTree = i.syncTasks),
                        (a.syncLinks = i.syncLinks),
                        (a.timeline = i.timeline),
                        (a.visible = i.visible),
                        (a.devsb = i.devsb),
                        (a.xssProtection = i.xssProtection),
                        (a.eventMoveHandling = i.taskMoveHandling),
                        (a.eventClickHandling = i.taskClickHandling),
                        (a.eventResizeHandling = i.taskResizeHandling),
                        (a.linkCreateHandling = i.linkCreateHandling),
                        (a.eventRightClickHandling = i.taskRightClickHandling),
                        (a.eventDoubleClickHandling =
                            i.taskDoubleClickHandling),
                        (a.rowMoveHandling = i.rowMoveHandling),
                        (a.rowClickHandling = i.rowClickHandling),
                        (a.rowDoubleClickHandling = i.rowDoubleClickHandling),
                        (a.rowEditHandling = i.rowEditHandling),
                        (a.rowSelectHandling = i.rowSelectHandling),
                        (a.eventVersionsEnabled = i.taskVersionsEnabled),
                        (a.eventVersionHeight = i.taskVersionHeight),
                        (a.eventVersionMargin = i.taskVersionMargin),
                        (a.eventVersionPosition = i.taskVersionPosition),
                        DayPilot.isArray(i.columns))
                    ) {
                        a.rowHeaderColumns = [];
                        for (var e = 0; e < i.columns.length; e++) {
                            var t = i.columns[e],
                                n = {};
                            DayPilot.Util.copyProps(t, n, [
                                "html",
                                "text",
                                "name",
                                "title",
                                "width",
                                "hidden",
                            ]),
                                a.rowHeaderColumns.push(n);
                        }
                    }
                    i.J() &&
                        ((a.timeHeader = i.timeHeader),
                        (a.cellProperties = i.cellProperties),
                        (a.cellConfig = i.cellConfig)),
                        (a.onRowCreate = function (e) {
                            (e.control = i),
                                "function" == typeof i.onRowCreate &&
                                    i.onRowCreate(e);
                        }),
                        (a.onRowCreated = function (e) {
                            "function" == typeof i.onRowCreated &&
                                i.onRowCreated(e);
                        }),
                        (a.onAfterRender = function (e) {
                            "function" == typeof i.onAfterRender &&
                                i.onAfterRender(e);
                        }),
                        (a.onAfterUpdate = function (e) {
                            "function" == typeof i.onAfterUpdate &&
                                i.onAfterUpdate(e);
                        }),
                        (a.onRowHeaderResized = function (e) {
                            i.rowHeaderWidth = a.rowHeaderWidth;
                        }),
                        (a.onAjaxError = function (e) {
                            "function" == typeof i.onAjaxError &&
                                i.onAjaxError(e);
                        }),
                        (a.onRowHeaderColumnResized = function (e) {
                            for (
                                var t = e.column,
                                    n = DayPilot.indexOf(a.rowHeaderColumns, t),
                                    r = 0;
                                r < i.columns.length;
                                r++
                            ) {
                                var o = a.rowHeaderColumns[r];
                                i.columns[r].width = o.width;
                            }
                            if ("function" == typeof i.onColumnResized) {
                                var s = {};
                                (s.column = i.columns[n]), i.onColumnResized(s);
                            }
                        }),
                        (a.internalUseStandardColumns = DayPilot.isArray(
                            i.columns
                        )),
                        (a.onBeforeRowHeaderRender = function (e) {
                            e.task = new DayPilot.Task(e.row.$.row.task, i);
                            var t = e.row.$.row.events[0];
                            t &&
                                "Auto" === i.taskGroupMode &&
                                "Group" === t.data.type &&
                                ((e.task.data.start = t.data.start),
                                (e.task.data.end = t.data.end));
                            var n = [];
                            if (DayPilot.isArray(i.columns))
                                for (var r = 0; r < i.columns.length; r++) {
                                    var s = i.columns[r],
                                        l = s.display || s.property,
                                        d = {};
                                    (d.value = a.internal.xssTextHtml(
                                        o.getProperty(e.task.data, l)
                                    )),
                                        e.task.data.row &&
                                        e.task.data.row.columns &&
                                        e.task.data.row.columns[r]
                                            ? (d.html =
                                                  e.task.data.row.columns[
                                                      r
                                                  ].html)
                                            : (d.html = d.value),
                                        n.push(d);
                                }
                            (e.row.columns = n),
                                "function" ==
                                    typeof i.onBeforeRowHeaderRender &&
                                    i.onBeforeRowHeaderRender(e);
                        }),
                        (a.onBeforeCellRender = function (e) {
                            (e.task = i.tasks.find(e.cell.resource)),
                                delete e.cell.resource,
                                "function" == typeof i.onBeforeCellRender &&
                                    ((e.control = i), i.onBeforeCellRender(e));
                        }),
                        (a.onBeforeCornerRender = function (e) {
                            "function" == typeof i.onBeforeCornerRender &&
                                ((e.control = i), i.onBeforeCornerRender(e));
                        }),
                        (a.onBeforeTimeHeaderRender = function (e) {
                            "function" == typeof i.onBeforeTimeHeaderRender &&
                                ((e.control = i),
                                i.onBeforeTimeHeaderRender(e));
                        }),
                        (a.onEventClick = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)),
                                (e.control = i),
                                "function" == typeof i.onTaskClick &&
                                    i.onTaskClick(e);
                        }),
                        (a.onEventClicked = function (e) {
                            "function" == typeof i.onTaskClicked &&
                                i.onTaskClicked(e);
                        }),
                        (a.onEventDelete = function (e) {
                            "function" == typeof i.onTaskDelete &&
                                i.onTaskDelete(e);
                        }),
                        (a.onEventDeleted = function (e) {
                            "function" == typeof i.onTaskDeleted &&
                                i.onTaskDeleted(e);
                        }),
                        (a.onEventDoubleClick = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)),
                                (e.control = i),
                                "function" == typeof i.onTaskDoubleClick &&
                                    i.onTaskDoubleClick(e);
                        }),
                        (a.onEventDoubleClicked = function (e) {
                            "function" == typeof i.onTaskDoubleClicked &&
                                i.onTaskDoubleClicked(e);
                        }),
                        (a.onEventRightClick = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)),
                                "function" == typeof i.onTaskRightClick &&
                                    i.onTaskRightClick(e);
                        }),
                        (a.onEventRightClicked = function (e) {
                            "function" == typeof i.onTaskRightClicked &&
                                i.onTaskRightClicked(e);
                        }),
                        (a.onRowMoving = function (e) {
                            (e.nf = e.source),
                                (e.of = e.target),
                                (e.source = new DayPilot.Task(
                                    e.nf.$.row.task,
                                    i
                                )),
                                (e.target = new DayPilot.Task(
                                    e.of.$.row.task,
                                    i
                                )),
                                "function" == typeof i.onRowMoving &&
                                    i.onRowMoving(e);
                        }),
                        (a.onRowMove = function (e) {
                            (e.nf = e.source),
                                (e.of = e.target),
                                (e.source = new DayPilot.Task(
                                    e.nf.$.row.task,
                                    i
                                )),
                                (e.target = new DayPilot.Task(
                                    e.of.$.row.task,
                                    i
                                )),
                                (e.control = i),
                                "function" == typeof i.onRowMove &&
                                    i.onRowMove(e),
                                (e.source = e.nf),
                                (e.target = e.of);
                        }),
                        (a.onRowMoved = function (e) {
                            if (
                                "Update" === i.rowMoveHandling ||
                                "Notify" === i.rowMoveHandling
                            ) {
                                var t = e.nf.$.row.task,
                                    n = e.of.$.row.task,
                                    a = e.position;
                                if ("forbidden" === a) return;
                                var r = e.nf.calendar.internal.gantt,
                                    s = r.lf.findParentArray(t);
                                if (!s) throw "Cannot find source node parent";
                                var l = DayPilot.indexOf(s, t);
                                s.splice(l, 1);
                                var d = o.findParentArray(n);
                                if (!d) throw "Cannot find target node parent";
                                var c = DayPilot.indexOf(d, n);
                                switch (a) {
                                    case "before":
                                        d.splice(c, 0, t);
                                        break;
                                    case "after":
                                        d.splice(c + 1, 0, t);
                                        break;
                                    case "child":
                                        n.children ||
                                            ((n.children = []),
                                            (n.expanded = !0)),
                                            n.children.push(t);
                                }
                                i.Oe.notify(),
                                    i.update(),
                                    r !== i && r.update();
                            }
                            (e.source = new DayPilot.Task(e.nf.$.row.task, i)),
                                (e.target = new DayPilot.Task(
                                    e.of.$.row.task,
                                    i
                                )),
                                "function" == typeof i.onRowMoved &&
                                    i.onRowMoved(e);
                        }),
                        (a.onRowClick = function (e) {
                            (e.task = new DayPilot.Task(
                                e.resource.$.row.task,
                                i
                            )),
                                "function" == typeof i.onRowClick &&
                                    i.onRowClick(e);
                        }),
                        (a.onRowClicked = function (e) {
                            "function" == typeof i.onRowClicked &&
                                i.onRowClicked(e);
                        }),
                        (a.onRowDoubleClick = function (e) {
                            (e.task = new DayPilot.Task(
                                e.resource.$.row.task,
                                i
                            )),
                                "function" == typeof i.onRowDoubleClick &&
                                    i.onRowDoubleClick(e);
                        }),
                        (a.onRowDoubleClicked = function (e) {
                            "function" == typeof i.onRowDoubleClicked &&
                                i.onRowDoubleClicked(e);
                        }),
                        (a.onRowEdit = function (e) {
                            (e.task = new DayPilot.Task(
                                e.resource.$.row.task,
                                i
                            )),
                                "function" == typeof i.onRowEdit &&
                                    i.onRowEdit(e);
                        }),
                        (a.onRowEdited = function (e) {
                            "function" == typeof i.onRowEdited &&
                                i.onRowEdited(e);
                        }),
                        (a.onRowSelect = function (e) {
                            (e.task = new DayPilot.Task(e.row.$.row.task, i)),
                                "function" == typeof i.onRowSelect &&
                                    i.onRowSelect(e);
                        }),
                        (a.onRowSelected = function (e) {
                            "function" == typeof i.onRowSelected &&
                                i.onRowSelected(e);
                        }),
                        (a.onEventMove = function (e) {
                            (e.pf = e.e),
                                (e.task = new DayPilot.Task(e.e, i)),
                                (e.control = i),
                                "function" == typeof i.onTaskMove &&
                                    i.onTaskMove(e);
                        }),
                        (a.onEventMoved = function (e) {
                            if ("Auto" === i.taskGroupMode) {
                                var t = e.pf,
                                    n = t.data.task;
                                for (
                                    n.start = t.start(), n.end = t.end();
                                    t.data.parent;

                                ) {
                                    var r = a.events.find(t.data.parent.id),
                                        o = s.childrenStartEnd(t.data.parent);
                                    r.start(o.start),
                                        r.end(o.end),
                                        a.events.update(r),
                                        (t = r);
                                }
                            }
                            i.Oe.notify(),
                                "function" == typeof i.onTaskMoved &&
                                    i.onTaskMoved(e);
                        }),
                        (a.onEventMoving = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)),
                                (e.pf = e.e),
                                delete e.position,
                                delete e.overlapping,
                                delete e.resource,
                                "function" == typeof i.onTaskMoving &&
                                    i.onTaskMoving(e);
                        }),
                        (a.onEventResize = function (e) {
                            (e.pf = e.e),
                                (e.task = new DayPilot.Task(e.e, i)),
                                (e.control = i),
                                "function" == typeof i.onTaskResize &&
                                    i.onTaskResize(e);
                        }),
                        (a.onEventResized = function (e) {
                            if ("Auto" === i.taskGroupMode) {
                                var t = e.pf,
                                    n = t.data.task;
                                for (
                                    n.start = t.start(), n.end = t.end();
                                    t.data.parent;

                                ) {
                                    var r = a.events.find(t.data.parent.id),
                                        o = s.childrenStartEnd(t.data.parent);
                                    r.start(o.start),
                                        r.end(o.end),
                                        a.events.update(r),
                                        (t = r);
                                }
                            }
                            i.Oe.notify(),
                                "function" == typeof i.onTaskResized &&
                                    i.onTaskResized(e);
                        }),
                        (a.onEventResizing = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)),
                                (e.pf = e.e),
                                (e.control = i),
                                "function" == typeof i.onTaskResizing &&
                                    i.onTaskResizing(e);
                        }),
                        (a.onLinkCreate = function (e) {
                            (e.source = i.tasks.find(e.from)),
                                (e.target = i.tasks.find(e.to)),
                                (e.control = i),
                                "function" == typeof i.onLinkCreate &&
                                    i.onLinkCreate(e);
                        }),
                        (a.onLinkCreated = function (e) {
                            "function" == typeof i.onLinkCreated &&
                                i.onLinkCreated(e);
                        }),
                        (a.onResourceExpand = function (e) {
                            var t = e.resource.$.row.task;
                            t.row || (t.row = {}), (t.row.collapsed = !1);
                        }),
                        (a.onResourceCollapse = function (e) {
                            var t = e.resource.$.row.task;
                            t.row || (t.row = {}), (t.row.collapsed = !0);
                        });
                }),
                    (s.qf = function (e) {
                        for (var t = 0; t < a.rowlist.length; t++) {
                            var n = a.rowlist[t];
                            if (n.task === e)
                                return a.internal.createRowObject(n);
                        }
                        return null;
                    }),
                    (s.hf = function () {
                        a.links.list = i.links.list ? i.links.list : [];
                    }),
                    (s.gf = function () {
                        (a.resources = []),
                            (a.events.list = []),
                            o.clearCache(),
                            s.rf(i.tasks.list, a.resources, null),
                            l.sheet && (l.sheet.commit(), (l.sheet = null));
                    }),
                    (s.sf = function (e) {
                        var t = e.type || "Task";
                        e.children && e.children.length && (t = "Group");
                        var n = {};
                        for (var r in e) "children" !== r && (n[r] = e[r]);
                        var o = {};
                        if (
                            ((o.data = n),
                            (o.type = t),
                            n.box || (n.box = {}),
                            "undefined" == typeof n.box.html)
                        )
                            if ("Task" === o.type) {
                                var s = n.complete || 0;
                                n.box.text = s + "%";
                            } else n.box.text = "";
                        return (
                            "undefined" == typeof n.box.htmlRight &&
                                (n.box.htmlRight = a.internal.xssTextHtml(
                                    n.text
                                )),
                            "function" == typeof i.onBeforeTaskRender &&
                                i.onBeforeTaskRender(o),
                            (o.type = t),
                            o
                        );
                    });
                var l = {};
                (l.keys = {}),
                    (l.sheet = null),
                    (s.tf = function (e) {
                        if (
                            e.data.box &&
                            !e.data.box.cssClass &&
                            e.data.box.backColor &&
                            "Task" !== e.type
                        ) {
                            var t = DayPilot.Util.normalizeColor(
                                    e.data.box.backColor
                                ),
                                n = e.type + "_" + t.replace("#", ""),
                                a = i.theme,
                                r = i.theme + "_" + n;
                            return (
                                l.keys[n] ||
                                    ((l.keys[n] = !0),
                                    l.sheet || (l.sheet = DayPilot.sheet()),
                                    "Group" === e.type
                                        ? (l.sheet.add(
                                              "." +
                                                  r +
                                                  "." +
                                                  a +
                                                  "_task_group ." +
                                                  a +
                                                  "_event_inner",
                                              "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " +
                                                  t +
                                                  "; filter: none; border: 0px none;"
                                          ),
                                          l.sheet.add(
                                              "." +
                                                  r +
                                                  "." +
                                                  a +
                                                  "_task_group." +
                                                  a +
                                                  "_event:before",
                                              "content:''; border-color: transparent transparent transparent " +
                                                  t +
                                                  "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
                                          ),
                                          l.sheet.add(
                                              "." +
                                                  r +
                                                  "." +
                                                  a +
                                                  "_task_group." +
                                                  a +
                                                  "_event:after",
                                              "content:''; border-color: transparent " +
                                                  t +
                                                  " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
                                          ))
                                        : "Milestone" === e.type &&
                                          (l.sheet.add(
                                              "." +
                                                  r +
                                                  "." +
                                                  a +
                                                  "_task_milestone ." +
                                                  a +
                                                  "_event_inner",
                                              "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " +
                                                  t +
                                                  "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                                          ),
                                          l.sheet.add(
                                              "." +
                                                  r +
                                                  "." +
                                                  a +
                                                  "_browser_ie8 ." +
                                                  a +
                                                  "_task_milestone ." +
                                                  a +
                                                  "_event_inner",
                                              "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
                                          ))),
                                r
                            );
                        }
                    }),
                    (s.rf = function (t, n, r) {
                        if (DayPilot.isArray(t))
                            for (var l = 0; l < t.length; l++) {
                                var d = t[l];
                                o.addToCache(d, r);
                                var c = s.sf(d),
                                    u = c.data,
                                    h = c.type,
                                    f = {};
                                if (
                                    (DayPilot.Util.copyProps(u, f, [
                                        "id",
                                        "start",
                                        "end",
                                        "text",
                                        "complete",
                                        "tags",
                                        "versions",
                                    ]),
                                    DayPilot.Util.copyProps(u.box, f),
                                    (f.parent = r),
                                    (f.task = d),
                                    (f.resource = u.id),
                                    (f.commitCallback = (function (e) {
                                        return function () {
                                            (e.task.start = e.start),
                                                (e.task.end = e.end);
                                        };
                                    })(f)),
                                    "Group" == h)
                                ) {
                                    (f.type = "Group"),
                                        (f.html = (u.box && u.box.html) || "");
                                    var v = s.tf(c);
                                    if (
                                        (v &&
                                            (f.cssClass =
                                                (f.cssClass || "") + " " + v),
                                        "Auto" === i.taskGroupMode)
                                    ) {
                                        var p = s.childrenStartEnd(d);
                                        (f.start = p.start),
                                            (f.end = p.end),
                                            (f.resizeDisabled = !0),
                                            (f.moveDisabled = !0);
                                    }
                                } else if ("Milestone" === h) {
                                    (f.html = ""), (d.end = d.start);
                                    var v = s.tf(c);
                                    v &&
                                        (f.cssClass =
                                            (f.cssClass || "") + " " + v),
                                        (u.end = u.start),
                                        (f.end = u.start),
                                        (f.barHidden = !0),
                                        (f.resizeDisabled = !0),
                                        (f.type = "Milestone"),
                                        (f.width = i.taskHeight),
                                        delete f.backColor;
                                } else "Task" === h && e();
                                (f.moveVDisabled = !0),
                                    (f.htmlRight = u.box.htmlRight),
                                    (f.htmlLeft = u.box.htmlLeft),
                                    a.events.list.push(f);
                                var m = {};
                                (m.task = d),
                                    DayPilot.Util.copyProps(u.row, m),
                                    (m.name = u.text),
                                    (m.id = u.id),
                                    (m.children = []),
                                    (m.expanded = !u.row || !u.row.collapsed),
                                    d.children &&
                                        d.children.length &&
                                        s.rf(d.children, m.children, d),
                                    n.push(m);
                            }
                    }),
                    (s.childrenStartEnd = function (e) {
                        if (!e.children || !e.children.length) {
                            var t = e.start,
                                n = e.end;
                            return (
                                "Milestone" === e.type && (n = t),
                                {
                                    start: new DayPilot.Date(t),
                                    end: new DayPilot.Date(n),
                                }
                            );
                        }
                        for (
                            var t = null, n = null, i = 0;
                            i < e.children.length;
                            i++
                        ) {
                            var a = s.childrenStartEnd(e.children[i]);
                            (!t || a.start.getTime() < t.getTime()) &&
                                (t = a.start),
                                (!n || a.end.getTime() > n.getTime()) &&
                                    (n = a.end);
                        }
                        return { start: t, end: n };
                    }),
                    (this.rows = {}),
                    (this.rows.expand = function (e) {
                        a.rows.expand(e);
                    }),
                    (this.rows.expandAll = function () {
                        a.rows.expandAll();
                    }),
                    (this.rows.selection = {}),
                    (this.rows.selection.add = function (e) {
                        a.rows.find(e.data.id);
                    }),
                    (this.rows.selection.clear = function () {
                        a.rows.selection.clear();
                    }),
                    (this.rows.selection.get = function () {
                        return a.rows.selection.get().map(function (e) {
                            return new DayPilot.Task(e.$.row.task, i);
                        });
                    }),
                    (this.exportAs = function (e, t) {
                        return a.exportAs(e, t);
                    }),
                    (this._e = null),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                tasks: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (i.tasks.list = e.list)
                                                : (i.tasks.list = e));
                                    },
                                },
                                links: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (i.links.list = e.list)
                                                : (i.links.list = e));
                                    },
                                },
                                scrollTo: {
                                    postInit: function () {
                                        this.data && i.scrollTo(this.data);
                                    },
                                },
                                scrollToTask: {
                                    postInit: function () {
                                        this.data && i.scrollToTask(this.data);
                                    },
                                },
                            };
                            this._e = t;
                            for (var n in e)
                                if (t[n]) {
                                    var a = t[n];
                                    (a.data = e[n]), a.preInit && a.preInit();
                                } else i[n] = e[n];
                        }
                    }),
                    (this.$e = function () {
                        var e = this._e;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return i.T;
                    }),
                    (this.internal.rowObjectForTaskData = s.qf),
                    (this.internal.loadOptions = i.Re),
                    (this.Oe = {}),
                    (this.Oe.scope = null),
                    (this.Oe.notify = function () {
                        i.Oe.scope && i.Oe.scope["$apply"]();
                    }),
                    this.Re(n);
            }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotGantt = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Gantt(this.id, e);
                                        n.init(),
                                            (this.daypilot = n),
                                            t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotGantt", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(
                                                this["template"].replace(
                                                    "{{id}}",
                                                    n["id"]
                                                )
                                            ),
                                            function (t, n, i) {
                                                var a = new DayPilot.Gantt(
                                                    n[0]
                                                );
                                                (a.Oe.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l =
                                                            DayPilot.Util.shouldApply(
                                                                s
                                                            );
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          var r =
                                                                              e(
                                                                                  i[
                                                                                      n
                                                                                  ]
                                                                              );
                                                                          t[
                                                                              "$apply"
                                                                          ](
                                                                              function () {
                                                                                  r(
                                                                                      t,
                                                                                      {
                                                                                          args: a,
                                                                                      }
                                                                                  );
                                                                              }
                                                                          );
                                                                      };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          e(
                                                                              i[
                                                                                  n
                                                                              ]
                                                                          )(t, {
                                                                              args: a,
                                                                          });
                                                                      };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c =
                                                        i["config"] ||
                                                        i["daypilotConfig"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        a.Re(e), a.update();
                                                    },
                                                    !0
                                                );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Kanban) {
            var e = function () {};
            (DayPilot.Kanban = function (t, n) {
                this.v = "2022.1.5188";
                var i = this;
                (this.barWidth = 5),
                    (this.cardAutoHeight = !0),
                    (this.cardHeight = 60),
                    (this.cardMarginLeft = 5),
                    (this.cardMarginRight = 5),
                    (this.cardMarginBottom = 5),
                    (this.columnHeaderHeight = 20),
                    (this.crosshairType = "Disabled"),
                    (this.height = 300),
                    (this.heightSpec = "Auto"),
                    (this.theme = "kanban_default"),
                    (this.cellMarginBottom = 4),
                    (this.cellMarginTop = 5),
                    (this.columnWidthSpec = "Auto"),
                    (this.columnWidth = 200),
                    (this.cornerHtml = null),
                    (this.contextMenuCard = null),
                    (this.rowMinHeight = 0),
                    (this.swimlaneCollapsingEnabled = !1),
                    (this.swimlaneHeaderWidth = 80),
                    (this.visible = !0),
                    (this.swimlanes = {}),
                    (this.swimlanes.list = []),
                    (this.columns = {}),
                    (this.columns.list = []),
                    (this.cards = {}),
                    (this.cards.list = []),
                    (this.cardDeleteHandling = "Disabled"),
                    (this.cardMoveHandling = "Update"),
                    (this.columnMoveHandling = "Disabled"),
                    (this.swimlaneMoveHandling = "Disabled"),
                    (this.cardRightClickHandling = "ContextMenu"),
                    (this.onBeforeCellRender = null),
                    (this.onCardClick = null),
                    (this.onCardClicked = null),
                    (this.onCardRightClick = null),
                    (this.onCardRightClicked = null),
                    (this.onCardDelete = null),
                    (this.onCardDeleted = null),
                    (this.onCardMove = null),
                    (this.onCardMoved = null),
                    (this.onColumnMove = null),
                    (this.onColumnMoved = null),
                    (this.onHeightChanged = null),
                    (this.onSwimlaneMove = null),
                    (this.onSwimlaneMoved = null);
                var a = new DayPilot.Scheduler(t);
                this.scheduler = a;
                var r = {},
                    o = 15,
                    s = 15;
                e();
                var l = new DayPilot.Date("2000-01-01");
                (r.translate = function () {
                    var e = a;
                    (e.startDate = l),
                        (e.scale = "Day"),
                        (e.timeHeaders = [{ groupBy: "Cell", format: "d" }]),
                        (e.rowHeaderColumnsMode = "Legacy"),
                        (e.heightSpec = i.heightSpec),
                        (e.cellWidthSpec = i.columnWidthSpec),
                        (e.cellWidth = i.columnWidth),
                        (e.cellsMarkBusiness = !1),
                        (e.cornerHtml = i.cornerHtml),
                        (e.crosshairType = i.crosshairType),
                        (e.dynamicEventRendering = "Disabled"),
                        (e.floatingEvents = !1),
                        (e.floatingTimeHeaders = !1),
                        (e.rowMinHeight = i.rowMinHeight),
                        (e.rowMarginTop = i.cellMarginTop),
                        (e.rowMarginBottom = i.cellMarginBottom),
                        (e.devsb = i.devsb),
                        (e.eventMoveToPosition = !0),
                        (e.headerHeight = i.columnHeaderHeight),
                        (e.eventResizeHandling = "Disabled"),
                        (e.timeRangeSelectedHandling = "Disabled"),
                        (e.eventHeight = i.cardHeight),
                        (e.eventMarginLeft = i.cardMarginLeft),
                        (e.eventMarginRight = i.cardMarginRight),
                        (e.eventMarginBottom = i.cardMarginBottom),
                        (e.eventTextWrappingEnabled = !0),
                        (e.durationBarVisible = !1),
                        (e.theme = i.theme),
                        (e.visible = i.visible),
                        (e.rowHeaderWidth = i.swimlaneHeaderWidth),
                        (e.contextMenu = i.contextMenuCard),
                        (e.eventDeleteHandling = i.cardDeleteHandling),
                        (e.eventMoveHandling = i.cardMoveHandling),
                        (e.rowMoveHandling = DayPilot.list(
                            i.swimlanes.list
                        ).isEmpty()
                            ? "Disabled"
                            : i.swimlaneMoveHandling),
                        (e.eventRightClickHandling = i.cardRightClickHandling),
                        (e.onHeightChanged = i.onHeightChanged),
                        e.internal.enableCellStacking(i.cardAutoHeight),
                        (e.internal.cssNames.timeheadercol = "_colheadercell"),
                        (e.internal.cssNames.timeheadercolInner =
                            "_colheadercell_inner"),
                        (e.internal.cssNames.resourcedivider =
                            "_rowheaderdivider"),
                        (e.internal.cssNames.event = "_card"),
                        (e.internal.cssNames.eventInner = "_card_inner"),
                        (e.internal.cssNames.eventDelete = "_card_delete"),
                        (e.internal.cssNames.eventMovingSource =
                            "_card_moving_source"),
                        i.swimlaneCollapsingEnabled &&
                            (e.rowHeaderWidthMarginRight = 15),
                        (e.onBeforeTimeHeaderRender = function (e) {
                            var t = i.uf(e.header.start);
                            if (
                                ((e.header.html = t.name),
                                (e.header.toolTip = t.toolTip || ""),
                                (e.header.areas = DayPilot.list(t.areas).map(
                                    function (e) {
                                        var t = [];
                                        return DayPilot.Util.copyProps(e, t), t;
                                    }
                                )),
                                DayPilot.list(e.header.areas).forEach(function (
                                    e
                                ) {
                                    e.target = new DayPilot.KanbanColumn(t, i);
                                }),
                                "Disabled" !== i.columnMoveHandling)
                            ) {
                                var n = i.theme + "_columnmove_handle";
                                e.header.areas.push({
                                    left: 0,
                                    top: 0,
                                    width: 20,
                                    height: 20,
                                    css: n,
                                    mousedown: i.vf,
                                    action: "None",
                                });
                            }
                        }),
                        (e.onBeforeCellRender = function (t) {
                            var n = {};
                            (n.cell = {}),
                                (n.cell.column = new DayPilot.KanbanColumn(
                                    i.uf(t.cell.start),
                                    i
                                )),
                                (n.cell.swimlane = null);
                            var a = i.wf(t.cell.resource);
                            a &&
                                (n.cell.swimlane = new DayPilot.Swimlane(a, i)),
                                (n.cell.areas = []),
                                (n.cell.cssClass = null),
                                (n.cell.html = null),
                                (n.cell.backImage = null),
                                (n.cell.backRepeat = null),
                                (n.cell.backColor = null),
                                "function" == typeof i.onBeforeCellRender &&
                                    (i.onBeforeCellRender(n),
                                    DayPilot.Util.copyProps(n.cell, t.cell, [
                                        "areas",
                                        "cssClass",
                                        "html",
                                        "backImage",
                                        "backRepeat",
                                        "backColor",
                                    ]),
                                    DayPilot.list(t.cell.areas).forEach(
                                        function (e) {
                                            e.target = {
                                                swimlane: n.cell.swimlane,
                                                column: n.cell.column,
                                            };
                                        }
                                    ));
                            var r = e.rows.find(t.cell.resource);
                            e.resources[r.index].collapsed &&
                                (t.cell.cssClass || (t.cell.cssClass = ""),
                                (t.cell.cssClass +=
                                    " " + i.theme + "_collapsed"));
                        }),
                        (e.onEventClick = function (e) {
                            var t = new DayPilot.Args(e);
                            (t.card = new DayPilot.Card(e.e.data.card, i)),
                                "function" == typeof i.onCardClick &&
                                    i.onCardClick(t),
                                (e.wrapped = t);
                        }),
                        (e.onEventClicked = function (e) {
                            var t = e.wrapped;
                            "function" == typeof i.onCardClicked &&
                                i.onCardClicked(t);
                        }),
                        (e.onEventRightClick = function (e) {
                            var t = new DayPilot.Args(e);
                            if (
                                ((t.card = new DayPilot.Card(e.e.data.card, i)),
                                "function" == typeof i.onCardRightClick &&
                                    i.onCardRightClick(t),
                                (e.wrapped = t),
                                !e.preventDefault.value)
                            ) {
                                var n = e.e,
                                    a = t.card;
                                switch (i.cardRightClickHandling) {
                                    case "ContextMenu":
                                        var r = n.client.contextMenu();
                                        r
                                            ? r.show(a)
                                            : i.contextMenuCard &&
                                              i.contextMenuCard.show(a),
                                            e.preventDefault();
                                }
                            }
                        }),
                        (e.onEventRightClicked = function (e) {
                            var t = e.wrapped;
                            "function" == typeof i.onCardRightClicked &&
                                i.onCardRightClicked(t);
                        }),
                        (e.onEventDelete = function (e) {
                            var t = new DayPilot.Args(e);
                            (t.card = new DayPilot.Card(e.e.data.card, i)),
                                (t.control = i),
                                "function" == typeof i.onCardDelete &&
                                    i.onCardDelete(t),
                                (e.wrapped = t);
                        }),
                        (e.onEventDeleted = function (e) {
                            DayPilot.rfa(i.cards.list, e.e.data.card);
                            var t = e.wrapped;
                            "function" == typeof i.onCardDeleted &&
                                i.onCardDeleted(t);
                        }),
                        (e.onEventMove = function (e) {
                            e.external &&
                                (e.e.data.card = {
                                    id: e.e.data.id,
                                    name: e.e.data.name,
                                    text: e.e.data.text,
                                    barColor: e.e.data.barColor,
                                    barBackColor: e.e.data.barBackColor,
                                });
                            var t = new DayPilot.Args(e);
                            (t.control = i),
                                (t.card = new DayPilot.Card(e.e.data.card, i)),
                                (t.column = new DayPilot.KanbanColumn(
                                    i.uf(e.newStart)
                                )),
                                (t.position = e.position),
                                (t.external = e.external),
                                "*" !== e.newResource
                                    ? (t.swimlane = new DayPilot.Swimlane(
                                          i.wf(e.newResource),
                                          i
                                      ))
                                    : (t.swimlane = null);
                            for (
                                var n = a.cells
                                        .find(e.newStart, e.newResource)[0]
                                        .events(),
                                    o = e.position,
                                    s = null,
                                    l = o - 1;
                                n[l];

                            ) {
                                if (n[l].data !== e.e.data) {
                                    s = new DayPilot.Card(n[l]);
                                    break;
                                }
                                l -= 1;
                            }
                            for (var d = null, c = o; n[c]; ) {
                                if (n[c].data !== e.e.data) {
                                    d = new DayPilot.Card(n[c]);
                                    break;
                                }
                                c += 1;
                            }
                            if (
                                ((t.previous = s),
                                (t.next = d),
                                "function" == typeof i.onCardMove &&
                                    i.onCardMove(t),
                                (e.wrapped = t),
                                e.preventDefault(),
                                !t.preventDefault.value)
                            ) {
                                switch (i.cardMoveHandling) {
                                    case "Update":
                                        var u = 0;
                                        d
                                            ? (u = d.wrapped.data.sort[0])
                                            : s && (u = s.wrapped.data.sort[0]),
                                            (e.e.data.sort = [
                                                u,
                                                new DayPilot.Date().toString(),
                                            ]),
                                            DayPilot.rfa(
                                                i.cards.list,
                                                e.e.data.card
                                            );
                                        var h = 0;
                                        d
                                            ? (h = DayPilot.indexOf(
                                                  i.cards.list,
                                                  d.data
                                              ))
                                            : s &&
                                              (h =
                                                  DayPilot.indexOf(
                                                      i.cards.list,
                                                      s.data
                                                  ) + 1);
                                        var f = i.uf(e.newStart);
                                        (e.e.data.card.column = f.id),
                                            (e.e.data.card.swimlane =
                                                e.newResource),
                                            i.cards.list.splice(
                                                h,
                                                0,
                                                e.e.data.card
                                            ),
                                            r.updateSort(),
                                            a.internal.deleteDragSource(),
                                            i.update();
                                }
                                !(function () {
                                    var t = e.wrapped,
                                        n = DayPilot.list(i.cards.list).find(
                                            function (t) {
                                                return e.e.data.card === t;
                                            }
                                        );
                                    (n.swimlane = t.swimlane
                                        ? t.swimlane.data.id
                                        : null),
                                        (n.column = t.column.data.id),
                                        "function" == typeof i.onCardMoved &&
                                            i.onCardMoved(t);
                                })();
                            }
                        }),
                        (e.onBeforeResHeaderRender = function (e) {
                            if (i.swimlaneCollapsingEnabled) {
                                if (
                                    !DayPilot.list(i.swimlanes.list).isEmpty()
                                ) {
                                    var t = i.theme + "_swimlane_collapse";
                                    e.resource.collapsed &&
                                        (t = i.theme + "_swimlane_expand"),
                                        (e.resource.areas = [
                                            {
                                                right: 0,
                                                top: 0,
                                                height: s,
                                                width: o,
                                                action: "JavaScript",
                                                css: t,
                                                js: function () {
                                                    i.xf(e.resource.index);
                                                },
                                            },
                                        ]);
                                }
                            }
                        }),
                        (e.onRowMove = function (e) {
                            var t = new DayPilot.Args(e);
                            (t.control = i),
                                (e.wrapped = t),
                                (t.swimlane = new DayPilot.Swimlane(
                                    e.source.$.row.swimlane
                                ));
                            var n = 0;
                            switch (e.position) {
                                case "before":
                                    n = e.target.index;
                                    break;
                                case "after":
                                    n = e.target.index + 1;
                                    break;
                                default:
                                    throw (
                                        "Unexpected target swimlane position: " +
                                        e.position
                                    );
                            }
                            (t.position = n), (t.previous = null);
                            for (
                                var r = n - 1;
                                a.rowlist[r] &&
                                a.rowlist[r].swimlane !== t.swimlane.data;

                            )
                                (t.previous = new DayPilot.Swimlane(
                                    a.rowlist[r].swimlane
                                )),
                                    (r -= 1);
                            t.next = null;
                            for (
                                var o = n;
                                a.rowlist[o] &&
                                a.rowlist[o].swimlane !== t.swimlane.data;

                            )
                                (t.next = new DayPilot.Swimlane(
                                    a.rowlist[o].swimlane
                                )),
                                    (o += 1);
                            "function" == typeof i.onSwimlaneMove &&
                                i.onSwimlaneMove(t);
                        }),
                        (e.onRowMoved = function (e) {
                            var t = e.wrapped;
                            DayPilot.rfa(i.swimlanes.list, t.swimlane.data);
                            var n = 0;
                            t.next
                                ? (n = DayPilot.indexOf(
                                      i.swimlanes.list,
                                      t.next.data
                                  ))
                                : t.previous &&
                                  (n =
                                      DayPilot.indexOf(
                                          i.swimlanes.list,
                                          t.previous.data
                                      ) + 1),
                                i.swimlanes.list.splice(n, 0, t.swimlane.data),
                                "function" == typeof i.onSwimlaneMoved &&
                                    i.onSwimlaneMoved(t);
                        }),
                        (e.treePreventParentUsage = !0);
                }),
                    (r.loadCards = function () {
                        var e = i.theme + "_card_header",
                            t = i.theme + "_card_body",
                            n = new DayPilot.Date().toString();
                        (a.sortDirections = ["asc", "desc"]),
                            (a.events.list = DayPilot.list(i.cards.list).map(
                                function (a, r) {
                                    var o = a.html || a.text || "",
                                        s = a.name || "",
                                        d = {};
                                    return (
                                        (d.id = a.id),
                                        (d.text = a.text),
                                        (d.html =
                                            "<div class='" +
                                            e +
                                            "'>" +
                                            s +
                                            "</div><div class='" +
                                            t +
                                            "'>" +
                                            o +
                                            "</div>"),
                                        (d.resource = a.swimlane),
                                        (d.start = l.addDays(
                                            DayPilot.list(
                                                i.columns.list
                                            ).findIndex(function (e) {
                                                return a.column === e.id;
                                            })
                                        )),
                                        (d.end = d.start.addDays(1)),
                                        (d.card = a),
                                        (d.height = a.height),
                                        (d.cssClass = a.cssClass),
                                        (d.sort = [r, n]),
                                        (d.areas = DayPilot.list(a.areas).map(
                                            function (e) {
                                                var t = {};
                                                return (
                                                    DayPilot.Util.copyProps(
                                                        e,
                                                        t
                                                    ),
                                                    e.js &&
                                                        (t.js = function (t) {
                                                            e.js(
                                                                new DayPilot.Card(
                                                                    t.data.card,
                                                                    i
                                                                )
                                                            );
                                                        }),
                                                    t
                                                );
                                            }
                                        )),
                                        d.areas.push({
                                            left: 0,
                                            width: 5,
                                            top: 0,
                                            bottom: 0,
                                            backColor: a.barColor,
                                            cssClass: i.theme + "_card_bar",
                                        }),
                                        d
                                    );
                                }
                            ));
                    }),
                    (r.updateSort = function () {
                        var e = new DayPilot.Date().toString();
                        DayPilot.list(i.cards.list).forEach(function (t, n) {
                            var i = r.findSchedulerEventData(t);
                            i && (i.sort = [n, e]);
                        });
                    }),
                    (r.findSchedulerEventData = function (e) {
                        return DayPilot.list(a.events.list).find(function (t) {
                            return t.card === e;
                        });
                    }),
                    (r.loadSwimlanes = function () {
                        var e = DayPilot.list(i.swimlanes.list);
                        (a.resources = e.map(function (e) {
                            var t = {};
                            return (
                                (t.name = e.name),
                                (t.id = e.id),
                                (t.swimlane = e),
                                e.collapsed &&
                                    ((t.collapsed = !0),
                                    (t.eventHeight = 20),
                                    (t.hideEvents = !0)),
                                t
                            );
                        })),
                            e.isEmpty() &&
                                (a.resources = [{ name: "", id: "*" }]);
                    }),
                    (r.loadColumns = function () {
                        var e = DayPilot.list(i.columns.list);
                        a.days = e.length;
                    });
                var d = {};
                (d.active = null),
                    (d.div = null),
                    (d.update = function () {
                        d.clear();
                        var e = d.findPosition();
                        d.draw(e);
                    }),
                    (d.clear = function () {
                        DayPilot.de(d.div), (d.div = null);
                    }),
                    (d.draw = function (e) {
                        var t = 0;
                        if (e >= a.itline.length) {
                            var n = a.itline[a.itline.length - 1];
                            t = n.left + n.width - 3;
                        } else t = a.itline[e].left;
                        var r = document.createElement("div");
                        (r.style.position = "absolute"),
                            (r.style.left = t + "px"),
                            (r.style.width = "3px"),
                            (r.style.top = 0),
                            (r.style.height = a.headerHeight + "px"),
                            (r.className = i.theme + "_columnmove_position"),
                            (d.div = r),
                            a.nav.timeHeader.appendChild(r);
                    }),
                    (d.findPosition = function () {
                        if (i.coords.x < 0) return 0;
                        var e = DayPilot.list(a.itline).findIndex(function (e) {
                            var t = e.left + a.rowHeaderWidth,
                                n = e.width;
                            return i.coords.x < t + n / 2;
                        });
                        return e === -1 ? a.itline.length : e;
                    }),
                    (this.vf = function (e) {
                        d.active = e;
                    }),
                    (this.uf = function (e) {
                        return i.columns.list[DayPilot.DateUtil.daysDiff(l, e)];
                    }),
                    (this.wf = function (e) {
                        return DayPilot.list(i.swimlanes.list).find(function (
                            t
                        ) {
                            return t.id === e;
                        });
                    }),
                    (this.message = function (e, t, n, i) {
                        a.message(e, t, n, i);
                    }),
                    (this.show = function () {
                        (i.visible = !0), a.show();
                    }),
                    (this.hide = function () {
                        (i.visible = !1), a.hide();
                    }),
                    (this.cards.add = function (e) {
                        var t = null;
                        (t = e && e instanceof DayPilot.Card ? e.data : e),
                            e && (i.cards.list.push(t), i.update());
                    }),
                    (this.cards.remove = function (e) {
                        var t = null;
                        (t = e && e instanceof DayPilot.Card ? e.data : e),
                            e && (DayPilot.rfa(i.cards.list, t), i.update());
                    }),
                    (this.cards.update = function (e) {
                        i.update();
                    }),
                    (this.cards.find = function (e) {
                        var t = DayPilot.list(i.cards.list).find(function (t) {
                            return e === t.id;
                        });
                        return t ? new DayPilot.Card(t, i) : null;
                    }),
                    (this.xf = function (e) {
                        DayPilot.list(i.swimlanes.list).isEmpty() ||
                            (i.swimlanes.list[e].collapsed =
                                !i.swimlanes.list[e].collapsed),
                            i.update();
                    }),
                    (this.init = function () {
                        if (this.T)
                            throw new DayPilot.Exception(
                                "This instance is already initialized. Use update() to change properties."
                            );
                        return (
                            r.translate(),
                            r.loadSwimlanes(),
                            r.loadColumns(),
                            r.loadCards(),
                            a.init(),
                            i.ve(),
                            (this.T = !0),
                            this
                        );
                    }),
                    (this.U = !1),
                    (this.dispose = function () {
                        a.dispose(), (i.U = !0);
                    }),
                    (this.update = function (e) {
                        var t = i;
                        if (!t.T)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet."
                            );
                        if (t.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Kanban instance that has been disposed."
                            );
                        i.Re(e),
                            r.translate(),
                            r.loadSwimlanes(),
                            r.loadColumns(),
                            r.loadCards(),
                            a.update();
                    }),
                    (this.ve = function () {
                        DayPilot.re(document, "mouseup", i.yf),
                            DayPilot.re(document, "mousemove", i.zf);
                    }),
                    (this.Oe = {}),
                    (this.Oe.scope = null),
                    (this.Oe.notify = function () {
                        i.Oe.scope && i.Oe.scope["$apply"]();
                    }),
                    (this._e = null),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                cards: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (i.cards.list = e.list)
                                                : (i.cards.list = e));
                                    },
                                },
                                columns: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (i.columns.list = e.list)
                                                : (i.columns.list = e));
                                    },
                                },
                                swimlanes: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (i.swimlanes.list = e.list)
                                                : (i.swimlanes.list = e));
                                    },
                                },
                            };
                            this._e = t;
                            for (var n in e)
                                if (t[n]) {
                                    var a = t[n];
                                    (a.data = e[n]), a.preInit && a.preInit();
                                } else i[n] = e[n];
                        }
                    }),
                    (this.$e = function () {
                        var e = this._e;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.loadOptions = i.Re),
                    this.Re(n),
                    (this.me = function () {
                        var e = dp.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.ne = function () {
                        var e = i,
                            t = e.me;
                        t() ||
                            e.pe ||
                            (e.pe = setInterval(function () {
                                t() && (e.update(), clearInterval(e.pe));
                            }, 100));
                    }),
                    (this.zf = function (e) {
                        (i.coords = DayPilot.mo3(a.nav.top, e)),
                            d.active && d.update();
                    }),
                    (this.yf = function (e) {
                        if (d.active) {
                            var t = d.active.source,
                                n = d.findPosition(),
                                a = i.uf(t.start),
                                r = new DayPilot.Args();
                            (r.column = new DayPilot.KanbanColumn(a, i)),
                                (r.position = n),
                                (r.previous = null),
                                (r.next = null);
                            for (var o = null, s = r.position; 0 !== s && !o; )
                                a !== i.columns.list[s - 1] &&
                                    (o = i.columns.list[s - 1]),
                                    (s -= 1);
                            o && (r.previous = new DayPilot.KanbanColumn(o, i));
                            var l = null;
                            for (
                                s = r.position;
                                s < i.columns.list.length - 1 && !l;

                            )
                                a !== i.columns.list[s] &&
                                    (l = i.columns.list[s]),
                                    (s += 1);
                            if (
                                (l &&
                                    (r.next = new DayPilot.KanbanColumn(l, i)),
                                "function" == typeof i.onColumnMove &&
                                    i.onColumnMove(r),
                                !r.preventDefault.value)
                            ) {
                                if ("Update" === i.columnMoveHandling) {
                                    DayPilot.rfa(i.columns.list, r.column.data);
                                    var c = 0;
                                    r.next
                                        ? (c = DayPilot.indexOf(
                                              i.columns.list,
                                              r.next.data
                                          ))
                                        : r.previous &&
                                          (c =
                                              DayPilot.indexOf(
                                                  i.columns.list,
                                                  r.previous.data
                                              ) + 1),
                                        i.columns.list.splice(
                                            c,
                                            0,
                                            r.column.data
                                        ),
                                        i.update();
                                }
                                "function" == typeof i.onColumnMoved &&
                                    i.onColumnMove(r);
                            }
                            (d.active = null), d.clear();
                        }
                    });
            }),
                (DayPilot.Kanban.makeDraggable = function (e) {
                    DayPilot.Scheduler.makeDraggable(e);
                }),
                (DayPilot.Card = function (e, t) {
                    if (e instanceof DayPilot.Event) {
                        var n = e;
                        (this.data = n.data.card), (this.wrapped = e);
                    } else this.data = e;
                    this.control = t;
                }),
                (DayPilot.KanbanColumn = function (e, t) {
                    (this.data = e), (this.control = t);
                }),
                (DayPilot.Swimlane = function (e, t) {
                    (this.data = e), (this.control = t);
                }),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotKanban", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(
                                                this["template"].replace(
                                                    "{{id}}",
                                                    n["id"]
                                                )
                                            ),
                                            function (t, n, i) {
                                                var a = new DayPilot.Kanban(
                                                    n[0]
                                                );
                                                (a.Oe.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l =
                                                            DayPilot.Util.shouldApply(
                                                                s
                                                            );
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          var r =
                                                                              e(
                                                                                  i[
                                                                                      n
                                                                                  ]
                                                                              );
                                                                          t[
                                                                              "$apply"
                                                                          ](
                                                                              function () {
                                                                                  r(
                                                                                      t,
                                                                                      {
                                                                                          args: a,
                                                                                      }
                                                                                  );
                                                                              }
                                                                          );
                                                                      };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          e(
                                                                              i[
                                                                                  n
                                                                              ]
                                                                          )(t, {
                                                                              args: a,
                                                                          });
                                                                      };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c =
                                                        i["config"] ||
                                                        i["daypilotConfig"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        a.Re(e), a.update();
                                                    },
                                                    !0
                                                );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Menu) {
            var e = function () {},
                t = {};
            (t.mouse = null),
                (t.menu = null),
                (t.handlersRegistered = !1),
                (t.hideTimeout = null),
                (t.waitingSubmenu = null),
                (DayPilot.Menu = function (n) {
                    var i = this,
                        a = null;
                    (this.v = "2022.1.5188"),
                        (this.zIndex = 120),
                        (this.cssClassPrefix = "menu_default"),
                        (this.cssOnly = !0),
                        (this.menuTitle = null),
                        (this.showMenuTitle = !1),
                        (this.hideOnMouseOut = !1),
                        (this.hideAfter = 200),
                        (this.theme = null),
                        (this.onShow = null),
                        (this.B = function () {}),
                        n && DayPilot.isArray(n) && (this.items = n),
                        (this.toJSON = function () {
                            return null;
                        }),
                        (this.show = function (n, r) {
                            r = r || {};
                            var o = null;
                            if (
                                (n
                                    ? "string" == typeof n.id ||
                                      "number" == typeof n.id
                                        ? (o = n.id)
                                        : "function" == typeof n.id
                                        ? (o = n.id())
                                        : "function" == typeof n.value &&
                                          (o = n.value())
                                    : (o = null),
                                "undefined" != typeof DayPilot.Bubble &&
                                    DayPilot.Bubble.hideActive(),
                                r.submenu || t.menuClean(),
                                (this.B.submenu = null),
                                null !== t.mouse)
                            ) {
                                i.cssOnly || (i.cssOnly = !0);
                                var s = null;
                                if (
                                    (n && n.isRow && n.$.row.task
                                        ? ((s = new DayPilot.Task(
                                              n.$.row.task,
                                              n.calendar
                                          )),
                                          (s.menuType = "resource"))
                                        : (s =
                                              n && n.isEvent && n.data.task
                                                  ? new DayPilot.Task(
                                                        n,
                                                        n.calendar
                                                    )
                                                  : n),
                                    "function" == typeof i.onShow)
                                ) {
                                    var l = {};
                                    if (
                                        ((l.source = s),
                                        (l.menu = i),
                                        (l.preventDefault = function () {
                                            l.preventDefault.value = !0;
                                        }),
                                        i.onShow(l),
                                        l.preventDefault.value)
                                    )
                                        return;
                                }
                                var d = document.createElement("div");
                                if (
                                    ((d.style.position = "absolute"),
                                    (d.style.top = "0px"),
                                    (d.style.left = "0px"),
                                    (d.style.display = "none"),
                                    (d.style.overflow = "hidden"),
                                    (d.style.zIndex = this.zIndex + 1),
                                    (d.className = this.applyCssClass("main")),
                                    (d.onclick = function (e) {
                                        (e.cancelBubble = !0),
                                            this.parentNode.removeChild(this);
                                    }),
                                    this.hideOnMouseOut &&
                                        ((d.onmousemove = function (e) {
                                            clearTimeout(t.hideTimeout);
                                        }),
                                        (d.onmouseleave = function (e) {
                                            i.delayedHide({ hideParent: !0 });
                                        })),
                                    !this.items || 0 === this.items.length)
                                )
                                    throw "No menu items defined.";
                                if (this.showMenuTitle) {
                                    var c = document.createElement("div");
                                    (c.innerHTML = this.menuTitle),
                                        (c.className =
                                            this.applyCssClass("title")),
                                        d.appendChild(c);
                                }
                                for (var u = 0; u < this.items.length; u++) {
                                    var h = this.items[u],
                                        f = document.createElement("div");
                                    if (
                                        (DayPilot.Util.addClass(
                                            f,
                                            this.applyCssClass("item")
                                        ),
                                        h.items &&
                                            DayPilot.Util.addClass(
                                                f,
                                                this.applyCssClass(
                                                    "item_haschildren"
                                                )
                                            ),
                                        "undefined" != typeof h && !h.hidden)
                                    ) {
                                        if ("-" === h.text) {
                                            var v =
                                                document.createElement("div");
                                            v.addEventListener(
                                                "click",
                                                function (e) {
                                                    e.stopPropagation();
                                                }
                                            ),
                                                f.appendChild(v);
                                        } else {
                                            var p = document.createElement("a");
                                            if (
                                                ((p.style.position =
                                                    "relative"),
                                                (p.style.display = "block"),
                                                h.cssClass &&
                                                    DayPilot.Util.addClass(
                                                        p,
                                                        h.cssClass
                                                    ),
                                                h.disabled)
                                            )
                                                DayPilot.Util.addClass(
                                                    p,
                                                    i.applyCssClass(
                                                        "item_disabled"
                                                    )
                                                );
                                            else {
                                                if (h.onclick || h.onClick) {
                                                    (p.item = h),
                                                        (p.onclick = (function (
                                                            e,
                                                            t
                                                        ) {
                                                            return function (
                                                                n
                                                            ) {
                                                                if (
                                                                    "function" ==
                                                                    typeof e.onClick
                                                                ) {
                                                                    var i = {};
                                                                    if (
                                                                        ((i.item =
                                                                            e),
                                                                        (i.source =
                                                                            t.source),
                                                                        (i.originalEvent =
                                                                            n),
                                                                        (i.preventDefault =
                                                                            function () {
                                                                                i.preventDefault.value =
                                                                                    !0;
                                                                            }),
                                                                        e.onClick(
                                                                            i
                                                                        ),
                                                                        i
                                                                            .preventDefault
                                                                            .value)
                                                                    )
                                                                        return;
                                                                }
                                                                e.onclick &&
                                                                    e.onclick.call(
                                                                        t,
                                                                        n
                                                                    );
                                                            };
                                                        })(h, p));
                                                    var m = function (e, n) {
                                                        return function (i) {
                                                            i.stopPropagation(),
                                                                i.preventDefault();
                                                            var a =
                                                                function () {
                                                                    window.setTimeout(
                                                                        function () {
                                                                            n.source.calendar.internal.touch.active =
                                                                                !1;
                                                                        },
                                                                        500
                                                                    );
                                                                };
                                                            if (
                                                                "function" ==
                                                                typeof e.onClick
                                                            ) {
                                                                var r = {};
                                                                if (
                                                                    ((r.item =
                                                                        e),
                                                                    (r.source =
                                                                        n.source),
                                                                    (r.originalEvent =
                                                                        i),
                                                                    (r.preventDefault =
                                                                        function () {
                                                                            r.preventDefault.value =
                                                                                !0;
                                                                        }),
                                                                    e.onClick(
                                                                        r
                                                                    ),
                                                                    r
                                                                        .preventDefault
                                                                        .value)
                                                                )
                                                                    return void a();
                                                            }
                                                            e.onclick &&
                                                                e.onclick.call(
                                                                    n,
                                                                    i
                                                                ),
                                                                t.menuClean(),
                                                                a();
                                                        };
                                                    };
                                                    DayPilot.reNonPassive(
                                                        p,
                                                        "touchstart",
                                                        function (e) {
                                                            e.stopPropagation(),
                                                                e.preventDefault(),
                                                                (p.source.calendar.internal.touch.active =
                                                                    !0);
                                                        }
                                                    ),
                                                        DayPilot.reNonPassive(
                                                            p,
                                                            "touchend",
                                                            m(h, p)
                                                        );
                                                }
                                                if (h.items && !h.disabled) {
                                                    var g = function (e, t) {
                                                        return function (n) {
                                                            n.preventDefault(),
                                                                n.stopPropagation(),
                                                                i.Af(e, t);
                                                        };
                                                    };
                                                    p.ontouchend = g(h, p);
                                                }
                                                if (h.onclick) e();
                                                else if (h.href)
                                                    (p.href = h.href.replace(
                                                        /\x7B0\x7D/gim,
                                                        o
                                                    )),
                                                        h.target &&
                                                            p.setAttribute(
                                                                "target",
                                                                h.target
                                                            );
                                                else if (h.command) {
                                                    var g = function (e, t) {
                                                        return function (n) {
                                                            var i = t.source,
                                                                a = e;
                                                            a.action = a.action
                                                                ? a.action
                                                                : "CallBack";
                                                            var r =
                                                                i.calendar ||
                                                                i.root;
                                                            if (
                                                                i instanceof
                                                                DayPilot.Link
                                                            )
                                                                return void r.internal.linkMenuClick(
                                                                    a.command,
                                                                    i,
                                                                    a.action
                                                                );
                                                            if (
                                                                i instanceof
                                                                DayPilot.Selection
                                                            )
                                                                return void r.internal.timeRangeMenuClick(
                                                                    a.command,
                                                                    i,
                                                                    a.action
                                                                );
                                                            if (
                                                                i instanceof
                                                                DayPilot.Event
                                                            )
                                                                return void r.internal.eventMenuClick(
                                                                    a.command,
                                                                    i,
                                                                    a.action
                                                                );
                                                            if (
                                                                i instanceof
                                                                DayPilot.Selection
                                                            )
                                                                return void r.internal.timeRangeMenuClick(
                                                                    a.command,
                                                                    i,
                                                                    a.action
                                                                );
                                                            if (
                                                                i instanceof
                                                                DayPilot.Task
                                                            )
                                                                return void ("resource" ===
                                                                i.menuType
                                                                    ? r.internal.resourceHeaderMenuClick(
                                                                          a.command,
                                                                          t.menuSource,
                                                                          a.action
                                                                      )
                                                                    : r.internal.eventMenuClick(
                                                                          a.command,
                                                                          t.menuSource,
                                                                          a.action
                                                                      ));
                                                            switch (
                                                                i.menuType
                                                            ) {
                                                                case "resource":
                                                                    return void r.internal.resourceHeaderMenuClick(
                                                                        a.command,
                                                                        i,
                                                                        a.action
                                                                    );
                                                                case "selection":
                                                                    return void r.internal.timeRangeMenuClick(
                                                                        a.command,
                                                                        i,
                                                                        a.action
                                                                    );
                                                                default:
                                                                    return void r.internal.eventMenuClick(
                                                                        a.command,
                                                                        i,
                                                                        a.action
                                                                    );
                                                            }
                                                            n.preventDefault();
                                                        };
                                                    };
                                                    (p.onclick = g(h, p)),
                                                        (p.ontouchend = g(
                                                            h,
                                                            p
                                                        ));
                                                }
                                            }
                                            h.items &&
                                                p.addEventListener(
                                                    "click",
                                                    function (e) {
                                                        e.stopPropagation();
                                                    }
                                                ),
                                                (p.source = s),
                                                (p.menuSource = n);
                                            var b =
                                                document.createElement("span");
                                            if (
                                                ((b.className =
                                                    i.applyCssClass(
                                                        "item_text"
                                                    )),
                                                (b.innerHTML =
                                                    DayPilot.Util.escapeTextHtml(
                                                        h.text,
                                                        h.html
                                                    )),
                                                p.appendChild(b),
                                                h.image)
                                            ) {
                                                var y =
                                                    document.createElement(
                                                        "img"
                                                    );
                                                (y.src = h.image),
                                                    (y.style.position =
                                                        "absolute"),
                                                    (y.style.top = "0px"),
                                                    (y.style.left = "0px"),
                                                    p.appendChild(y);
                                            }
                                            if (h.icon) {
                                                var w =
                                                    document.createElement(
                                                        "span"
                                                    );
                                                w.className =
                                                    i.applyCssClass(
                                                        "item_icon"
                                                    );
                                                var x =
                                                    document.createElement("i");
                                                (x.className = h.icon),
                                                    w.appendChild(x),
                                                    p.appendChild(w);
                                            }
                                            var k = function (e, n) {
                                                return function () {
                                                    var a = (n.source, e),
                                                        r = t.waitingSubmenu;
                                                    if (r) {
                                                        if (r.parent === a)
                                                            return;
                                                        clearTimeout(r.timeout),
                                                            (t.waitingSubmenu =
                                                                null);
                                                    }
                                                    e.disabled ||
                                                        ((t.waitingSubmenu =
                                                            {}),
                                                        (t.waitingSubmenu.parent =
                                                            a),
                                                        (t.waitingSubmenu.timeout =
                                                            setTimeout(
                                                                function () {
                                                                    (t.waitingSubmenu =
                                                                        null),
                                                                        i.Af(
                                                                            a,
                                                                            n
                                                                        );
                                                                },
                                                                300
                                                            )));
                                                };
                                            };
                                            (p.onmouseover = k(h, p)),
                                                f.appendChild(p);
                                        }
                                        d.appendChild(f);
                                    }
                                }
                                var C = function (e) {
                                    window.setTimeout(function () {
                                        t.menuClean(),
                                            DayPilot.MenuBar.deactivate();
                                    }, 100);
                                };
                                (d.onclick = C),
                                    (d.ontouchend = C),
                                    (d.onmousedown = function (e) {
                                        (e = e || window.event),
                                            (e.cancelBubble = !0),
                                            e.stopPropagation &&
                                                e.stopPropagation();
                                    }),
                                    (d.oncontextmenu = function () {
                                        return !1;
                                    }),
                                    document.body.appendChild(d),
                                    (i.B.visible = !0),
                                    (i.B.source = n),
                                    (d.style.display = "");
                                var H = d.offsetHeight,
                                    D = d.offsetWidth;
                                d.style.display = "none";
                                var E = document.documentElement.clientHeight,
                                    S = window.innerWidth,
                                    T =
                                        "number" == typeof r.windowMargin
                                            ? r.windowMargin
                                            : 5;
                                if (
                                    ((function () {
                                        var e = r.initiator;
                                        if (e) {
                                            var t = e.div,
                                                n = e.e,
                                                i = e.area,
                                                o =
                                                    i.visibility ||
                                                    i.v ||
                                                    "Visible",
                                                s = e.a;
                                            if (
                                                ("Visible" !== o &&
                                                    ((s =
                                                        DayPilot.Areas.createArea(
                                                            t,
                                                            n,
                                                            i
                                                        )),
                                                    t.appendChild(s),
                                                    (a = s)),
                                                s)
                                            ) {
                                                var l = DayPilot.abs(s);
                                                (r.x = l.x),
                                                    (r.y = l.y + l.h + 2);
                                            }
                                        }
                                    })(),
                                    (function () {
                                        var e =
                                                "number" == typeof r.x
                                                    ? r.x
                                                    : t.mouse.x + 1,
                                            n =
                                                "number" == typeof r.y
                                                    ? r.y
                                                    : t.mouse.y + 1,
                                            i =
                                                document.body.scrollTop ||
                                                document.documentElement
                                                    .scrollTop,
                                            a =
                                                document.body.scrollLeft ||
                                                document.documentElement
                                                    .scrollLeft;
                                        if (n - i > E - H && 0 !== E) {
                                            var o = n - i - (E - H) + T;
                                            d.style.top = n - o + "px";
                                        } else d.style.top = n + "px";
                                        if (
                                            ("right" === r.align && (e -= D),
                                            e - a > S - D && 0 !== S)
                                        ) {
                                            var s = e - a - (S - D) + T;
                                            d.style.left = e - s + "px";
                                        } else d.style.left = e + "px";
                                    })(),
                                    r.parentLink)
                                ) {
                                    var _ = r.parentLink,
                                        M = parseInt(
                                            new DayPilot.StyleReader(d).get(
                                                "border-top-width"
                                            )
                                        ),
                                        A = DayPilot.abs(
                                            r.parentLink.parentNode
                                        ),
                                        R = A.x + _.offsetWidth,
                                        B = A.y - M;
                                    R + D > S && (R = Math.max(0, A.x - D));
                                    var P =
                                        document.body.scrollTop +
                                        document.documentElement.scrollTop;
                                    B + H - P > E &&
                                        (B = Math.max(0, E - H + P)),
                                        (d.style.left = R + "px"),
                                        (d.style.top = B + "px");
                                }
                                (d.style.display = ""),
                                    this.addShadow(d),
                                    (this.B.div = d),
                                    r.submenu || (DayPilot.Menu.active = this);
                            }
                        }),
                        (this.Af = function (e, t) {
                            var n = e,
                                a = t.source;
                            if (
                                (!i.B.submenu || i.B.submenu.item !== e) &&
                                (i.B.submenu &&
                                    i.B.submenu.item !== e &&
                                    (DayPilot.Util.removeClass(
                                        i.B.submenu.link.parentNode,
                                        i.applyCssClass(
                                            "item_haschildren_active"
                                        )
                                    ),
                                    i.B.submenu.menu.hide(),
                                    (i.B.submenu = null)),
                                e.items)
                            ) {
                                var r = i.cloneOptions();
                                (r.items = e.items),
                                    (i.B.submenu = {}),
                                    (i.B.submenu.menu = new DayPilot.Menu(r)),
                                    (i.B.submenu.menu.Bf = i),
                                    i.B.submenu.menu.show(a, {
                                        submenu: !0,
                                        parentLink: t,
                                        parentItem: n,
                                    }),
                                    (i.B.submenu.item = e),
                                    (i.B.submenu.link = t),
                                    DayPilot.Util.addClass(
                                        t.parentNode,
                                        i.applyCssClass(
                                            "item_haschildren_active"
                                        )
                                    );
                            }
                        }),
                        (this.applyCssClass = function (e) {
                            var t = this.theme || this.cssClassPrefix,
                                n = this.cssOnly ? "_" : "";
                            return t ? t + n + e : "";
                        }),
                        (this.cloneOptions = function () {
                            return DayPilot.Util.copyProps(r, {}, [
                                "cssClassPrefix",
                                "theme",
                                "hideAfter",
                                "hideOnMouseOut",
                                "zIndex",
                            ]);
                        }),
                        (this.hide = function (e) {
                            (e = e || {}),
                                this.B.submenu && this.B.submenu.menu.hide();
                            var n = t.waitingSubmenu;
                            if (
                                (n &&
                                    ((t.waitingSubmenu = null),
                                    clearTimeout(n.timeout)),
                                this.removeShadow(),
                                this.B.div &&
                                    this.B.div.parentNode === document.body &&
                                    document.body.removeChild(this.B.div),
                                a && (DayPilot.de(a), (a = null)),
                                (i.B.visible = !1),
                                (i.B.source = null),
                                i.Bf && e.hideParent && i.Bf.hide(e),
                                DayPilot.Menu.active === i &&
                                    (DayPilot.Menu.active = null),
                                "function" == typeof this.onHide)
                            ) {
                                var r = {};
                                this.onHide(r);
                            }
                        }),
                        (this.delayedHide = function (e) {
                            t.hideTimeout = setTimeout(function () {
                                i.hide(e);
                            }, i.hideAfter);
                        }),
                        (this.cancelHideTimeout = function () {
                            clearTimeout(t.hideTimeout);
                        }),
                        (this.init = function (e) {
                            return t.mouseMove(e), this;
                        }),
                        (this.addShadow = function (e) {}),
                        (this.removeShadow = function () {});
                    var r = DayPilot.isArray(n) ? null : n;
                    if (r) for (var o in r) this[o] = r[o];
                }),
                (DayPilot.MenuBar = function (e, t) {
                    var n = this;
                    (t = t || {}),
                        (this.items = []),
                        (this.theme = "menubar_default"),
                        (this.windowMargin = 0),
                        (this.nav = {}),
                        (this.elements = {}),
                        (this.elements.items = DayPilot.list()),
                        (this.Cf = null),
                        (this.T = !1);
                    for (var i in t) this[i] = t[i];
                    (this.Df = function (e) {
                        return this.theme + "_" + e;
                    }),
                        (this._a = function () {
                            this.nav.top = document.getElementById(e);
                            var t = this.nav.top;
                            (t.className = this.Df("main")),
                                DayPilot.list(n.items).forEach(function (e) {
                                    var i = document.createElement("span");
                                    (i.innerHTML = DayPilot.Util.escapeTextHtml(
                                        e.text,
                                        e.html
                                    )),
                                        (i.className = n.Df("item")),
                                        e.cssClass &&
                                            i.classList.add(e.cssClass),
                                        (i.data = e),
                                        (i.onclick = function (t) {
                                            if (n.active && n.active.item === e)
                                                n.Ef();
                                            else if (e.children)
                                                return void n.Ff(i);
                                            if (
                                                "function" == typeof e.onClick
                                            ) {
                                                var a = {};
                                                (a.item = e),
                                                    (a.originalEvent = t),
                                                    e.onClick(a);
                                            }
                                        }),
                                        (i.onmousedown = function (e) {
                                            e.stopPropagation();
                                        }),
                                        (i.onmouseover = function () {
                                            n.active &&
                                                n.active.item !== e &&
                                                n.Ff(i);
                                        }),
                                        t.appendChild(i),
                                        n.elements.items.push(i);
                                });
                        }),
                        (this.Ef = function () {
                            var e = n.Df("item_active");
                            n.elements.items.forEach(function (t) {
                                DayPilot.Util.removeClass(t, e);
                            }),
                                n.active &&
                                    n.active.menu &&
                                    n.active.menu.hide(),
                                (n.active = null);
                        }),
                        (this.Gf = function (e) {
                            return !!n.active && n.active.item === e.data;
                        }),
                        (this.Ff = function (e) {
                            if (!n.Gf(e)) {
                                n.Ef();
                                var t = e.data,
                                    i = (n.active = {});
                                (i.item = t), (i.div = e);
                                var a = n.Df("item_active");
                                DayPilot.Util.addClass(e, a);
                                var r = DayPilot.abs(e);
                                if (t.children) {
                                    i.menu = new DayPilot.Menu({
                                        items: t.children,
                                    });
                                    var o = r.x;
                                    "right" === t.align && (o += r.w),
                                        i.menu.show(null, {
                                            x: o,
                                            y: r.y + r.h,
                                            align: t.align,
                                            windowMargin: n.windowMargin,
                                        });
                                }
                                DayPilot.MenuBar.active = n;
                            }
                        }),
                        (this.init = function () {
                            return this._a(), (this.T = !0), this;
                        }),
                        (this.dispose = function () {
                            this.T &&
                                ((this.nav.top.innerHTML = ""),
                                (this.elements.items = []));
                        });
                }),
                (DayPilot.MenuBar.deactivate = function () {
                    DayPilot.MenuBar.active &&
                        (DayPilot.MenuBar.active.Ef(),
                        (DayPilot.MenuBar.active = null));
                }),
                (t.menuClean = function () {
                    "undefined" != typeof DayPilot.Menu.active &&
                        DayPilot.Menu.active &&
                        (DayPilot.Menu.active.hide(),
                        (DayPilot.Menu.active = null));
                }),
                (t.mouseDown = function (e) {
                    "undefined" != typeof t &&
                        (t.menuClean(), DayPilot.MenuBar.deactivate());
                }),
                (t.mouseMove = function (e) {
                    "undefined" != typeof t && (t.mouse = t.mousePosition(e));
                }),
                (t.touchMove = function (e) {
                    "undefined" != typeof t && (t.mouse = t.touchPosition(e));
                }),
                (t.touchStart = function (e) {
                    "undefined" != typeof t && (t.mouse = t.touchPosition(e));
                }),
                (t.touchEnd = function (e) {}),
                (t.touchPosition = function (e) {
                    if (!e || !e.touches) return null;
                    var t = e.touches[0],
                        n = {};
                    return (n.x = t.pageX), (n.y = t.pageY), n;
                }),
                (t.mousePosition = function (e) {
                    return DayPilot.mo3(null, e);
                }),
                (DayPilot.Menu.touchPosition = function (e) {
                    e.touches && (t.mouse = t.touchPosition(e));
                }),
                (DayPilot.Menu.hide = function (e) {
                    if (((e = e || {}), e.calendar)) {
                        var n = DayPilot.Menu.active;
                        if (n) {
                            var i = n.B.source;
                            i && i.calendar === e.calendar && t.menuClean();
                        }
                    } else t.menuClean();
                }),
                t.handlersRegistered ||
                    (DayPilot.re(document, "mousemove", t.mouseMove),
                    DayPilot.re(document, "mousedown", t.mouseDown),
                    DayPilot.re(document, "touchmove", t.touchMove),
                    DayPilot.re(document, "touchstart", t.touchStart),
                    DayPilot.re(document, "touchend", t.touchEnd),
                    (t.handlersRegistered = !0)),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot && (DayPilot = {}),
    (function (DayPilot) {
        function e(t, n, i) {
            var a = n.indexOf(".");
            if (a === -1)
                return void (
                    "__proto__" !== n &&
                    "constructor" !== n &&
                    (t[n] = i)
                );
            var r = n.substring(0, a);
            if ("__proto__" !== r && "constructor" !== r) {
                var o = n.substring(a + 1),
                    s = t[r];
                ("object" == typeof s && null !== s) ||
                    ((t[r] = {}), (s = t[r])),
                    e(s, o, i);
            }
        }
        function t(e, n, i) {
            (n = n || {}), (i = i || "");
            for (var a in e) {
                var r = e[a];
                "object" == typeof r
                    ? "[object Array]" === Object.prototype.toString.call(r)
                        ? (n[i + a] = r)
                        : r && r.toJSON
                        ? (n[i + a] = r.toJSON())
                        : t(r, n, i + a + ".")
                    : (n[i + a] = r);
            }
            return n;
        }
        if (!DayPilot.ModalStatic) {
            (DayPilot.ModalStatic = {}),
                (DayPilot.ModalStatic.list = []),
                (DayPilot.ModalStatic.hide = function () {
                    if (this.list.length > 0) {
                        var e = this.list.pop();
                        e && e.hide();
                    }
                }),
                (DayPilot.ModalStatic.remove = function (e) {
                    for (
                        var t = DayPilot.ModalStatic.list, n = 0;
                        n < t.length;
                        n++
                    )
                        if (t[n] === e) return void t.splice(n, 1);
                }),
                (DayPilot.ModalStatic.close = function (e) {
                    DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide();
                }),
                (DayPilot.ModalStatic.result = function (e) {
                    var t = DayPilot.ModalStatic.list;
                    t.length > 0 && (t[t.length - 1].result = e);
                }),
                (DayPilot.ModalStatic.displayed = function (e) {
                    for (
                        var t = DayPilot.ModalStatic.list, n = 0;
                        n < t.length;
                        n++
                    )
                        if (t[n] === e) return !0;
                    return !1;
                }),
                (DayPilot.ModalStatic.stretch = function () {
                    if (this.list.length > 0) {
                        var e = this.list[this.list.length - 1];
                        e && e.stretch();
                    }
                }),
                (DayPilot.ModalStatic.last = function () {
                    var e = DayPilot.ModalStatic.list;
                    return e.length > 0 ? e[e.length - 1] : null;
                });
            var n = function () {
                    var e = document.createElement("style");
                    e.setAttribute("type", "text/css"),
                        e.styleSheet ||
                            e.appendChild(document.createTextNode("")),
                        (
                            document.head ||
                            document.getElementsByTagName("head")[0]
                        ).appendChild(e);
                    var t = !!e.styleSheet,
                        n = {};
                    return (
                        (n.rules = []),
                        (n.commit = function () {
                            try {
                                t &&
                                    (e.styleSheet.cssText =
                                        this.rules.join("\n"));
                            } catch (e) {}
                        }),
                        (n.add = function (n, i, a) {
                            if (t)
                                return void this.rules.push(n + "{" + i + "}");
                            if (e.sheet.insertRule)
                                "undefined" == typeof a &&
                                    (a = e.sheet.cssRules.length),
                                    e.sheet.insertRule(n + "{" + i + "}", a);
                            else {
                                if (!e.sheet.addRule)
                                    throw "No CSS registration method found";
                                e.sheet.addRule(n, i, a);
                            }
                        }),
                        n
                    );
                },
                i =
                    "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",
                a = new n();
            a.add(
                ".modal_default_main",
                "border: 10px solid #ccc; max-width: 90%;"
            ),
                a.add(".modal_default_main:focus", "outline: none;"),
                a.add(".modal_default_content", "padding: 10px 0px;"),
                a.add(".modal_default_inner", "padding: 20px;"),
                a.add(".modal_default_input", "padding: 10px 0px;"),
                a.add(".modal_default_buttons", "margin-top: 10px;"),
                a.add(".modal_default_buttons", "padding: 10px 0px;"),
                a.add(
                    ".modal_default_form_item",
                    "padding: 10px 0px; position: relative;"
                ),
                a.add(
                    ".modal_default_form_item_level1",
                    "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"
                ),
                a.add(
                    ".modal_default_form_item.modal_default_form_title",
                    "font-size: 1.5rem; font-weight: bold;"
                ),
                a.add(
                    ".modal_default_form_item input[type=text]",
                    "width: 100%; box-sizing: border-box;"
                ),
                a.add(
                    ".modal_default_form_item textarea",
                    "width: 100%; height: 200px; box-sizing: border-box;"
                ),
                a.add(
                    ".modal_default_form_item input[type=select]",
                    "width: 100%; box-sizing: border-box;"
                ),
                a.add(".modal_default_form_item label", "display: block;"),
                a.add(
                    ".modal_default_form_item select",
                    "width: 100%; box-sizing: border-box;"
                ),
                a.add(".modal_default_form_item_label", "margin: 2px 0px;"),
                a.add(
                    ".modal_default_form_item_image img",
                    "max-width: 100%; height: auto;"
                ),
                a.add(".modal_default_form_item_invalid", ""),
                a.add(
                    ".modal_default_form_item_invalid_message",
                    "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"
                ),
                a.add(
                    ".modal_default_background",
                    "opacity: 0.5; background-color: #000;"
                ),
                a.add(".modal_default_ok", "padding: 3px; width: 80px;"),
                a.add(".modal_default_cancel", "padding: 3px; width: 80px;"),
                a.add(".modal_default_form_item_date", "position: relative;"),
                a.add(
                    ".modal_default_form_item_date:after",
                    "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" +
                        "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" +
                        ")"
                ),
                navigator.userAgent.indexOf("Edge") !== -1 &&
                    a.add(
                        ".modal_default_form_item_date input::-ms-clear",
                        "display: none;"
                    ),
                a.add(
                    ".modal_default_form_item_scrollable_scroll",
                    "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"
                ),
                a.add(
                    ".modal_default_form_item_scrollable_scroll_content",
                    "padding: 5px;"
                ),
                a.add(
                    ".modal_default_form_item_searchable",
                    "position: relative;"
                ),
                a.add(".modal_default_form_item_searchable_icon", ""),
                a.add(
                    ".modal_default_form_item_searchable_icon:after",
                    "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" +
                        i +
                        ");"
                ),
                a.add(
                    ".modal_default_form_item_searchable_list",
                    "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"
                ),
                a.add(
                    ".modal_default_form_item_searchable_list_item",
                    "background: white; padding: 2px; cursor: default;"
                ),
                a.add(
                    ".modal_default_form_item_searchable_list_item_highlight",
                    "background: #ccc;"
                ),
                a.add(".modal_default_form_item_time", "position: relative;"),
                a.add(".modal_default_form_item_time_icon", ""),
                a.add(
                    ".modal_default_form_item_time_icon:after",
                    "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" +
                        i +
                        ");"
                ),
                a.add(
                    ".modal_default_form_item_time_list",
                    "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"
                ),
                a.add(
                    ".modal_default_form_item_time_list_item",
                    "background: white; padding: 2px; cursor: default;"
                ),
                a.add(
                    ".modal_default_form_item_time_list_item_highlight",
                    "background: #ccc;"
                ),
                a.add(
                    ".modal_default_form_item_datetime_parent",
                    "display: flex;"
                ),
                a.add(
                    ".modal_default_form_item_datetime .modal_default_form_item_time_main",
                    "margin-left: 5px;"
                ),
                a.add(
                    ".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",
                    ""
                ),
                a.add(
                    ".modal_default_form_item_tabular_main",
                    "margin-top: 10px;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_table",
                    "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_tbody",
                    "display: table-row-group;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_row",
                    "display: table-row;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",
                    ""
                ),
                a.add(
                    ".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction",
                    "padding: 0px; width: 23px;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_cell",
                    "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell",
                    "padding-left: 0px; padding-bottom: 0px;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]",
                    "width:100%; box-sizing: border-box;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_table select",
                    "width:100%; height:100%; box-sizing: border-box;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_plus",
                    "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_plus:after",
                    "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
                ),
                a.add(
                    ".modal_default_form_item_tabular_delete",
                    "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_delete:after",
                    "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
                ),
                a.add(
                    ".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus",
                    "display: none;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus",
                    "display: none;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete",
                    "visibility: hidden;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_empty",
                    "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell",
                    "padding: 0px;"
                ),
                a.add(
                    ".modal_min_main",
                    "border: 1px solid #ccc; max-width: 90%;"
                ),
                a.add(
                    ".modal_min_background",
                    "opacity: 0.5; background-color: #000;"
                ),
                a.add(".modal_min_ok", "padding: 3px 10px;"),
                a.add(".modal_min_cancel", "padding: 3px 10px;"),
                a.add(
                    ".navigator_modal_main",
                    "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"
                ),
                a.add(
                    ".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after",
                    "box-sizing: content-box;"
                ),
                a.add(".navigator_modal_month", "font-size: 11px;"),
                a.add(".navigator_modal_day", "color: black;"),
                a.add(".navigator_modal_weekend", "background-color: #f0f0f0;"),
                a.add(".navigator_modal_dayheader", "color: black;"),
                a.add(
                    ".navigator_modal_line",
                    "border-bottom: 1px solid #c0c0c0;"
                ),
                a.add(".navigator_modal_dayother", "color: gray;"),
                a.add(".navigator_modal_todaybox", "border: 1px solid red;"),
                a.add(
                    ".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright",
                    "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"
                ),
                a.add(".navigator_modal_busy", "font-weight: bold;"),
                a.add(".navigator_modal_cell", "text-align: center;"),
                a.add(
                    ".navigator_modal_select .navigator_modal_cell_box",
                    "background-color: #FFE794; opacity: 0.5;"
                ),
                a.add(".navigator_modal_title", "text-align: center;"),
                a.add(
                    ".navigator_modal_titleleft, .navigator_modal_titleright",
                    "text-align: center;"
                ),
                a.add(".navigator_modal_dayheader", "text-align: center;"),
                a.add(".navigator_modal_weeknumber", "text-align: center;"),
                a.add(".navigator_modal_cell_text", "cursor: pointer;"),
                a.commit(),
                (DayPilot.Modal = function (e) {
                    (this.autoFocus = !0),
                        (this.focus = null),
                        (this.autoStretch = !0),
                        (this.autoStretchFirstLoadOnly = !1),
                        (this.className = null),
                        (this.theme = "modal_default"),
                        (this.disposeOnClose = !0),
                        (this.dragDrop = !0),
                        (this.loadingHtml = null),
                        (this.maxHeight = null),
                        (this.scrollWithPage = !0),
                        (this.useIframe = !0),
                        (this.zIndex = 99999),
                        (this.left = null),
                        (this.width = 600),
                        (this.top = 20),
                        (this.height = 200),
                        (this.locale = null),
                        (this.closed = null),
                        (this.onClose = null),
                        (this.onClosed = null),
                        (this.onShow = null);
                    var t = this;
                    (this.id =
                        "_" + new Date().getTime() + "n" + 10 * Math.random()),
                        (this.Hf = !1),
                        (this.If = null),
                        (this.Jf = null),
                        (this.showHtml = function (e) {
                            if (DayPilot.ModalStatic.displayed(this))
                                throw "This modal dialog is already displayed.";
                            if (
                                (this.div || this.Kf(),
                                this.Lc(),
                                this.useIframe)
                            ) {
                                var t = function (e, t) {
                                    return function () {
                                        e.setInnerHTML(e.id + "iframe", t);
                                    };
                                };
                                window.setTimeout(t(this, e), 0);
                            } else
                                e.nodeType
                                    ? this.div.appendChild(e)
                                    : (this.div.innerHTML = e);
                            this.Lc(), this.Lf(), this.Mf();
                        }),
                        (this.showUrl = function (e) {
                            if (DayPilot.ModalStatic.displayed(this))
                                throw "This modal dialog is already displayed.";
                            if (this.useIframe) {
                                this.div || this.Kf();
                                var n = this.loadingHtml;
                                n &&
                                    ((this.iframe.src = "about:blank"),
                                    this.setInnerHTML(this.id + "iframe", n)),
                                    this.re(this.iframe, "load", this.Nf),
                                    (this.iframe.src = e),
                                    this.Lc(),
                                    this.Lf(),
                                    this.Mf();
                            } else
                                t.Of({
                                    url: e,
                                    success: function (e) {
                                        var n = e.request.responseText;
                                        t.showHtml(n);
                                    },
                                    error: function (e) {
                                        t.showHtml(
                                            "Error loading the modal dialog"
                                        );
                                    },
                                });
                        }),
                        (this.Mf = function () {
                            if ("function" == typeof t.onShow) {
                                var e = {};
                                (e.root = t.Pf()), (e.modal = t), t.onShow(e);
                            }
                        }),
                        (this.Pf = function () {
                            return t.iframe
                                ? t.iframe.contentWindow.document
                                : t.div;
                        }),
                        (this.Of = function (e) {
                            var t = new XMLHttpRequest();
                            if (t) {
                                var n = e.method || "GET",
                                    i = e.success || function () {},
                                    a = e.error || function () {},
                                    r = e.data,
                                    o = e.url;
                                t.open(n, o, !0),
                                    t.setRequestHeader(
                                        "Content-type",
                                        "text/plain"
                                    ),
                                    (t.onreadystatechange = function () {
                                        if (4 === t.readyState)
                                            if (
                                                200 === t.status ||
                                                304 === t.status
                                            ) {
                                                var e = {};
                                                (e.request = t), i(e);
                                            } else if (a) {
                                                var e = {};
                                                (e.request = t), a(e);
                                            } else
                                                window.console &&
                                                    console.log(
                                                        "HTTP error " + t.status
                                                    );
                                    }),
                                    4 !== t.readyState &&
                                        ("object" == typeof r &&
                                            (r = JSON.stringify(r)),
                                        t.send(r));
                            }
                        }),
                        (this.Lc = function () {
                            delete this.result;
                            var e = window,
                                n = document,
                                i = e.pageYOffset
                                    ? e.pageYOffset
                                    : n.documentElement &&
                                      n.documentElement.scrollTop
                                    ? n.documentElement.scrollTop
                                    : n.body.scrollTop;
                            this.theme &&
                                (this.hideDiv.className =
                                    this.theme + "_background"),
                                this.zIndex &&
                                    (this.hideDiv.style.zIndex = this.zIndex),
                                (this.hideDiv.style.display = ""),
                                window.setTimeout(function () {
                                    t.hideDiv &&
                                        (t.hideDiv.onclick = function () {
                                            t.hide({ backgroundClick: !0 });
                                        });
                                }, 500),
                                this.theme
                                    ? (this.div.className =
                                          this.theme + "_main")
                                    : (this.div.className = ""),
                                this.className &&
                                    (this.div.className +=
                                        " " + this.className),
                                this.left
                                    ? (this.div.style.left = this.left + "px")
                                    : (this.div.style.marginLeft =
                                          "-" +
                                          Math.floor(this.width / 2) +
                                          "px"),
                                (this.div.style.position = "absolute"),
                                (this.div.style.boxSizing = "content-box"),
                                (this.div.style.top = i + this.top + "px"),
                                (this.div.style.width = this.width + "px"),
                                this.zIndex &&
                                    (this.div.style.zIndex = this.zIndex),
                                this.height &&
                                    (this.useIframe || !this.autoStretch
                                        ? (this.div.style.height =
                                              this.height + "px")
                                        : (this.div.style.height = "")),
                                this.useIframe &&
                                    this.height &&
                                    (this.iframe.style.height =
                                        this.height + "px"),
                                (this.div.style.display = ""),
                                this.Rf(),
                                DayPilot.ModalStatic.remove(this),
                                DayPilot.ModalStatic.list.push(this);
                        }),
                        (this.Nf = function () {
                            (t.iframe.contentWindow.modal = t),
                                t.autoStretch && t.stretch();
                        }),
                        (this.stretch = function () {
                            var e = function () {
                                    return t.Qf().y;
                                },
                                n = function () {
                                    return t.Qf().x;
                                };
                            if (this.useIframe) {
                                for (
                                    var i = n() - 40, a = this.width;
                                    a < i && this.Sf();
                                    a += 10
                                )
                                    (this.div.style.width = a + "px"),
                                        (this.div.style.marginLeft =
                                            "-" + Math.floor(a / 2) + "px");
                                for (
                                    var r =
                                            this.maxHeight ||
                                            e() - 2 * this.top,
                                        o = this.height;
                                    o < r && this.Tf();
                                    o += 10
                                )
                                    (this.iframe.style.height = o + "px"),
                                        (this.div.style.height = o + "px");
                                this.autoStretchFirstLoadOnly &&
                                    this.ue(this.iframe, "load", this.Nf);
                            } else this.div.style.height = "";
                        }),
                        (this.Sf = function () {
                            for (
                                var e = this.iframe.contentWindow.document,
                                    t =
                                        "BackCompat" === e.compatMode
                                            ? e.body
                                            : e.documentElement,
                                    n = t.scrollWidth,
                                    i = e.body.children,
                                    a = 0;
                                a < i.length;
                                a++
                            ) {
                                var r = i[a].offsetLeft + i[a].offsetWidth;
                                n = Math.max(n, r);
                            }
                            return n > t.clientWidth;
                        }),
                        (this.Tf = function () {
                            for (
                                var e = this.iframe.contentWindow.document,
                                    t =
                                        "BackCompat" === e.compatMode
                                            ? e.body
                                            : e.documentElement,
                                    n = t.scrollHeight,
                                    i = e.body.children,
                                    a = 0;
                                a < i.length;
                                a++
                            ) {
                                var r = i[a].offsetTop + i[a].offsetHeight;
                                n = Math.max(n, r);
                            }
                            return n > t.clientHeight;
                        }),
                        (this.Qf = function () {
                            var e = document;
                            if (
                                "CSS1Compat" === e.compatMode &&
                                e.documentElement &&
                                e.documentElement.clientWidth
                            ) {
                                var t = e.documentElement.clientWidth,
                                    n = e.documentElement.clientHeight;
                                return { x: t, y: n };
                            }
                            var t = e.body.clientWidth,
                                n = e.body.clientHeight;
                            return { x: t, y: n };
                        }),
                        (this.Lf = function () {
                            this.Hf ||
                                (this.re(window, "resize", this.Uf),
                                this.re(window, "scroll", this.Vf),
                                this.dragDrop &&
                                    (this.re(document, "mousemove", this.Wf),
                                    this.re(document, "mouseup", this.Xf)),
                                (this.Hf = !0));
                        }),
                        (this.Yf = function () {
                            this.ue(window, "resize", this.Uf),
                                this.ue(window, "scroll", this.Vf),
                                this.dragDrop &&
                                    (this.ue(document, "mousemove", this.Wf),
                                    this.ue(document, "mouseup", this.Xf)),
                                (this.Hf = !1);
                        }),
                        (this.Zf = function (e) {
                            e.target === t.div &&
                                (e.preventDefault(),
                                (t.div.style.cursor = "move"),
                                t.$f(),
                                (t.Jf = t.mc(e || window.event)),
                                (t.If = {
                                    x: t.div.offsetLeft,
                                    y: t.div.offsetTop,
                                }));
                        }),
                        (this.Wf = function (e) {
                            if (t.Jf) {
                                var e = e || window.event,
                                    n = t.mc(e),
                                    i = n.x - t.Jf.x,
                                    a = n.y - t.Jf.y;
                                (t.div.style.marginLeft = "0px"),
                                    (t.div.style.top = t.If.y + a + "px"),
                                    (t.div.style.left = t.If.x + i + "px");
                            }
                        }),
                        (this.Xf = function (e) {
                            t.Jf &&
                                (t._f(),
                                (t.div.style.cursor = null),
                                (t.Jf = null));
                        }),
                        (this.$f = function () {
                            if (this.useIframe) {
                                var e = document.createElement("div");
                                (e.style.backgroundColor = "#ffffff"),
                                    (e.style.filter = "alpha(opacity=80)"),
                                    (e.style.opacity = "0.80"),
                                    (e.style.width = "100%"),
                                    (e.style.height = this.height + "px"),
                                    (e.style.position = "absolute"),
                                    (e.style.left = "0px"),
                                    (e.style.top = "0px"),
                                    this.div.appendChild(e),
                                    (this.mask = e);
                            }
                        }),
                        (this._f = function () {
                            this.useIframe &&
                                (this.div.removeChild(this.mask),
                                (this.mask = null));
                        }),
                        (this.Uf = function () {
                            t.ag(), t.Rf();
                        }),
                        (this.Vf = function () {
                            t.ag();
                        }),
                        (this.Rf = function () {
                            if (!t.left && t.div) {
                                var e = t.div.offsetWidth;
                                t.div.style.marginLeft =
                                    "-" + Math.floor(e / 2) + "px";
                            }
                        }),
                        (this.ag = function () {
                            if (
                                t.hideDiv &&
                                t.div &&
                                "none" !== t.hideDiv.style.display &&
                                "none" !== t.div.style.display
                            ) {
                                var e = t.bg.scrollY();
                                t.scrollWithPage ||
                                    (t.div.style.top = e + t.top + "px");
                            }
                        }),
                        (this.bg = {}),
                        (this.bg.container = function () {
                            return t.container || document.body;
                        }),
                        (this.bg.scrollY = function () {
                            var e = t.bg.container();
                            return e === document.body
                                ? window.pageYOffset
                                    ? window.pageYOffset
                                    : document.documentElement &&
                                      document.documentElement.scrollTop
                                    ? document.documentElement.scrollTop
                                    : document.body.scrollTop
                                : e.scrollTop;
                        }),
                        (this.re = function (e, t, n) {
                            e.addEventListener
                                ? e.addEventListener(t, n, !1)
                                : e.attachEvent && e.attachEvent("on" + t, n);
                        }),
                        (this.ue = function (e, t, n) {
                            e.removeEventListener
                                ? e.removeEventListener(t, n, !1)
                                : e.detachEvent && e.detachEvent("on" + t, n);
                        }),
                        (this.mc = function (e) {
                            return e.pageX || e.pageY
                                ? { x: e.pageX, y: e.pageY }
                                : {
                                      x:
                                          e.clientX +
                                          document.documentElement.scrollLeft,
                                      y:
                                          e.clientY +
                                          document.documentElement.scrollTop,
                                  };
                        }),
                        (this.abs = function (e) {
                            for (
                                var t = { x: e.offsetLeft, y: e.offsetTop };
                                e.offsetParent;

                            )
                                (e = e.offsetParent),
                                    (t.x += e.offsetLeft),
                                    (t.y += e.offsetTop);
                            return t;
                        }),
                        (this.Kf = function () {
                            var e = t.bg.container(),
                                n = e === document.body,
                                i = n ? "fixed" : "absolute",
                                a = document.createElement("div");
                            (a.id = this.id + "hide"),
                                (a.style.position = i),
                                (a.style.left = "0px"),
                                (a.style.top = "0px"),
                                (a.style.right = "0px"),
                                (a.style.bottom = "0px"),
                                (a.oncontextmenu = function () {
                                    return !1;
                                }),
                                (a.onmousedown = function () {
                                    return !1;
                                }),
                                e.appendChild(a);
                            var r = document.createElement("div");
                            (r.id = this.id + "popup"),
                                (r.style.position = i),
                                (r.style.left = "50%"),
                                (r.style.top = "0px"),
                                (r.style.backgroundColor = "white"),
                                (r.style.width = "50px"),
                                (r.style.height = "50px"),
                                this.dragDrop && (r.onmousedown = this.Zf),
                                r.addEventListener("keydown", function (e) {
                                    e.stopPropagation();
                                });
                            var o = null;
                            this.useIframe &&
                                ((o = document.createElement("iframe")),
                                (o.id = this.id + "iframe"),
                                (o.name = this.id + "iframe"),
                                (o.frameBorder = "0"),
                                (o.style.width = "100%"),
                                (o.style.height = "50px"),
                                r.appendChild(o)),
                                e.appendChild(r),
                                (this.div = r),
                                (this.iframe = o),
                                (this.hideDiv = a);
                        }),
                        (this.setInnerHTML = function (e, n) {
                            var i = window.frames[e],
                                a =
                                    i.contentWindow ||
                                    i.document ||
                                    i.contentDocument;
                            a.document && (a = a.document),
                                null == a.body && a.write("<body></body>"),
                                n.nodeType
                                    ? a.body.appendChild(n)
                                    : (a.body.innerHTML = n),
                                t.autoStretch &&
                                    ((t.autoStretchFirstLoadOnly && t.cg) ||
                                        (t.stretch(), (t.cg = !0)));
                        }),
                        (this.close = function (e) {
                            (this.result = e), this.hide();
                        }),
                        (this.closeSerialized = function () {
                            for (
                                var e = t.Pf(),
                                    n = e.querySelectorAll(
                                        "input, textarea, select"
                                    ),
                                    i = {},
                                    a = 0;
                                a < n.length;
                                a++
                            ) {
                                var r = n[a],
                                    o = r.name;
                                if (o) {
                                    var s = r.value;
                                    i[o] = s;
                                }
                            }
                            t.close(i);
                        }),
                        (this.hide = function (e) {
                            e = e || {};
                            var n = {};
                            (n.backgroundClick = !!e.backgroundClick),
                                (n.result = this.result),
                                (n.canceled =
                                    "undefined" == typeof this.result),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                ("function" == typeof this.onClose &&
                                    (this.onClose(n),
                                    n.preventDefault.value)) ||
                                    (this.div &&
                                        ((this.div.style.display = "none"),
                                        (this.hideDiv.style.display = "none"),
                                        this.useIframe ||
                                            (this.div.innerHTML = null)),
                                    window.focus(),
                                    DayPilot.ModalStatic.remove(this),
                                    "function" == typeof this.onClosed
                                        ? this.onClosed(n)
                                        : this.closed && this.closed(),
                                    delete this.result,
                                    this.disposeOnClose &&
                                        (t.Yf(),
                                        t.dg(t.div),
                                        t.dg(t.hideDiv),
                                        (t.div = null),
                                        (t.hideDiv = null),
                                        (t.iframe = null)));
                        }),
                        (this.dg = function (e) {
                            e && e.parentNode && e.parentNode.removeChild(e);
                        }),
                        (this.eg = function () {
                            if (e) for (var t in e) this[t] = e[t];
                        }),
                        this.eg();
                }),
                (DayPilot.Modal.alert = function (e, t) {
                    (t = t || {}),
                        (t.height = t.height || 40),
                        (t.useIframe = !1);
                    var n = t.okText || "OK";
                    t.cancelText || "Cancel";
                    return DayPilot.getPromise(function (i, a) {
                        t.onClosed = function (e) {
                            i(e);
                        };
                        var r = new DayPilot.Modal(t),
                            o = document.createElement("div");
                        o.className = r.theme + "_inner";
                        var s = document.createElement("div");
                        (s.className = r.theme + "_content"), (s.innerHTML = e);
                        var l = document.createElement("div");
                        l.className = r.theme + "_buttons";
                        var d = document.createElement("button");
                        (d.innerText = n),
                            (d.className = r.theme + "_ok"),
                            (d.onclick = function (e) {
                                DayPilot.ModalStatic.close("OK");
                            }),
                            l.appendChild(d),
                            o.appendChild(s),
                            o.appendChild(l),
                            r.showHtml(o),
                            r.autoFocus && d.focus();
                    });
                }),
                (DayPilot.Modal.confirm = function (e, t) {
                    (t = t || {}),
                        (t.height = t.height || 40),
                        (t.useIframe = !1);
                    var n = t.okText || "OK",
                        i = t.cancelText || "Cancel";
                    return DayPilot.getPromise(function (a, r) {
                        t.onClosed = function (e) {
                            a(e);
                        };
                        var o = new DayPilot.Modal(t),
                            s = document.createElement("div");
                        s.className = o.theme + "_inner";
                        var l = document.createElement("div");
                        (l.className = o.theme + "_content"), (l.innerHTML = e);
                        var d = document.createElement("div");
                        d.className = o.theme + "_buttons";
                        var c = document.createElement("button");
                        (c.innerText = n),
                            (c.className = o.theme + "_ok"),
                            (c.onclick = function (e) {
                                DayPilot.ModalStatic.close("OK");
                            });
                        var u = document.createTextNode(" "),
                            h = document.createElement("button");
                        (h.innerText = i),
                            (h.className = o.theme + "_cancel"),
                            (h.onclick = function (e) {
                                DayPilot.ModalStatic.close();
                            }),
                            d.appendChild(c),
                            d.appendChild(u),
                            d.appendChild(h),
                            s.appendChild(l),
                            s.appendChild(d),
                            o.showHtml(s),
                            o.autoFocus && c.focus();
                    });
                }),
                (DayPilot.Modal.prompt = function (e, t, n) {
                    "object" == typeof t && ((n = t), (t = "")),
                        (n = n || {}),
                        (n.height = n.height || 40),
                        (n.useIframe = !1);
                    var i = n.okText || "OK",
                        a = n.cancelText || "Cancel",
                        r = t || "";
                    return DayPilot.getPromise(function (t, o) {
                        n.onClosed = function (e) {
                            t(e);
                        };
                        var s = new DayPilot.Modal(n),
                            l = document.createElement("div");
                        l.className = s.theme + "_inner";
                        var d = document.createElement("div");
                        (d.className = s.theme + "_content"), (d.innerHTML = e);
                        var c = document.createElement("div");
                        c.className = s.theme + "_input";
                        var u = document.createElement("input");
                        (u.value = r),
                            (u.style.width = "100%"),
                            (u.onkeydown = function (e) {
                                var t = !1;
                                switch (e.keyCode) {
                                    case 13:
                                        s.close(this.value);
                                        break;
                                    case 27:
                                        s.close();
                                        break;
                                    default:
                                        t = !0;
                                }
                                t || (e.preventDefault(), e.stopPropagation());
                            }),
                            c.appendChild(u);
                        var h = document.createElement("div");
                        h.className = s.theme + "_buttons";
                        var f = document.createElement("button");
                        (f.innerText = i),
                            (f.className = s.theme + "_ok"),
                            (f.onclick = function (e) {
                                s.close(u.value);
                            });
                        var v = document.createTextNode(" "),
                            p = document.createElement("button");
                        (p.innerText = a),
                            (p.className = s.theme + "_cancel"),
                            (p.onclick = function (e) {
                                s.close();
                            }),
                            h.appendChild(f),
                            h.appendChild(v),
                            h.appendChild(p),
                            l.appendChild(d),
                            l.appendChild(c),
                            l.appendChild(h),
                            s.showHtml(l),
                            s.autoFocus && u.focus();
                    });
                });
            var r = function (e) {
                return "[object Array]" === Object.prototype.toString.call(e);
            };
            (DayPilot.Modal.form = function (t, n, i) {
                if (1 === arguments.length) {
                    var a = t;
                    if (r(a)) n = {};
                    else {
                        if ("object" != typeof a)
                            throw "Invalid DayPilot.Modal.form() parameter";
                        (n = t), (t = []);
                        for (var s in n) {
                            var l = {};
                            (l.name = s), (l.id = s), t.push(l);
                        }
                    }
                }
                var d = {};
                for (var s in i) d[s] = i[s];
                (d.height = d.height || 40), (d.useIframe = !1);
                var c = d.okText || "OK",
                    u = d.cancelText || "Cancel";
                return DayPilot.getPromise(function (i, a) {
                    d.onClosed = function (t) {
                        if (t.result) {
                            var a = JSON.parse(JSON.stringify(n));
                            for (var r in t.result) e(a, r, t.result[r]);
                            t.result = a;
                        }
                        i(t);
                    };
                    var r = new DayPilot.Modal(d),
                        s = document.createElement("div");
                    s.className = r.theme + "_inner";
                    var l = document.createElement("div");
                    l.className = r.theme + "_input";
                    var h = new o({
                            theme: r.theme,
                            form: t,
                            data: n,
                            zIndex: r.zIndex,
                            locale: r.locale,
                            plugins: r.plugins,
                            onKey: function (e) {
                                switch (e.key) {
                                    case "Enter":
                                        h.validate() && r.close(h.serialize());
                                        break;
                                    case "Escape":
                                        r.close();
                                }
                            },
                            onChange: function (e) {
                                "function" == typeof r.onChange &&
                                    r.onChange(e);
                            },
                        }),
                        f = h.create();
                    l.append(f);
                    var v = document.createElement("div");
                    v.className = r.theme + "_buttons";
                    var p = document.createElement("button");
                    (p.innerText = c),
                        (p.className = r.theme + "_ok"),
                        d.okDisabled && (p.disabled = !0),
                        (p.onclick = function (e) {
                            h.validate() && r.close(h.serialize());
                        });
                    var m = document.createTextNode(" "),
                        g = document.createElement("button");
                    if (
                        ((g.innerText = u),
                        (g.className = r.theme + "_cancel"),
                        (g.onclick = function (e) {
                            r.close();
                        }),
                        (g.onmousedown = function (e) {
                            h.canceling = !0;
                        }),
                        v.appendChild(p),
                        v.appendChild(m),
                        v.appendChild(g),
                        s.appendChild(l),
                        s.appendChild(v),
                        r.showHtml(s),
                        r.div.setAttribute("tabindex", "-1"),
                        r.div.addEventListener("keydown", function (e) {
                            switch (e.keyCode) {
                                case 27:
                                    r.close();
                                    break;
                                case 13:
                                    h.validate() && r.close(h.serialize());
                            }
                        }),
                        r.focus)
                    ) {
                        var b = null;
                        if ("object" == typeof r.focus) {
                            var y = r.focus.id,
                                w = r.focus.value;
                            b = h.findViewById(y, w);
                        } else
                            "string" == typeof r.focus &&
                                (b = h.findViewById(r.focus));
                        b && b.focus();
                    } else {
                        var x = h.firstFocusable();
                        r.autoFocus && x ? x.focus() : r.div.focus();
                    }
                });
            }),
                (DayPilot.Modal.close = function (e) {
                    var t = DayPilot.Modal.opener();
                    t && t.close(e);
                }),
                (DayPilot.Modal.stretch = function (e) {
                    var t = DayPilot.Modal.opener();
                    if (!t)
                        throw "Unable to find the opener DayPilot.Modal instance.";
                    t.stretch();
                }),
                (DayPilot.Modal.closeSerialized = function () {
                    var e =
                        DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
                    e && e.closeSerialized();
                }),
                (DayPilot.Modal.opener = function () {
                    return "undefined" != typeof DayPilot &&
                        "undefined" != typeof DayPilot.ModalStatic &&
                        DayPilot.ModalStatic.list.length > 0
                        ? DayPilot.ModalStatic.list[
                              DayPilot.ModalStatic.list.length - 1
                          ]
                        : parent &&
                              parent.DayPilot &&
                              parent.DayPilot.ModalStatic &&
                              parent.DayPilot.ModalStatic.list[
                                  parent.DayPilot.ModalStatic.list.length - 1
                              ];
                }),
                (DayPilot.Modal.Experimental = {}),
                (DayPilot.Modal.Experimental.Form = o),
                "undefined" == typeof DayPilot.getPromise &&
                    (DayPilot.getPromise = function (e) {
                        return "undefined" != typeof Promise
                            ? new Promise(e)
                            : ((DayPilot.Promise = function (e) {
                                  var t = this;
                                  (this.then = function (t, n) {
                                      return (
                                          (t = t || function () {}),
                                          (n = n || function () {}),
                                          e(t, n),
                                          DayPilot.getPromise(e)
                                      );
                                  }),
                                      (this["catch"] = function (n) {
                                          return (
                                              t.then(null, n),
                                              DayPilot.getPromise(e)
                                          );
                                      });
                              }),
                              new DayPilot.Promise(e));
                    });
            var o = function (e) {
                (this.form = []),
                    (this.data = {}),
                    (this.theme = "form_default"),
                    (this.zIndex = 99999),
                    (this.locale = "en-us"),
                    (this.plugins = {}),
                    (this.onKey = null),
                    (this.fg = []),
                    (this.gg = null),
                    (this.canceling = !1),
                    (this.hg = []),
                    (this.ig = []),
                    (this.c = null),
                    (e = e || {});
                for (var t in e) this[t] = e[t];
            };
            (o.prototype.create = function () {
                return this.load(), this.render(), this.c;
            }),
                (o.prototype.render = function () {
                    var e = this;
                    (this.c = document.createElement("div")),
                        this.fg.forEach(function (t) {
                            e.createView(t);
                        }),
                        this.applyState();
                }),
                (o.prototype.createView = function (e) {
                    var t = this.theme,
                        n = this,
                        i = document.createElement("div");
                    if (
                        ((i.className =
                            t +
                            "_form_item " +
                            t +
                            "_form_item_level" +
                            e.level),
                        e.interactive || "title" !== e.type
                            ? (i.className += " " + t + "_form_item_" + e.type)
                            : (i.className += " " + t + "_form_title"),
                        e.data.cssClass &&
                            (i.className += " " + e.data.cssClass),
                        !e.isValue)
                    ) {
                        var a = document.createElement("div");
                        (a.className = t + "_form_item_label"),
                            (a.innerText = e.text),
                            i.appendChild(a);
                    }
                    var r = this.createInteractive(e);
                    (r.onInput = function (e) {
                        if (
                            ((e = e || {}),
                            n.jg(r, { debounce: !e.immediate }),
                            "function" == typeof n.onChange)
                        ) {
                            var t = {};
                            (t.result = n.serialize()), n.onChange(t);
                        }
                    }),
                        (r.onBlur = function () {
                            n.canceling || n.jg(r);
                        }),
                        r.apply(e),
                        (r.c = i),
                        (r.row = e),
                        r.element && i.appendChild(r.element),
                        this.ig.push(r),
                        this.c.appendChild(i);
                }),
                (o.prototype.validate = function () {
                    var e = this,
                        t = !0;
                    return (
                        this.ig.forEach(function (n) {
                            var i = e.jg(n);
                            t = t && i;
                        }),
                        t
                    );
                }),
                (o.prototype.jg = function (e, t) {
                    function n() {
                        e.kg && (e.kg.remove(), (e.kg = null)),
                            e.c.classList.add(u);
                        var t = document.createElement("div");
                        t.classList.add(h),
                            (t.innerText = c.message),
                            (e.kg = t),
                            e.c.appendChild(t);
                    }
                    t = t || {};
                    var i = t.debounce,
                        a = t.silent,
                        r = e.row,
                        o = !0,
                        s =
                            "function" == typeof r.data.onValidate
                                ? r.data.onValidate
                                : null,
                        l =
                            "function" == typeof r.data.validate
                                ? r.data.validate
                                : null,
                        d = s || l;
                    if (d) {
                        var c = {};
                        (c.valid = !0),
                            (c.value = e.save()[r.field]),
                            (c.message = "Error"),
                            (c.values = this.serialize()),
                            (c.result = this.serialize()),
                            d(c);
                        var u = this.theme + "_form_item_invalid",
                            h = this.theme + "_form_item_invalid_message";
                        if (c.valid)
                            clearTimeout(this.hg[r.field]),
                                e.kg && (e.kg.remove(), (e.kg = null)),
                                e.c.classList.remove(u);
                        else if (!a)
                            if (i) {
                                var f = 1e3;
                                clearTimeout(this.hg[r.field]),
                                    (this.hg[r.field] = setTimeout(function () {
                                        n();
                                    }, f));
                            } else n();
                        o = c.valid;
                    }
                    return o;
                }),
                (o.prototype.load = function () {
                    var e = this;
                    this.form.forEach(function (t) {
                        e.processFormItem(t, 0);
                    });
                    var n;
                    try {
                        var i = JSON.stringify(this.data);
                        n = t(JSON.parse(i));
                    } catch (e) {
                        throw new Error(
                            "The 'data' object is not serializable (it may contain circular dependencies): " +
                                e
                        );
                    }
                    for (var a in n) this.setValue(a, n[a]);
                }),
                (o.prototype.setValue = function (e, t) {
                    this.fg.forEach(function (n) {
                        n.applyValue(e, t);
                    });
                }),
                (o.prototype.updateDependentState = function () {
                    var e = this,
                        t = [!0];
                    (this.gg ? this.gg : this.fg).forEach(function (n) {
                        var i = e.updateState(n, {
                            enabled: t[n.level] && !n.data.disabled,
                        });
                        i.isValue && (t[i.level + 1] = i.enabled && i.checked);
                    });
                }),
                (o.prototype.processFormItem = function (e, t) {
                    var n = this,
                        i = this.getFieldType(e),
                        a = [];
                    if ("radio" === i) {
                        if (e.name) {
                            var r = new s();
                            (r.field = e.id),
                                (r.data = e),
                                (r.level = t),
                                (r.type = "label"),
                                (r.interactive = !1),
                                (r.text = e.name),
                                n.fg.push(r),
                                a.push(r);
                        }
                        e.options.forEach(function (r) {
                            var o = new s();
                            (o.field = e.id),
                                (o.data = r),
                                (o.level = t),
                                (o.type = i),
                                (o.isValue = !0),
                                (o.text = r.name),
                                (o.resolved = r.id),
                                n.fg.push(o),
                                a.push(o),
                                r.children &&
                                    r.children.forEach(function (e) {
                                        var i = n.processFormItem(e, t + 1);
                                        a = a.concat(i);
                                    });
                        });
                    } else if ("title" === i) {
                        var r = new s();
                        (r.field = e.id),
                            (r.data = e),
                            (r.level = t),
                            (r.type = i),
                            (r.interactive = !1),
                            (r.text = e.name),
                            n.fg.push(r),
                            a.push(r);
                    } else if ("image" === i) {
                        var r = new s();
                        (r.isValue = !0),
                            (r.field = e.id),
                            (r.data = e),
                            (r.level = t),
                            (r.type = i),
                            (r.interactive = !1),
                            (r.text = null),
                            n.fg.push(r),
                            a.push(r);
                    } else if ("html" === i) {
                        var r = new s();
                        (r.isValue = !0),
                            (r.field = e.id),
                            (r.data = e),
                            (r.level = t),
                            (r.type = i),
                            (r.interactive = !1),
                            (r.text = null),
                            n.fg.push(r),
                            a.push(r);
                    } else if ("scrollable" === i) {
                        var r = new s();
                        (r.isValue = !0),
                            (r.field = e.id),
                            (r.data = e),
                            (r.level = t),
                            (r.type = i),
                            (r.interactive = !1),
                            (r.text = null),
                            n.fg.push(r),
                            a.push(r);
                    } else {
                        var r = new s();
                        (r.field = e.id),
                            (r.data = e),
                            (r.level = t),
                            (r.type = i),
                            (r.text = e.name),
                            (r.children = []),
                            n.fg.push(r),
                            a.push(r);
                    }
                    return (
                        "checkbox" === i &&
                            ((r.isValue = !0),
                            (r.resolved = !0),
                            e.children &&
                                e.children.forEach(function (e) {
                                    var i = n.processFormItem(e, t + 1);
                                    a = a.concat(i);
                                })),
                        a
                    );
                }),
                (o.prototype.doOnKey = function (e) {
                    if ("function" == typeof this.onKey) {
                        var t = { key: e };
                        this.onKey(t);
                    }
                }),
                (o.prototype.createInteractive = function (e) {
                    var t = this,
                        n = {
                            label: function () {
                                return new l();
                            },
                            title: function () {
                                return new l();
                            },
                            image: function () {
                                var t = new l(),
                                    n = document.createElement("img");
                                return (
                                    (n.src = e.data.image), (t.element = n), t
                                );
                            },
                            html: function () {
                                var t = new l(),
                                    n = document.createElement("div");
                                return (
                                    "string" == typeof e.data.text
                                        ? (n.innerText = e.data.text)
                                        : "string" == typeof e.data.html &&
                                          (n.innerHTML = e.data.html),
                                    (t.element = n),
                                    t
                                );
                            },
                            scrollable: function () {
                                var n = new l(),
                                    i = document.createElement("div");
                                (i.className =
                                    t.theme + "_form_item_scrollable_scroll"),
                                    e.data.height &&
                                        (i.style.height = e.data.height + "px");
                                var a = document.createElement("div");
                                return (
                                    (a.className =
                                        t.theme +
                                        "_form_item_scrollable_scroll_content"),
                                    "string" == typeof e.data.text
                                        ? (a.innerText = e.data.text)
                                        : "string" == typeof e.data.html &&
                                          (a.innerHTML = e.data.html),
                                    i.appendChild(a),
                                    (n.element = i),
                                    n
                                );
                            },
                            text: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.element;
                                    (t.value = e.value),
                                        (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("input");
                                return (
                                    (i.name = e.field),
                                    (i.type = "text"),
                                    (i.autocomplete = "off"),
                                    (i.onkeydown = function (e) {
                                        var n = !1;
                                        switch (e.keyCode) {
                                            case 13:
                                                t.doOnKey("Enter");
                                                break;
                                            case 27:
                                                t.doOnKey("Escape");
                                                break;
                                            default:
                                                n = !0;
                                        }
                                        n ||
                                            (e.preventDefault(),
                                            e.stopPropagation());
                                    }),
                                    (i.oninput = function (e) {
                                        n.onInput();
                                    }),
                                    (i.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    (n.element = i),
                                    (n.canFocus = function () {
                                        return !n.element.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.element.focus(),
                                            n.element.setSelectionRange(
                                                0,
                                                n.element.value.length
                                            );
                                    }),
                                    (n.save = function () {
                                        var t = {};
                                        return (t[e.field] = i.value), t;
                                    }),
                                    n
                                );
                            },
                            textarea: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.element;
                                    (t.value = e.value),
                                        (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("textarea");
                                return (
                                    (i.name = e.field),
                                    e.data.height &&
                                        (i.style.height = e.data.height + "px"),
                                    (i.onkeydown = function (e) {
                                        var n = !1;
                                        switch (e.keyCode) {
                                            case 13:
                                                (e.ctrlKey || e.metaKey) &&
                                                    t.doOnKey("Enter"),
                                                    (n = !1);
                                                break;
                                            case 27:
                                                t.doOnKey("Escape");
                                                break;
                                            default:
                                                n = !0;
                                        }
                                        n || e.stopPropagation();
                                    }),
                                    (i.oninput = function (e) {
                                        n.onInput();
                                    }),
                                    (i.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    (n.element = i),
                                    (n.canFocus = function () {
                                        return !n.element.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.element.focus(),
                                            n.element.setSelectionRange(0, 0);
                                    }),
                                    (n.save = function () {
                                        var t = {};
                                        return (t[e.field] = i.value), t;
                                    }),
                                    n
                                );
                            },
                            date: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var i = n.element,
                                        a = n.picker;
                                    e.data.dateFormat &&
                                        (a.pattern = e.data.dateFormat);
                                    var r = e.data.locale || t.locale;
                                    r && (a.locale = r),
                                        (i.disabled = !e.enabled),
                                        (a.date = new DayPilot.Date(e.value));
                                    var o = new DayPilot.Date(e.value).toString(
                                        e.data.dateFormat || a.pattern,
                                        a.locale
                                    );
                                    i.value = o;
                                };
                                var i = document.createElement("input");
                                i.name = e.field;
                                var a = new DayPilot.DatePicker({
                                    target: i,
                                    theme: "navigator_modal",
                                    zIndex: t.zIndex + 1,
                                    resetTarget: !1,
                                    targetAlignment: "left",
                                    onTimeRangeSelect: function (e) {
                                        n.onInput({ immediate: !0 });
                                    },
                                });
                                return (
                                    (i.picker = a),
                                    (i.className = t.theme + "_input_date"),
                                    (i.type = "text"),
                                    (i.onkeydown = function (e) {
                                        var n = !1;
                                        switch (e.keyCode) {
                                            case 13:
                                                a.visible
                                                    ? a.close()
                                                    : t.doOnKey("Enter");
                                                break;
                                            case 27:
                                                a.visible
                                                    ? a.close()
                                                    : t.doOnKey("Escape");
                                                break;
                                            case 9:
                                                a.close(), (n = !0);
                                                break;
                                            default:
                                                n = !0;
                                        }
                                        n ||
                                            (e.preventDefault(),
                                            e.stopPropagation());
                                    }),
                                    (i.onfocus = function () {
                                        a.show();
                                    }),
                                    (i.onclick = function () {
                                        a.show();
                                    }),
                                    (i.oninput = function (e) {
                                        n.onInput();
                                    }),
                                    (i.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    (n.element = i),
                                    (n.picker = a),
                                    (n.canFocus = function () {
                                        return !n.element.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.element.focus();
                                    }),
                                    (n.save = function () {
                                        var t = a.date
                                                ? a.date.toString()
                                                : null,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            time: function () {
                                return t.lg(e);
                            },
                            datetime: function () {
                                return t.mg(e);
                            },
                            select: function () {
                                var t = new l();
                                t.apply = function (e) {
                                    t.row = e;
                                    var n = t.element;
                                    (n.value = e.value),
                                        (n.disabled = !e.enabled);
                                };
                                var n = document.createElement("select");
                                return (
                                    (n.name = e.field),
                                    e.data.options &&
                                        e.data.options.forEach &&
                                        e.data.options.forEach(function (e) {
                                            var t =
                                                document.createElement(
                                                    "option"
                                                );
                                            (t.innerText = e.name || e.id),
                                                (t.value = e.id),
                                                (t.ng = e.id),
                                                n.appendChild(t);
                                        }),
                                    (n.onchange = function (e) {
                                        t.onInput({ immediate: !0 });
                                    }),
                                    (n.onblur = function (e) {
                                        t.onBlur();
                                    }),
                                    (t.element = n),
                                    (t.canFocus = function () {
                                        return !t.element.disabled;
                                    }),
                                    (t.focus = function () {
                                        t.element.focus();
                                    }),
                                    (t.save = function () {
                                        var t = null,
                                            i = n.options[n.selectedIndex];
                                        i &&
                                            "undefined" != typeof i.ng &&
                                            (t = i.ng);
                                        var a = {};
                                        return (a[e.field] = t), a;
                                    }),
                                    t
                                );
                            },
                            searchable: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.searchable;
                                    (t.disabled = !e.enabled),
                                        t.select(e.value);
                                };
                                var i = new d({
                                        data: e.data.options || [],
                                        name: e.field,
                                        theme:
                                            t.theme + "_form_item_searchable",
                                        listZIndex: t.zIndex + 1,
                                        onSelect: function (e) {
                                            e.ui &&
                                                n.onInput({ immediate: !0 });
                                        },
                                    }),
                                    a = i.create();
                                return (
                                    (n.element = a),
                                    (n.searchable = i),
                                    (n.canFocus = function () {
                                        return !n.searchable.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.searchable.focus();
                                    }),
                                    (n.save = function () {
                                        var t = i.selected && i.selected.id,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            radio: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.radio;
                                    (t.checked = e.checked),
                                        (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("label"),
                                    a = document.createElement("input");
                                (a.type = "radio"),
                                    (a.name = e.field),
                                    (a.ng = e.resolved),
                                    (a.onchange = function (e) {
                                        var i = n.row;
                                        t
                                            .findRowsByField(i.field)
                                            .forEach(function (e) {
                                                t.updateState(e, {
                                                    checked: !1,
                                                });
                                            }),
                                            t.updateState(i, { checked: !0 }),
                                            t.applyState(),
                                            n.onInput({ immediate: !0 });
                                    }),
                                    (a.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    i.appendChild(a);
                                var r = document.createTextNode(e.text);
                                return (
                                    i.append(r),
                                    (n.element = i),
                                    (n.radio = a),
                                    (n.canFocus = function () {
                                        return !1;
                                    }),
                                    (n.focus = function () {
                                        n.radio.focus();
                                    }),
                                    (n.save = function () {
                                        if (!a.checked) return {};
                                        var t = a.ng,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            checkbox: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.checkbox;
                                    (t.checked = e.checked),
                                        (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("label"),
                                    a = document.createElement("input");
                                (a.type = "checkbox"),
                                    (a.name = e.field),
                                    (a.ng = e.resolved),
                                    (a.onchange = function (e) {
                                        var i = n.row;
                                        t.updateState(i, {
                                            checked: this.checked,
                                        }),
                                            t.applyState(),
                                            n.onInput({ immediate: !0 });
                                    }),
                                    (a.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    i.appendChild(a);
                                var r = document.createTextNode(e.text);
                                return (
                                    i.append(r),
                                    (n.element = i),
                                    (n.checkbox = a),
                                    (n.canFocus = function () {
                                        return !1;
                                    }),
                                    (n.focus = function () {
                                        n.checkbox.focus();
                                    }),
                                    (n.save = function () {
                                        var t = a.checked,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            table: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.table;
                                    (t.disabled = !e.enabled),
                                        t.load(e.value || []);
                                };
                                var i = new c({
                                        name: e.field,
                                        form: t,
                                        theme: t.theme + "_form_item_tabular",
                                        item: e.data,
                                        onInput: function (e) {
                                            n.onInput();
                                        },
                                    }),
                                    a = i.create();
                                return (
                                    (n.element = a),
                                    (n.table = i),
                                    (n.canFocus = function () {
                                        return !1;
                                    }),
                                    (n.focus = function () {
                                        n.table.focus();
                                    }),
                                    (n.save = function () {
                                        var t = i.save(),
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                        };
                    return t.plugins && t.plugins[e.type]
                        ? t.plugins[e.type](e)
                        : n[e.type]();
                }),
                (o.prototype.lg = function (e) {
                    var t = this,
                        n = new l();
                    n.apply = function (e) {
                        n.row = e;
                        var t = n.searchable;
                        (t.disabled = !e.enabled), t.select(e.value);
                    };
                    var i = [],
                        a = e.data.timeInterval || 15;
                    [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
                    for (
                        var r = 60 / a,
                            o = e.data.locale || t.locale,
                            s = DayPilot.Locale.find(o) || DayPilot.Locale.US,
                            c = DayPilot.Date.today(),
                            u = 0;
                        u < 24 * r;
                        u++
                    ) {
                        var h = c.addMinutes(a * u),
                            f = {};
                        (f.name = h.toString(
                            e.data.timeFormat || s.timePattern,
                            s
                        )),
                            (f.id = h.toString("HH:mm")),
                            i.push(f);
                    }
                    var v = new d({
                            data: i,
                            name: e.field,
                            theme: t.theme + "_form_item_time",
                            listZIndex: t.zIndex + 1,
                            strategy: "startsWith",
                            onSelect: function (e) {
                                e.ui && n.onInput({ immediate: !0 });
                            },
                        }),
                        p = v.create();
                    return (
                        (n.element = p),
                        (n.searchable = v),
                        (n.canFocus = function () {
                            return !n.searchable.disabled;
                        }),
                        (n.focus = function () {
                            n.searchable.focus();
                        }),
                        (n.save = function () {
                            var t = v.selected && v.selected.id,
                                n = {};
                            return (n[e.field] = t), n;
                        }),
                        n
                    );
                }),
                (o.prototype.mg = function (e) {
                    var t = this,
                        n = new l();
                    n.apply = function (e) {
                        n.row = e;
                        var i = n.searchable;
                        i.disabled = !e.enabled;
                        var a = new DayPilot.Date(e.value).toString("HH:mm");
                        i.select(a);
                        var r = n.dateInput,
                            o = n.picker;
                        e.data.dateFormat && (o.pattern = e.data.dateFormat);
                        var s = e.data.locale || t.locale;
                        if (s) {
                            var l =
                                DayPilot.Locale.find(s) || DayPilot.Locale.US;
                            (o.locale = s), (o.pattern = l.datePattern);
                        }
                        (r.disabled = !e.enabled),
                            (o.date = new DayPilot.Date(e.value));
                        var d = new DayPilot.Date(e.value).toString(
                            e.data.dateFormat || o.pattern,
                            o.locale
                        );
                        r.value = d;
                    };
                    var i = (function () {
                            var i = document.createElement("input");
                            i.name = e.field;
                            var a = new DayPilot.DatePicker({
                                target: i,
                                theme: "navigator_modal",
                                zIndex: t.zIndex + 1,
                                resetTarget: !1,
                                targetAlignment: "left",
                                onTimeRangeSelect: function (e) {
                                    n.onInput({ immediate: !0 });
                                },
                            });
                            return (
                                (i.picker = a),
                                (i.className = t.theme + "_input_date"),
                                (i.type = "text"),
                                (i.onkeydown = function (e) {
                                    var n = !1;
                                    switch (e.keyCode) {
                                        case 13:
                                            a.visible
                                                ? a.close()
                                                : t.doOnKey("Enter");
                                            break;
                                        case 27:
                                            a.visible
                                                ? a.close()
                                                : t.doOnKey("Escape");
                                            break;
                                        case 9:
                                            a.close(), (n = !0);
                                            break;
                                        default:
                                            n = !0;
                                    }
                                    n ||
                                        (e.preventDefault(),
                                        e.stopPropagation());
                                }),
                                (i.onfocus = function () {
                                    a.show();
                                }),
                                (i.onclick = function () {
                                    a.show();
                                }),
                                (i.oninput = function (e) {
                                    n.onInput();
                                }),
                                (i.onblur = function (e) {
                                    n.onBlur();
                                }),
                                (n.dateInput = i),
                                (n.picker = a),
                                i
                            );
                        })(),
                        a = (function () {
                            var i = [],
                                a = e.data.timeInterval || 15;
                            [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
                            for (
                                var r = 60 / a,
                                    o = e.data.locale || t.locale,
                                    s =
                                        DayPilot.Locale.find(o) ||
                                        DayPilot.Locale.US,
                                    l = DayPilot.Date.today(),
                                    c = 0;
                                c < 24 * r;
                                c++
                            ) {
                                var u = l.addMinutes(a * c),
                                    h = {};
                                (h.name = u.toString(
                                    e.data.timeFormat || s.timePattern,
                                    s
                                )),
                                    (h.id = u.toString("HH:mm")),
                                    i.push(h);
                            }
                            var f = new d({
                                data: i,
                                name: e.field,
                                theme: t.theme + "_form_item_time",
                                listZIndex: t.zIndex + 1,
                                strategy: "startsWith",
                                onSelect: function (e) {
                                    e.ui && n.onInput({ immediate: !0 });
                                },
                            });
                            return (n.searchable = f), f.create();
                        })(),
                        r = document.createElement("div");
                    return (
                        (r.className = t.theme + "_form_item_datetime_parent"),
                        r.appendChild(i),
                        r.appendChild(a),
                        (n.element = r),
                        (n.canFocus = function () {
                            return !n.searchable.disabled;
                        }),
                        (n.focus = function () {
                            n.dateInput.focus();
                        }),
                        (n.save = function () {
                            var t =
                                    n.searchable.selected &&
                                    n.searchable.selected.id,
                                i = n.picker.date
                                    ? n.picker.date.toString()
                                    : null,
                                a = new DayPilot.Date(i).getDatePart(),
                                r = DayPilot.Date.parse(
                                    a.toString("yyyy-dd-MM ") + t,
                                    "yyyy-dd-MM HH:mm"
                                ),
                                o = {};
                            return (o[e.field] = r), o;
                        }),
                        n
                    );
                }),
                (o.prototype.findRowsByField = function (e) {
                    return this.fg.filter(function (t) {
                        return t.field === e;
                    });
                }),
                (o.prototype.findViewById = function (e, t) {
                    return this.ig.find(function (n) {
                        return (
                            n.row.field === e &&
                            ("radio" !== n.row.type || n.row.resolved === t)
                        );
                    });
                }),
                (o.prototype.firstFocusable = function () {
                    return this.ig.find(function (e) {
                        return e.canFocus && e.canFocus();
                    });
                }),
                (o.prototype.updateState = function (e, t) {
                    var n = this.gg ? this.gg : this.fg,
                        i = n.indexOf(e);
                    return (
                        (this.gg = n.map(function (n) {
                            if (n !== e) return n;
                            if (e.propsEqual(t)) return e;
                            var i = e.clone();
                            for (var a in t) i[a] = t[a];
                            return i;
                        })),
                        this.gg[i]
                    );
                }),
                (o.prototype.updateInteractive = function (e) {
                    var t = this.gg.indexOf(e);
                    this.ig[t].apply(e);
                }),
                (o.prototype.applyState = function () {
                    var e = this;
                    if ((this.updateDependentState(), this.gg)) {
                        this.gg
                            .filter(function (t, n) {
                                return e.fg[n] !== t;
                            })
                            .forEach(function (t) {
                                e.updateInteractive(t);
                            }),
                            (this.fg = this.gg),
                            (this.gg = null);
                    }
                }),
                (o.prototype.getFieldType = function (e) {
                    return [
                        "text",
                        "date",
                        "select",
                        "searchable",
                        "radio",
                        "checkbox",
                        "table",
                        "title",
                        "image",
                        "html",
                        "textarea",
                        "scrollable",
                        "time",
                        "datetime",
                    ].indexOf(e.type) !== -1
                        ? e.type
                        : e.type && this.plugins && this.plugins[e.type]
                        ? e.type
                        : e.image
                        ? "image"
                        : e.html || e.text
                        ? "html"
                        : e.id
                        ? e.options
                            ? "searchable"
                            : e.dateFormat
                            ? "date"
                            : e.columns
                            ? "table"
                            : "text"
                        : "title";
                }),
                (o.prototype.serialize = function () {
                    var e = {};
                    return (
                        this.ig.forEach(function (t) {
                            var n = t.save();
                            for (var i in n) e[i] = n[i];
                        }),
                        e
                    );
                });
            var s = function () {
                (this.id = this.guid()),
                    (this.field = null),
                    (this.data = null),
                    (this.type = null),
                    (this.level = 0),
                    (this.enabled = !0),
                    (this.value = null),
                    (this.text = null),
                    (this.interactive = !0),
                    (this.isValue = !1),
                    (this.checked = !1),
                    (this.resolved = null);
            };
            (s.prototype.clone = function () {
                var e = new s();
                for (var t in this) "id" !== t && (e[t] = this[t]);
                return e;
            }),
                (s.prototype.propsEqual = function (e) {
                    for (var t in e) if (this[t] !== e[t]) return !1;
                    return !0;
                }),
                (s.prototype.guid = function () {
                    var e = function () {
                        return ((65536 * (1 + Math.random())) | 0)
                            .toString(16)
                            .substring(1);
                    };
                    return (
                        "" +
                        e() +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        e() +
                        e()
                    );
                }),
                (s.prototype.applyValue = function (e, t) {
                    this.field === e &&
                        ((this.value = t),
                        this.isValue &&
                            t === this.resolved &&
                            (this.checked = !0));
                });
            var l = function () {
                    (this.element = null),
                        (this.canFocus = function () {
                            return !1;
                        }),
                        (this.apply = function (e) {}),
                        (this.focus = function () {}),
                        (this.save = function () {
                            return {};
                        });
                },
                d = function (e) {
                    (this.data = []),
                        (this.name = null),
                        (this.theme = "searchable_default"),
                        (this.og = !1),
                        (this.listZIndex = 1e5),
                        (this.onSelect = null),
                        (this.pg = null),
                        (this.qg = null),
                        (this.rg = !1),
                        (this.sg = null),
                        (this.Wb = null),
                        (this.Ve = []),
                        (this.tg = null),
                        (e = e || {});
                    var t = this,
                        n = {
                            selected: {
                                post: function (e) {
                                    "object" == typeof e && e.id
                                        ? (t.pg = e)
                                        : ("string" != typeof e &&
                                              "number" != typeof e) ||
                                          t.select(e);
                                },
                            },
                        };
                    Object.defineProperty(this, "selected", {
                        get: function () {
                            return this.pg;
                        },
                    }),
                        Object.defineProperty(this, "disabled", {
                            get: function () {
                                return this.og;
                            },
                            set: function (e) {
                                (this.og = e),
                                    this.sg &&
                                        ((this.sg.disabled = e),
                                        e && this.ug());
                            },
                        });
                    for (var i in e) n[i] || (this[i] = e[i]);
                    for (var i in e) n[i] && n[i].post(e[i]);
                };
            (d.prototype.select = function (e) {
                return (
                    (this.pg = this.data.find(function (t) {
                        return t.id === e;
                    })),
                    this.vg(!1),
                    this
                );
            }),
                (d.prototype.create = function () {
                    function e(e) {
                        var n = l.strategy;
                        "includes" !== l.strategy &&
                            "startsWith" !== l.strategy &&
                            (n = "includes"),
                            (e = e || n || "includes"),
                            (h.style.display = ""),
                            (h.style.top = v.offsetHeight + "px"),
                            (h.style.left = "0px"),
                            (h.style.width = v.offsetWidth + "px"),
                            (h.innerHTML = ""),
                            h.addEventListener("mousedown", function (e) {
                                e.preventDefault();
                            }),
                            (l.qg = null),
                            (l.Ve = []);
                        var a = null;
                        l.data.forEach(function (n) {
                            var r = n.name || n.id;
                            if ("includes" === e) {
                                if (
                                    r
                                        .toLowerCase()
                                        .indexOf(v.value.toLowerCase()) === -1
                                )
                                    return;
                            } else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase())) return;
                            var o = document.createElement("div");
                            (o.className = l.theme + "_list_item"),
                                (o.innerText = r),
                                (o.item = n),
                                n === l.pg && (l.qg = o),
                                a || (a = o),
                                o.addEventListener("mousedown", function (e) {
                                    i(o), e.preventDefault();
                                }),
                                o.addEventListener("mousemove", function (e) {
                                    l.qg !== o &&
                                        ((l.qg = o), t({ dontScroll: !0 }));
                                }),
                                h.appendChild(o),
                                l.Ve.push(o);
                        }),
                            l.qg || (l.qg = a),
                            t();
                    }
                    function t(e) {
                        e = e || {};
                        var t = !e.dontScroll;
                        document
                            .querySelectorAll(
                                "." + l.theme + "_list_item_highlight"
                            )
                            .forEach(function (e) {
                                e.className = e.className.replace(
                                    l.theme + "_list_item_highlight",
                                    ""
                                );
                            }),
                            l.qg &&
                                ((l.qg.className +=
                                    " " + l.theme + "_list_item_highlight"),
                                t && !n(l.qg, h) && l.qg.scrollIntoView());
                    }
                    function n(e, t) {
                        var n = e.getBoundingClientRect(),
                            i = t.getBoundingClientRect();
                        return n.top >= i.top && n.bottom <= i.bottom;
                    }
                    function i(e) {
                        var t = e.item;
                        (l.pg = t), l.vg(!0), r(), o();
                    }
                    function a() {
                        l.ug();
                    }
                    function r() {
                        l.wg();
                    }
                    function o() {
                        (l.rg = !0),
                            v.setAttribute("readonly", "readonly"),
                            v.focus();
                    }
                    function s() {
                        (l.rg = !1),
                            v.removeAttribute("readonly"),
                            v.select(),
                            e("all");
                    }
                    var l = this,
                        d = this,
                        c = document.createElement("div");
                    (c.className = this.theme + "_main"),
                        (c.style.position = "relative");
                    var u = document.createElement("div");
                    (u.className = this.theme + "_icon"),
                        (u.style.position = "absolute"),
                        (u.style.right = "0"),
                        (u.style.top = "0"),
                        (u.style.bottom = "0"),
                        (u.style.width = "20px"),
                        u.addEventListener("mousedown", function (e) {
                            e.preventDefault(),
                                l.rg ? (l.focus(), s()) : (a(), o());
                        });
                    var h = document.createElement("div");
                    (h.className = this.theme + "_list"),
                        (h.style.display = "none"),
                        (h.style.position = "absolute"),
                        (h.style.zIndex = this.listZIndex);
                    var f = document.createElement("input");
                    (f.type = "hidden"),
                        (f.name = this.name),
                        (f.searchable = d),
                        (this.tg = f);
                    var v = document.createElement("input");
                    return (
                        (v.type = "text"),
                        (v.className = this.theme + "_input"),
                        (v.disabled = this.og),
                        v.addEventListener("click", function (e) {
                            s();
                        }),
                        v.addEventListener("focus", function (t) {
                            e("all");
                        }),
                        v.addEventListener("input", function (t) {
                            e();
                        }),
                        v.addEventListener("blur", function (e) {
                            v.removeAttribute("readonly"), a();
                        }),
                        v.addEventListener("keydown", function (e) {
                            if (l.rg) {
                                if ("Enter" === e.key) return;
                                if ("Esc" === e.key || "Escape" === e.key)
                                    return;
                                s();
                            }
                            if ("ArrowDown" === e.key) {
                                var n = d.Ve.indexOf(d.qg);
                                n + 1 < d.Ve.length && (d.qg = d.Ve[n + 1]),
                                    t();
                            } else if ("ArrowUp" === e.key) {
                                var n = d.Ve.indexOf(d.qg);
                                n - 1 >= 0 && (d.qg = d.Ve[n - 1]), t();
                            } else
                                "Enter" === e.key
                                    ? l.qg
                                        ? (e.stopPropagation(), i(l.qg))
                                        : (e.stopPropagation(), a(), o())
                                    : ("Esc" !== e.key && "Escape" !== e.key) ||
                                      (e.stopPropagation(), a(), o());
                        }),
                        (this.sg = v),
                        (this.Wb = h),
                        this.pg ||
                            ((this.pg = this.data[0]),
                            this.pg && (v.value = this.pg.name)),
                        c.appendChild(v),
                        c.appendChild(u),
                        c.appendChild(f),
                        c.appendChild(h),
                        c
                    );
                }),
                (d.prototype.ug = function () {
                    this.wg(),
                        this.pg
                            ? (this.sg.value = this.pg.name)
                            : ((this.sg.value = ""), this.vg(!0));
                }),
                (d.prototype.focus = function () {
                    (this.rg = !0),
                        this.sg.setAttribute("readonly", "readonly"),
                        this.sg.focus(),
                        this.ug();
                }),
                (d.prototype.wg = function () {
                    this.Wb.style.display = "none";
                }),
                (d.prototype.vg = function (e) {
                    if (
                        ((this.tg.value = this.selected
                            ? this.selected.id
                            : null),
                        this.pg
                            ? (this.sg.value = this.pg.name)
                            : (this.sg.value = ""),
                        "function" == typeof this.onSelect)
                    ) {
                        var t = { control: this, ui: e };
                        this.onSelect(t);
                    }
                });
            var c = function (e) {
                (this.form = null),
                    (this.item = null),
                    (this.data = null),
                    (this.name = null),
                    (this.theme = "edit_table_default"),
                    (this.onInput = null),
                    (this.nav = {}),
                    (this.xg = null),
                    (this.fg = []),
                    (e = e || {});
                for (var t in e) this[t] = e[t];
            };
            (c.prototype.create = function () {
                var e = this,
                    t = document.createElement("div");
                (t.className = this.theme + "_main"),
                    (t.style.position = "relative");
                var n = document.createElement("input");
                (n.type = "hidden"),
                    (n.name = e.name),
                    (n.table = this),
                    t.appendChild(n);
                var i = document.createElement("div");
                i.className = this.theme + "_table";
                var a = this.yg();
                i.appendChild(a);
                var r = e.zg({});
                r.spacer = !0;
                var o = this.Ag(r);
                o.classList.add(e.theme + "_spacer"), i.appendChild(o);
                var s = document.createElement("div");
                (s.className = e.theme + "_tbody"),
                    i.appendChild(s),
                    t.appendChild(i);
                var l = document.createElement("div");
                t.appendChild(l),
                    (this.nav.body = s),
                    (this.nav.table = i),
                    (this.nav.main = t),
                    (this.nav.after = l);
                var d = document.createElement("div"),
                    c = document.createElement("span");
                return (
                    (c.className = this.theme + "_plus"),
                    c.addEventListener("click", function (t) {
                        if (!e.disabled) {
                            var n = e.item.onNewRow,
                                i = {};
                            if ("function" == typeof n) {
                                var a = {};
                                (a.result = e.form.serialize()),
                                    (a.value = {}),
                                    n(a),
                                    (i = a.value);
                            }
                            var r = e.zg(i);
                            e.fg.push(r), e.Bg(), e.Cg();
                        }
                    }),
                    (this.nav.plus = c),
                    d.appendChild(c),
                    t.appendChild(d),
                    t
                );
            }),
                (c.prototype.yg = function () {
                    var e = this,
                        t = document.createElement("div");
                    return (
                        t.classList.add(this.theme + "_row"),
                        t.classList.add(this.theme + "_header"),
                        this.item.columns.forEach(function (n) {
                            var i = document.createElement("div");
                            i.classList.add(e.theme + "_cell"),
                                (i.innerText = n.name),
                                t.appendChild(i);
                        }),
                        t
                    );
                }),
                (c.prototype.Dg = function () {
                    var e = this.item.max || 0;
                    return !!(e && this.fg.length >= e);
                }),
                (c.prototype.save = function () {
                    var e = this,
                        t = [];
                    return (
                        e.fg.forEach(function (e) {
                            var n = {};
                            e.cells.forEach(function (e) {
                                n[e.id] = e.value;
                            }),
                                t.push(n);
                        }),
                        t
                    );
                }),
                (c.prototype.load = function (e) {
                    if ("[object Array]" !== Object.prototype.toString.call(e))
                        throw new Error("Array expected");
                    (this.data = e), this.Eg(), this.Bg();
                }),
                (c.prototype.Fg = function () {
                    this.disabled
                        ? this.nav.main.classList.add(this.theme + "_disabled")
                        : this.nav.main.classList.remove(
                              this.theme + "_disabled"
                          ),
                        this.Dg()
                            ? this.nav.plus.classList.add(
                                  this.theme + "_plus_max"
                              )
                            : this.nav.plus.classList.remove(
                                  this.theme + "_plus_max"
                              );
                }),
                (c.prototype.Eg = function () {
                    var e = this;
                    (this.fg = []),
                        this.data.forEach(function (t) {
                            var n = e.zg(t);
                            e.fg.push(n);
                        });
                }),
                (c.prototype.Gg = function (e) {
                    var t = this,
                        n = t.fg.indexOf(e);
                    t.fg.splice(n, 1);
                }),
                (c.prototype.zg = function (e) {
                    var t = this,
                        n = {};
                    return (
                        (n.data = e),
                        (n.cells = []),
                        t.item.columns.forEach(function (i) {
                            var a = i.id,
                                r = e[a],
                                o = t.Hg(i);
                            if ("undefined" == typeof r)
                                if ("text" === o) r = "";
                                else if ("number" === o) r = 0;
                                else if ("select" === o) {
                                    var s = i.options;
                                    r = s && s[0].id;
                                }
                            var l = {};
                            (l.id = a),
                                (l.value = r),
                                (l.type = o),
                                (l.data = i),
                                n.cells.push(l);
                        }),
                        n
                    );
                }),
                (c.prototype.Hg = function (e) {
                    var t = e.type;
                    return t || (t = e.options ? "select" : "text"), t;
                }),
                (c.prototype.Bg = function () {
                    var e = this;
                    if (
                        ((this.nav.body.innerHTML = ""),
                        (this.nav.after.innerHTML = ""),
                        this.fg.forEach(function (t) {
                            var n = e.Ag(t);
                            e.nav.body.appendChild(n);
                        }),
                        0 === this.fg.length)
                    ) {
                        var t = e.Ig();
                        e.nav.after.appendChild(t);
                    }
                    this.Fg();
                }),
                (c.prototype.Ig = function () {
                    var e = document.createElement("div");
                    return (e.className = this.theme + "_empty"), e;
                }),
                (c.prototype.Ag = function (e) {
                    var t = this,
                        n = document.createElement("div");
                    (n.className = t.theme + "_row"),
                        e.cells.forEach(function (i) {
                            var a = document.createElement("div");
                            a.className = t.theme + "_cell";
                            var r = t.Jg(i);
                            if (e.spacer) {
                                var o = document.createElement("div");
                                (o.style.height = "0px"),
                                    (o.style.overflow = "hidden"),
                                    o.appendChild(r),
                                    a.appendChild(o);
                            } else a.appendChild(r);
                            n.appendChild(a);
                        });
                    var i = document.createElement("div");
                    i.classList.add(t.theme + "_cell"),
                        i.classList.add(t.theme + "_rowaction");
                    var a = document.createElement("span");
                    return (
                        (a.className = this.theme + "_delete"),
                        a.addEventListener("click", function (n) {
                            t.disabled || (t.Gg(e), t.Bg(), t.Cg());
                        }),
                        e.spacer || i.appendChild(a),
                        n.appendChild(i),
                        n
                    );
                }),
                (c.prototype.Cg = function () {
                    var e = this;
                    if ("function" == typeof e.onInput) {
                        var t = {};
                        e.onInput(t);
                    }
                }),
                (c.prototype.Jg = function (e) {
                    var t = this,
                        n = e.type;
                    if ("text" === n || "number" === n) {
                        var i = document.createElement("input");
                        return (
                            (i.type = n),
                            t.disabled && (i.disabled = !0),
                            e.value && (i.value = e.value),
                            i.addEventListener("keyup", function (i) {
                                "number" === n
                                    ? (e.value = Number(this.value))
                                    : (e.value = this.value),
                                    t.Cg();
                            }),
                            i
                        );
                    }
                    if ("select" === n) {
                        var a = document.createElement("select");
                        return (
                            t.disabled && (a.disabled = !0),
                            e.data.options.forEach(function (t) {
                                var n = document.createElement("option");
                                (n.innerText = t.name),
                                    (n.value = t.id),
                                    (n.ng = t.id),
                                    a.appendChild(n),
                                    e.value === t.id &&
                                        n.setAttribute("selected", !0);
                            }),
                            a.addEventListener("change", function (n) {
                                var i = a.options[a.selectedIndex];
                                i &&
                                    "undefined" != typeof i.ng &&
                                    (e.value = i.ng),
                                    t.Cg();
                            }),
                            a
                        );
                    }
                    throw new Error("Unsupported item type: " + n);
                }),
                (c.prototype.focus = function () {});
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        var e = function () {};
        if ("undefined" == typeof DayPilot.Month) {
            var t = {};
            (DayPilot.Month = function (n, i) {
                (this.v = "2022.1.5188"), (this.nav = {});
                var a = this;
                (this.id = n),
                    (this.isMonth = !0),
                    (this.api = 2),
                    (this.T = !1),
                    (this.hideUntilInit = !0),
                    (this.startDate = new DayPilot.Date()),
                    (this.width = null),
                    "function" == typeof DayPilot.Bubble
                        ? (this.bubble = new DayPilot.Bubble())
                        : (this.bubble = null),
                    (this.cssClassPrefix = "month_default"),
                    (this.cellHeight = 100),
                    (this.cellMarginBottom = 0),
                    (this.allowMultiSelect = !0),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.doubleClickTimeout = 300),
                    (this.eventEndSpec = "DateTime"),
                    (this.headerHeight = 30),
                    (this.heightSpec = "Auto"),
                    (this.weekStarts = "Auto"),
                    (this.eventHeight = 25),
                    (this.cellHeaderHeight = 24),
                    (this.clientState = {}),
                    (this.afterRender = function () {}),
                    (this.cssOnly = !0),
                    (this.eventsLoadMethod = "GET"),
                    (this.initEventEnabled = !1),
                    (this.lineSpace = 1),
                    (this.loadingLabelVisible = !0),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.locale = "en-us"),
                    (this.maxEvents = "All"),
                    (this.messageHideAfter = 5e3),
                    (this.notifyCommit = "Immediate"),
                    (this.visible = !0),
                    (this.eventMoveToPosition = !1),
                    (this.eventStartTime = !1),
                    (this.eventEndTime = !1),
                    (this.eventStartEndWidth = 60),
                    (this.showWeekend = !0),
                    (this.cellMode = !1),
                    (this.shadowType = "Fill"),
                    (this.tapAndHoldTimeout = 300),
                    (this.timeFormat = "Auto"),
                    (this.viewType = "Month"),
                    (this.weeks = 1),
                    (this.xssProtection = "Enabled"),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventDeleteHandling = "Disabled"),
                    (this.eventDoubleClickHandling = "Disabled"),
                    (this.eventMoveHandling = "Update"),
                    (this.eventResizeHandling = "Update"),
                    (this.eventRightClickHandling = "ContextMenu"),
                    (this.eventSelectHandling = "Update"),
                    (this.headerClickHandling = "Enabled"),
                    (this.timeRangeSelectedHandling = "Enabled"),
                    (this.timeRangeDoubleClickHandling = "Enabled"),
                    (this.onEventFilter = null),
                    (this.onBeforeEventRender = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeHeaderRender = null),
                    (this.onDomAddEvent = null),
                    (this.onDomRemoveEvent = null),
                    (this.onBeforeEventExport = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeHeaderExport = null),
                    (this.backendUrl = null),
                    (this.cellEvents = []),
                    (this.elements = {}),
                    (this.elements.events = []),
                    (this.Q = {}),
                    (this.Q.events = {}),
                    (this.events = {}),
                    (this.S = 0),
                    (this.members = {}),
                    (this.members.ignore = [
                        "internal",
                        "nav",
                        "debug",
                        "temp",
                        "elements",
                        "members",
                        "cellProperties",
                    ]),
                    (this.V = "javasc"),
                    (this.na = function (e, t) {
                        var e = JSON.parse(e);
                        if (e.BubbleGuid) {
                            var n = e.BubbleGuid,
                                i = this.bubbles[n];
                            return (
                                delete this.bubbles[n],
                                a.Ja(),
                                void (
                                    "undefined" != typeof e.Result.BubbleHTML &&
                                    i.updateView(e.Result.BubbleHTML, i)
                                )
                            );
                        }
                        if (e.CallBackRedirect)
                            return void (document.location.href =
                                e.CallBackRedirect);
                        if (
                            ("undefined" != typeof e.ClientState &&
                                (a.clientState = e.ClientState),
                            "None" === e.UpdateType)
                        )
                            return (
                                a.Ka(e.CallBackData, !0),
                                e.Message && a.message(e.Message),
                                void a.Ja()
                            );
                        if (e.VsUpdate) {
                            var r = document.createElement("input");
                            (r.type = "hidden"),
                                (r.name = a.id + "_vsupdate"),
                                (r.id = r.name),
                                (r.value = e.VsUpdate),
                                (a.Kg.innerHTML = ""),
                                a.Kg.appendChild(r);
                        }
                        (a.events.list = e.Events),
                            "undefined" != typeof e.TagFields &&
                                (a.tagFields = e.TagFields),
                            "undefined" != typeof e.SortDirections &&
                                (a.sortDirections = e.SortDirections),
                            "Full" === e.UpdateType &&
                                ((a.cellProperties = e.CellProperties),
                                (a.headerProperties = e.HeaderProperties),
                                (a.startDate = e.StartDate),
                                "undefined" != typeof e.ShowWeekend &&
                                    (a.showWeekend = e.ShowWeekend),
                                (a.locale = e.Locale ? e.Locale : a.locale),
                                (a.timeFormat = e.TimeFormat
                                    ? e.TimeFormat
                                    : a.timeFormat),
                                "undefined" != typeof e.WeekStarts &&
                                    (a.weekStarts = e.WeekStarts),
                                (a.hashes = e.Hashes)),
                            a.multiselect.clear(!0),
                            (a.multiselect.initList = e.SelectedEvents),
                            a.ra(),
                            a.Lg(),
                            a.Pa(),
                            "Full" === e.UpdateType && (a.Mg(), a.Ng()),
                            a.Xa(),
                            a._a(),
                            a.ab(),
                            a.Ka(e.CallBackData, !0),
                            a.eb(),
                            e.Message && a.message(e.Message),
                            a.Ja();
                    }),
                    (this.Ka = function (e, t) {
                        var n = function (e, t) {
                            return function () {
                                if (a.fb()) {
                                    if ("function" == typeof a.onAfterRender) {
                                        var n = {};
                                        (n.isCallBack = t),
                                            (n.data = e),
                                            a.onAfterRender(n);
                                    }
                                } else a.afterRender && a.afterRender(e, t);
                            };
                        };
                        window.setTimeout(n(e, t), 0);
                    }),
                    (this.fb = function () {
                        return 2 === a.api;
                    }),
                    (this.ea = function (e, t) {
                        return a.ga.fa()
                            ? DayPilot.Util.escapeTextHtml(e, t)
                            : DayPilot.Util.isNullOrUndefined(t)
                            ? DayPilot.Util.isNullOrUndefined(e)
                                ? ""
                                : e
                            : t;
                    }),
                    (this.H = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.Pa = function () {
                        if (this.events.list) {
                            if ("function" == typeof this.onBeforeEventRender)
                                for (
                                    var e = this.events.list.length, t = 0;
                                    t < e;
                                    t++
                                )
                                    this.we(t);
                            this.cellMode ? this.Og() : this.Pg();
                        }
                    }),
                    (this.ka = function (e) {
                        var t = e ? 0 : 100;
                        a.loadingTimeout &&
                            window.clearTimeout(a.loadingTimeout),
                            (a.loadingTimeout = window.setTimeout(function () {
                                a.loadingLabelVisible &&
                                    a.nav.loading &&
                                    ((a.nav.loading.style.top =
                                        s.headerHeight() + 5 + "px"),
                                    (a.nav.loading.innerHTML = a.ea(
                                        this.loadingLabelText,
                                        this.loadingLabelHtml
                                    )),
                                    (a.nav.loading.style.display = ""));
                            }, t));
                    }),
                    (this.Ja = function () {
                        this.loadingTimeout &&
                            window.clearTimeout(this.loadingTimeout),
                            a.nav.loading &&
                                (this.nav.loading.style.display = "none");
                    }),
                    (this.Pg = function () {
                        if (this.events.list) {
                            for (var e = 0; e < this.events.list.length; e++) {
                                var t = this.events.list[e];
                                if ("object" != typeof t)
                                    throw new DayPilot.Exception(
                                        "Event data item must be an object"
                                    );
                                if (!t.start)
                                    throw new DayPilot.Exception(
                                        "Event data item must specify 'start' property"
                                    );
                                var n = null;
                                if (
                                    ("function" ==
                                        typeof a.onBeforeEventRender &&
                                        (n = a.Q.events[e]),
                                    n)
                                ) {
                                    if (n.hidden) continue;
                                } else if (t.hidden) continue;
                                var i = new DayPilot.Date(t.start),
                                    r = new DayPilot.Date(t.end);
                                if (
                                    ((r = a.Qg(r)),
                                    !(i.getTime() > r.getTime()))
                                )
                                    for (var o = 0; o < this.rows.length; o++) {
                                        var s = this.rows[o];
                                        if (s.belongsHere(i, r)) {
                                            var l = new DayPilot.Event(t, a);
                                            if (
                                                "function" ==
                                                    typeof a.onEventFilter &&
                                                a.events.Je
                                            ) {
                                                var d = {};
                                                if (
                                                    ((d.filter = a.events.Je),
                                                    (d.visible = !0),
                                                    (d.e = l),
                                                    a.onEventFilter(d),
                                                    !d.visible)
                                                )
                                                    break;
                                            }
                                            s.events.push(l),
                                                "function" ==
                                                    typeof this
                                                        .onBeforeEventRender &&
                                                    (l.cache =
                                                        this.Q.events[e]);
                                        }
                                    }
                            }
                            for (var c = 0; c < this.rows.length; c++) {
                                var s = this.rows[c];
                                s.events.sort(this.Le);
                                for (
                                    var u = 0;
                                    u < this.rows[c].events.length;
                                    u++
                                ) {
                                    var h = s.events[u],
                                        f = s.getStartColumn(h),
                                        v = s.getWidth(h);
                                    s.putIntoLine(h, f, v, c);
                                }
                            }
                        }
                    }),
                    (this.Og = function () {
                        this.cellEvents = [];
                        for (var e = 0; e < this.Rg(); e++) {
                            this.cellEvents[e] = [];
                            for (var t = 0; t < this.rows.length; t++) {
                                var n = {},
                                    i = this.firstDate.addDays(7 * t + e);
                                (n.start = i),
                                    (n.end = i.addDays(1)),
                                    (n.events = []),
                                    (this.cellEvents[e][t] = n);
                            }
                        }
                        for (var r = 0; r < this.events.list.length; r++) {
                            var o = this.events.list[r];
                            if ("object" != typeof o)
                                throw new DayPilot.Exception(
                                    "Event data item must be an object"
                                );
                            if (!o.start)
                                throw new DayPilot.Exception(
                                    "Event data item must specify 'start' property"
                                );
                            var s = null;
                            if (
                                ("function" == typeof a.onBeforeEventRender &&
                                    (s = a.Q.events[r]),
                                s)
                            ) {
                                if (s.hidden) continue;
                            } else if (o.hidden) continue;
                            var l = new DayPilot.Date(o.start),
                                d = new DayPilot.Date(o.start);
                            if (((d = a.Qg(d)), !(l.getTime() > d.getTime())))
                                for (var e = 0; e < this.Rg(); e++)
                                    for (var t = 0; t < this.rows.length; t++) {
                                        var n = this.cellEvents[e][t];
                                        if (
                                            l.getTime() >= n.start.getTime() &&
                                            l.getTime() < n.end.getTime()
                                        ) {
                                            var c = new DayPilot.Event(o, a);
                                            if (
                                                "function" ==
                                                    typeof a.onEventFilter &&
                                                a.events.Je
                                            ) {
                                                var u = {};
                                                if (
                                                    ((u.filter = a.events.Je),
                                                    (u.visible = !0),
                                                    (u.e = c),
                                                    a.onEventFilter(u),
                                                    !u.visible)
                                                )
                                                    continue;
                                            }
                                            n.events.push(c),
                                                "function" ==
                                                    typeof this
                                                        .onBeforeEventRender &&
                                                    (c.cache =
                                                        this.Q.events[r]);
                                        }
                                    }
                        }
                        for (var e = 0; e < this.Rg(); e++)
                            for (var t = 0; t < this.rows.length; t++) {
                                var n = this.cellEvents[e][t];
                                n.events.sort(this.Le);
                            }
                    }),
                    (this.ra = function () {
                        for (var e = 0; e < this.elements.events.length; e++) {
                            var t = this.elements.events[e];
                            if ("function" == typeof a.onDomRemoveEvent) {
                                var n = t.domArgs;
                                (t.domArgs = null), a.onDomRemoveEvent(n);
                            }
                            (t.event = null),
                                (t.click = null),
                                t.parentNode.removeChild(t);
                        }
                        this.elements.events = [];
                    }),
                    (this.ab = function () {
                        (this.Q.events = {}),
                            this.cellMode ? this.Sg() : this.Tg(),
                            this.multiselect.redraw();
                    }),
                    (this.Sg = function () {
                        this.elements.events = [];
                        for (var e = 0; e < this.Rg(); e++)
                            for (var t = 0; t < this.rows.length; t++)
                                for (
                                    var n = this.cellEvents[e][t],
                                        i = (this.cells[e][t], 0);
                                    i < n.events.length;
                                    i++
                                ) {
                                    var a = n.events[i];
                                    (a.part.colStart = e),
                                        (a.part.colWidth = 1),
                                        (a.part.row = t),
                                        (a.part.line = i),
                                        (a.part.startsHere = !0),
                                        (a.part.endsHere = !0),
                                        this.Wc(a);
                                }
                    }),
                    (this.Tg = function () {
                        this.elements.events = [];
                        for (
                            var e =
                                    "number" == typeof a.maxEvents
                                        ? a.maxEvents
                                        : 1e3,
                                t = 0;
                            t < this.rows.length;
                            t++
                        )
                            for (
                                var n = this.rows[t], i = 0;
                                i < n.lines.length;
                                i++
                            ) {
                                var r = n.lines[i];
                                if (!(i >= e))
                                    for (var o = 0; o < r.length; o++)
                                        this.Wc(r[o]);
                            }
                    }),
                    (this.Ke = function (e, t) {
                        if (!(e && t && e.start && t.start)) return 0;
                        var n = e.start().ticks - t.start().ticks;
                        return 0 !== n ? n : t.end().ticks - e.end().ticks;
                    }),
                    (this.Le = function (e, t) {
                        if (!e || !t) return 0;
                        if (
                            !(
                                e.data &&
                                t.data &&
                                e.data.sort &&
                                t.data.sort &&
                                0 !== e.data.sort.length &&
                                0 !== t.data.sort.length
                            )
                        )
                            return a.Ke(e, t);
                        for (
                            var n = 0, i = 0;
                            0 === n &&
                            "undefined" != typeof e.data.sort[i] &&
                            "undefined" != typeof t.data.sort[i];

                        )
                            (n =
                                e.data.sort[i] === t.data.sort[i]
                                    ? 0
                                    : "number" == typeof e.data.sort[i] &&
                                      "number" == typeof t.data.sort[i]
                                    ? e.data.sort[i] - t.data.sort[i]
                                    : a.Me(
                                          e.data.sort[i],
                                          t.data.sort[i],
                                          a.sortDirections[i]
                                      )),
                                i++;
                        return n;
                    }),
                    (this.Me = function (e, t, n) {
                        var i = "desc" !== n,
                            a = i ? -1 : 1,
                            r = -a;
                        if (null === e && null === t) return 0;
                        if (null === t) return r;
                        if (null === e) return a;
                        var o = [];
                        return (
                            (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r
                        );
                    }),
                    (this.Ug = function (e, n, i, a, r, o) {
                        r || (r = 0);
                        var s = a;
                        (this.shadow = {}),
                            (this.shadow.list = []),
                            (this.shadow.start = { x: e, y: n }),
                            (this.shadow.width = a),
                            this.eventMoveToPosition &&
                                ((s = 1), (this.shadow.position = i));
                        var l = 7 * n + e - r;
                        l < 0 && ((s += l), (e = 0), (n = 0));
                        for (var d = r; d >= 7; ) n--, (d -= 7);
                        if (d > e) {
                            d > e + (7 - this.Rg())
                                ? (n--, (e = e + 7 - d))
                                : ((s = s - d + e), (e = 0));
                        } else e -= d;
                        n < 0 && ((n = 0), (e = 0));
                        var c = null;
                        for (
                            t.resizingEvent
                                ? (c = "w-resize")
                                : t.movingEvent && (c = "move"),
                                this.nav.top.style.cursor = c;
                            s > 0 && n < this.rows.length;

                        ) {
                            var u = Math.min(this.Rg() - e, s),
                                h = this.rows[n],
                                f = this.Vg(n),
                                v = h.getHeight();
                            this.eventMoveToPosition &&
                                ((f = this.Wg(n, i)), (v = 2));
                            var p = document.createElement("div");
                            p.setAttribute("unselectable", "on"),
                                (p.style.position = "absolute"),
                                (p.style.left = this.Xg() * e + "%"),
                                (p.style.width = this.Xg() * u + "%"),
                                (p.style.top = f + "px"),
                                (p.style.height = v + "px"),
                                (p.style.cursor = c);
                            var m = document.createElement("div");
                            m.setAttribute("unselectable", "on"),
                                p.appendChild(m),
                                (p.className = this.H("_shadow")),
                                (m.className = this.H("_shadow_inner"));
                            this.nav.events.appendChild(p),
                                this.shadow.list.push(p),
                                (s -= u + 7 - this.Rg()),
                                (e = 0),
                                n++;
                        }
                    }),
                    (this.Yg = function () {
                        if (this.shadow) {
                            this.nav.events;
                            DayPilot.de(this.shadow.list),
                                (this.shadow = null),
                                (this.nav.top.style.cursor = "");
                        }
                    }),
                    (this.Wg = function (e, t) {
                        for (var n = 0, i = 0; i < e; i++)
                            n += this.rows[i].getHeight();
                        return (
                            (n += this.cellHeaderHeight),
                            (n += t * s.lineHeight())
                        );
                    }),
                    (this.Zg = function (e, t) {
                        return this.firstDate.addDays(7 * t + e);
                    }),
                    (this.we = function (e) {
                        var t = this.Q.events,
                            n = this.events.list[e],
                            i = {};
                        for (var a in n) i[a] = n[a];
                        if ("function" == typeof this.onBeforeEventRender) {
                            var r = {};
                            (r.e = i),
                                (r.data = i),
                                this.onBeforeEventRender(r);
                        }
                        t[e] = i;
                    }),
                    (this.Wc = function (e) {
                        var t = this.cellMode,
                            n = e.part.row,
                            i = e.part.line,
                            o = e.part.colStart,
                            l = e.part.colWidth,
                            d = e.cache || e.data,
                            c = t ? 0 : this.Xg() * o,
                            u = t ? 100 : this.Xg() * l,
                            h = t ? i * s.lineHeight() : this.Wg(n, i),
                            f = document.createElement("div");
                        f.setAttribute("unselectable", "on"),
                            (f.style.height = s.eventHeight() + "px"),
                            (f.style.position = "relative"),
                            (f.style.overflow = "hidden"),
                            (f.className = this.H("_event")),
                            d.cssClass && DayPilot.Util.addClass(f, d.cssClass),
                            (f.event = e),
                            t
                                ? ((f.style.marginRight = "2px"),
                                  (f.style.marginBottom = "2px"))
                                : ((f.style.width = u + "%"),
                                  (f.style.position = "absolute"),
                                  (f.style.left = c + "%"),
                                  (f.style.top = h + "px")),
                            this.showToolTip &&
                                d.toolTip &&
                                !this.bubble &&
                                (f.title = d.toolTip),
                            (f.onclick = this.$g),
                            (f.ondblclick = this._g),
                            (f.oncontextmenu = this.ah),
                            (f.onmousedown = this.Zc),
                            (f.onmousemove = this.Xc),
                            (f.onmouseout = this.Yc),
                            DayPilot.reNonPassive(
                                f,
                                "touchstart",
                                r.onEventTouchStart
                            ),
                            DayPilot.rePassive(
                                f,
                                "touchmove",
                                r.onEventTouchMove
                            ),
                            DayPilot.rePassive(
                                f,
                                "touchend",
                                r.onEventTouchEnd
                            ),
                            e.part.startsHere ||
                                DayPilot.Util.addClass(
                                    f,
                                    this.H("_event_continueleft")
                                ),
                            e.part.endsHere ||
                                DayPilot.Util.addClass(
                                    f,
                                    this.H("_event_continueright")
                                );
                        var v = document.createElement("div");
                        v.setAttribute("unselectable", "on"),
                            (v.className = this.H("_event_inner")),
                            d.fontColor && (v.style.color = d.fontColor),
                            d.borderColor &&
                                ("darker" === d.borderColor && d.backColor
                                    ? (v.style.borderColor =
                                          DayPilot.ColorUtil.darker(
                                              d.backColor,
                                              2
                                          ))
                                    : (v.style.borderColor = d.borderColor)),
                            d.backColor && (v.style.background = d.backColor),
                            d.backImage &&
                                ((v.style.backgroundImage =
                                    "url(" + d.backImage + ")"),
                                d.backRepeat &&
                                    (v.style.backgroundRepeat = d.backRepeat)),
                            f.appendChild(v);
                        var p = this.ga.locale(),
                            m = a.eventStartEndWidth;
                        if (this.eventStartTime || d.htmlStart) {
                            var g =
                                    "Clock12Hours" === a.ga.timeFormat()
                                        ? e.start().toString("h tt", p)
                                        : e.start().toString("H", p),
                                b = {
                                    left: 5,
                                    top: 3,
                                    width: m,
                                    bottom: 2,
                                    v: "Visible",
                                    html: d.htmlStart || g,
                                    css: a.H("_event_timeleft"),
                                },
                                y = DayPilot.Areas.createArea(f, e, b);
                            f.appendChild(y), (v.style.paddingLeft = m + "px");
                        }
                        if (this.eventEndTime || d.htmlEnd) {
                            var g =
                                    "Clock12Hours" === a.ga.timeFormat()
                                        ? e.end().toString("h tt", p)
                                        : e.end().toString("H", p),
                                b = {
                                    right: 5,
                                    top: 3,
                                    width: m,
                                    bottom: 2,
                                    v: "Visible",
                                    html: d.htmlEnd || g,
                                    css: a.H("_event_timeright"),
                                },
                                y = DayPilot.Areas.createArea(f, e, b);
                            f.appendChild(y), (v.style.paddingRight = m + "px");
                        }
                        if (d.areas)
                            for (var w = d.areas, x = 0; x < w.length; x++) {
                                var b = w[x];
                                if (DayPilot.Areas.isVisible(b)) {
                                    var y = DayPilot.Areas.createArea(f, e, b);
                                    f.appendChild(y);
                                }
                            }
                        !(function () {
                            var t = {};
                            (t.e = e),
                                (t.element = null),
                                (f.domArgs = t),
                                "function" == typeof a.onDomAddEvent &&
                                    a.onDomAddEvent(t),
                                t.element
                                    ? v.appendChild(t.element)
                                    : (v.innerHTML = e.client.innerHTML());
                        })(),
                            this.elements.events.push(f),
                            t
                                ? this.cells[o][n].body.appendChild(f)
                                : this.nav.events.appendChild(f),
                            a.multiselect.zc(f.event) &&
                                a.multiselect.add(f.event, !0);
                        var f = f;
                        if (a.fb()) {
                            if ("function" == typeof a.onAfterEventRender) {
                                var k = {};
                                (k.e = f.event),
                                    (k.div = f),
                                    a.onAfterEventRender(k);
                            }
                        } else
                            a.afterEventRender &&
                                a.afterEventRender(f.event, f);
                    }),
                    (this.$g = function (e) {
                        r.start || a.rb(this, e);
                    }),
                    (this._g = function (e) {
                        a.vb(this, e);
                    }),
                    (this.Xc = function (e) {
                        var n = this,
                            i = n.event;
                        if (
                            "undefined" != typeof t &&
                            !t.movingEvent &&
                            !t.resizingEvent
                        ) {
                            var r = DayPilot.mo3(n, e);
                            if (r) {
                                !(function () {
                                    var e = n;
                                    if (!e.active) {
                                        var t = [],
                                            r = i.cache || i.data;
                                        "Disabled" === a.eventDeleteHandling ||
                                            r.deleteDisabled ||
                                            t.push({
                                                action: "JavaScript",
                                                v: "Hover",
                                                w: 17,
                                                h: 17,
                                                top: 2,
                                                right: 2,
                                                css: a.H("_event_delete"),
                                                js: function (e) {
                                                    a.Bb(e);
                                                },
                                            });
                                        var o = e.event.cache
                                            ? e.event.cache.areas
                                            : e.event.data.areas;
                                        o && o.length > 0 && (t = t.concat(o)),
                                            DayPilot.Areas.showAreas(
                                                e,
                                                e.event,
                                                null,
                                                t
                                            );
                                    }
                                })(),
                                    a.bh(n.event).forEach(function (e) {
                                        DayPilot.Util.addClass(
                                            e,
                                            a.H("_event_hover")
                                        );
                                    });
                                var o = 6;
                                if (
                                    (!a.cellMode &&
                                    r.x <= o &&
                                    i.client.resizeEnabled()
                                        ? i.part.startsHere
                                            ? ((n.style.cursor = "w-resize"),
                                              (n.dpBorder = "left"))
                                            : (n.style.cursor = "not-allowed")
                                        : !a.cellMode &&
                                          n.clientWidth - r.x <= o &&
                                          i.client.resizeEnabled()
                                        ? i.part.endsHere
                                            ? ((n.style.cursor = "e-resize"),
                                              (n.dpBorder = "right"))
                                            : (n.style.cursor = "not-allowed")
                                        : i.client.clickEnabled()
                                        ? (n.style.cursor = "pointer")
                                        : (n.style.cursor = "default"),
                                    "undefined" != typeof DayPilot.Bubble &&
                                        a.bubble &&
                                        "Disabled" !== a.eventHoverHandling)
                                )
                                    if (t.movingEvent || t.resizingEvent)
                                        DayPilot.Bubble.hideActive();
                                    else {
                                        var s =
                                            this.Ee &&
                                            r.x === this.Ee.x &&
                                            r.y === this.Ee.y;
                                        s ||
                                            ((this.Ee = r),
                                            a.bubble.showEvent(n.event));
                                    }
                            }
                        }
                    }),
                    (this.Yc = function (e) {
                        var t = this;
                        "undefined" != typeof DayPilot.Bubble &&
                            a.bubble &&
                            a.bubble.hideOnMouseOut(),
                            (t.style.cursor = ""),
                            a.bh(t.event).forEach(function (e) {
                                DayPilot.Util.removeClass(
                                    e,
                                    a.H("_event_hover")
                                );
                            }),
                            DayPilot.Areas.hideAreas(t, e);
                    }),
                    (this.ah = function () {
                        var e = this;
                        return a.wb(e.event), !1;
                    }),
                    (this.Zc = function (e) {
                        if (!r.start) {
                            "undefined" != typeof DayPilot.Bubble &&
                                (DayPilot.Bubble.hideActive(),
                                DayPilot.Bubble.cancelShowing());
                            var n = this,
                                i = n.event,
                                o = i.part.row,
                                s = i.part.colStart,
                                l = i.part.line,
                                d = i.part.colWidth;
                            e = e || window.event;
                            var c = DayPilot.Util.mouseButton(e);
                            if (
                                ((e.cancelBubble = !0),
                                e.stopPropagation && e.stopPropagation(),
                                c.left)
                            )
                                if (
                                    ("undefined" != typeof DayPilot.Bubble &&
                                        a.bubble &&
                                        DayPilot.Bubble.hideActive(),
                                    (t.movingEvent = null),
                                    "w-resize" === this.style.cursor ||
                                        "e-resize" === this.style.cursor)
                                ) {
                                    var u = {};
                                    (u.start = {}),
                                        (u.start.x = s),
                                        (u.start.y = o),
                                        (u.event = n.event),
                                        (u.width =
                                            DayPilot.DateUtil.daysSpan(
                                                u.event.start(),
                                                u.event.end()
                                            ) + 1),
                                        (u.direction = this.style.cursor),
                                        (t.resizingEvent = u);
                                } else if (
                                    "move" === this.style.cursor ||
                                    i.client.moveEnabled()
                                ) {
                                    a.Yg();
                                    var h = DayPilot.mo3(a.nav.events, e);
                                    if (!h) return;
                                    var f = a.ch(h.x, h.y);
                                    if (!f) return;
                                    var v = DayPilot.DateUtil.daysDiff(
                                            i.start(),
                                            a.rows[o].start
                                        ),
                                        p = 7 * f.y + f.x - (7 * o + s);
                                    v && (p += v);
                                    var m = {};
                                    (m.start = {}),
                                        (m.start.x = s),
                                        (m.start.y = o),
                                        (m.start.line = l),
                                        (m.offset = a.eventMoveToPosition
                                            ? 0
                                            : p),
                                        (m.colWidth = d),
                                        (m.event = n.event),
                                        (m.coords = h),
                                        (t.movingEvent = m);
                                }
                        }
                    }),
                    (this.temp = {}),
                    (this.temp.getPosition = function () {
                        if (!a.coords) return null;
                        var e = a.ch(a.coords.x, a.coords.y);
                        if (!e) return null;
                        var t = new DayPilot.Date(a.Zg(e.x, e.y)),
                            e = {};
                        return (e.start = t), (e.end = t.addDays(1)), e;
                    }),
                    (this.$c = {});
                var r = a.$c;
                (r.active = !1),
                    (r.start = !1),
                    (r.timeouts = []),
                    (r.onEventTouchStart = function (e) {
                        if (!r.active && !r.start) {
                            r.clearTimeouts(), (r.start = !0), (r.active = !1);
                            var t = this;
                            if (t.event.client.moveEnabled()) {
                                var n = a.tapAndHoldTimeout;
                                r.timeouts.push(
                                    window.setTimeout(function () {
                                        (r.active = !0), (r.start = !1);
                                        var n = r.relativeCoords(e);
                                        r.startMoving(t, n), e.preventDefault();
                                    }, n)
                                );
                            }
                            e.stopPropagation();
                        }
                    }),
                    (r.onEventTouchMove = function (e) {
                        r.clearTimeouts(), (r.start = !1);
                    }),
                    (r.onEventTouchEnd = function (e) {
                        r.clearTimeouts(),
                            r.start && a.sb(this, e),
                            window.setTimeout(function () {
                                (r.start = !1), (r.active = !1);
                            }, 500);
                    }),
                    (r.onMainTouchStart = function (e) {
                        if (!r.active && !r.start) {
                            r.clearTimeouts(), (r.start = !0), (r.active = !1);
                            var t = a.tapAndHoldTimeout;
                            r.timeouts.push(
                                window.setTimeout(function () {
                                    (r.active = !0),
                                        (r.start = !1),
                                        e.preventDefault();
                                    var t = r.relativeCoords(e);
                                    r.startRange(t);
                                }, t)
                            );
                        }
                    }),
                    (r.onMainTouchMove = function (e) {
                        if ((r.clearTimeouts(), (r.start = !1), r.active)) {
                            e.preventDefault();
                            var t = r.relativeCoords(e);
                            if (r.moving) return void r.updateMoving(t);
                            r.range && r.updateRange(t);
                        }
                    }),
                    (r.onMainTouchEnd = function (e) {
                        if ((r.clearTimeouts(), r.active)) {
                            if (r.moving) {
                                var t = (r.moving, r.moving.event),
                                    n = a.shadow.start,
                                    i = a.shadow.position,
                                    o = r.moving.offset;
                                a.Yg(),
                                    (r.moving = null),
                                    a.Kb(t, n.x, n.y, o, e, i);
                            }
                            if (r.range) {
                                var s = r.range,
                                    n = new DayPilot.Date(
                                        a.Zg(s.from.x, s.from.y)
                                    ),
                                    l = n.addDays(s.width);
                                (r.range = null), a.Sb(n, l);
                            }
                        }
                        window.setTimeout(function () {
                            (r.start = !1), (r.active = !1);
                        }, 500);
                    }),
                    (r.clearTimeouts = function () {
                        for (var e = 0; e < r.timeouts.length; e++)
                            clearTimeout(r.timeouts[e]);
                        r.timeouts = [];
                    }),
                    (r.relativeCoords = function (e) {
                        var t = a.nav.events,
                            n = e.touches ? e.touches[0] : e,
                            i = n.pageX,
                            r = n.pageY,
                            o = DayPilot.abs(t);
                        return {
                            x: i - o.x,
                            y: r - o.y,
                            toString: function () {
                                return "x: " + this.x + ", y:" + this.y;
                            },
                        };
                    }),
                    (r.startMoving = function (e, t) {
                        a.Yg();
                        var n = e.event,
                            i = a.ch(t.x, t.y);
                        if (i) {
                            var o = DayPilot.DateUtil.daysDiff(
                                    n.start(),
                                    a.rows[n.part.row].start
                                ),
                                s =
                                    7 * i.y +
                                    i.x -
                                    (7 * n.part.row + n.part.colStart);
                            o && (s += o);
                            var l = {};
                            (l.start = {}),
                                (l.start.x = n.part.colStart),
                                (l.start.y = n.part.row),
                                (l.start.line = n.part.line),
                                (l.offset = a.eventMoveToPosition ? 0 : s),
                                (l.colWidth = n.part.colWidth),
                                (l.event = n),
                                (l.coords = t),
                                (r.moving = l),
                                r.updateMoving(t);
                        }
                    }),
                    (r.updateMoving = function (e) {
                        var t = a.ch(e.x, e.y);
                        if (t) {
                            var n = a.dh(t);
                            a.Yg();
                            var i = r.moving.event,
                                o = r.moving.offset,
                                s = a.cellMode
                                    ? 1
                                    : DayPilot.DateUtil.daysSpan(
                                          i.start(),
                                          i.end()
                                      ) + 1;
                            s < 1 && (s = 1), a.Ug(t.x, t.y, n, s, o, i);
                        }
                    }),
                    (r.startRange = function (e) {
                        var t = a.ch(e.x, e.y);
                        if (t) {
                            a.Yg();
                            var n = {};
                            (n.start = {}),
                                (n.start.x = t.x),
                                (n.start.y = t.y),
                                (n.x = t.x),
                                (n.y = t.y),
                                (n.width = 1),
                                (r.range = n),
                                r.updateRange(e);
                        }
                    }),
                    (r.updateRange = function (e) {
                        var t = a.ch(e.x, e.y);
                        if (t) {
                            a.Yg();
                            var n = r.range.start,
                                i = 7 * n.y + n.x,
                                o = 7 * t.y + t.x,
                                s = Math.abs(o - i) + 1;
                            s < 1 && (s = 1);
                            var l = i < o ? n : t;
                            (r.range.width = s),
                                (r.range.from = { x: l.x, y: l.y }),
                                a.Ug(l.x, l.y, 0, s, 0, null);
                        }
                    }),
                    (this.isWeekend = function (e) {
                        return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();
                    }),
                    (this.eh = function () {
                        var e = this.startDate.lastDayOfMonth();
                        if (this.showWeekend) return e;
                        for (; this.isWeekend(e); ) e = e.addDays(-1);
                        return e;
                    }),
                    (this.Lg = function () {
                        if (
                            ("string" == typeof this.startDate &&
                                (this.startDate = new DayPilot.Date(
                                    this.startDate
                                )),
                            "Month" === this.viewType
                                ? (this.startDate =
                                      this.startDate.firstDayOfMonth())
                                : (this.startDate =
                                      this.startDate.getDatePart()),
                            (this.firstDate = this.startDate.firstDayOfWeek(
                                s.weekStarts()
                            )),
                            !this.showWeekend)
                        ) {
                            for (
                                var e = this.startDate.addMonths(-1).getMonth(),
                                    t = new DayPilot.Date(
                                        this.firstDate
                                    ).addDays(6);
                                this.isWeekend(t);

                            )
                                t = t.addDays(-1);
                            t.getMonth() === e &&
                                (this.firstDate = this.firstDate.addDays(7));
                        }
                        var n;
                        this.startDate;
                        if ("Month" === this.viewType) {
                            var i = this.eh(),
                                r =
                                    DayPilot.DateUtil.daysDiff(
                                        this.firstDate,
                                        i
                                    ) + 1;
                            n = Math.ceil(r / 7);
                        } else n = this.weeks;
                        (this.days = 7 * n), (this.rows = []);
                        for (var o = 0; o < n; o++) {
                            var l = {};
                            (l.start = this.firstDate.addDays(7 * o)),
                                (l.end = l.start.addDays(this.Rg())),
                                (l.events = []),
                                (l.lines = []),
                                (l.index = o),
                                (l.minHeight = this.cellHeight),
                                (l.calendar = this),
                                (l.belongsHere = function (e, t) {
                                    return (
                                        (t.getTime() === e.getTime() &&
                                            e.getTime() ===
                                                this.start.getTime()) ||
                                        !(
                                            t.getTime() <=
                                                this.start.getTime() ||
                                            e.getTime() >= this.end.getTime()
                                        )
                                    );
                                }),
                                (l.getPartStart = function (e) {
                                    return DayPilot.DateUtil.max(
                                        this.start,
                                        e.start()
                                    );
                                }),
                                (l.getPartEnd = function (e) {
                                    return DayPilot.DateUtil.min(
                                        this.end,
                                        e.rawend()
                                    );
                                }),
                                (l.getStartColumn = function (e) {
                                    var t = this.getPartStart(e);
                                    return DayPilot.DateUtil.daysDiff(
                                        this.start,
                                        t
                                    );
                                }),
                                (l.getWidth = function (e) {
                                    return (
                                        DayPilot.DateUtil.daysSpan(
                                            this.getPartStart(e),
                                            this.getPartEnd(e)
                                        ) + 1
                                    );
                                }),
                                (l.putIntoLine = function (e, t, n, i) {
                                    for (
                                        var a = this, r = 0;
                                        r < this.lines.length;
                                        r++
                                    ) {
                                        var o = this.lines[r];
                                        if (o.isFree(t, n))
                                            return o.addEvent(e, t, n, i, r), r;
                                    }
                                    var o = [];
                                    return (
                                        (o.isFree = function (e, t) {
                                            for (
                                                var n = !0, i = 0;
                                                i < this.length;
                                                i++
                                            ) {
                                                var a = this[i];
                                                e + t - 1 < a.part.colStart ||
                                                    e >
                                                        a.part.colStart +
                                                            a.part.colWidth -
                                                            1 ||
                                                    (n = !1);
                                            }
                                            return n;
                                        }),
                                        (o.addEvent = function (e, t, n, i, r) {
                                            (e.part.colStart = t),
                                                (e.part.colWidth = n),
                                                (e.part.row = i),
                                                (e.part.line = r),
                                                (e.part.startsHere =
                                                    a.start.getTime() <=
                                                    e.start().getTime()),
                                                (e.part.endsHere =
                                                    a.end.getTime() >=
                                                    e.end().getTime()),
                                                this.push(e);
                                        }),
                                        o.addEvent(
                                            e,
                                            t,
                                            n,
                                            i,
                                            this.lines.length
                                        ),
                                        this.lines.push(o),
                                        this.lines.length - 1
                                    );
                                }),
                                (l.getStart = function () {
                                    for (
                                        var e = 0, t = 0;
                                        t < a.rows.length && t < this.index;
                                        t++
                                    )
                                        e += a.rows[t].getHeight();
                                }),
                                (l.getHeight = function () {
                                    var e =
                                            "number" == typeof a.maxEvents
                                                ? a.maxEvents
                                                : 1e3,
                                        t = Math.min(e, this.lines.length);
                                    return Math.max(
                                        t * s.lineHeight() +
                                            a.cellHeaderHeight +
                                            a.cellMarginBottom,
                                        this.calendar.cellHeight
                                    );
                                }),
                                this.rows.push(l);
                        }
                        this.fh = this.firstDate.addDays(7 * n);
                    }),
                    (this.gh = function () {
                        switch (this.heightSpec) {
                            case "Auto":
                                for (
                                    var e = s.headerHeight(), t = 0;
                                    t < this.rows.length;
                                    t++
                                )
                                    e += this.rows[t].getHeight();
                                return e;
                            case "Fixed":
                                return this.height;
                        }
                    }),
                    (this.hh = function (e, t) {
                        return 7 * t.y + t.x - (7 * e.y + e.x) + 1;
                    }),
                    (this.Oe = {}),
                    (this.Oe.scope = null),
                    (this.Oe.notify = function () {
                        a.Oe.scope && a.Oe.scope["$apply"]();
                    }),
                    (this.debug = new DayPilot.Debug(this)),
                    (this.hd = function () {
                        var e = this.nav.top;
                        (this.nav.top.dp = this),
                            e.setAttribute("unselectable", "on"),
                            (e.style.MozUserSelect = "none"),
                            (e.style.KhtmlUserSelect = "none"),
                            (e.style.WebkitUserSelect = "none"),
                            (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
                            (e.style.WebkitTouchCallout = "none"),
                            (e.style.position = "relative"),
                            this.width && (e.style.width = this.width),
                            (e.onselectstart = function (e) {
                                return !1;
                            }),
                            (e.className = this.H("_main")),
                            this.hideUntilInit &&
                                (e.style.visibility = "hidden"),
                            this.visible || (e.style.display = "none"),
                            (e.onmousemove = this.nd),
                            DayPilot.reNonPassive(
                                e,
                                "touchstart",
                                r.onMainTouchStart
                            ),
                            DayPilot.reNonPassive(
                                e,
                                "touchmove",
                                r.onMainTouchMove
                            ),
                            DayPilot.rePassive(e, "touchend", r.onMainTouchEnd),
                            (this.Kg = document.createElement("div")),
                            (this.Kg.style.display = "none"),
                            this.nav.top.appendChild(this.Kg);
                        var t = document.createElement("div");
                        (t.style.position = "relative"),
                            (t.style.height = s.headerHeight() + "px"),
                            (t.oncontextmenu = function () {
                                return !1;
                            }),
                            this.nav.top.appendChild(t),
                            (this.nav.header = t);
                        var n = document.createElement("div");
                        n.style.zoom = "1";
                        var i = document.createElement("div");
                        (i.style.position = "relative"),
                            n.appendChild(i),
                            (this.nav.loading = document.createElement("div")),
                            (this.nav.loading.style.position = "absolute"),
                            (this.nav.loading.style.top = "0px"),
                            (this.nav.loading.style.left = "5px"),
                            (this.nav.loading.className = a.H("_loading")),
                            (this.nav.loading.innerHTML = a.ea(
                                this.loadingLabelText,
                                this.loadingLabelHtml
                            )),
                            (this.nav.loading.style.display = "none"),
                            this.nav.top.appendChild(n),
                            this.nav.top.appendChild(this.nav.loading),
                            (this.nav.scrollable = n),
                            (this.nav.events = i);
                    }),
                    (this.nd = function (e) {
                        (e.insideMainD = !0),
                            window.event &&
                                window.event.srcElement &&
                                (window.event.srcElement.inside = !0),
                            (a.coords = DayPilot.mo3(a.nav.events, e));
                        var n = a.coords;
                        if (n) {
                            var i = a.ch(n.x, n.y);
                            if (i) {
                                if (t.resizingEvent) {
                                    a.Yg();
                                    var r,
                                        o,
                                        s = t.resizingEvent;
                                    s.start;
                                    if ("w-resize" === s.direction) {
                                        o = i;
                                        var l = s.event.rawend();
                                        l.getDatePart().getTime() ===
                                            l.getTime() && (l = l.addDays(-1));
                                        var d = a.ih(l);
                                        r = a.hh(i, d);
                                    } else
                                        (o = a.ih(s.event.start())),
                                            (r = a.hh(o, i));
                                    r < 1 && (r = 1), a.Ug(o.x, o.y, 0, r);
                                } else if (t.movingEvent) {
                                    if (
                                        n.x === t.movingEvent.coords.x &&
                                        n.y === t.movingEvent.coords.y
                                    )
                                        return;
                                    var c = a.dh(i);
                                    a.Yg();
                                    var u = t.movingEvent.event,
                                        h = t.movingEvent.offset,
                                        r = a.cellMode
                                            ? 1
                                            : DayPilot.DateUtil.daysSpan(
                                                  u.start(),
                                                  u.rawend()
                                              ) + 1;
                                    r < 1 && (r = 1),
                                        a.Ug(i.x, i.y, c, r, h, u);
                                } else if (t.timeRangeSelecting) {
                                    (t.cancelCellClick = !0), a.Yg();
                                    var o = t.timeRangeSelecting,
                                        f = 7 * o.y + o.x,
                                        v = 7 * i.y + i.x,
                                        r = Math.abs(v - f) + 1;
                                    r < 1 && (r = 1);
                                    var p = f < v ? o : i;
                                    (t.timeRangeSelecting.from = {
                                        x: p.x,
                                        y: p.y,
                                    }),
                                        (t.timeRangeSelecting.width = r),
                                        (t.timeRangeSelecting.moved = !0),
                                        a.Ug(p.x, p.y, 0, r, 0, null);
                                }
                                if (t.drag) {
                                    if (
                                        (t.gShadow &&
                                            document.body.removeChild(
                                                t.gShadow
                                            ),
                                        (t.gShadow = null),
                                        !t.movingEvent)
                                    ) {
                                        var m = DayPilot.Date.today(),
                                            e = {
                                                id: t.drag.id,
                                                start: m,
                                                end: m.addSeconds(
                                                    t.drag.duration
                                                ),
                                                text: t.drag.text,
                                            },
                                            g = t.drag.data;
                                        if (g) {
                                            var b = [
                                                "duration",
                                                "element",
                                                "remove",
                                                "id",
                                                "text",
                                            ];
                                            for (var y in g)
                                                DayPilot.contains(b, y) ||
                                                    (e[y] = g[y]);
                                        }
                                        var u = new DayPilot.Event(e, a);
                                        u.external = !0;
                                        var w = (t.movingEvent = {});
                                        (w.event = u),
                                            (w.coords = n),
                                            (w.position = 0),
                                            (w.offset = 0),
                                            (w.external = !0),
                                            (w.removeElement = t.drag.element);
                                    }
                                    e.cancelBubble = !0;
                                }
                            }
                        }
                    }),
                    (this.dh = function (e) {
                        for (
                            var t = e.relativeY,
                                n = a.rows[e.y],
                                i = a.cellHeaderHeight,
                                r = s.lineHeight(),
                                o = n.lines.length,
                                l = 0;
                            l < n.lines.length;
                            l++
                        ) {
                            if (n.lines[l].isFree(e.x, 1)) {
                                o = l;
                                break;
                            }
                        }
                        var d = Math.floor((t - i + r / 2) / r),
                            d = Math.min(o, d),
                            d = Math.max(0, d);
                        return d;
                    }),
                    (this.message = function (e, t) {
                        if (null !== e && a.T) {
                            var n,
                                i = {};
                            "object" == typeof arguments[1]
                                ? ((i = arguments[1]), (n = i.delay))
                                : (n = t);
                            var r = "";
                            (r = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                                (n = n || this.messageHideAfter || 2e3);
                            var o,
                                l = s.headerHeight();
                            if (this.nav.message) o = a.nav.message;
                            else {
                                (o = document.createElement("div")),
                                    o.setAttribute("unselectable", "on"),
                                    (o.style.position = "absolute"),
                                    (o.style.right = "0px"),
                                    (o.style.left = "0px"),
                                    (o.style.top = l + "px"),
                                    (o.style.display = "none"),
                                    (o.onmousemove = function () {
                                        o.messageTimeout &&
                                            !o.status &&
                                            clearTimeout(o.messageTimeout);
                                    }),
                                    (o.onmouseout = function () {
                                        "none" !==
                                            a.nav.message.style.display &&
                                            (o.messageTimeout = setTimeout(
                                                a.qb,
                                                500
                                            ));
                                    });
                                var d = document.createElement("div");
                                d.setAttribute("unselectable", "on"),
                                    (d.onclick = function () {
                                        a.nav.message.style.display = "none";
                                    }),
                                    (d.className = this.H("_message")),
                                    o.appendChild(d);
                                var c = document.createElement("div");
                                c.setAttribute("unselectable", "on"),
                                    (c.style.position = "absolute"),
                                    (c.className = this.H("_message_close")),
                                    (c.onclick = function () {
                                        a.nav.message.style.display = "none";
                                    }),
                                    o.appendChild(c),
                                    this.nav.top.appendChild(o),
                                    (this.nav.message = o);
                            }
                            var u = function () {
                                if (a.nav.message) {
                                    var e = a.nav.message.firstChild;
                                    (e.className = a.H("_message")),
                                        i.cssClass &&
                                            DayPilot.Util.addClass(
                                                e,
                                                i.cssClass
                                            ),
                                        (e.innerHTML = r);
                                    var t = function () {
                                        o.messageTimeout = setTimeout(a.qb, n);
                                    };
                                    DayPilot.fade(a.nav.message, 0.2, t);
                                }
                            };
                            clearTimeout(o.messageTimeout),
                                "none" !== this.nav.message.style.display
                                    ? DayPilot.fade(a.nav.message, -0.2, u)
                                    : u();
                        }
                    }),
                    (this.message.show = function (e) {
                        a.message(e);
                    }),
                    (this.message.hide = function () {
                        a.qb();
                    }),
                    (this.qb = function () {
                        var e = function () {
                            a.nav.message.style.display = "none";
                        };
                        DayPilot.fade(a.nav.message, -0.2, e);
                    }),
                    (this.za = function (e) {
                        "Parent100Pct" === a.heightSpec && a.Xa();
                    }),
                    (this.Xa = function () {
                        var e = this.nav.scrollable;
                        if (
                            ("Parent100Pct" === this.heightSpec ||
                            "Fixed" === this.heightSpec
                                ? ((e.style.top = this.headerHeight + "px"),
                                  (e.style.bottom = "0px"),
                                  (e.style.left = "0px"),
                                  (e.style.right = "0px"),
                                  (e.style.overflow = "auto"),
                                  (e.style.position = "absolute"))
                                : (e.style.position = "relative"),
                            "Parent100Pct" === this.heightSpec)
                        ) {
                            this.nav.top.style.height = "100%";
                            this.nav.top.clientHeight;
                        } else this.nav.top.style.height = this.gh() + "px";
                        for (var t = 0; t < this.cells.length; t++)
                            for (var n = 0; n < this.cells[t].length; n++)
                                (this.cells[t][n].style.top =
                                    this.Vg(n) + "px"),
                                    (this.cells[t][n].style.height =
                                        this.rows[n].getHeight() + "px");
                        this.jh();
                    }),
                    (this.ch = function (e, t) {
                        for (
                            var n = Math.floor(
                                    this.nav.top.clientWidth / this.Rg()
                                ),
                                i = Math.min(Math.floor(e / n), this.Rg() - 1),
                                a = null,
                                r = 0,
                                o = 0,
                                s = 0,
                                l = 0;
                            l < this.rows.length;
                            l++
                        ) {
                            if (((o += this.rows[l].getHeight()), t < o)) {
                                (r = t - s), (a = l);
                                break;
                            }
                            s = o;
                        }
                        null === a && (a = this.rows.length - 1);
                        var d = {};
                        return (d.x = i), (d.y = a), (d.relativeY = r), d;
                    }),
                    (this.ih = function (e) {
                        for (
                            var t = DayPilot.DateUtil.daysDiff(
                                    this.firstDate,
                                    e
                                ),
                                n = { x: 0, y: 0 };
                            t >= 7;

                        )
                            n.y++, (t -= 7);
                        return (n.x = t), n;
                    }),
                    (this.jh = function () {
                        var e = DayPilot.sw(this.nav.scrollable);
                        this.nav.header.style.marginRight = e + "px";
                    });
                var o = null;
                (this.Ng = function () {
                    var e = this.nav.header,
                        t = this.nav.events;
                    this.cells = [];
                    for (var n = 0; n < this.Rg(); n++) {
                        this.cells[n] = [];
                        var i = this.headerProperties
                                ? this.headerProperties[n]
                                : null,
                            r = n + s.weekStarts();
                        if ((r > 6 && (r -= 7), !i)) {
                            var i = {};
                            i.html = s.locale().dayNames[r];
                        }
                        if ("function" == typeof a.onBeforeHeaderRender) {
                            var l = {};
                            (l.header = {}), (l.header.dayOfWeek = r);
                            var d = ["html", "backColor", "cssClass"];
                            DayPilot.Util.copyProps(i, l.header, d),
                                a.onBeforeHeaderRender(l),
                                DayPilot.Util.copyProps(l.header, i, d);
                        }
                        var c = document.createElement("div");
                        c.setAttribute("unselectable", "on"),
                            (c.style.position = "absolute"),
                            (c.style.left = this.Xg() * n + "%"),
                            (c.style.width = this.Xg() + "%"),
                            (c.style.top = "0px"),
                            (c.style.height = s.headerHeight() + "px"),
                            (function (e) {
                                c.onclick = function () {
                                    a.yb(e);
                                };
                            })(r);
                        var u = document.createElement("div");
                        u.setAttribute("unselectable", "on"),
                            (u.className = this.H("_header_inner")),
                            (u.innerHTML = i.html),
                            c.appendChild(u),
                            (c.className = this.H("_header")),
                            i &&
                                (i.cssClass &&
                                    DayPilot.Util.addClass(c, i.cssClass),
                                i.backColor &&
                                    (u.style.background = i.backColor)),
                            e.appendChild(c);
                        for (var h = 0; h < this.rows.length; h++)
                            this.bd(n, h, t);
                    }
                    if (
                        !DayPilot.contains(this.nav.top.childNodes, o) &&
                        DayPilot.Util.isNullOrUndefined(undefined)
                    ) {
                        var f = document.createElement("div");
                        (f.style.position = "absolute"),
                            (f.style.padding = "2px"),
                            (f.style.top = "0px"),
                            (f.style.left = "0px"),
                            (f.style.backgroundColor = "#FF6600"),
                            (f.style.color = "white"),
                            (f.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                            (o = f),
                            this.nav.top.appendChild(f);
                    }
                }),
                    (this.Mg = function () {
                        for (var e = 0; e < this.cells.length; e++)
                            for (var t = 0; t < this.cells[e].length; t++)
                                this.cells[e][t].onclick = null;
                        (this.nav.header.innerHTML = ""),
                            (this.nav.events.innerHTML = "");
                    }),
                    (this.bd = function (t, n, i) {
                        var r = this.rows[n],
                            o = this.firstDate.addDays(7 * n + t),
                            l = this.cellProperties
                                ? this.cellProperties[n * this.Rg() + t]
                                : null,
                            d = null;
                        if (l) d = l["headerHtml"];
                        else {
                            var c = o.getDay();
                            d =
                                1 === c
                                    ? s.locale().monthNames[o.getMonth()] +
                                      " " +
                                      c
                                    : c + "";
                        }
                        if (!l) {
                            var l = {};
                            (l.business = !a.isWeekend(o)),
                                (l.headerHtml = d),
                                (l.backColor = null),
                                (l.backImage = null),
                                (l.backRepeat = null),
                                (l.areas = null),
                                (l.headerBackColor = null),
                                (l.cssClass = null),
                                (l.html = null);
                        }
                        if ("function" == typeof a.onBeforeCellRender) {
                            var u = {};
                            (u.cell = {}),
                                (u.cell.start = o),
                                (u.cell.end = u.cell.start.addDays(1)),
                                (u.cell.properties = l),
                                (u.cell.events = function () {
                                    return a.events.forRange(
                                        u.cell.start,
                                        u.cell.end
                                    );
                                }),
                                a.onBeforeCellRender(u),
                                DayPilot.Util.copyProps(u.cell, l, [
                                    "areas",
                                    "backColor",
                                    "backImage",
                                    "backRepeat",
                                    "business",
                                    "headerHtml",
                                    "headerBackColor",
                                    "cssClass",
                                    "html",
                                ]);
                        }
                        var h = document.createElement("div");
                        h.setAttribute("unselectable", "on"),
                            (h.style.position = "absolute"),
                            (h.style.cursor = "default"),
                            (h.style.left = this.Xg() * t + "%"),
                            (h.style.width = this.Xg() + "%"),
                            (h.style.top = this.Vg(n) + "px"),
                            (h.style.height = r.getHeight() + "px"),
                            (h.d = o),
                            (h.x = t),
                            (h.y = n),
                            (h.props = l);
                        var f = this.startDate.addMonths(-1).getMonth(),
                            v = this.startDate.addMonths(1).getMonth(),
                            p = this.startDate.getMonth(),
                            m = document.createElement("div");
                        m.setAttribute("unselectable", "on"),
                            h.appendChild(m),
                            (m.className = this.H("_cell_inner")),
                            (m.className = this.H("_cell_inner")),
                            o.getMonth() === p
                                ? (h.className = this.H("_cell"))
                                : o.getMonth() === f
                                ? (h.className =
                                      this.H("_cell") +
                                      " " +
                                      this.H("_previous"))
                                : o.getMonth() === v
                                ? (h.className =
                                      this.H("_cell") + " " + this.H("_next"))
                                : e(),
                            l &&
                                (l["cssClass"] &&
                                    DayPilot.Util.addClass(h, l.cssClass),
                                l["business"] &&
                                    DayPilot.Util.addClass(
                                        h,
                                        this.H("_cell_business")
                                    ),
                                l["backColor"] &&
                                    (m.style.backgroundColor = l["backColor"]),
                                l["backImage"] &&
                                    (m.style.backgroundImage =
                                        "url('" + l["backImage"] + "')"),
                                l["backRepeat"] &&
                                    (m.style.backgroundRepeat =
                                        l["backRepeat"])),
                            (h.onmousedown = this.$b),
                            (h.onmousemove = this.kc),
                            (h.onmouseout = this.jc),
                            (h.oncontextmenu = this.kh),
                            (h.onclick = this.lh),
                            (h.ondblclick = this.mh);
                        var g = document.createElement("div");
                        if (
                            (g.setAttribute("unselectable", "on"),
                            (g.style.height = this.cellHeaderHeight + "px"),
                            l &&
                                l["headerBackColor"] &&
                                (g.style.background = l["headerBackColor"]),
                            (g.className = this.H("_cell_header")),
                            (g.innerHTML = l.headerHtml),
                            m.appendChild(g),
                            l && l["html"])
                        ) {
                            var b = document.createElement("div");
                            b.setAttribute("unselectable", "on"),
                                (b.style.height =
                                    r.getHeight() -
                                    this.cellHeaderHeight +
                                    "px"),
                                (b.style.overflow = "hidden"),
                                (b.innerHTML = l["html"]),
                                m.appendChild(b);
                        }
                        if (this.cellMode) {
                            var y = document.createElement("div");
                            y.setAttribute("unselectable", "on"),
                                (y.style.height =
                                    this.cellHeight -
                                    this.cellHeaderHeight +
                                    "px"),
                                (y.style.overflow = "auto"),
                                (y.style.position = "relative");
                            var w = document.createElement("div");
                            w.setAttribute("unselectable", "on"),
                                (w.style.paddingTop = "1px"),
                                (w.style.paddingBottom = "1px"),
                                y.appendChild(w),
                                m.appendChild(y),
                                (h.body = w),
                                (h.scrolling = y);
                        }
                        if (h.props)
                            for (
                                var x = h.props.areas || [], k = 0;
                                k < x.length;
                                k++
                            ) {
                                var C = x[k];
                                if (DayPilot.Areas.isVisible(C)) {
                                    var H = DayPilot.Areas.createArea(
                                        h,
                                        h.props,
                                        C
                                    );
                                    h.appendChild(H);
                                }
                            }
                        (this.cells[t][n] = h),
                            i.appendChild(h),
                            "function" == typeof a.onAfterCellRender &&
                                ((u.cell.div = h),
                                (u.cell.divHeader = g),
                                a.onAfterCellRender(u));
                    }),
                    (this.kc = function () {
                        var e = this;
                        e.props && DayPilot.Areas.showAreas(e, e.props);
                    }),
                    (this.jc = function (e) {
                        var t = this;
                        t.props && DayPilot.Areas.hideAreas(t, e);
                    }),
                    (this.kh = function () {
                        var e = this.d;
                        return (
                            (function (e) {
                                var t = new DayPilot.Date(e),
                                    n = t.addDays(1),
                                    i = new DayPilot.Selection(t, n, null, a);
                                a.contextMenuSelection &&
                                    a.contextMenuSelection.show(i);
                            })(e),
                            !1
                        );
                    }),
                    (this.mh = function () {
                        var e = this.d;
                        if (a.timeouts) {
                            for (var t in a.timeouts)
                                window.clearTimeout(a.timeouts[t]);
                            a.timeouts = null;
                        }
                        if ("Disabled" !== a.timeRangeDoubleClickHandling) {
                            var n = new DayPilot.Date(e),
                                i = n.addDays(1);
                            a.Tb(n, i);
                        }
                    }),
                    (this.lh = function () {
                        if (!t.cancelCellClick) {
                            var e = this.d,
                                n = function (e) {
                                    var t = new DayPilot.Date(e),
                                        n = t.addDays(1);
                                    a.Sb(t, n);
                                };
                            if (
                                "Disabled" !== a.timeRangeSelectedHandling &&
                                "Disabled" === a.timeRangeDoubleClickHandling
                            )
                                return void n(e);
                            a.timeouts || (a.timeouts = []);
                            var i = function (e) {
                                return function () {
                                    n(e);
                                };
                            };
                            a.timeouts.push(
                                window.setTimeout(i(e), a.doubleClickTimeout)
                            );
                        }
                    }),
                    (this.$b = function (e) {
                        var n = this,
                            i = n.x,
                            r = n.y;
                        if (((t.cancelCellClick = !1), n.scrolling)) {
                            var o = DayPilot.mo3(n.scrolling, e),
                                s = DayPilot.sw(n.scrolling),
                                l = n.scrolling.offsetWidth;
                            if (o.x > l - s) return;
                        }
                        "Disabled" !== a.timeRangeSelectedHandling &&
                            (a.Yg(),
                            (t.timeRangeSelecting = {
                                root: a,
                                x: i,
                                y: r,
                                from: { x: i, y: r },
                                width: 1,
                            }));
                    }),
                    (this.Rg = function () {
                        return this.showWeekend ? 7 : 5;
                    }),
                    (this.Xg = function () {
                        return this.showWeekend ? 14.285 : 20;
                    }),
                    (this.Vg = function (e) {
                        for (var t = 0, n = 0; n < e; n++)
                            t += this.rows[n].getHeight();
                        return t;
                    }),
                    (this.clearSelection = function () {
                        this.Yg();
                    }),
                    (this.ha = function (e, t, n) {
                        var i = {};
                        (i.action = e),
                            (i.parameters = n),
                            (i.data = t),
                            (i.header = this.ia());
                        var r = "JSON" + JSON.stringify(i);
                        __doPostBack(a.uniqueID, r);
                    }),
                    (this.ja = function (e, t, n, i) {
                        if (!this.J())
                            return void a.debug.message(
                                "Callback invoked without the server-side backend specified. Callback canceled.",
                                "warning"
                            );
                        "undefined" == typeof i && (i = "CallBack"), a.ka();
                        var r = {};
                        (r.action = e),
                            (r.type = i),
                            (r.parameters = t),
                            (r.data = n),
                            (r.header = this.ia());
                        var o = "JSON" + JSON.stringify(r);
                        this.backendUrl
                            ? DayPilot.request(
                                  this.backendUrl,
                                  this.la,
                                  o,
                                  this.ma
                              )
                            : "function" == typeof WebForm_DoCallback &&
                              WebForm_DoCallback(
                                  this.uniqueID,
                                  o,
                                  this.na,
                                  null,
                                  this.callbackError,
                                  !0
                              );
                    }),
                    (this.J = function () {
                        return (
                            ("javasc" !== a.V && a.V.indexOf("DCODE") === -1) ||
                            a.devsb
                        );
                    }),
                    (this.oa = function () {
                        return !(
                            "function" != typeof WebForm_DoCallback ||
                            !this.uniqueID
                        );
                    }),
                    (this.ma = function (e) {
                        if ("function" == typeof a.onAjaxError) {
                            var t = {};
                            (t.request = e), a.onAjaxError(t);
                        } else
                            "function" == typeof a.ajaxError && a.ajaxError(e);
                    }),
                    (this.la = function (e) {
                        a.na(e.responseText);
                    }),
                    (this.ia = function () {
                        var e = {};
                        return (
                            (e.v = this.v),
                            (e.control = "dpm"),
                            (e.id = this.id),
                            (e.visibleStart = new DayPilot.Date(
                                this.firstDate
                            )),
                            (e.visibleEnd = e.visibleStart.addDays(this.days)),
                            (e.clientState = this.clientState),
                            (e.cssClassPrefix = a.cssClassPrefix),
                            (e.startDate = a.startDate),
                            (e.showWeekend = this.showWeekend),
                            (e.locale = this.locale),
                            (e.timeFormat = this.timeFormat),
                            (e.weekStarts = this.weekStarts),
                            (e.viewType = this.viewType),
                            (e.weeks = this.weeks),
                            (e.selected = a.multiselect.events()),
                            (e.hashes = a.hashes),
                            e
                        );
                    }),
                    (this.visibleStart = function () {
                        return new DayPilot.Date(this.firstDate);
                    }),
                    (this.visibleEnd = function () {
                        return a.visibleStart().addDays(a.days);
                    }),
                    (this.Cb = function (e, t, n, i) {
                        if ("PostBack" === e) a.postBack2(t, n, i);
                        else if ("CallBack" === e) a.ja(t, n, i, "CallBack");
                        else if ("Immediate" === e) a.ja(t, n, i, "Notify");
                        else if ("Queue" === e)
                            a.queue.add(new DayPilot.Action(this, t, n, i));
                        else {
                            if ("Notify" !== e)
                                throw "Invalid event invocation type";
                            "Notify" === s.notifyType()
                                ? a.ja(t, n, i, "Notify")
                                : a.queue.add(new DayPilot.Action(a, t, n, i));
                        }
                    }),
                    (this.Ob = function (e, t) {
                        var n = a.Pb(t),
                            i = {};
                        (i.args = e), (i.guid = n), a.ja("Bubble", i);
                    }),
                    (this.Pb = function (e) {
                        var t = DayPilot.guid();
                        return (
                            this.bubbles || (this.bubbles = []),
                            (this.bubbles[t] = e),
                            t
                        );
                    }),
                    (this.eventClickPostBack = function (e, t) {
                        this.ha("EventClick", t, e);
                    }),
                    (this.eventClickCallBack = function (e, t) {
                        this.ja("EventClick", e, t);
                    }),
                    (this.rb = function (e, n) {
                        (t.movingEvent = null), (t.resizingEvent = null);
                        var n = n || window.event;
                        n.ctrlKey, n.metaKey;
                        if (
                            ((n.cancelBubble = !0),
                            n.stopPropagation && n.stopPropagation(),
                            "undefined" != typeof DayPilot.Bubble &&
                                DayPilot.Bubble.hideActive(),
                            "Disabled" === a.eventDoubleClickHandling)
                        )
                            return void a.sb(e, n);
                        if (a.timeouts) {
                            for (var i in a.timeouts)
                                window.clearTimeout(a.timeouts[i]);
                            a.timeouts = [];
                        } else a.timeouts = [];
                        var r = function (e, t) {
                            return function () {
                                a.sb(e, t);
                            };
                        };
                        a.timeouts.push(
                            window.setTimeout(r(e, n), a.doubleClickTimeout)
                        );
                    }),
                    (this.sb = function (e, t) {
                        var n = e.event;
                        if (n.client.clickEnabled()) {
                            var i = t.ctrlKey,
                                r = t.metaKey;
                            if (a.fb()) {
                                var o = {};
                                if (
                                    ((o.e = n),
                                    (o.control = a),
                                    (o.div = e),
                                    (o.originalEvent = t),
                                    (o.meta = t.metaKey),
                                    (o.ctrl = t.ctrlKey),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof a.onEventClick &&
                                        (a.onEventClick(o),
                                        o.preventDefault.value))
                                )
                                    return;
                                switch (a.eventClickHandling) {
                                    case "PostBack":
                                        a.eventClickPostBack(n);
                                        break;
                                    case "CallBack":
                                        a.eventClickCallBack(n);
                                        break;
                                    case "Select":
                                        a.ub(e, n, i, r);
                                        break;
                                    case "ContextMenu":
                                        var s = n.client.contextMenu();
                                        s
                                            ? s.show(n)
                                            : a.contextMenu &&
                                              a.contextMenu.show(n);
                                        break;
                                    case "Bubble":
                                        a.bubble && a.bubble.showEvent(n);
                                }
                                "function" == typeof a.onEventClicked &&
                                    a.onEventClicked(o);
                            } else
                                switch (a.eventClickHandling) {
                                    case "PostBack":
                                        a.eventClickPostBack(n);
                                        break;
                                    case "CallBack":
                                        a.eventClickCallBack(n);
                                        break;
                                    case "JavaScript":
                                        a.onEventClick(n);
                                        break;
                                    case "Select":
                                        a.ub(e, n, i, r);
                                        break;
                                    case "ContextMenu":
                                        var s = n.client.contextMenu();
                                        s
                                            ? s.show(n)
                                            : a.contextMenu &&
                                              a.contextMenu.show(n);
                                        break;
                                    case "Bubble":
                                        a.bubble && a.bubble.showEvent(n);
                                }
                        }
                    }),
                    (this.Bb = function (e) {
                        if (a.fb()) {
                            var t = {};
                            if (
                                ((t.e = e),
                                (t.control = a),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventDelete &&
                                    (a.onEventDelete(t),
                                    t.preventDefault.value))
                            )
                                return;
                            switch (a.eventDeleteHandling) {
                                case "PostBack":
                                    a.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventDeleteCallBack(e);
                                    break;
                                case "Update":
                                    a.events.remove(e);
                            }
                            "function" == typeof a.onEventDeleted &&
                                a.onEventDeleted(t);
                        } else
                            switch (a.eventDeleteHandling) {
                                case "PostBack":
                                    a.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventDeleteCallBack(e);
                                    break;
                                case "JavaScript":
                                    a.onEventDelete(e);
                            }
                    }),
                    (this.eventDeletePostBack = function (e, t) {
                        this.ha("EventDelete", e, t);
                    }),
                    (this.eventDeleteCallBack = function (e, t) {
                        this.ja("EventDelete", e, t);
                    }),
                    (this.eventDoubleClickPostBack = function (e, t) {
                        this.ha("EventDoubleClick", t, e);
                    }),
                    (this.eventDoubleClickCallBack = function (e, t) {
                        this.ja("EventDoubleClick", e, t);
                    }),
                    (this.vb = function (e, t) {
                        if (
                            ("undefined" != typeof DayPilot.Bubble &&
                                DayPilot.Bubble.hideActive(),
                            a.timeouts)
                        ) {
                            for (var n in a.timeouts)
                                window.clearTimeout(a.timeouts[n]);
                            a.timeouts = null;
                        }
                        var t = t || window.event,
                            i = e.event;
                        if (a.fb()) {
                            var r = {};
                            if (
                                ((r.e = i),
                                (r.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventDoubleClick &&
                                    (a.onEventDoubleClick(r),
                                    r.preventDefault.value))
                            )
                                return;
                            switch (a.eventDoubleClickHandling) {
                                case "PostBack":
                                    a.eventDoubleClickPostBack(i);
                                    break;
                                case "CallBack":
                                    a.eventDoubleClickCallBack(i);
                                    break;
                                case "Select":
                                    a.ub(e, i, t.ctrlKey, t.metaKey);
                                    break;
                                case "Bubble":
                                    a.bubble && a.bubble.showEvent(i);
                            }
                            "function" == typeof a.onEventDoubleClicked &&
                                a.onEventDoubleClicked(r);
                        } else
                            switch (a.eventDoubleClickHandling) {
                                case "PostBack":
                                    a.eventDoubleClickPostBack(i);
                                    break;
                                case "CallBack":
                                    a.eventDoubleClickCallBack(i);
                                    break;
                                case "JavaScript":
                                    a.onEventDoubleClick(i);
                                    break;
                                case "Select":
                                    a.ub(e, i, t.ctrlKey, t.metaKey);
                                    break;
                                case "Bubble":
                                    a.bubble && a.bubble.showEvent(i);
                            }
                    }),
                    (this.ub = function (e, t, n, i) {
                        a.Vb(e, t, n, i);
                    }),
                    (this.eventSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.ha("EventSelect", n, i);
                    }),
                    (this.eventSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.ja("EventSelect", i, n);
                    }),
                    (this.Vb = function (e, t, n, i) {
                        var r = a.multiselect,
                            o = r.isSelected(t);
                        if (n || i || !o || 1 !== r.list.length)
                            if (a.fb()) {
                                r.previous = r.events();
                                var s = {};
                                if (
                                    ((s.e = t),
                                    (s.selected = r.isSelected(t)),
                                    (s.ctrl = n),
                                    (s.meta = i),
                                    (s.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof a.onEventSelect &&
                                        (a.onEventSelect(s),
                                        s.preventDefault.value))
                                )
                                    return;
                                switch (a.eventSelectHandling) {
                                    case "PostBack":
                                        a.eventSelectPostBack(t, l);
                                        break;
                                    case "CallBack":
                                        "undefined" !=
                                            typeof WebForm_InitCallback &&
                                            ((window.Xb = ""),
                                            (window.Yb = []),
                                            WebForm_InitCallback()),
                                            a.eventSelectCallBack(t, l);
                                        break;
                                    case "Update":
                                        r.Zb(e, n);
                                }
                                "function" == typeof a.onEventSelected &&
                                    ((s.change = r.isSelected(t)
                                        ? "selected"
                                        : "deselected"),
                                    (s.selected = r.isSelected(t)),
                                    a.onEventSelected(s));
                            } else {
                                (r.previous = r.events()), r.Zb(e, n);
                                var l = r.isSelected(t)
                                    ? "selected"
                                    : "deselected";
                                switch (a.eventSelectHandling) {
                                    case "PostBack":
                                        a.eventSelectPostBack(t, l);
                                        break;
                                    case "CallBack":
                                        "undefined" !=
                                            typeof WebForm_InitCallback &&
                                            ((window.Xb = ""),
                                            (window.Yb = []),
                                            WebForm_InitCallback()),
                                            a.eventSelectCallBack(t, l);
                                        break;
                                    case "JavaScript":
                                        a.onEventSelect(t, l);
                                }
                            }
                    }),
                    (this.eventRightClickPostBack = function (e, t) {
                        this.ha("EventRightClick", t, e);
                    }),
                    (this.eventRightClickCallBack = function (e, t) {
                        this.ja("EventRightClick", e, t);
                    }),
                    (this.wb = function (e) {
                        if (((this.event = e), !e.client.rightClickEnabled()))
                            return !1;
                        if (a.fb()) {
                            var t = {};
                            if (
                                ((t.e = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventRightClick &&
                                    (a.onEventRightClick(t),
                                    t.preventDefault.value))
                            )
                                return;
                            switch (a.eventRightClickHandling) {
                                case "PostBack":
                                    a.eventRightClickPostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventRightClickCallBack(e);
                                    break;
                                case "ContextMenu":
                                    var n = e.client.contextMenu();
                                    n
                                        ? n.show(e)
                                        : a.contextMenu &&
                                          a.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    a.bubble && a.bubble.showEvent(e);
                            }
                            "function" == typeof a.onEventRightClicked &&
                                a.onEventRightClicked(t);
                        } else
                            switch (a.eventRightClickHandling) {
                                case "PostBack":
                                    a.eventRightClickPostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventRightClickCallBack(e);
                                    break;
                                case "JavaScript":
                                    a.onEventRightClick(e);
                                    break;
                                case "ContextMenu":
                                    var n = e.client.contextMenu();
                                    n
                                        ? n.show(e)
                                        : a.contextMenu &&
                                          a.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    a.bubble && a.bubble.showEvent(e);
                            }
                        return !1;
                    }),
                    (this.eventMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e),
                            (i.command = t),
                            this.ha("EventMenuClick", n, i);
                    }),
                    (this.eventMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e),
                            (i.command = t),
                            this.ja("EventMenuClick", i, n);
                    }),
                    (this.Qb = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                a.eventMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                a.eventMenuClickCallBack(t, e);
                        }
                    }),
                    (this.eventMovePostBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e),
                            (r.newStart = t),
                            (r.newEnd = n),
                            (r.position = a),
                            this.ha("EventMove", i, r);
                    }),
                    (this.eventMoveCallBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e),
                            (r.newStart = t),
                            (r.newEnd = n),
                            (r.position = a),
                            this.ja("EventMove", r, i);
                    }),
                    (this.Kb = function (e, t, n, i, r, o, s) {
                        var l = e.start().getTimePart(),
                            d = e.rawend().getDatePart();
                        d.getTime() !== e.rawend().getTime() &&
                            (d = d.addDays(1));
                        var c = DayPilot.DateUtil.diff(e.rawend(), d),
                            u = this.Zg(t, n);
                        u = u.addDays(-i);
                        var h =
                                DayPilot.DateUtil.daysSpan(
                                    e.start(),
                                    e.rawend()
                                ) + 1,
                            f = u.addDays(h),
                            v = u.addTime(l),
                            p = f.addTime(c);
                        if (((p = a.nh(p)), a.fb())) {
                            var m = {};
                            if (
                                ((m.e = e),
                                (m.control = a),
                                (m.newStart = v),
                                (m.newEnd = p),
                                (m.position = o),
                                (m.ctrl = !1),
                                (m.external = s),
                                r && (m.ctrl = r.ctrlKey),
                                (m.shift = !1),
                                r && (m.shift = r.shiftKey),
                                (m.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventMove &&
                                    (a.onEventMove(m), m.preventDefault.value))
                            )
                                return;
                            switch (a.eventMoveHandling) {
                                case "PostBack":
                                    a.eventMovePostBack(e, v, p, null, o);
                                    break;
                                case "CallBack":
                                    a.eventMoveCallBack(e, v, p, null, o);
                                    break;
                                case "Notify":
                                    a.eventMoveNotify(e, v, p, null, o);
                                    break;
                                case "Update":
                                    m.external
                                        ? (e.start(v),
                                          e.end(p),
                                          e.commit(),
                                          a.events.add(e))
                                        : (e.start(v),
                                          e.end(p),
                                          a.events.update(e)),
                                        a.Mb();
                            }
                            "function" == typeof a.onEventMoved &&
                                a.onEventMoved(m);
                        } else
                            switch (a.eventMoveHandling) {
                                case "PostBack":
                                    a.eventMovePostBack(e, v, p, null, o);
                                    break;
                                case "CallBack":
                                    a.eventMoveCallBack(e, v, p, null, o);
                                    break;
                                case "JavaScript":
                                    a.onEventMove(
                                        e,
                                        v,
                                        p,
                                        r.ctrlKey,
                                        r.shiftKey,
                                        o
                                    );
                                    break;
                                case "Notify":
                                    a.eventMoveNotify(e, v, p, null, o);
                            }
                    }),
                    (this.eventMoveNotify = function (e, t, n, i, r) {
                        var o = new DayPilot.Event(e.copy(), this);
                        e.start(t),
                            e.end(n),
                            e.commit(),
                            a.update(),
                            this.Nb("Notify", o, t, n, i, r);
                    }),
                    (this.Nb = function (e, t, n, i, a, r) {
                        var o = {};
                        (o.e = t),
                            (o.newStart = n),
                            (o.newEnd = i),
                            (o.position = r),
                            this.Cb(e, "EventMove", o, a);
                    }),
                    (this.eventResizePostBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e),
                            (a.newStart = t),
                            (a.newEnd = n),
                            this.ha("EventResize", i, a);
                    }),
                    (this.eventResizeCallBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e),
                            (a.newStart = t),
                            (a.newEnd = n),
                            this.ja("EventResize", a, i);
                    }),
                    (this.Gb = function (e, t, n) {
                        var i = e.start().getTimePart(),
                            r = e.rawend().getDatePart();
                        r != e.rawend() && (r = r.addDays(1));
                        var o = DayPilot.DateUtil.diff(e.rawend(), r),
                            s = this.Zg(t.x, t.y),
                            l = s.addDays(n),
                            d = s.addTime(i),
                            c = l.addTime(o);
                        if (((c = a.nh(c)), a.fb())) {
                            var u = {};
                            if (
                                ((u.e = e),
                                (u.control = a),
                                (u.newStart = d),
                                (u.newEnd = c),
                                (u.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventResize &&
                                    (a.onEventResize(u),
                                    u.preventDefault.value))
                            )
                                return;
                            switch (a.eventResizeHandling) {
                                case "PostBack":
                                    a.eventResizePostBack(e, d, c);
                                    break;
                                case "CallBack":
                                    a.eventResizeCallBack(e, d, c);
                                    break;
                                case "Notify":
                                    a.eventResizeNotify(e, d, c);
                                    break;
                                case "Update":
                                    e.start(d), e.end(c), a.events.update(e);
                            }
                            "function" == typeof a.onEventResized &&
                                a.onEventResized(u);
                        } else
                            switch (a.eventResizeHandling) {
                                case "PostBack":
                                    a.eventResizePostBack(e, d, c);
                                    break;
                                case "CallBack":
                                    a.eventResizeCallBack(e, d, c);
                                    break;
                                case "JavaScript":
                                    a.onEventResize(e, d, c);
                                    break;
                                case "Notify":
                                    a.eventResizeNotify(e, d, c);
                            }
                    }),
                    (this.eventResizeNotify = function (e, t, n, i) {
                        var r = new DayPilot.Event(e.copy(), this);
                        e.start(t),
                            e.end(n),
                            e.commit(),
                            a.update(),
                            this.Ib("Notify", r, t, n, i);
                    }),
                    (this.Ib = function (e, t, n, i, a) {
                        var r = {};
                        (r.e = t),
                            (r.newStart = n),
                            (r.newEnd = i),
                            this.Cb(e, "EventResize", r, a);
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n) {
                        var i = {};
                        (i.start = e),
                            (i.end = t),
                            this.ha("TimeRangeSelected", n, i);
                    }),
                    (this.timeRangeSelectedCallBack = function (e, t, n) {
                        var i = {};
                        (i.start = e),
                            (i.end = t),
                            this.ja("TimeRangeSelected", i, n);
                    }),
                    (this.Sb = function (e, t) {
                        if (((t = a.nh(t)), a.fb())) {
                            var n = {};
                            if (
                                ((n.start = e),
                                (n.end = t),
                                (n.control = a),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onTimeRangeSelect &&
                                    (a.onTimeRangeSelect(n),
                                    n.preventDefault.value))
                            )
                                return;
                            switch (a.timeRangeSelectedHandling) {
                                case "PostBack":
                                    a.timeRangeSelectedPostBack(e, t),
                                        a.clearSelection();
                                    break;
                                case "CallBack":
                                    a.timeRangeSelectedCallBack(e, t),
                                        a.clearSelection();
                            }
                            "function" == typeof a.onTimeRangeSelected &&
                                a.onTimeRangeSelected(n);
                        } else
                            switch (a.timeRangeSelectedHandling) {
                                case "PostBack":
                                    a.timeRangeSelectedPostBack(e, t),
                                        a.clearSelection();
                                    break;
                                case "CallBack":
                                    a.timeRangeSelectedCallBack(e, t),
                                        a.clearSelection();
                                    break;
                                case "JavaScript":
                                    a.onTimeRangeSelected(e, t);
                            }
                    }),
                    (this.timeRangeMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e),
                            (i.command = t),
                            this.ha("TimeRangeMenuClick", n, i);
                    }),
                    (this.timeRangeMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e),
                            (i.command = t),
                            this.ja("TimeRangeMenuClick", i, n);
                    }),
                    (this.Rb = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                a.timeRangeMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                a.timeRangeMenuClickCallBack(t, e);
                        }
                    }),
                    (this.headerClickPostBack = function (e, t) {
                        this.ha("HeaderClick", t, e);
                    }),
                    (this.headerClickCallBack = function (e, t) {
                        this.ja("HeaderClick", e, t);
                    }),
                    (this.yb = function (e) {
                        var t = (this.data, { day: e });
                        if (a.fb()) {
                            var n = {};
                            if (
                                ((n.header = {}),
                                (n.header.dayOfWeek = e),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onHeaderClick &&
                                    (a.onHeaderClick(n),
                                    n.preventDefault.value))
                            )
                                return;
                            switch (a.headerClickHandling) {
                                case "PostBack":
                                    a.headerClickPostBack(t);
                                    break;
                                case "CallBack":
                                    a.headerClickCallBack(t);
                            }
                            "function" == typeof a.onHeaderClicked &&
                                a.onHeaderClicked(n);
                        } else
                            switch (a.headerClickHandling) {
                                case "PostBack":
                                    a.headerClickPostBack(t);
                                    break;
                                case "CallBack":
                                    a.headerClickCallBack(t);
                                    break;
                                case "JavaScript":
                                    a.onHeaderClick(t);
                            }
                    }),
                    (this.timeRangeDoubleClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.start = e),
                            (i.end = t),
                            this.ha("TimeRangeDoubleClick", n, i);
                    }),
                    (this.timeRangeDoubleClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.start = e),
                            (i.end = t),
                            this.ja("TimeRangeDoubleClick", i, n);
                    }),
                    (this.Tb = function (e, t) {
                        if (a.fb()) {
                            var n = {};
                            if (
                                ((n.start = e),
                                (n.end = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onTimeRangeDoubleClick &&
                                    (a.onTimeRangeDoubleClick(n),
                                    n.preventDefault.value))
                            )
                                return;
                            switch (a.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    a.timeRangeDoubleClickPostBack(e, t);
                                    break;
                                case "CallBack":
                                    a.timeRangeDoubleClickCallBack(e, t);
                            }
                            "function" == typeof a.onTimeRangeDoubleClicked &&
                                a.onTimeRangeDoubleClicked(n);
                        } else
                            switch (a.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    a.timeRangeDoubleClickPostBack(e, t);
                                    break;
                                case "CallBack":
                                    a.timeRangeDoubleClickCallBack(e, t);
                                    break;
                                case "JavaScript":
                                    a.onTimeRangeDoubleClick(e, t);
                            }
                    }),
                    (this.commandCallBack = function (e, t) {
                        this.oh();
                        var n = {};
                        (n.command = e), this.ja("Command", n, t);
                    }),
                    (this.commandPostBack = function (e, t) {
                        this.oh();
                        var n = {};
                        (n.command = e), this.ha("Command", n, t);
                    }),
                    (this.Ne = function (e) {
                        for (var t = 0; t < a.elements.events.length; t++) {
                            var n = a.elements.events[t];
                            if (n.event === e || n.event.data === e.data)
                                return n;
                        }
                        return null;
                    }),
                    (this.bh = function (e) {
                        var t = {};
                        (t.list = []),
                            (t.forEach = function (e) {
                                if (e)
                                    for (var t = 0; t < this.list.length; t++)
                                        e(this.list[t]);
                            });
                        for (var n = 0; n < this.elements.events.length; n++) {
                            var i = this.elements.events[n];
                            i.event.data === e.data && t.list.push(i);
                        }
                        return t;
                    }),
                    (this.Te = function (e) {
                        var t = document.createElement("div");
                        (t.style.position = "absolute"),
                            (t.style.top = "-2000px"),
                            (t.style.left = "-2000px"),
                            (t.className = this.H(e)),
                            document.body.appendChild(t);
                        var n = t.offsetHeight,
                            i = t.offsetWidth;
                        document.body.removeChild(t);
                        var a = {};
                        return (a.height = n), (a.width = i), a;
                    }),
                    (this.ga = {});
                var s = this.ga;
                (s.fa = function () {
                    return "Disabled" !== a.xssProtection;
                }),
                    (s.clearCache = function () {
                        delete a.Q.eventHeight, delete a.Q.headerHeight;
                    }),
                    (s.lineHeight = function () {
                        return s.eventHeight() + a.lineSpace;
                    }),
                    (s.rounded = function () {
                        return "Rounded" === a.eventCorners;
                    }),
                    (s.loadFromServer = function () {
                        return !!a.backendUrl;
                    }),
                    (s.locale = function () {
                        return DayPilot.Locale.find(a.locale);
                    }),
                    (s.getWeekStart = function () {
                        return a.showWeekend ? a.weekStarts : 1;
                    }),
                    (s.weekStarts = function () {
                        if (!a.showWeekend) return 1;
                        if ("Auto" === a.weekStarts) {
                            var e = s.locale();
                            return e ? e.weekStarts : 0;
                        }
                        return a.weekStarts;
                    }),
                    (s.notifyType = function () {
                        var e;
                        if ("Immediate" === a.notifyCommit) e = "Notify";
                        else {
                            if ("Queue" !== a.notifyCommit)
                                throw (
                                    "Invalid notifyCommit value: " +
                                    a.notifyCommit
                                );
                            e = "Queue";
                        }
                        return e;
                    }),
                    (s.eventHeight = function () {
                        if (a.Q.eventHeight) return a.Q.eventHeight;
                        var e = a.Te("_event_height").height;
                        return (
                            e || (e = a.eventHeight), (a.Q.eventHeight = e), e
                        );
                    }),
                    (s.headerHeight = function () {
                        if (a.Q.headerHeight) return a.Q.headerHeight;
                        var e = a.Te("_header_height").height;
                        return (
                            e || (e = a.headerHeight), (a.Q.headerHeight = e), e
                        );
                    }),
                    (s.timeFormat = function () {
                        return "Auto" !== a.timeFormat
                            ? a.timeFormat
                            : s.locale().timeFormat;
                    }),
                    (this.me = function () {
                        var e = a.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.exportAs = function (e, t) {
                        if (!a.me())
                            throw new DayPilot.Exception(
                                "DayPilot.Month.exportAs(): The instance must be visible during export."
                            );
                        var n = l.generate(e, t);
                        return new DayPilot.Export(n);
                    }),
                    (this.Ue = {});
                var l = this.Ue;
                (l.Ve = null),
                    (l.We = null),
                    (l.generate = function (e, t) {
                        "object" == typeof e && ((t = e), (e = null));
                        var t = t || {},
                            e = e || t.format || "svg",
                            n = t.scale || 1;
                        if ("config" !== e) {
                            "jpg" === e.toLowerCase() && (e = "jpeg");
                            var i = t.area || "viewport";
                            (l.Ve = t), (l.We = i);
                            var r,
                                o = l.getWidth(),
                                d = l.getHeight();
                            switch (e.toLowerCase()) {
                                case "svg":
                                    r = new DayPilot.Svg(o, d);
                                    break;
                                case "png":
                                    r = new DayPilot.Canvas(
                                        o,
                                        d,
                                        "image/png",
                                        n
                                    );
                                    break;
                                case "jpeg":
                                    r = new DayPilot.Canvas(
                                        o,
                                        d,
                                        "image/jpeg",
                                        n,
                                        t.quality
                                    );
                                    break;
                                default:
                                    throw "Export format not supported: " + e;
                            }
                            var c = l.getRectangles(),
                                u = new DayPilot.StyleReader(a.nav.top).get(
                                    "background-color"
                                ),
                                h = new DayPilot.StyleReader(a.nav.top).get(
                                    "border-top-color"
                                ),
                                f = a.nav.header.firstChild.firstChild,
                                v = new DayPilot.StyleReader(f).get(
                                    "background-color"
                                ),
                                p = new DayPilot.StyleReader(f).getFont(),
                                m = new DayPilot.StyleReader(f).get("color"),
                                g = a.cells[0][0].firstChild,
                                b =
                                    (new DayPilot.StyleReader(g).get(
                                        "background-color"
                                    ),
                                    new DayPilot.StyleReader(g).get(
                                        "border-right-color"
                                    )),
                                y = (c.grid.w * a.Xg()) / 100,
                                w = 0;
                            r.fillRect(c.main, "white"),
                                r.fillRect(c.main, u),
                                DayPilot.list.for(a.Rg()).forEach(function (e) {
                                    var t = a.headerProperties
                                            ? a.headerProperties[e]
                                            : null,
                                        n = e + s.weekStarts();
                                    if ((n > 6 && (n -= 7), !t)) {
                                        var t = {};
                                        t.html = s.locale().dayNames[n];
                                    }
                                    var i = 0,
                                        o = y,
                                        l = s.headerHeight(),
                                        d = t.html,
                                        c = { x: w, y: i, w: o + 1, h: l + 1 },
                                        u = DayPilot.Util.copyProps(c),
                                        f = {};
                                    (f.header = {}),
                                        (f.header.dayOfWeek = n),
                                        (f.backColor = v),
                                        (f.text = d),
                                        (f.horizontalAlignment = "center"),
                                        (f.verticalAlignment = "center"),
                                        (f.fontSize = p.size),
                                        (f.fontFamily = p.family),
                                        (f.fontStyle = p.style),
                                        (f.fontColor = m),
                                        "function" ==
                                            typeof a.onBeforeHeaderExport &&
                                            a.onBeforeHeaderExport(f);
                                    var g = {
                                        size: f.fontSize,
                                        family: f.fontFamily,
                                        style: f.fontStyle,
                                    };
                                    r.fillRect(c, f.backColor),
                                        r.rect(c, h),
                                        r.text(
                                            u,
                                            f.text,
                                            g,
                                            f.fontColor,
                                            f.horizontalAlignment,
                                            0,
                                            f.verticalAlignment
                                        ),
                                        (w += o);
                                });
                            var x = c.grid.y;
                            l.getRows().forEach(function (e) {
                                var t = e.getHeight(),
                                    n = 0,
                                    i = a.rows.indexOf(e);
                                DayPilot.list.for(a.Rg()).forEach(function (e) {
                                    var o = a.cells[e][i],
                                        s = o.props,
                                        l = y,
                                        d = new DayPilot.StyleReader(
                                            a.cells[e][i].firstChild
                                        ).get("background-color"),
                                        c = a.cells[e][i].firstChild.firstChild,
                                        u = new DayPilot.StyleReader(
                                            c
                                        ).getFont(),
                                        h = new DayPilot.StyleReader(c).get(
                                            "color"
                                        ),
                                        f = new DayPilot.StyleReader(c).get(
                                            "background-color"
                                        ),
                                        v = a.firstDate.addDays(7 * i + e),
                                        p = {};
                                    (p.cell = {}),
                                        (p.cell.start = v),
                                        (p.cell.end = v.addDays(1)),
                                        (p.backColor = d),
                                        (p.text = s.headerHtml),
                                        (p.horizontalAlignment = "right"),
                                        "function" ==
                                            typeof a.onBeforeCellExport &&
                                            a.onBeforeCellExport(p);
                                    var m = { x: n, y: x, w: l + 1, h: t + 1 };
                                    r.fillRect(m, p.backColor), r.rect(m, b);
                                    var g = {
                                        x: n,
                                        y: x,
                                        w: l - 2,
                                        h: a.cellHeaderHeight,
                                    };
                                    r.fillRect(m, f),
                                        r.text(
                                            g,
                                            p.text,
                                            u,
                                            h,
                                            p.horizontalAlignment
                                        ),
                                        (n += l);
                                }),
                                    (x += t);
                            });
                            var k = 0;
                            return (
                                l.getRows().forEach(function (e) {
                                    var t = e.getHeight();
                                    DayPilot.list(e.lines).forEach(function (
                                        e
                                    ) {
                                        DayPilot.list(e).forEach(function (e) {
                                            var t = e.cache || e.data,
                                                n = l.fakeEvent();
                                            n.className += " " + t.cssClass;
                                            var i = n.firstChild,
                                                o = new DayPilot.StyleReader(
                                                    i
                                                ).get("border-right-color"),
                                                d = new DayPilot.StyleReader(
                                                    i
                                                ).getFont(),
                                                u = new DayPilot.StyleReader(
                                                    i
                                                ).get("color"),
                                                h = new DayPilot.StyleReader(
                                                    i
                                                ).getBackColor(),
                                                f = {};
                                            (f.left = new DayPilot.StyleReader(
                                                i
                                            ).getPx("padding-left")),
                                                (f.right =
                                                    new DayPilot.StyleReader(
                                                        i
                                                    ).getPx("padding-right")),
                                                (f.top =
                                                    new DayPilot.StyleReader(
                                                        i
                                                    ).getPx("padding-top")),
                                                (f.bottom =
                                                    new DayPilot.StyleReader(
                                                        i
                                                    ).getPx("padding-bottom")),
                                                DayPilot.de(n);
                                            var v = t.backColor || h,
                                                p = {};
                                            (p.e = e),
                                                (p.text = e.text
                                                    ? e.text()
                                                    : e.client.html()),
                                                (p.fontSize = d.size),
                                                (p.fontFamily = d.family),
                                                (p.fontStyle = d.style),
                                                (p.fontColor =
                                                    t.fontColor || u),
                                                (p.backColor =
                                                    t.backColor || v),
                                                (p.borderColor = o),
                                                (p.horizontalAlignment =
                                                    "left"),
                                                "function" ==
                                                    typeof a.onBeforeEventExport &&
                                                    a.onBeforeEventExport(p);
                                            var m = y * e.part.colStart,
                                                g = y * e.part.colWidth,
                                                b =
                                                    k +
                                                    a.cellHeaderHeight +
                                                    e.part.line *
                                                        s.lineHeight() +
                                                    c.grid.y +
                                                    2,
                                                w = s.eventHeight(),
                                                x = 2,
                                                C = {
                                                    x: m + x,
                                                    y: b,
                                                    w: g + 1 - 4,
                                                    h: w,
                                                },
                                                H = DayPilot.Util.copyProps(C);
                                            (H.x += f.left),
                                                (H.w -= f.left + f.right),
                                                (H.y += f.top),
                                                (H.h -= f.top + f.bottom),
                                                r.fillRect(C, p.backColor),
                                                r.text(
                                                    H,
                                                    p.text,
                                                    {
                                                        size: p.fontSize,
                                                        family: p.fontFamily,
                                                        style: p.fontStyle,
                                                    },
                                                    p.fontColor,
                                                    p.horizontalAlignment
                                                ),
                                                r.rect(C, p.borderColor);
                                        });
                                    }),
                                        (k += t);
                                }),
                                r.rect(c.main, h),
                                r.line(c.grid.x, 0, c.grid.x, c.main.h, h),
                                r.line(0, c.grid.y, c.main.w, c.grid.y, h),
                                r
                            );
                        }
                    }),
                    (l.fakeEvent = function () {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"),
                            (e.style.top = "-2000px"),
                            (e.style.left = "-2000px"),
                            (e.style.display = "none"),
                            (e.className = a.H("_event"));
                        var t = document.createElement("div");
                        return (
                            (t.className = a.H("_event_inner")),
                            e.appendChild(t),
                            a.nav.events.appendChild(e),
                            e
                        );
                    }),
                    (l.fakeCell = function () {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"),
                            (e.style.top = "-2000px"),
                            (e.style.left = "-2000px"),
                            (e.style.display = "none"),
                            (e.className = a.H("_cell"));
                        var t = document.createElement("div");
                        return (
                            (t.className = a.H("_cell_inner")),
                            e.appendChild(t),
                            a.nav.events.appendChild(e),
                            e
                        );
                    }),
                    (l.getWidth = function () {
                        var e = l.We,
                            t =
                                Math.floor(a.nav.top.clientWidth / a.Rg()) *
                                a.Rg();
                        switch (e) {
                            case "viewport":
                            case "full":
                            case "range":
                                return "number" == typeof l.Ve.width
                                    ? l.Ve.width
                                    : t;
                            default:
                                throw "Unsupported export mode: " + e;
                        }
                    }),
                    (l.getHeight = function () {
                        var e = l.We;
                        switch (e) {
                            case "viewport":
                            case "full":
                                return a.nav.top.clientHeight;
                            case "range":
                                var t = s.headerHeight();
                                return (
                                    l.getRows().forEach(function (e) {
                                        t += e.getHeight();
                                    }),
                                    t
                                );
                            default:
                                throw "Unsupported export mode: " + e;
                        }
                    }),
                    (l.getRows = function () {
                        var e = new DayPilot.Date(
                                l.Ve.dateFrom || a.visibleStart()
                            ),
                            t = new DayPilot.Date(
                                l.Ve.dateTo || a.visibleEnd()
                            );
                        return a.rows.filter(function (n) {
                            return (
                                "range" !== l.We ||
                                DayPilot.Util.overlaps(n.start, n.end, e, t)
                            );
                        });
                    }),
                    (l.getRectangles = function () {
                        var e = s.headerHeight(),
                            t = {};
                        return (
                            (t.main = {
                                x: 0,
                                y: 0,
                                w: l.getWidth(),
                                h: l.getHeight(),
                            }),
                            (t.grid = {
                                x: 0,
                                y: e,
                                w: l.getWidth(),
                                h: l.getHeight() - e,
                            }),
                            t
                        );
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.initList = []),
                    (this.multiselect.list = []),
                    (this.multiselect.divs = []),
                    (this.multiselect.previous = []),
                    (this.multiselect.xc = function () {
                        var e = a.multiselect;
                        return JSON.stringify(e.events());
                    }),
                    (this.multiselect.events = function () {
                        var e = a.multiselect,
                            t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.list.length; n++)
                            t.push(e.list[n]);
                        return t;
                    }),
                    (this.multiselect.yc = function () {}),
                    (this.multiselect.Zb = function (e, t) {
                        var n = a.multiselect;
                        if (n.isSelected(e.event))
                            if (a.allowMultiSelect)
                                if (t) n.remove(e.event, !0);
                                else {
                                    var i = n.list.length;
                                    n.clear(!0), i > 1 && n.add(e.event, !0);
                                }
                            else n.clear(!0);
                        else
                            a.allowMultiSelect && t
                                ? n.add(e.event, !0)
                                : (n.clear(!0), n.add(e.event, !0));
                        n.redraw(), n.yc();
                    }),
                    (this.multiselect.zc = function (e) {
                        var t = a.multiselect;
                        return t.Ac(e, t.initList);
                    }),
                    (this.multiselect.Bc = function () {
                        for (
                            var e = a.multiselect, t = [], n = 0;
                            n < e.list.length;
                            n++
                        ) {
                            var i = e.list[n];
                            t.push(i.value());
                        }
                        alert(t.join("\n"));
                    }),
                    (this.multiselect.add = function (e, t) {
                        var n = a.multiselect;
                        n.Cc(e) === -1 && n.list.push(e), t || n.redraw();
                    }),
                    (this.multiselect.remove = function (e, t) {
                        var n = a.multiselect,
                            i = n.Cc(e);
                        i !== -1 && n.list.splice(i, 1);
                    }),
                    (this.multiselect.clear = function (e) {
                        var t = a.multiselect;
                        (t.list = []), e || t.redraw();
                    }),
                    (this.multiselect.redraw = function () {
                        for (
                            var e = a.multiselect, t = 0;
                            t < a.elements.events.length;
                            t++
                        ) {
                            var n = a.elements.events[t];
                            e.isSelected(n.event) ? e.Dc(n) : e.Ec(n);
                        }
                    }),
                    (this.multiselect.Dc = function (e) {
                        var t = a.multiselect,
                            n = a.H("_selected"),
                            e = t.Fc(e);
                        DayPilot.Util.addClass(e, n), t.divs.push(e);
                    }),
                    (this.multiselect.Fc = function (e) {
                        return e;
                    }),
                    (this.multiselect.Gc = function () {
                        for (
                            var e = a.multiselect, t = 0;
                            t < e.divs.length;
                            t++
                        ) {
                            var n = e.divs[t];
                            e.Ec(n, !0);
                        }
                        e.divs = [];
                    }),
                    (this.multiselect.Ec = function (e, t) {
                        var n = a.multiselect,
                            i = a.H("_selected"),
                            r = n.Fc(e);
                        if (
                            (r &&
                                r.className &&
                                r.className.indexOf(i) !== -1 &&
                                (r.className = r.className.replace(i, "")),
                            !t)
                        ) {
                            var o = DayPilot.indexOf(n.divs, e);
                            o !== -1 && n.divs.splice(o, 1);
                        }
                    }),
                    (this.multiselect.isSelected = function (e) {
                        return a.multiselect.Ac(e, a.multiselect.list);
                    }),
                    (this.multiselect.Cc = function (e) {
                        for (
                            var t = e.data, n = 0;
                            n < a.multiselect.list.length;
                            n++
                        ) {
                            var i = a.multiselect.list[n];
                            if (a.Hc(i.data, t)) return n;
                        }
                        return -1;
                    }),
                    (this.multiselect.Ac = function (e, t) {
                        if (!t) return !1;
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (a.Hc(e, i)) return !0;
                        }
                        return !1;
                    }),
                    (this.Hc = function (e, t) {
                        return DayPilot.Util.isSameEvent(e, t);
                    }),
                    (this.events.forRange = function (e, t) {
                        return (
                            (e = new DayPilot.Date(e)),
                            (t = new DayPilot.Date(t)),
                            DayPilot.list(a.events.list)
                                .filter(function (n) {
                                    var i = new DayPilot.Date(n.start),
                                        a = new DayPilot.Date(n.end);
                                    return (
                                        (i === a && i === e) ||
                                        DayPilot.Util.overlaps(e, t, i, a)
                                    );
                                })
                                .map(function (e) {
                                    return new DayPilot.Event(e, a);
                                })
                        );
                    }),
                    (this.events.find = function (e) {
                        if (
                            !a.events.list ||
                            "undefined" == typeof a.events.list.length
                        )
                            return null;
                        for (var t = a.events.list.length, n = 0; n < t; n++)
                            if (a.events.list[n].id === e)
                                return new DayPilot.Event(a.events.list[n], a);
                        return null;
                    }),
                    (this.events.findRecurrent = function (e, t) {
                        if (
                            !a.events.list ||
                            "undefined" == typeof a.events.list.length
                        )
                            return null;
                        for (var n = a.events.list.length, i = 0; i < n; i++)
                            if (
                                a.events.list[i].recurrentMasterId === e &&
                                a.events.list[i].start.getTime() === t.getTime()
                            )
                                return new DayPilot.Event(a.events.list[i], a);
                        return null;
                    }),
                    (this.events.update = function (e, t) {
                        var n = {};
                        (n.oldEvent = new DayPilot.Event(e.copy(), a)),
                            (n.newEvent = new DayPilot.Event(e.temp(), a));
                        var i = new DayPilot.Action(a, "EventUpdate", n, t);
                        return e.commit(), a.T && a.update(), a.Oe.notify(), i;
                    }),
                    (this.events.remove = function (e, t) {
                        var n = {};
                        n.e = new DayPilot.Event(e.data, a);
                        var i = new DayPilot.Action(a, "EventRemove", n, t),
                            r = DayPilot.indexOf(a.events.list, e.data);
                        return (
                            a.events.list.splice(r, 1),
                            a.T && a.update(),
                            a.Oe.notify(),
                            i
                        );
                    }),
                    (this.events.add = function (e, t) {
                        e instanceof DayPilot.Event ||
                            (e = new DayPilot.Event(e)),
                            (e.calendar = a),
                            a.events.list || (a.events.list = []),
                            a.events.list.push(e.data);
                        var n = {};
                        n.e = e;
                        var i = new DayPilot.Action(a, "EventAdd", n, t);
                        return a.T && a.update(), a.Oe.notify(), i;
                    }),
                    (this.events.filter = function (e) {
                        (a.events.Je = e), a.Lc();
                    }),
                    (this.events.load = function (e, t, n) {
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            r = function (e) {
                                var n,
                                    r = e.request;
                                try {
                                    n = JSON.parse(r.responseText);
                                } catch (e) {
                                    var o = {};
                                    return (o.exception = e), void i(o);
                                }
                                if (DayPilot.isArray(n)) {
                                    var s = {};
                                    if (
                                        ((s.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (s.data = n),
                                        "function" == typeof t && t(s),
                                        s.preventDefault.value)
                                    )
                                        return;
                                    (a.events.list = n), a.T && a.update();
                                }
                            };
                        if (
                            a.eventsLoadMethod &&
                            "POST" === a.eventsLoadMethod.toUpperCase()
                        )
                            DayPilot.ajax({
                                method: "POST",
                                data: {
                                    start: a.visibleStart().toString(),
                                    end: a.visibleEnd().toString(),
                                },
                                url: e,
                                success: r,
                                error: i,
                            });
                        else {
                            var o = e,
                                s =
                                    "start=" +
                                    a.visibleStart().toString() +
                                    "&end=" +
                                    a.visibleEnd().toString();
                            (o += o.indexOf("?") > -1 ? "&" + s : "?" + s),
                                DayPilot.ajax({
                                    method: "GET",
                                    url: o,
                                    success: r,
                                    error: i,
                                });
                        }
                    }),
                    (this.queue = {}),
                    (this.queue.list = []),
                    (this.queue.list.ignoreToJSON = !0),
                    (this.queue.add = function (e) {
                        if (e) {
                            if (!e.isAction)
                                throw "DayPilot.Action object required for queue.add()";
                            a.queue.list.push(e);
                        }
                    }),
                    (this.queue.notify = function (e) {
                        var t = {};
                        (t.actions = a.queue.list),
                            a.ja("Notify", t, e, "Notify"),
                            (a.queue.list = []);
                    }),
                    (this.queue.clear = function () {
                        a.queue.list = [];
                    }),
                    (this.queue.pop = function () {
                        return a.queue.list.pop();
                    }),
                    (this.nh = function (e) {
                        return "DateTime" === a.eventEndSpec
                            ? e
                            : e.getDatePart().ticks === e.ticks
                            ? e.addDays(-1)
                            : e.getDatePart();
                    }),
                    (this.Qg = function (e) {
                        return "DateTime" === a.eventEndSpec
                            ? e
                            : e.getDatePart().addDays(1);
                    }),
                    (this.ph = function (e) {
                        return "DateTime" === a.eventEndSpec
                            ? e
                            : e.getDatePart();
                    }),
                    (this.eb = function (e) {
                        if (
                            (e && (this.autoRefreshEnabled = !0),
                            this.autoRefreshEnabled &&
                                !(this.S >= this.autoRefreshMaxCount))
                        ) {
                            this.oh();
                            var t = this.autoRefreshInterval;
                            if (!t || t < 10)
                                throw "The minimum autoRefreshInterval is 10 seconds";
                            this.autoRefreshTimeout = window.setTimeout(
                                function () {
                                    a.qe();
                                },
                                1e3 * this.autoRefreshInterval
                            );
                        }
                    }),
                    (this.oh = function () {
                        this.autoRefreshTimeout &&
                            window.clearTimeout(this.autoRefreshTimeout);
                    }),
                    (this.qe = function () {
                        if (
                            !t.eventResizing &&
                            !t.eventMoving &&
                            !t.timeRangeSelecting
                        ) {
                            var e = !1;
                            if ("function" == typeof this.onAutoRefresh) {
                                var n = {};
                                (n.i = this.S),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    a.onAutoRefresh(n),
                                    n.preventDefault.value && (e = !0);
                            }
                            !e &&
                                this.J() &&
                                this.commandCallBack(this.autoRefreshCommand),
                                this.S++;
                        }
                        this.S < this.autoRefreshMaxCount &&
                            (this.autoRefreshTimeout = window.setTimeout(
                                function () {
                                    a.qe();
                                },
                                1e3 * this.autoRefreshInterval
                            ));
                    }),
                    (this.Lc = function (e) {
                        if (this.cells) {
                            var e = e || {},
                                t = !e.eventsOnly;
                            a.cssOnly || (a.cssOnly = !0),
                                a.ra(),
                                a.Lg(),
                                a.Pa(),
                                t && (a.ga.clearCache(), a.Mg(), a.Ng()),
                                a.Xa(),
                                a._a(),
                                a.ab(),
                                this.visible ? this.show() : this.hide();
                        }
                    }),
                    (this.update = function (e) {
                        if (!a.T)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Month instance that hasn't been initialized yet."
                            );
                        if (a.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Month instance that has been disposed."
                            );
                        this.Re(e), this.Lc();
                    }),
                    (this.dispose = function () {
                        var e = a;
                        e.nav.top &&
                            (e.oh(),
                            e.ra(),
                            e.nav.top.removeAttribute("style"),
                            e.nav.top.removeAttribute("class"),
                            (e.nav.top.innerHTML = ""),
                            (e.nav.top.dp = null),
                            (e.nav.top.onmousemove = null),
                            DayPilot.ue(
                                e.nav.top,
                                "touchstart",
                                r.onMainTouchStart
                            ),
                            DayPilot.ue(
                                e.nav.top,
                                "touchmove",
                                r.onMainTouchMove
                            ),
                            DayPilot.ue(
                                e.nav.top,
                                "touchend",
                                r.onMainTouchEnd
                            ),
                            (e.nav.top = null),
                            DayPilot.ue(window, "resize", e.za),
                            t.unregister(e),
                            "undefined" != typeof DayPilot.Bubble &&
                                (DayPilot.Bubble.cancelShowing(),
                                DayPilot.Bubble.hide({ calendar: e })),
                            "undefined" != typeof DayPilot.Menu &&
                                DayPilot.Menu.hide({ calendar: e }));
                    }),
                    (this.ve = function () {
                        t.globalHandlers ||
                            ((t.globalHandlers = !0),
                            DayPilot.re(document, "mousemove", t.gMouseMove),
                            DayPilot.re(document, "mouseup", t.gMouseUp)),
                            DayPilot.re(window, "resize", this.za);
                    }),
                    (this.Ca = function () {
                        e();
                    }),
                    (this.Mb = function () {
                        if (a.todo && a.todo.del) {
                            var e = a.todo.del;
                            e.parentNode.removeChild(e), (a.todo.del = null);
                        }
                    }),
                    (this.ed = function () {
                        switch (a.V) {
                            case "aspnet":
                                if (!this.oa())
                                    throw new DayPilot.Exception(
                                        "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                                    );
                                break;
                            case "netmvc":
                                if (!this.backendUrl)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                                    );
                                break;
                            case "javaxx":
                                if (!this.backendUrl)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                                    );
                        }
                    }),
                    (this._a = function () {
                        "hidden" === this.nav.top.style.visibility &&
                            (this.nav.top.style.visibility = "visible");
                    }),
                    (this.show = function () {
                        (a.visible = !0), (a.nav.top.style.display = "");
                    }),
                    (this.hide = function () {
                        (a.visible = !1), (a.nav.top.style.display = "none");
                    }),
                    (this.Ye = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id)
                                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
                            if (
                                ((this.nav.top = document.getElementById(
                                    this.id
                                )),
                                !this.nav.top)
                            )
                                throw (
                                    "DayPilot.Month: The placeholder element not found: '" +
                                    n +
                                    "'."
                                );
                        }
                        (function (s, t, u) {
                            var r = [];
                            for (var i = 0; i < s.length; i++) {
                                r.push(s.charCodeAt(i) - 1);
                            }
                            return new Function(
                                "t",
                                "u",
                                String.fromCharCode.apply(this, r)
                            )(t, u);
                        })(
                            "wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                            this,
                            this.nav.top
                        );
                    }),
                    (this.Ze = function () {
                        this.Ye(),
                            this.Lg(),
                            this.hd(),
                            this.Ng(),
                            this.Xa(),
                            this.ve(),
                            this.eb(),
                            this.ja("Init"),
                            t.register(this);
                    }),
                    (this.init = function () {
                        if (this.T)
                            throw new DayPilot.Exception(
                                "This instance is already initialized. Use update() to change properties."
                            );
                        if ((this.Ye(), this.nav.top.dp)) {
                            if (this.nav.top.dp === a) return a;
                            if (this.oa()) return a;
                            throw new DayPilot.Exception(
                                "The target placeholder was already initialized by another DayPilot component instance."
                            );
                        }
                        this.ed();
                        var e = s.loadFromServer();
                        return (
                            a.cssOnly ||
                                ((a.cssOnly = !0),
                                window.console &&
                                    window.console.log &&
                                    window.console.log(
                                        "DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."
                                    )),
                            e
                                ? (this.Ze(), (this.T = !0), this)
                                : (this.Lg(),
                                  this.Pa(),
                                  this.hd(),
                                  this.Ng(),
                                  this._a(),
                                  this.ab(),
                                  this.Xa(),
                                  this.ve(),
                                  this.messageHTML &&
                                      window.setTimeout(function () {
                                          a.message(a.messageHTML);
                                      }, 0),
                                  this.Ka(null, !1),
                                  a.initEventEnabled &&
                                      setTimeout(function () {
                                          a.ja("Init");
                                      }),
                                  this.eb(),
                                  t.register(this),
                                  (this.T = !0),
                                  this.$e(),
                                  this)
                        );
                    }),
                    (this._e = null),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (a.events.list = e.list)
                                                : (a.events.list = e));
                                    },
                                },
                            };
                            this._e = t;
                            for (var n in e)
                                if (t[n]) {
                                    var i = t[n];
                                    (i.data = e[n]), i.preInit && i.preInit();
                                } else a[n] = e[n];
                        }
                    }),
                    (this.$e = function () {
                        var e = this._e;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return a.T;
                    }),
                    (this.internal.invokeEvent = this.Cb),
                    (this.internal.eventMenuClick = this.Qb),
                    (this.internal.timeRangeMenuClick = this.Rb),
                    (this.internal.bubbleCallBack = this.Ob),
                    (this.internal.findEventDiv = this.Ne),
                    (this.internal.adjustEndIn = this.Qg),
                    (this.internal.xssTextHtml = a.ea),
                    (this.internal.touch = a.$c),
                    (this.Init = this.init),
                    this.Re(i);
            }),
                (DayPilot.Month.makeDraggable = function (e) {
                    function n() {
                        var n = e.duration || 60;
                        n instanceof DayPilot.Duration &&
                            (n = n.totalSeconds());
                        var i = (t.drag = {});
                        (i.element = a),
                            (i.id = e.id),
                            (i.duration = n),
                            (i.text = e.text || ""),
                            (i.data = e),
                            (i.shadowType = "Fill");
                    }
                    var i = e.element,
                        a = e.keepElement ? null : i;
                    e.duration || 1;
                    navigator.msPointerEnabled &&
                        ((i.style.msTouchAction = "none"),
                        (i.style.touchAction = "none"));
                    var r = function (e) {
                            n();
                            var t = e.target || e.srcElement;
                            if (t.tagName) {
                                var i = t.tagName.toLowerCase();
                                if (
                                    "textarea" === i ||
                                    "select" === i ||
                                    "input" === i
                                )
                                    return !1;
                            }
                            return e.preventDefault && e.preventDefault(), !1;
                        },
                        o = function (e) {
                            if (!DayPilot.Util.isMouseEvent(e)) {
                                window.setTimeout(function () {
                                    n(), t.gTouchMove(e), e.preventDefault();
                                }, 0),
                                    e.preventDefault();
                            }
                        };
                    DayPilot.us(i),
                        DayPilot.re(i, "mousedown", r),
                        DayPilot.re(i, DayPilot.touch.start, o),
                        (i.cancelDraggable = function () {
                            DayPilot.ue(i, "mousedown", r),
                                DayPilot.ue(i, DayPilot.touch.start, o),
                                delete i.cancelDraggable;
                        });
                }),
                (t.createGShadow = function () {
                    var e = document.createElement("div");
                    return (
                        e.setAttribute("unselectable", "on"),
                        (e.style.position = "absolute"),
                        (e.style.width = "100px"),
                        (e.style.height = "20px"),
                        (e.style.border = "2px dotted #666666"),
                        (e.style.zIndex = 101),
                        (e.style.pointerEvents = "none"),
                        (e.style.backgroundColor = "#aaaaaa"),
                        (e.style.opacity = 0.5),
                        (e.style.filter = "alpha(opacity=50)"),
                        (e.style.border = "2px solid #aaaaaa"),
                        document.body.appendChild(e),
                        e
                    );
                }),
                (t.gMouseMove = function (e) {
                    if (
                        "undefined" != typeof t &&
                        !(
                            e.insideMainD ||
                            (e.srcElement && e.srcElement.inside)
                        )
                    ) {
                        var n = DayPilot.mc(e);
                        if (t.drag) {
                            (document.body.style.cursor = "move"),
                                t.gShadow || (t.gShadow = t.createGShadow());
                            var i = t.gShadow;
                            (i.style.left = n.x + "px"),
                                (i.style.top = n.y + "px"),
                                (t.movingEvent = null),
                                DayPilot.de(t.movingShadow),
                                (t.movingShadow = null);
                        }
                        for (var a = 0; a < t.registered.length; a++)
                            t.registered[a].Ca && t.registered[a].Ca();
                    }
                }),
                (t.register = function (e) {
                    t.registered || (t.registered = []);
                    for (var n = 0; n < t.registered.length; n++)
                        if (t.registered[n] === e) return;
                    t.registered.push(e);
                }),
                (t.unregister = function (e) {
                    var n = t.registered;
                    if (n) {
                        var i = DayPilot.indexOf(n, e);
                        i !== -1 && n.splice(i, 1),
                            0 === n.length && (n = null);
                    }
                    n ||
                        (DayPilot.ue(document, "mouseup", t.gMouseUp),
                        (t.globalHandlers = !1));
                }),
                (t.gMouseUp = function (e) {
                    function n() {
                        t.drag &&
                            ((t.drag = null),
                            (document.body.style.cursor = "")),
                            t.gShadow &&
                                (document.body.removeChild(t.gShadow),
                                (t.gShadow = null));
                    }
                    if ((n(), t.movingEvent)) {
                        var i = t.movingEvent;
                        if (
                            ((t.movingEvent = null),
                            !(
                                i.event &&
                                i.event.calendar &&
                                i.event.calendar.shadow &&
                                i.event.calendar.shadow.start
                            ))
                        )
                            return;
                        var a = i.event.calendar,
                            r = i.event,
                            o = a.shadow.start,
                            s = a.shadow.position,
                            l = i.offset,
                            d = i.external,
                            c = i.removeElement;
                        c && (a.todo || (a.todo = {}), (a.todo.del = c)),
                            a.Yg();
                        var e = e || window.event;
                        return (
                            a.Kb(r, o.x, o.y, l, e, s, d),
                            (e.cancelBubble = !0),
                            e.stopPropagation && e.stopPropagation(),
                            !1
                        );
                    }
                    if (t.resizingEvent) {
                        var i = t.resizingEvent;
                        if (
                            ((t.resizingEvent = null),
                            !(
                                i.event &&
                                i.event.calendar &&
                                i.event.calendar.shadow &&
                                i.event.calendar.shadow.start
                            ))
                        )
                            return;
                        var a = i.event.calendar,
                            r = i.event,
                            o = a.shadow.start,
                            u = a.shadow.width;
                        return a.Yg(), a.Gb(r, o, u), (e.cancelBubble = !0), !1;
                    }
                    if (t.timeRangeSelecting) {
                        if (t.timeRangeSelecting.moved) {
                            var h = t.timeRangeSelecting,
                                a = h.root,
                                o = new DayPilot.Date(a.Zg(h.from.x, h.from.y)),
                                f = o.addDays(h.width);
                            a.Sb(o, f);
                        }
                        t.timeRangeSelecting = null;
                    }
                }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotMonth = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Month(this.id, e);
                                        n.init(),
                                            (this.daypilot = n),
                                            t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotMonth", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(
                                                this["template"].replace(
                                                    "{{id}}",
                                                    n["id"]
                                                )
                                            ),
                                            function (t, n, i) {
                                                var a = new DayPilot.Month(
                                                    n[0]
                                                );
                                                (a.Oe.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l =
                                                            DayPilot.Util.shouldApply(
                                                                s
                                                            );
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          var r =
                                                                              e(
                                                                                  i[
                                                                                      n
                                                                                  ]
                                                                              );
                                                                          t[
                                                                              "$apply"
                                                                          ](
                                                                              function () {
                                                                                  r(
                                                                                      t,
                                                                                      {
                                                                                          args: a,
                                                                                      }
                                                                                  );
                                                                              }
                                                                          );
                                                                      };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          e(
                                                                              i[
                                                                                  n
                                                                              ]
                                                                          )(t, {
                                                                              args: a,
                                                                          });
                                                                      };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c =
                                                        i["config"] ||
                                                        i["daypilotConfig"],
                                                    u =
                                                        i["events"] ||
                                                        i["daypilotEvents"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        for (var n in e)
                                                            a[n] = e[n];
                                                        a.update();
                                                    },
                                                    !0
                                                ),
                                                    d.call(
                                                        t,
                                                        u,
                                                        function (e) {
                                                            (a.events.list = e),
                                                                a.Lc({
                                                                    eventsOnly:
                                                                        !0,
                                                                });
                                                        },
                                                        !0
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Navigator) {
            (DayPilot.Navigator = function (e, t) {
                this.v = "2022.1.5188";
                var n = this;
                (this.id = e),
                    (this.api = 2),
                    (this.isNavigator = !0),
                    (this.autoFocusOnClick = !0),
                    (this.weekStarts = "Auto"),
                    (this.selectMode = "day"),
                    (this.titleHeight = 30),
                    (this.dayHeaderHeight = 30),
                    (this.bound = null),
                    (this.cellWidth = 30),
                    (this.cellHeight = 30),
                    (this.cssOnly = !0),
                    (this.cssClassPrefix = "navigator_default"),
                    (this.freeHandSelectionEnabled = !1),
                    (this.selectionStart = new DayPilot.Date().getDatePart()),
                    (this.selectionEnd = null),
                    (this.selectionDay = null),
                    (this.showMonths = 1),
                    (this.skipMonths = 1),
                    (this.command = "navigate"),
                    (this.year = new DayPilot.Date().getYear()),
                    (this.month = new DayPilot.Date().getMonth() + 1),
                    (this.showWeekNumbers = !1),
                    (this.weekNumberAlgorithm = "Auto"),
                    (this.rowsPerMonth = "Six"),
                    (this.orientation = "Vertical"),
                    (this.locale = "en-us"),
                    (this.rtl = !1),
                    (this.visible = !0),
                    (this.timeRangeSelectedHandling = "Bind"),
                    (this.visibleRangeChangedHandling = "Enabled"),
                    (this.onVisibleRangeChange = null),
                    (this.onVisibleRangeChanged = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.nav = {}),
                    (this.Q = {}),
                    (this.qh = function () {
                        (this.root.dp = this),
                            this.cssOnly
                                ? (this.root.className = this.H("_main"))
                                : (this.root.className = this.H("main")),
                            "Horizontal" === this.orientation
                                ? ((this.root.style.width =
                                      this.showMonths *
                                          (7 * r.cellWidth() + this.rh()) +
                                      "px"),
                                  (this.root.style.height =
                                      6 * this.cellHeight +
                                      this.titleHeight +
                                      this.dayHeaderHeight +
                                      "px"))
                                : (this.root.style.width =
                                      7 * r.cellWidth() + this.rh() + "px"),
                            this.rtl && (this.root.style.direction = "rtl"),
                            (this.root.style.position = "relative"),
                            this.visible || (this.root.style.display = "none");
                        var e = document.createElement("input");
                        (e.type = "hidden"),
                            (e.name = n.id + "_state"),
                            (e.id = e.name),
                            this.root.appendChild(e),
                            (this.state = e),
                            this.startDate
                                ? (this.startDate = new DayPilot.Date(
                                      this.startDate
                                  ).firstDayOfMonth())
                                : (this.startDate =
                                      DayPilot.Date.fromYearMonthDay(
                                          this.year,
                                          this.month
                                      )),
                            (this.calendars = []),
                            (this.selected = []),
                            (this.months = []);
                    }),
                    (this.fb = function () {
                        return 2 === n.api;
                    }),
                    (this.Mg = function () {
                        this.root.innerHTML = "";
                    }),
                    (this.H = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.uh = function (e, t) {
                        var n = this.cssOnly ? this.H("_" + t) : this.H(t);
                        DayPilot.Util.addClass(e, n);
                    }),
                    (this.vh = function (e, t) {
                        var n = this.cssOnly ? this.H("_" + t) : this.H(t);
                        DayPilot.Util.removeClass(e, n);
                    }),
                    (this.Ng = function (e, t) {
                        var i = {};
                        (i.cells = []), (i.days = []), (i.weeks = []);
                        var a = this.startDate.addMonths(e),
                            o = t.before,
                            s = t.after,
                            l = a.firstDayOfMonth(),
                            d = l.firstDayOfWeek(r.weekStarts()),
                            c = l.addMonths(1),
                            u = DayPilot.DateUtil.daysDiff(d, c),
                            h =
                                "Auto" === this.rowsPerMonth
                                    ? Math.ceil(u / 7)
                                    : 6;
                        i.rowCount = h;
                        var f = new DayPilot.Date().getDatePart(),
                            v = 7 * r.cellWidth() + this.rh();
                        i.width = v;
                        var p =
                            this.cellHeight * h +
                            this.titleHeight +
                            this.dayHeaderHeight;
                        i.height = p;
                        var m = document.createElement("div");
                        if (
                            ((m.style.width = v + "px"),
                            (m.style.height = p + "px"),
                            "Horizontal" === this.orientation)
                        )
                            (m.style.position = "absolute"),
                                (m.style.left = v * e + "px"),
                                (m.style.top = "0px"),
                                (i.top = 0),
                                (i.left = v * e);
                        else {
                            m.style.position = "relative";
                            var g =
                                e > 0
                                    ? n.months[e - 1].top +
                                      n.months[e - 1].height
                                    : 0;
                            (i.top = g), (i.left = 0);
                        }
                        this.cssOnly
                            ? (m.className = this.H("_month"))
                            : (m.className = this.H("month")),
                            (m.style.cursor = "default"),
                            (m.style.MozUserSelect = "none"),
                            (m.style.KhtmlUserSelect = "none"),
                            (m.style.WebkitUserSelect = "none"),
                            (m.month = i),
                            this.root.appendChild(m);
                        var b = this.titleHeight + this.dayHeaderHeight,
                            y = document.createElement("div");
                        (y.style.position = "absolute"),
                            (y.style.left = "0px"),
                            (y.style.right = "0px"),
                            (y.style.top = "0px"),
                            (y.style.width = r.cellWidth() + "px"),
                            (y.style.height = this.titleHeight + "px"),
                            (y.style.lineHeight = this.titleHeight + "px"),
                            y.setAttribute("unselectable", "on"),
                            this.cssOnly
                                ? (y.className = this.H("_titleleft"))
                                : (y.className = this.H("titleleft")),
                            t.left &&
                                ((y.style.cursor = "pointer"),
                                (y.innerHTML = "<span>&lt;</span>"),
                                (y.onclick = this.wh)),
                            m.appendChild(y),
                            (this.tl = y);
                        var w = document.createElement("div");
                        (w.style.position = "absolute"),
                            (w.style.left = r.cellWidth() + "px"),
                            (w.style.top = "0px"),
                            (w.style.width =
                                5 * r.cellWidth() + this.rh() + "px"),
                            (w.style.height = this.titleHeight + "px"),
                            (w.style.lineHeight = this.titleHeight + "px"),
                            w.setAttribute("unselectable", "on"),
                            this.cssOnly
                                ? (w.className = this.H("_title"))
                                : (w.className = this.H("title")),
                            (w.innerHTML =
                                r.locale().monthNames[a.getMonth()] +
                                " " +
                                a.getYear()),
                            m.appendChild(w),
                            (this.ti = w);
                        var x = document.createElement("div");
                        (x.style.position = "absolute"),
                            (x.style.left =
                                6 * r.cellWidth() + this.rh() + "px"),
                            (x.style.right =
                                6 * r.cellWidth() + this.rh() + "px"),
                            (x.style.top = "0px"),
                            (x.style.width = r.cellWidth() + "px"),
                            (x.style.height = this.titleHeight + "px"),
                            (x.style.lineHeight = this.titleHeight + "px"),
                            x.setAttribute("unselectable", "on"),
                            this.cssOnly
                                ? (x.className = this.H("_titleright"))
                                : (x.className = this.H("titleright")),
                            t.right &&
                                ((x.style.cursor = "pointer"),
                                (x.innerHTML = "<span>&gt;</span>"),
                                (x.onclick = this.xh)),
                            m.appendChild(x),
                            (this.tr = x);
                        var k = this.rh();
                        if (this.showWeekNumbers)
                            for (var C = 0; C < h; C++) {
                                var H = d.addDays(7 * C),
                                    D = null;
                                switch (this.weekNumberAlgorithm) {
                                    case "Auto":
                                        D =
                                            1 === r.weekStarts()
                                                ? H.weekNumberISO()
                                                : H.weekNumber();
                                        break;
                                    case "US":
                                        D = H.weekNumber();
                                        break;
                                    case "ISO8601":
                                        D = H.weekNumberISO();
                                        break;
                                    default:
                                        throw "Unknown weekNumberAlgorithm value.";
                                }
                                var E = document.createElement("div");
                                (E.style.position = "absolute"),
                                    (E.style.left = "0px"),
                                    (E.style.right = "0px"),
                                    (E.style.top =
                                        C * this.cellHeight + b + "px"),
                                    (E.style.width = r.cellWidth() + "px"),
                                    (E.style.height = this.cellHeight + "px"),
                                    (E.style.lineHeight =
                                        this.cellHeight + "px"),
                                    E.setAttribute("unselectable", "on"),
                                    this.cssOnly
                                        ? (E.className = this.H("_weeknumber"))
                                        : (E.className = this.H("weeknumber")),
                                    (E.innerHTML = "<span>" + D + "</span>"),
                                    m.appendChild(E),
                                    i.weeks.push(E);
                            }
                        for (var S = 0; S < 7; S++) {
                            i.cells[S] = [];
                            var E = document.createElement("div");
                            (E.style.position = "absolute"),
                                (E.style.left = S * r.cellWidth() + k + "px"),
                                (E.style.right = S * r.cellWidth() + k + "px"),
                                (E.style.top = this.titleHeight + "px"),
                                (E.style.width = r.cellWidth() + "px"),
                                (E.style.height = this.dayHeaderHeight + "px"),
                                (E.style.lineHeight =
                                    this.dayHeaderHeight + "px"),
                                E.setAttribute("unselectable", "on"),
                                this.cssOnly
                                    ? (E.className = this.H("_dayheader"))
                                    : (E.className = this.H("dayheader")),
                                (E.innerHTML =
                                    "<span>" + this.yh(S) + "</span>"),
                                m.appendChild(E),
                                i.days.push(E);
                            for (var C = 0; C < h; C++) {
                                var H = d.addDays(7 * C + S),
                                    T = this.zh(H) && "none" !== this.Ah(),
                                    _ = H.firstDayOfMonth() === a,
                                    M = H < a,
                                    A = H >= a.addMonths(1);
                                if ("month" === this.Ah()) T = T && _;
                                else if ("day" === this.Ah())
                                    T = T && (_ || (o && M) || (s && A));
                                else if ("week" === this.Ah()) {
                                    var R = H.firstDayOfMonth() === a;
                                    T = T && (R || (o && M) || (s && A));
                                }
                                var B = document.createElement("div");
                                i.cells[S][C] = B;
                                var P = n.Bh(S, C),
                                    N = P.x,
                                    L = P.y;
                                (B.day = H),
                                    (B.x = S),
                                    (B.y = C),
                                    (B.left = N),
                                    (B.top = L),
                                    (B.isCurrentMonth = _),
                                    (B.isNextMonth = A),
                                    (B.isPrevMonth = M),
                                    (B.showBefore = o),
                                    (B.showAfter = s),
                                    this.cssOnly
                                        ? (B.className = this.H(
                                              _ ? "_day" : "_dayother"
                                          ))
                                        : (B.className = this.H(
                                              _ ? "day" : "dayother"
                                          )),
                                    n.uh(B, "cell"),
                                    H.getTime() === f.getTime() &&
                                        _ &&
                                        this.uh(B, "today"),
                                    (0 !== H.dayOfWeek() &&
                                        6 !== H.dayOfWeek()) ||
                                        this.uh(B, "weekend"),
                                    (B.style.position = "absolute"),
                                    (B.style.left = N + "px"),
                                    (B.style.right = N + "px"),
                                    (B.style.top = L + "px"),
                                    (B.style.width = r.cellWidth() + "px"),
                                    (B.style.height = this.cellHeight + "px"),
                                    (B.style.lineHeight =
                                        this.cellHeight + "px");
                                var U = document.createElement("div");
                                (U.style.position = "absolute"),
                                    this.cssOnly
                                        ? (U.className =
                                              H.getTime() === f.getTime() && _
                                                  ? this.H("_todaybox")
                                                  : this.H("_daybox"))
                                        : (U.className =
                                              H.getTime() === f.getTime() && _
                                                  ? this.H("todaybox")
                                                  : this.H("daybox")),
                                    n.uh(U, "cell_box"),
                                    (U.style.left = "0px"),
                                    (U.style.top = "0px"),
                                    (U.style.right = "0px"),
                                    (U.style.bottom = "0px"),
                                    B.appendChild(U);
                                var I = null;
                                if (
                                    (this.cells &&
                                        this.cells[H.toStringSortable()] &&
                                        (I = this.cells[H.toStringSortable()]),
                                    "function" == typeof n.onBeforeCellRender)
                                ) {
                                    var j = {};
                                    (j.cell = I || {}),
                                        (j.cell.day = H),
                                        (j.cell.isCurrentMonth = _),
                                        (j.cell.isToday =
                                            H.getTime() === f.getTime() && _),
                                        (j.cell.isWeekend =
                                            0 === H.dayOfWeek() ||
                                            6 === H.dayOfWeek()),
                                        I
                                            ? ((j.cell.html =
                                                  I.html || H.getDay()),
                                              (j.cell.cssClass = I.css))
                                            : ((j.cell.html = H.getDay()),
                                              (j.cell.cssClass = null)),
                                        n.onBeforeCellRender(j),
                                        (I = j.cell);
                                }
                                if (
                                    (I &&
                                        DayPilot.Util.addClass(
                                            B,
                                            I.cssClass || I.css
                                        ),
                                    _ || (o && M) || (s && A))
                                ) {
                                    var O = document.createElement("div");
                                    (O.innerHTML = H.getDay()),
                                        (O.style.position = "absolute"),
                                        (O.style.left = "0px"),
                                        (O.style.top = "0px"),
                                        (O.style.right = "0px"),
                                        (O.style.bottom = "0px"),
                                        n.uh(O, "cell_text"),
                                        (B.isClickable = !0),
                                        I && I.html && (O.innerHTML = I.html),
                                        B.appendChild(O);
                                }
                                B.setAttribute("unselectable", "on"),
                                    (B.onclick = this.Ch),
                                    m.appendChild(B),
                                    T && (n.Dh(m, S, C), this.selected.push(B));
                            }
                        }
                        var z = document.createElement("div");
                        (z.style.position = "absolute"),
                            (z.style.left = "0px"),
                            (z.style.top = b - 2 + "px"),
                            (z.style.width =
                                7 * r.cellWidth() + this.rh() + "px"),
                            (z.style.height = "1px"),
                            (z.style.fontSize = "1px"),
                            (z.style.lineHeight = "1px"),
                            this.cssOnly
                                ? (z.className = this.H("_line"))
                                : (z.className = this.H("line")),
                            m.appendChild(z),
                            this.months.push(i);
                    }),
                    (this.Bh = function (e, t) {
                        var n = this.titleHeight + this.dayHeaderHeight,
                            i = this.rh();
                        return {
                            x: e * r.cellWidth() + i,
                            y: t * this.cellHeight + n,
                        };
                    }),
                    (this.Dh = function (e, t, i) {
                        var a = e.month.cells[t][i];
                        n.uh(a, "select");
                    }),
                    (this.Eh = function (e, t, i) {
                        var a = e.month.cells[t][i];
                        n.vh(a, "select");
                    }),
                    (this.rh = function () {
                        return this.showWeekNumbers ? r.cellWidth() : 0;
                    }),
                    (this.Fh = function () {
                        if (this.items)
                            for (var e = 0; e < this.showMonths; e++)
                                for (var t = 0; t < 7; t++)
                                    for (var n = 0; n < 6; n++) {
                                        var i = this.months[e].cells[t][n];
                                        i &&
                                            (1 ===
                                            this.items[i.day.toStringSortable()]
                                                ? this.uh(i, "busy")
                                                : this.vh(i, "busy"));
                                    }
                    }),
                    (this.Gh = function () {
                        var e = {};
                        (e.startDate = n.startDate),
                            (e.selectionStart = n.selectionStart),
                            (e.selectionEnd = n.selectionEnd.addDays(1)),
                            (n.state.value = JSON.stringify(e));
                    }),
                    (this.Ah = function () {
                        return (this.selectMode || "").toLowerCase();
                    }),
                    (this.Hh = function () {
                        var e = this.selectionDay || this.selectionStart;
                        e || (e = DayPilot.Date.today());
                        var e = new DayPilot.Date(e);
                        switch (this.Ah()) {
                            case "day":
                                (this.selectionStart = e),
                                    (this.selectionDay = e),
                                    (this.selectionEnd = e);
                                break;
                            case "week":
                                (this.selectionDay = e),
                                    (this.selectionStart = e.firstDayOfWeek(
                                        r.weekStarts()
                                    )),
                                    (this.selectionEnd =
                                        this.selectionStart.addDays(6));
                                break;
                            case "month":
                                (this.selectionDay = e),
                                    (this.selectionStart = e.firstDayOfMonth()),
                                    (this.selectionEnd =
                                        this.selectionStart.lastDayOfMonth());
                                break;
                            case "none":
                                this.selectionEnd = e;
                                break;
                            default:
                                throw "Unknown selectMode value.";
                        }
                    }),
                    (this.Ih = null),
                    (this.select = function (e, t) {
                        if (!this.T)
                            return void (this.Ih = { date: e, options: t });
                        var n = !0,
                            i = !0;
                        "object" == typeof t
                            ? (t.dontFocus && (n = !1),
                              t.dontNotify && (i = !1))
                            : "boolean" == typeof t && (n = !t);
                        var a = this.selectionStart,
                            r = this.selectionEnd;
                        (this.selectionStart = new DayPilot.Date(
                            e
                        ).getDatePart()),
                            (this.selectionDay = this.selectionStart);
                        var o = !1;
                        if (n) {
                            var s = this.startDate;
                            (this.selectionStart < this.Jh() ||
                                this.selectionStart >= this.Kh()) &&
                                (s = this.selectionStart.firstDayOfMonth()),
                                s.toStringSortable() !==
                                    this.startDate.toStringSortable() &&
                                    (o = !0),
                                (this.startDate = s);
                        }
                        this.Hh(),
                            this.Mg(),
                            this.qh(),
                            this.Lh(),
                            this.Fh(),
                            this.Gh(),
                            !i ||
                                (a.equals(this.selectionStart) &&
                                    r.equals(this.selectionEnd)) ||
                                this.Sb(),
                            o && this.Mh();
                    }),
                    (this.update = function (e) {
                        if (!n.T)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Navigator instance that hasn't been initialized yet."
                            );
                        if (n.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Navigator instance that has been disposed."
                            );
                        n.Nh(), n.Re(e), n.Lc();
                    }),
                    (this.Lc = function () {
                        n.cssOnly || (n.cssOnly = !0),
                            this.Mg(),
                            this.qh(),
                            this.Hh(),
                            this.Lh(),
                            this.Pa(),
                            this.Fh(),
                            this.Gh(),
                            this.visible ? this.show() : this.hide();
                    }),
                    (this.Nh = function () {
                        n.Q = {};
                    }),
                    (this._e = null),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (n.events.list = e.list)
                                                : (n.events.list = e));
                                    },
                                },
                            };
                            this._e = t;
                            for (var i in e)
                                if (t[i]) {
                                    var a = t[i];
                                    (a.data = e[i]), a.preInit && a.preInit();
                                } else n[i] = e[i];
                        }
                    }),
                    (this.$e = function () {
                        var e = this._e;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.ja = function (e, t, n) {
                        var i = {};
                        (i.action = e),
                            (i.parameters = n),
                            (i.data = t),
                            (i.header = this.ia());
                        var a = "JSON" + JSON.stringify(i);
                        this.backendUrl
                            ? DayPilot.request(
                                  this.backendUrl,
                                  this.la,
                                  a,
                                  this.ma
                              )
                            : WebForm_DoCallback(
                                  this.uniqueID,
                                  a,
                                  this.na,
                                  null,
                                  this.callbackError,
                                  !0
                              );
                    }),
                    (this.ma = function (e) {
                        if ("function" == typeof n.onAjaxError) {
                            var t = {};
                            (t.request = e), n.onAjaxError(t);
                        } else
                            "function" == typeof n.ajaxError && n.ajaxError(e);
                    }),
                    (this.la = function (e) {
                        n.na(e.responseText);
                    }),
                    (this.ha = function (e, t, i) {
                        var a = {};
                        (a.action = e),
                            (a.parameters = i),
                            (a.data = t),
                            (a.header = this.ia());
                        var r = "JSON" + JSON.stringify(a);
                        __doPostBack(n.uniqueID, r);
                    }),
                    (this.ia = function () {
                        var e = {};
                        return (
                            (e.v = this.v),
                            (e.startDate = this.startDate),
                            (e.selectionStart = this.selectionStart),
                            (e.showMonths = this.showMonths),
                            e
                        );
                    }),
                    (this.Oh = function (e, t) {
                        "refresh" === e && this.Mh();
                    }),
                    (this.yh = function (e) {
                        var t = e + r.weekStarts();
                        return t > 6 && (t -= 7), r.locale().dayNamesShort[t];
                    }),
                    (this.zh = function (e) {
                        return (
                            null !== this.selectionStart &&
                            null !== this.selectionEnd &&
                            this.selectionStart.getTime() <= e.getTime() &&
                            e.getTime() <= this.selectionEnd.getTime()
                        );
                    }),
                    (this.Ph = function (e) {
                        for (var t = 0; t < n.months.length; t++) {
                            var i = n.months[t];
                            if (!i) return null;
                            if (e.x < i.left || i.width < e.x) return null;
                            n.months[t].height;
                            if (i.top <= e.y && e.y < i.top + i.height)
                                return t;
                        }
                        return null;
                    }),
                    (this.Qh = function (e) {
                        var t = DayPilot.mo3(n.nav.top, e),
                            i = n.Ph(t);
                        if (null === i) return null;
                        var a = n.months[i],
                            r = this.titleHeight + this.dayHeaderHeight;
                        if (a.top <= t.y && t.y < a.top + r)
                            return {
                                month: i,
                                x: 0,
                                y: 0,
                                coords: t,
                                header: !0,
                            };
                        for (var o = 0; o < a.cells.length; o++)
                            for (var s = 0; s < a.cells[o].length; s++) {
                                var l = a.cells[o][s],
                                    d = l.top + a.top,
                                    c = l.left + a.left;
                                if (
                                    c <= t.x &&
                                    t.x < c + n.cellWidth &&
                                    d <= t.y &&
                                    t.y < d + n.cellHeight
                                )
                                    return { month: i, x: o, y: s, coords: t };
                            }
                        return null;
                    }),
                    (this.Rh = function (e) {
                        if (n.freeHandSelectionEnabled) {
                            var t = n.Qh(e);
                            t && !t.header && (i.start = t),
                                n.months[t.month].cells[t.x][t.y],
                                e.preventDefault();
                        }
                    }),
                    (this.Sh = function (e) {
                        if (i.start) {
                            var t = n.Qh(e);
                            if (i.end) i.end = t;
                            else if (t) {
                                var a = 3,
                                    r = DayPilot.distance(
                                        i.start.coords,
                                        t.coords
                                    );
                                r > a && (i.end = t);
                            }
                            i.end && (i.clear(), i.draw());
                        }
                    }),
                    (this.Th = {});
                var i = this.Th;
                (i.start = null),
                    (i.drawCell = function (e) {
                        var t = n.months[e.month],
                            a = n.Bh(e.x, e.y),
                            r = t.top + a.y,
                            o = t.left + a.x,
                            s = document.createElement("div");
                        (s.style.position = "absolute"),
                            (s.style.left = o + "px"),
                            (s.style.top = r + "px"),
                            (s.style.height = n.cellHeight + "px"),
                            (s.style.width = n.cellWidth + "px"),
                            (s.style.backgroundColor = "#ccc"),
                            (s.style.opacity = 0.5),
                            (s.style.cursor = "default"),
                            n.nav.preselection.appendChild(s),
                            i.cells.push(s);
                    }),
                    (i.clear = function () {
                        if (i.cells) {
                            for (var e = 0; e < i.cells.length; e++)
                                n.nav.preselection.removeChild(i.cells[e]);
                            i.cells = [];
                        }
                    }),
                    (i.draw = function () {
                        var e = i.ordered(),
                            t = new a(e.start),
                            r = e.end;
                        if (r) {
                            if (r === i.end && r.header && r.month > 0) {
                                r.month -= 1;
                                var o = n.months[r.month];
                                (r.x = 6), (r.y = o.rowCount - 1);
                            }
                            for (i.cells = []; !t.is(r); ) {
                                i.drawCell(t);
                                var s = new a(t).next();
                                if (!s) return;
                                (t.month = s.month), (t.x = s.x), (t.y = s.y);
                            }
                            i.drawCell(t);
                        }
                    }),
                    (i.ordered = function () {
                        var e = i.start,
                            t = i.end,
                            n = {};
                        return (
                            !t || new a(e).before(t)
                                ? ((n.start = e), (n.end = t))
                                : ((n.start = t), (n.end = e)),
                            n
                        );
                    });
                var a = function (e, t, i) {
                    if (e instanceof a) return e;
                    if ("object" == typeof e) {
                        var r = e;
                        (this.month = r.month), (this.x = r.x), (this.y = r.y);
                    } else (this.month = e), (this.x = t), (this.y = i);
                    (this.is = function (e) {
                        return (
                            this.month === e.month &&
                            this.x === e.x &&
                            this.y === e.y
                        );
                    }),
                        (this.next = function () {
                            var e = this;
                            if (e.x < 6)
                                return { month: e.month, x: e.x + 1, y: e.y };
                            var t = n.months[e.month];
                            return e.y < t.rowCount - 1
                                ? { month: e.month, x: 0, y: e.y + 1 }
                                : e.month < n.months.length - 1
                                ? { month: e.month + 1, x: 0, y: 0 }
                                : null;
                        }),
                        (this.visible = function () {
                            var e = this.cell();
                            return (
                                !!e.isCurrentMonth ||
                                !(!e.isPrevMonth || !e.showBefore) ||
                                !(!e.isNextMonth || !e.showAfter)
                            );
                        }),
                        (this.nextVisible = function () {
                            for (var e = this; !e.visible(); ) {
                                var t = e.next();
                                if (!t) return null;
                                e = new a(t);
                            }
                            return e;
                        }),
                        (this.previous = function () {
                            var e = this;
                            if (e.x > 0)
                                return { month: e.month, x: e.x - 1, y: e.y };
                            n.months[e.month];
                            if (e.y > 0)
                                return { month: e.month, x: 6, y: e.y - 1 };
                            if (e.month > 0) {
                                var t = n.months[e.month - 1];
                                return {
                                    month: e.month - 1,
                                    x: 6,
                                    y: t.rowCount - 1,
                                };
                            }
                            return null;
                        }),
                        (this.previousVisible = function () {
                            for (var e = this; !e.visible(); ) {
                                var t = e.previous();
                                if (!t) return null;
                                e = new a(t);
                            }
                            return e;
                        }),
                        (this.cell = function () {
                            return n.months[this.month].cells[this.x][this.y];
                        }),
                        (this.date = function () {
                            return this.cell().day;
                        }),
                        (this.before = function (e) {
                            return this.date() < new a(e).date();
                        });
                };
                (this.Ch = function (e) {
                    var t = this.parentNode,
                        i = this.parentNode.month,
                        a = this.x,
                        r = this.y,
                        o = i.cells[a][r].day;
                    if (i.cells[a][r].isClickable) {
                        n.clearSelection(), (n.selectionDay = o);
                        var o = n.selectionDay;
                        switch (n.Ah()) {
                            case "none":
                                (n.selectionStart = o), (n.selectionEnd = o);
                                break;
                            case "day":
                                if (n.autoFocusOnClick) {
                                    var s = o;
                                    if (o < n.Jh() || o >= n.Kh())
                                        return void n.select(o);
                                }
                                var l = i.cells[a][r];
                                n.Dh(t, a, r),
                                    n.selected.push(l),
                                    (n.selectionStart = l.day),
                                    (n.selectionEnd = l.day);
                                break;
                            case "week":
                                if (n.autoFocusOnClick) {
                                    var s = i.cells[0][r].day,
                                        d = i.cells[6][r].day;
                                    if (
                                        s.firstDayOfMonth() ===
                                            d.firstDayOfMonth() &&
                                        (s < n.Jh() || d >= n.Kh())
                                    )
                                        return void n.select(o);
                                }
                                for (var c = 0; c < 7; c++)
                                    n.Dh(t, c, r),
                                        n.selected.push(i.cells[c][r]);
                                (n.selectionStart = i.cells[0][r].day),
                                    (n.selectionEnd = i.cells[6][r].day);
                                break;
                            case "month":
                                if (n.autoFocusOnClick) {
                                    var s = o;
                                    if (o < n.Jh() || o >= n.Kh())
                                        return void n.select(o);
                                }
                                for (var s = null, d = null, r = 0; r < 6; r++)
                                    for (var a = 0; a < 7; a++) {
                                        var l = i.cells[a][r];
                                        l &&
                                            l.day.getYear() === o.getYear() &&
                                            l.day.getMonth() === o.getMonth() &&
                                            (n.Dh(t, a, r),
                                            n.selected.push(l),
                                            null === s && (s = l.day),
                                            (d = l.day));
                                    }
                                (n.selectionStart = s), (n.selectionEnd = d);
                                break;
                            default:
                                throw "unknown selectMode";
                        }
                        n.Gh(), n.Sb();
                    }
                }),
                    (this.Sb = function (e) {
                        var t = n.selectionStart,
                            i = n.selectionEnd.addDays(1),
                            a = DayPilot.DateUtil.daysDiff(t, i),
                            r = n.selectionDay;
                        if (((e = e || {}), n.fb())) {
                            var o = {};
                            if (
                                ((o.start = t),
                                (o.end = i),
                                (o.day = r),
                                (o.days = a),
                                (o.mode = e.mode || n.selectMode),
                                (o.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof n.onTimeRangeSelect &&
                                    (n.onTimeRangeSelect(o),
                                    o.preventDefault.value))
                            )
                                return;
                            switch (n.timeRangeSelectedHandling) {
                                case "Bind":
                                    var s = DayPilot.Util.evalVariable(n.bound);
                                    if (s) {
                                        var l = {};
                                        (l.start = t),
                                            (l.end = i),
                                            (l.days = a),
                                            (l.day = r),
                                            s.commandCallBack(n.command, l);
                                    }
                                    break;
                                case "None":
                                    break;
                                case "PostBack":
                                    n.timeRangeSelectedPostBack(t, i, r);
                            }
                            "function" == typeof n.onTimeRangeSelected &&
                                n.onTimeRangeSelected(o);
                        } else
                            switch (n.timeRangeSelectedHandling) {
                                case "Bind":
                                    var s = DayPilot.Util.evalVariable(n.bound);
                                    if (s) {
                                        var l = {};
                                        (l.start = t),
                                            (l.end = i),
                                            (l.days = a),
                                            (l.day = r),
                                            s.commandCallBack(n.command, l);
                                    }
                                    break;
                                case "JavaScript":
                                    n.onTimeRangeSelected(t, i, r);
                                    break;
                                case "None":
                                    break;
                                case "PostBack":
                                    n.timeRangeSelectedPostBack(t, i, r);
                            }
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.day = i),
                            this.ha("TimeRangeSelected", n, a);
                    }),
                    (this.xh = function (e) {
                        n.Uh(n.skipMonths);
                    }),
                    (this.wh = function (e) {
                        n.Uh(-n.skipMonths);
                    }),
                    (this.Uh = function (e) {
                        (this.startDate = this.startDate.addMonths(e)),
                            this.Mg(),
                            this.qh(),
                            this.Lh(),
                            this.Gh(),
                            this.Mh(),
                            this.Fh();
                    }),
                    (this.Jh = function () {
                        return n.startDate.firstDayOfMonth();
                    }),
                    (this.Kh = function () {
                        return n.startDate
                            .firstDayOfMonth()
                            .addMonths(this.showMonths);
                    }),
                    (this.visibleStart = function () {
                        return n.startDate
                            .firstDayOfMonth()
                            .firstDayOfWeek(r.weekStarts());
                    }),
                    (this.visibleEnd = function () {
                        return n.startDate
                            .firstDayOfMonth()
                            .addMonths(this.showMonths - 1)
                            .firstDayOfWeek(r.weekStarts())
                            .addDays(42);
                    }),
                    (this.Mh = function () {
                        var e = this.visibleStart(),
                            t = this.visibleEnd();
                        if (n.fb()) {
                            var i = {};
                            if (
                                ((i.start = e),
                                (i.end = t),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof n.onVisibleRangeChange &&
                                    (n.onVisibleRangeChange(i),
                                    i.preventDefault.value))
                            )
                                return;
                            switch (this.visibleRangeChangedHandling) {
                                case "CallBack":
                                    this.visibleRangeChangedCallBack(null);
                                    break;
                                case "PostBack":
                                    this.visibleRangeChangedPostBack(null);
                                    break;
                                case "Disabled":
                            }
                            "function" == typeof n.onVisibleRangeChanged &&
                                n.onVisibleRangeChanged(i);
                        } else
                            switch (this.visibleRangeChangedHandling) {
                                case "CallBack":
                                    this.visibleRangeChangedCallBack(null);
                                    break;
                                case "PostBack":
                                    this.visibleRangeChangedPostBack(null);
                                    break;
                                case "JavaScript":
                                    this.onVisibleRangeChanged(e, t);
                                    break;
                                case "Disabled":
                            }
                    }),
                    (this.visibleRangeChangedCallBack = function (e) {
                        var t = {};
                        this.ja("Visible", e, t);
                    }),
                    (this.visibleRangeChangedPostBack = function (e) {
                        var t = {};
                        this.ha("Visible", e, t);
                    }),
                    (this.na = function (e, t) {
                        var e = JSON.parse(e);
                        (n.items = e.Items),
                            (n.cells = e.Cells),
                            n.cells ? n.update() : n.Fh();
                    }),
                    (this.Lh = function () {
                        for (var e = 0; e < this.showMonths; e++) {
                            var t = this.Vh(e);
                            this.Ng(e, t);
                        }
                        (this.root.style.height = this.gh() + "px"),
                            (this.nav.preselection =
                                document.createElement("div")),
                            (this.nav.preselection.style.position = "absolute"),
                            (this.nav.preselection.style.left = "0px"),
                            (this.nav.preselection.style.top = "0px"),
                            this.root.appendChild(this.nav.preselection);
                    }),
                    (this.gh = function () {
                        if ("Horizontal" === this.orientation) {
                            for (
                                var e = 0, t = 0;
                                t < this.months.length;
                                t++
                            ) {
                                var n = this.months[t];
                                n.height > e && (e = n.height);
                            }
                            return e;
                        }
                        for (var i = 0, t = 0; t < this.months.length; t++) {
                            var n = this.months[t];
                            i += n.height;
                        }
                        return i;
                    }),
                    (this.Vh = function (e) {
                        if (this.internal.showLinks)
                            return this.internal.showLinks;
                        var t = {};
                        return (
                            (t.left = 0 === e),
                            (t.right = 0 === e),
                            (t.before = 0 === e),
                            (t.after = e === this.showMonths - 1),
                            "Horizontal" === this.orientation &&
                                (t.right = e === this.showMonths - 1),
                            t
                        );
                    }),
                    (this.Oe = {}),
                    (this.Oe.scope = null),
                    (this.Oe.notify = function () {
                        n.Oe.scope && n.Oe.scope["$apply"]();
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return n.T;
                    }),
                    (this.ga = {});
                var r = this.ga;
                (r.locale = function () {
                    return DayPilot.Locale.find(n.locale);
                }),
                    (r.weekStarts = function () {
                        if ("Auto" === n.weekStarts) {
                            var e = r.locale();
                            return e ? e.weekStarts : 0;
                        }
                        return n.weekStarts;
                    }),
                    (r.cellWidth = function () {
                        if (n.Q.cellWidth) return n.Q.cellWidth;
                        var e = n.Te("_cell_dimensions").width;
                        return e || (e = n.cellWidth), (n.Q.cellWidth = e), e;
                    }),
                    (this.clearSelection = function () {
                        for (var e = 0; e < this.selected.length; e++) {
                            var t = this.selected[e];
                            n.Eh(t.parentNode, t.x, t.y);
                        }
                        this.selected = [];
                    }),
                    (this.Xe = function () {
                        return (
                            !!this.backendUrl &&
                            ("undefined" == typeof n.items || !n.items)
                        );
                    }),
                    (this.events = {}),
                    (this.Pa = function () {
                        if (DayPilot.isArray(this.events.list)) {
                            this.items = {};
                            for (var e = 0; e < this.events.list.length; e++) {
                                var t = this.events.list[e];
                                if (!t.hidden) {
                                    var n = this.Wh(t);
                                    for (var i in n) this.items[i] = 1;
                                }
                            }
                        }
                    }),
                    (this.Te = function (e) {
                        var t = document.createElement("div");
                        (t.style.position = "absolute"),
                            (t.style.top = "-2000px"),
                            (t.style.left = "-2000px"),
                            (t.className = this.H(e));
                        var i = n.root || document.body;
                        i.appendChild(t);
                        var a = t.offsetHeight,
                            r = t.offsetWidth;
                        i.removeChild(t);
                        var o = {};
                        return (o.height = a), (o.width = r), o;
                    }),
                    (this.Wh = function (e) {
                        for (
                            var t = new DayPilot.Date(e.start),
                                n = new DayPilot.Date(e.end),
                                i = {},
                                a = t.getDatePart();
                            a.getTime() < n.getTime();

                        )
                            (i[a.toStringSortable()] = 1), (a = a.addDays(1));
                        return i;
                    }),
                    (this.show = function () {
                        (n.visible = !0), (n.root.style.display = "");
                    }),
                    (this.hide = function () {
                        (n.visible = !1), (n.root.style.display = "none");
                    }),
                    (this.Ye = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id)
                                throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
                            if (
                                ((this.nav.top = document.getElementById(
                                    this.id
                                )),
                                !this.nav.top)
                            )
                                throw (
                                    "DayPilot.Navigator: The placeholder element not found: '" +
                                    e +
                                    "'."
                                );
                        }
                        this.root = this.nav.top;
                    }),
                    (this.init = function () {
                        if ((this.Ye(), !this.root.dp)) {
                            n.cssOnly ||
                                ((n.cssOnly = !0),
                                DayPilot.Util.log(
                                    "DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."
                                )),
                                this.Hh(),
                                this.qh(),
                                this.Lh(),
                                this.Pa(),
                                this.Fh(),
                                this.Aa(),
                                this.Xh(),
                                this.ve();
                            return (
                                this.Xe() && this.Mh(),
                                (this.T = !0),
                                this.$e(),
                                this.Ih &&
                                    (this.select(this.Ih.date, this.Ih.options),
                                    (this.Ih = null)),
                                this
                            );
                        }
                    }),
                    (this.Xh = function () {
                        (n.nav.top.onmousedown = this.Rh),
                            (n.nav.top.onmousemove = this.Sh);
                    }),
                    (this.ve = function () {
                        DayPilot.re(document, "mouseup", n.yf);
                    }),
                    (this.yf = function (e) {
                        if (i.start && i.end) {
                            var t = DayPilot.mo3(n.nav.top, e);
                            if (
                                t.x === i.start.coords.x &&
                                t.y === i.start.coords.y
                            )
                                return (i.start = null), void i.clear();
                            i.clear();
                            var r = i.ordered();
                            (r.start = new a(r.start).nextVisible()),
                                (r.end = new a(r.end).previousVisible()),
                                (n.selectionDay = new a(r.start).date()),
                                (n.selectionStart = n.selectionDay),
                                (n.selectionEnd = new a(r.end).date()),
                                (i.start = null),
                                (i.end = null),
                                n.Mg(),
                                n.qh(),
                                n.Lh(),
                                n.Fh(),
                                n.Gh();
                            n.Sb({ mode: "FreeHand" });
                        }
                        (i.start = null), (i.end = null);
                    }),
                    (this.dispose = function () {
                        var e = n;
                        e.root &&
                            (e.root.removeAttribute("style"),
                            e.root.removeAttribute("class"),
                            (e.root.dp = null),
                            (e.root.innerHTML = null),
                            (e.root = null));
                    }),
                    (this.Aa = function () {
                        this.root.dispose = this.dispose;
                    }),
                    (this.Init = this.init),
                    this.Re(t);
            }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotNavigator = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Navigator(this.id);
                                        this.daypilot = n;
                                        for (var i in e) n[i] = e[i];
                                        n.Init(), t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotNavigator", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(
                                                this["template"].replace(
                                                    "{{id}}",
                                                    n["id"]
                                                )
                                            ),
                                            function (t, n, i) {
                                                var a = new DayPilot.Navigator(
                                                    n[0]
                                                );
                                                (a.Oe.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l =
                                                            DayPilot.Util.shouldApply(
                                                                s
                                                            );
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          var r =
                                                                              e(
                                                                                  i[
                                                                                      n
                                                                                  ]
                                                                              );
                                                                          t[
                                                                              "$apply"
                                                                          ](
                                                                              function () {
                                                                                  r(
                                                                                      t,
                                                                                      {
                                                                                          args: a,
                                                                                      }
                                                                                  );
                                                                              }
                                                                          );
                                                                      };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          e(
                                                                              i[
                                                                                  n
                                                                              ]
                                                                          )(t, {
                                                                              args: a,
                                                                          });
                                                                      };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c =
                                                        i["config"] ||
                                                        i["daypilotConfig"],
                                                    u =
                                                        i["events"] ||
                                                        i["daypilotEvents"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        for (var n in e)
                                                            a[n] = e[n];
                                                        a.update();
                                                    },
                                                    !0
                                                ),
                                                    d.call(
                                                        t,
                                                        u,
                                                        function (e) {
                                                            (a.events.list = e),
                                                                a.Pa(),
                                                                a.Fh();
                                                        },
                                                        !0
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        "undefined" == typeof DayPilot.Queue &&
            (DayPilot.Queue = function (t, n) {
                this.v = "2022.1.5188";
                var i = this;
                (this.id = t),
                    (this.contextMenu = null),
                    (this.eventHeight = 35),
                    (this.eventTextWrappingEnabled = !1),
                    (this.lineSpace = 5),
                    (this.theme = null),
                    (this.emptyText = ""),
                    (this.emptyHtml = null),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventRightClickHanding = "ContextMenu"),
                    (this.eventSelectHandling = "Update"),
                    (this.onBeforeEventRender = null),
                    (this.onEventClick = null),
                    (this.onEventClicked = null),
                    (this.onEventRightClick = null),
                    (this.onEventRightClicked = null),
                    (this.onEventMove = null),
                    (this.onEventMoving = null),
                    (this.onEventSelect = null),
                    (this.onEventSelected = null),
                    (this.T = !1),
                    (this.Yh = "queue_default"),
                    (this.Zh = []),
                    (this.$h = !1),
                    (this._h = !1),
                    (this.nav = {}),
                    (this.events = {}),
                    (this.events.list = []),
                    (this.elements = {}),
                    (this.elements.events = []);
                var a = function () {
                    return document.createElement("div");
                };
                (this.Ye = function () {
                    if (this.id && this.id.tagName) this.nav.top = this.id;
                    else {
                        if ("string" != typeof this.id)
                            throw new DayPilot.Exception(
                                "DayPilot.Queue() constructor requires the target element or its ID as a parameter"
                            );
                        if (
                            ((this.nav.top = document.getElementById(this.id)),
                            !this.nav.top)
                        )
                            throw new DayPilot.Exception(
                                "DayPilot.Queue: The placeholder element not found: '" +
                                    t +
                                    "'."
                            );
                    }
                }),
                    (this.H = function (e) {
                        var t = this.theme || this.Yh;
                        return t ? t + e : "";
                    }),
                    (this.Lc = function () {
                        (i.nav.container.innerHTML = ""),
                            (i.ai = null),
                            i.Fg(),
                            i.Pa(),
                            i.ab(),
                            i.bi();
                    }),
                    (this.Fg = function () {
                        var e = i.nav.top;
                        (e.className = i.ci),
                            DayPilot.Util.addClass(e, i.H("_main"));
                    }),
                    (this.Pa = function () {
                        var e = {},
                            t = i.events.list || [];
                        i.Zh = [];
                        for (var n = 0; n < t.length; n++) {
                            var a = t[n];
                            if (
                                !(
                                    "string" == typeof a.id ||
                                    "number" == typeof a.id
                                )
                            )
                                throw new DayPilot.Exception(
                                    "All events must have an id property (string or number)"
                                );
                            var r = typeof a.id + "_" + a.id;
                            if (e[r])
                                throw new DayPilot.Exception(
                                    "Duplicate IDs not allowed."
                                );
                            e[r] = !0;
                            var o = DayPilot.Util.copyProps(a);
                            i.we(o);
                            var s = {};
                            (s.data = a), (s.cache = o), i.Zh.push(s);
                        }
                    }),
                    (this.di = {}),
                    (this.di.Wb = []),
                    (this.di.Zh = []);
                var r = i.di;
                (this.di.q = function (e) {
                    var t = e.event;
                    r.ei(), r.fi(e), (r.Wb[0] = t);
                }),
                    (this.di.fi = function (e) {
                        r.Zh[0] = e;
                        var t = i.H("_selected");
                        DayPilot.Util.addClass(e, t);
                    }),
                    (this.di.gi = function (e) {
                        r.Zh = [];
                        var t = i.H("_selected");
                        DayPilot.Util.removeClass(e, t);
                    }),
                    (this.di.zc = function (e) {
                        return i.di.Zh.find(function (t) {
                            return t.event.data.id === e;
                        });
                    }),
                    (this.di.ei = function () {
                        var e = r.Zh[0];
                        e && r.gi(e), (r.Wb = []);
                    }),
                    (this.we = function (e) {
                        var t = {};
                        (t.data = e),
                            "function" == typeof i.onBeforeEventRender &&
                                i.onBeforeEventRender(t);
                    }),
                    (this.bi = function () {
                        if (0 === i.events.list.length) {
                            var e = i.nav.container,
                                t = a();
                            i.emptyHtml
                                ? (t.innerHTML = i.emptyHtml)
                                : (t.innerText = i.emptyText),
                                e.appendChild(t);
                        }
                    }),
                    (this.ab = function () {
                        var e = i.Zh;
                        (i.elements.events = []),
                            e.forEach(function (e) {
                                i.Wc(e);
                            });
                    }),
                    (this.Wc = function (e) {
                        var t = e.cache,
                            n = e.data,
                            r = i.nav.container,
                            o = a();
                        (o.className = i.H("_event")),
                            (o.style.height = i.eventHeight + "px"),
                            (o.style.boxSizing = "border-box"),
                            (o.style.overflow = "hidden"),
                            (o.style.marginTop = i.lineSpace + "px"),
                            (o.style.position = "relative"),
                            i.eventTextWrappingEnabled ||
                                (o.style.whiteSpace = "nowrap"),
                            o.addEventListener("click", i.$g),
                            o.addEventListener("contextmenu", i.hi),
                            i.di.zc(n.id) && i.di.fi(o);
                        var s = a();
                        if (
                            ((s.className = i.H("_event_inner")),
                            "string" == typeof t.html
                                ? (s.innerHTML = t.html)
                                : (s.innerText = t.text),
                            t.cssClass && DayPilot.Util.addClass(o, t.cssClass),
                            t.backColor && (s.style.background = t.backColor),
                            t.fontColor && (s.style.color = t.fontColor),
                            "darker" === t.borderColor && t.backColor
                                ? (s.style.borderColor =
                                      DayPilot.ColorUtil.darker(t.backColor, 2))
                                : (s.style.borderColor = t.borderColor),
                            t.backImage &&
                                ((s.style.backgroundImage =
                                    "url(" + t.backImage + ")"),
                                t.backRepeat &&
                                    (s.style.backgroundRepeat = t.backRepeat)),
                            o.appendChild(s),
                            !t.barHidden)
                        ) {
                            var l = a();
                            (l.className = i.H("_event_bar")),
                                (l.style.position = "absolute"),
                                t.barColor &&
                                    (l.style.backgroundColor = t.barColor),
                                o.appendChild(l);
                        }
                        var d = {
                                eventDiv: o,
                                areas: t.areas,
                                allowed: function () {
                                    return !(i.$h || i._h);
                                },
                            },
                            c = new DayPilot.Event(n, i);
                        (c.cache = t),
                            (o.event = c),
                            DayPilot.Areas.attach(o, c, d),
                            i.ii(o, n),
                            r.appendChild(o),
                            i.elements.events.push(o);
                    }),
                    (this.hi = function (e) {
                        if (
                            (e.preventDefault(),
                            "Disabled" !== i.eventRightClickHanding)
                        ) {
                            var t = this,
                                n = t.event,
                                a = {};
                            if (
                                ((a.e = t.event),
                                (a.preventDefault = function () {
                                    a.preventDefault.value = !0;
                                }),
                                "function" == typeof i.onEventRightClick &&
                                    i.onEventRightClick(a),
                                !a.preventDefault.value)
                            ) {
                                switch (i.eventRightClickHanding) {
                                    case "Enabled":
                                        break;
                                    case "ContextMenu":
                                        var r = n.client.contextMenu();
                                        r
                                            ? r.show(n)
                                            : i.contextMenu &&
                                              i.contextMenu.show(n);
                                }
                                "function" == typeof i.onEventRightClicked &&
                                    i.onEventRightClicked(a);
                            }
                        }
                    }),
                    (this.$g = function (t) {
                        if (
                            (t.preventDefault(),
                            t.stopPropagation(),
                            "Disabled" !== i.eventClickHandling)
                        ) {
                            var n = this,
                                a = {};
                            if (
                                ((a.e = n.event),
                                (a.preventDefault = function () {
                                    a.preventDefault.value = !0;
                                }),
                                "function" == typeof i.onEventClick &&
                                    i.onEventClick(a),
                                !a.preventDefault.value)
                            ) {
                                switch (i.eventClickHandling) {
                                    case "Select":
                                        i.Vb(n, e, t);
                                        break;
                                    case "Enabled":
                                }
                                "function" == typeof i.onEventClicked &&
                                    i.onEventClicked(a);
                            }
                        }
                    }),
                    (this.Vb = function (e, t, n) {
                        var a = {};
                        if (
                            ((a.e = t),
                            (a.preventDefault = function () {
                                this.preventDefault.value = !0;
                            }),
                            "function" != typeof i.onEventSelect ||
                                (i.onEventSelect(a), !a.preventDefault.value))
                        ) {
                            switch (i.eventSelectHandling) {
                                case "Update":
                                    i.di.q(e);
                            }
                            "function" == typeof i.onEventSelected &&
                                i.onEventSelected(a);
                        }
                    }),
                    (this.ji = function (e, t) {
                        var n = i.ki,
                            a = {};
                        (a.e = new DayPilot.Event(e, i)),
                            (a.position = n),
                            (a.source = t),
                            (a.external = !0),
                            (a.preventDefault = function () {
                                a.preventDefault.value = !0;
                            }),
                            i.li(a),
                            a.preventDefault.value ||
                                (i.events.list.splice(n, 0, e),
                                i.Lc(),
                                i.mi(a));
                    }),
                    (this.ni = function (e) {
                        var t = {};
                        if (
                            ((t.e = new DayPilot.Event(e, i)),
                            (t.position = i.ki),
                            (t.source = i),
                            (t.external = !1),
                            (t.preventDefault = function () {
                                t.preventDefault.value = !0;
                            }),
                            i.li(t),
                            !t.preventDefault.value)
                        ) {
                            var n = i.events.list.indexOf(e);
                            i.oi(i.events.list, n, i.ki), i.Lc(), i.mi(t);
                        }
                    }),
                    (this.li = function (e) {
                        "function" == typeof i.onEventMove && i.onEventMove(e);
                    }),
                    (this.mi = function (e) {
                        "function" == typeof i.onEventMoved &&
                            i.onEventMoved(e);
                    }),
                    (this.oi = function (e, t, n) {
                        var i = e[t];
                        e.splice(t, 1), e.splice(n, 0, i);
                    }),
                    (this.pi = function () {
                        DayPilot.Scheduler.registerDropTarget({
                            element: i.nav.top,
                            onDrop: function (e) {
                                i._h = !1;
                                var t = e.e,
                                    n = t.data,
                                    a = e.e.calendar;
                                i.ji(n, a);
                            },
                            onDragOver: function (e) {
                                i._h = !0;
                            },
                            onDragLeave: function (e) {
                                i._h = !1;
                            },
                        });
                    }),
                    (this.ai = null),
                    (this.qi = function (e) {
                        i.ki = e;
                        var t = i.ai || a(),
                            n = i.nav.container,
                            r = i.eventHeight + i.lineSpace,
                            o = e * r;
                        (o -= i.lineSpace / 2 + 1),
                            (t.style.top = o + "px"),
                            i.ai ||
                                ((t.className = i.H("_shadow")),
                                (t.style.position = "absolute"),
                                (t.style.left = "0px"),
                                (t.style.right = "0px"),
                                (t.style.height = "2px"),
                                (i.ai = t),
                                n.appendChild(t));
                    }),
                    (this.ri = function () {
                        (i.ki = null), DayPilot.de(i.ai), (i.ai = null);
                    }),
                    (this.Jf = null),
                    (this.ki = null),
                    (this.si = function (e) {
                        var t = i.nav.container,
                            n = DayPilot.mo3(t, e);
                        if (((i.Jf = n), i.$h || i._h)) {
                            var a = i.eventHeight + i.lineSpace,
                                r = Math.floor((n.y + i.eventHeight / 2) / a);
                            r < 0 && (r = 0),
                                r > i.Zh.length && (r = i.Zh.length),
                                i.qi(r);
                        }
                    }),
                    (this.vi = function (e) {
                        i.ri();
                    }),
                    (this.wi = function (e) {
                        if (i.$h) {
                            var t = i.xi;
                            i.ni(t), (i.xi = null);
                        }
                    }),
                    (this.yi = function () {
                        var e = a();
                        i.nav.container = e;
                        var t = i.nav.top;
                        (i.ci = t.className || ""),
                            (e.style.position = "relative"),
                            (t.onmousemove = i.si),
                            (t.onmouseleave = i.vi),
                            (t.onmouseup = i.wi),
                            t.appendChild(e);
                    }),
                    (this.ii = function (e, t) {
                        var n = e,
                            a = {
                                element: n,
                                data: t,
                                keepElement: !0,
                                externalCssClass: "",
                                externalHtml: "",
                                onDragStart: function (e) {
                                    (i.$h = !0),
                                        (i.xi = t),
                                        (n.style.opacity = "0.5");
                                },
                                onDrop: function (e) {
                                    (i.$h = !1), (n.style.opacity = "");
                                    !!i.xi;
                                },
                            };
                        DayPilot.Scheduler.makeDraggable(a);
                    }),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (i.events.list = e);
                                    },
                                },
                            };
                            for (var n in e)
                                if (t[n]) {
                                    var a = t[n];
                                    (a.data = e[n]), a.preInit && a.preInit();
                                } else i[n] = e[n];
                        }
                    }),
                    (this.ya = {}),
                    (this.ya.reactDOM = null),
                    (this.ya.react = null),
                    (this.Ne = function (e) {
                        if (!e) return null;
                        for (var t = 0; t < i.elements.events.length; t++) {
                            var n = i.elements.events[t];
                            if (DayPilot.Util.isSameEvent(n.event, e)) return n;
                        }
                        return null;
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.add = function (e) {
                        ("number" != typeof e && "string" != typeof e) ||
                            (e = i.events.find(e)),
                            e instanceof DayPilot.Event && (e = e.data);
                        var t = i.Ne(e);
                        t && i.di.q(t);
                    }),
                    (this.multiselect.clear = function () {
                        i.di.ei();
                    }),
                    (this.multiselect.get = function () {
                        var e = [],
                            t = r.Wb[0];
                        if (t) {
                            var n = t.event;
                            e.push(n);
                        }
                        return e;
                    }),
                    (this.events.add = function (e) {
                        e instanceof DayPilot.Event && (e = e.data),
                            i.events.list.push(e),
                            i.Lc();
                    }),
                    (this.events.remove = function (e) {
                        if (e) {
                            ("number" != typeof e && "string" != typeof e) ||
                                (e = i.events.find(e)),
                                e instanceof DayPilot.Event && (e = e.data);
                            var t = i.events.list.indexOf(e);
                            t !== -1 &&
                                (i.di.zc(e.id) && i.multiselect.clear(),
                                i.events.list.splice(t, 1),
                                i.Lc());
                        }
                    }),
                    (this.events.update = function (e) {
                        e instanceof DayPilot.Event && (e = e.data);
                        var t = i.events.find(e.id);
                        if (t) {
                            var n = i.events.list.indexOf(t.data);
                            n !== -1 && (i.events.list.splice(n, 1, e), i.Lc());
                        }
                    }),
                    (this.events.find = function (e) {
                        var t = i.events.list.find(function (t) {
                            return t.id === e;
                        });
                        return t ? new DayPilot.Event(t, i) : null;
                    }),
                    (this.init = function () {
                        if (this.T)
                            throw new DayPilot.Exception(
                                "This instance is already initialized. Use update() to change properties."
                            );
                        if ((this.Ye(), this.nav.top.dp)) {
                            if (this.nav.top.dp === i) return i;
                            throw new DayPilot.Exception(
                                "The target placeholder was already initialized by another DayPilot component instance."
                            );
                        }
                        return this.pi(), this.yi(), this.Lc(), this;
                    }),
                    (this.update = function (e) {
                        if (i.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."
                            );
                        i.Re(e), i.Lc();
                    }),
                    (this.dispose = function () {
                        (i.nav.top.innerHTML = ""), (i.U = !0);
                    }),
                    (this.internal = {}),
                    (this.internal.loadOptions = function (e) {
                        i.Re(e);
                    }),
                    (this.internal.enableReact = function (e, t) {
                        (i.ya.react = e), (i.ya.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return DayPilot.Util.copyProps(i.ya, {}, [
                            "react",
                            "reactDOM",
                        ]);
                    }),
                    this.Re(n);
            });
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        function t(e) {
            for (
                var t = e.touches[0].clientX,
                    n = e.touches[0].clientY,
                    i = document.elementFromPoint(t, n);
                i && i.parentNode;

            )
                if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
            return !1;
        }
        function n(e) {
            var t = e.touches[0].pageX,
                n = e.touches[0].pageY,
                i = {};
            return (i.x = t), (i.y = n), i;
        }
        if ("undefined" == typeof DayPilot.Scheduler) {
            var i = (function () {
                    var e = navigator.userAgent;
                    return (
                        e.indexOf("Mozilla/5.0") > -1 &&
                        e.indexOf("Android ") > -1 &&
                        e.indexOf("AppleWebKit") > -1 &&
                        !(e.indexOf("Chrome") > -1)
                    );
                })(),
                a =
                    navigator.userAgent.indexOf("iPad") > -1 ||
                    navigator.userAgent.indexOf("iPhone") > -1,
                o = {},
                s = function () {},
                l = !1,
                d = function (e) {
                    l &&
                        window.console &&
                        window.console.log.apply(window.console, arguments);
                },
                console = { log: d },
                c = function () {
                    return document.body;
                },
                u = function () {
                    return document.createElement("div");
                };
            (DayPilot.Scheduler = function (t, l) {
                function d(e) {
                    (e.div.style.right = e.right + "px"),
                        (e.div.style.height = e.height + "px"),
                        (e.div.style.top = e.top + "px"),
                        p.Hp(e.div, e.enabled()),
                        (e.divHeader.style.height = e.heightRes + "px"),
                        (e.divHeader.style.top = e.top + "px"),
                        p.Hp(e.divHeader, e.enabled()),
                        e.divSpace && (e.divSpace.style.top = e.height + "px");
                }
                function v(e, t) {
                    return 1 - e / t;
                }
                this.v = "2022.1.5188";
                var p = this;
                (this.id = t),
                    (this.isScheduler = !0),
                    (this.allowDefaultContextMenu = !1),
                    (this.allowEventOverlap = !0),
                    (this.allowMultiMove = !1),
                    (this.allowMultiRange = !1),
                    (this.allowMultiResize = !1),
                    (this.allowMultiSelect = !0),
                    (this.api = 2),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.autoScroll = "Drag"),
                    (this.blockOnCallBack = !1),
                    (this.navigatorBackSync = null),
                    (this.backendUrl = null),
                    (this.beforeCellRenderCaching = !0),
                    (this.businessBeginsHour = 9),
                    (this.businessEndsHour = 18),
                    (this.businessWeekends = !1),
                    (this.cellDuration = 60),
                    (this.cellGroupBy = "Day"),
                    (this.cellSweeping = !0),
                    (this.cellSweepingCacheSize = 1e3),
                    (this.cellWidth = 40),
                    (this.cellWidthMin = 1),
                    (this.cellWidthSpec = "Fixed"),
                    (this.cellsMarkBusiness = !0),
                    (this.cornerText = ""),
                    (this.cornerHtml = null),
                    (this.crosshairTimeHeaderLevel = "Last"),
                    (this.crosshairType = "Header"),
                    (this.cssClassPrefix = "scheduler_default"),
                    (this.days = 1),
                    (this.doubleClickTimeout = 300),
                    (this.dragOutAllowed = !1),
                    (this.drawBlankCells = !0),
                    (this.durationBarHeight = null),
                    (this.durationBarVisible = !0),
                    (this.durationBarMode = "Duration"),
                    (this.dynamicEventRendering = "Progressive"),
                    (this.dynamicEventRenderingMargin = 50),
                    (this.dynamicEventRenderingMarginX = null),
                    (this.dynamicEventRenderingMarginY = null),
                    (this.dynamicEventRenderingCacheSweeping = !1),
                    (this.dynamicEventRenderingCacheSize = 200),
                    (this.dynamicLoading = !1),
                    (this.eventEditMinWidth = 100),
                    (this.eventEditTabNext = !1),
                    (this.eventEndSpec = "DateTime"),
                    (this.eventHeight = 35),
                    (this.eventHtmlLeftMargin = 10),
                    (this.eventHtmlRightMargin = 10),
                    (this.eventMarginLeft = 0),
                    (this.eventMarginRight = 0),
                    (this.eventMarginBottom = 0),
                    (this.eventMinWidth = 1),
                    (this.eventMoveMargin = 5),
                    (this.eventMoveToPosition = !1),
                    (this.eventMoveSkipNonBusiness = !1),
                    (this.eventResizeMargin = 5),
                    (this.eventStackingLineHeight = 100),
                    (this.eventTapAndHoldHandling = "Move"),
                    (this.eventTextWrappingEnabled = !1),
                    (this.eventUpdateInplaceOptimization = !1),
                    (this.eventsLoadMethod = "GET"),
                    (this.eventVersionHeight = 25),
                    (this.eventVersionMargin = 2),
                    (this.eventVersionPosition = "Above"),
                    (this.eventVersionsEnabled = !1),
                    (this.eventVersionsReserveSpace = !1),
                    (this.floatingEvents = !a),
                    (this.floatingTimeHeaders = !0),
                    (this.groupConcurrentEvents = !1),
                    (this.groupConcurrentEventsLimit = 1),
                    (this.headerHeight = 30),
                    (this.heightSpec = "Max"),
                    (this.height = 600),
                    (this.hideBorderFor100PctHeight = !1),
                    (this.hideUntilInit = !0),
                    (this.infiniteScrollingEnabled = !1),
                    (this.infiniteScrollingMargin = 50),
                    (this.infiniteScrollingStepDays = 30),
                    (this.initEventEnabled = !0),
                    (this.jointEventsResize = !0),
                    (this.jointEventsMove = !0),
                    (this.keyboardEnabled = !1),
                    (this.keyboardTarget = "document"),
                    (this.layout = "Auto"),
                    (this.linkCreateHandling = "Disabled"),
                    (this.linkBottomMargin = 17),
                    (this.linkPointSize = 10),
                    (this.linksLoadMethod = "GET"),
                    (this.locale = "en-us"),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.loadingLabelVisible = !0),
                    (this.overrideWheelScrolling = !1),
                    (this.messageBarPosition = "Top"),
                    (this.messageHideAfter = 5e3),
                    (this.messageHideOnMouseOut = !0),
                    (this.multiMoveVerticalMode = "Disabled"),
                    (this.moveBy = "Full"),
                    (this.notifyCommit = "Immediate"),
                    (this.progressiveRowRendering = !0),
                    (this.progressiveRowRenderingPreload = 25),
                    (this.rectangleSelectMode = "Free"),
                    (this.rectangleSelectHandling = "Disabled"),
                    (this.rowCreateHeight = null),
                    (this.rowCreateHtml = null),
                    (this.rowCreateText = "New row..."),
                    (this.rowDragHandleWidth = 10),
                    (this.rowEmptyHeight = null),
                    (this.rowFilterParentsAlwaysVisible = !0),
                    (this.rowHeaderColumnDefaultWidth = 80),
                    (this.rowHeaderHideIconEnabled = !1),
                    (this.rowHeaderScrolling = !1),
                    (this.rowHeaderSplitterWidth = 3),
                    (this.rowHeaderWidthAutoFit = !0),
                    (this.rowHeaderWidthAutoFitShrink = !1),
                    (this.rowHeaderWidthMarginRight = 0),
                    (this.rowHeaderColumnsResizable = !0),
                    (this.rowHeaderColumnsMode = "Tabular"),
                    (this.rowHeaderColumns = null),
                    (this.rowHeaderWidth = 80),
                    (this.rowMarginBottom = 0),
                    (this.rowMarginTop = 0),
                    (this.rowMinHeight = 0),
                    (this.rowsLoadMethod = "GET"),
                    (this.rowSortingMode = "LeavesOnly"),
                    (this.scale = "CellDuration"),
                    (this.scaleManualLimitBeyond = !0),
                    (this.scrollDelayDynamic = 500),
                    (this.scrollDelayEvents = 200),
                    (this.scrollDelayCells = a ? 100 : 0),
                    (this.scrollDelayFloats = 0),
                    (this.scrollDelayRows = 0),
                    (this.scrollStep = null),
                    (this.scrollX = 0),
                    (this.scrollY = 0),
                    (this.selectedRows = []),
                    (this.separators = []),
                    (this.showCurrentTimeHeader = !1),
                    (this.showNonBusiness = !0),
                    (this.showNonBusinessForceHours = !1),
                    (this.showToolTip = !0),
                    (this.snapToGrid = !0),
                    (this.snapToGridTimeRangeSelecting = !0),
                    (this.snapToGridEventMoving = !0),
                    (this.snapToGridEventResizing = !0),
                    (this.startDate = DayPilot.Date.today()),
                    (this.syncResourceTree = !1),
                    (this.tapAndHoldTimeout = 300),
                    (this.timeHeaders = [
                        { groupBy: "Default" },
                        { groupBy: "Cell" },
                    ]),
                    (this.timeHeaderPosition = "Top"),
                    (this.timeHeaderTextWrappingEnabled = !1),
                    (this.treeAnimation = !0),
                    (this.treeAutoExpand = !0),
                    (this.treeEnabled = !1),
                    (this.treeIndent = 20),
                    (this.treeImageMarginLeft = 0),
                    (this.treeImageMarginTop = 3),
                    (this.treeImageMarginRight = 5),
                    (this.treeImageWidth = 10),
                    (this.treeImageHeight = 10),
                    (this.treePreventParentUsage = !1),
                    (this.timeFormat = "Auto"),
                    (this.timeline = null),
                    (this.useEventBoxes = "Always"),
                    (this.viewType = "Resources"),
                    (this.visible = !0),
                    (this.watchWidthChanges = !0),
                    (this.weekStarts = "Auto"),
                    (this.width = null),
                    (this.xssProtection = "Enabled"),
                    (this.zoomLevels = []),
                    (this.zoomPosition = "left"),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventDeleteHandling = "Disabled"),
                    (this.eventHoverHandling = "Bubble"),
                    (this.eventDoubleClickHandling = "Disabled"),
                    (this.eventEditHandling = "Update"),
                    (this.eventMoveHandling = "Update"),
                    (this.eventResizeHandling = "Update"),
                    (this.eventRightClickHandling = "ContextMenu"),
                    (this.eventSelectHandling = "Update"),
                    (this.resourceCollapseHandling = "Enabled"),
                    (this.resourceExpandHandling = "Enabled"),
                    (this.rowClickHandling = "Enabled"),
                    (this.rowDoubleClickHandling = "Disabled"),
                    (this.rowRightClickHandling = "ContextMenu"),
                    (this.rowCreateHandling = "Disabled"),
                    (this.rowEditHandling = "Update"),
                    (this.rowHeaderColumnResizedHandling = "Update"),
                    (this.rowSelectHandling = "Update"),
                    (this.rowMoveHandling = "Disabled"),
                    (this.rowMoveSameLevelOnly = !1),
                    (this.timeHeaderClickHandling = "Enabled"),
                    (this.timeHeaderRightClickHandling = "Enabled");
                this.timeRangeClickHandling = "Enabled";
                (this.timeRangeDoubleClickHandling = "Disabled"),
                    (this.timeRangeSelectedHandling = "Enabled"),
                    (this.timeRangeRightClickHandling = "ContextMenu"),
                    (this.timeRangeSelectingStartEndEnabled = !1),
                    (this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy"),
                    (this.eventMovingStartEndEnabled = !1),
                    (this.eventMovingStartEndFormat = "MMMM d, yyyy"),
                    (this.eventResizingStartEndEnabled = !1),
                    (this.eventResizingStartEndFormat = "MMMM d, yyyy"),
                    "function" == typeof DayPilot.Bubble
                        ? (this.bubble = new DayPilot.Bubble())
                        : (this.bubble = null),
                    (this.cellBubble = null),
                    (this.resourceBubble = null),
                    (this.linkBubble = null),
                    (this.groupBubble = null),
                    (this.contextMenu = null),
                    (this.contextMenuResource = null),
                    (this.contextMenuSelection = null),
                    (this.contextMenuLink = null),
                    DayPilot.browser.ie &&
                        ((this.scrollDelayCells = 100),
                        (this.scrollDelayFloats = 100)),
                    1 === p.api &&
                        ((this.onEventMove = function () {}),
                        (this.onEventResize = function () {}),
                        (this.onResourceExpand = function () {}),
                        (this.onResourceCollapse = function () {})),
                    (this.onEventClick = null),
                    (this.onEventClicked = null),
                    (this.onEventEdit = null),
                    (this.onEventEdited = null),
                    (this.onEventEditKeyDown = null),
                    (this.onEventMove = null),
                    (this.onEventMoved = null),
                    (this.onEventMoving = null),
                    (this.onEventResize = null),
                    (this.onEventResized = null),
                    (this.onEventResizing = null),
                    (this.onEventRightClick = null),
                    (this.onEventRightClicked = null),
                    (this.onEventMouseEnter = null),
                    (this.onEventMouseLeave = null),
                    (this.onEventMouseOver = null),
                    (this.onEventMouseOut = null),
                    (this.onIncludeTimeCell = null),
                    (this.onKeyboardFocusChange = null),
                    (this.onKeyboardFocusChanged = null),
                    (this.onLinkClick = null),
                    (this.onLinkClicked = null),
                    (this.onRowClick = null),
                    (this.onRowClicked = null),
                    (this.onRowDoubleClick = null),
                    (this.onRowDoubleClicked = null),
                    (this.onRowMouseOver = null),
                    (this.onRowMouseOut = null),
                    (this.onRowRightClick = null),
                    (this.onRowRightClicked = null),
                    (this.onTimeHeaderClick = null),
                    (this.onTimeHeaderClicked = null),
                    (this.onTimeHeaderRightClick = null),
                    (this.onTimeHeaderRightClicked = null),
                    (this.onTimeRangeClick = null),
                    (this.onTimeRangeClicked = null),
                    (this.onTimeRangeDoubleClick = null),
                    (this.onTimeRangeDoubleClicked = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.onTimeRangeSelecting = null),
                    (this.onTimeRangeRightClick = null),
                    (this.onTimeRangeRightClicked = null),
                    (this.onRowHeaderColumnResized = null),
                    (this.onRowHeaderResized = null),
                    (this.onCellMouseEnter = null),
                    (this.onCellMouseLeave = null),
                    (this.onCellMouseOver = null),
                    (this.onCellMouseOut = null),
                    (this.onGridMouseDown = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeCornerRender = null),
                    (this.onBeforeCornerDomAdd = null),
                    (this.onBeforeCornerDomRemove = null),
                    (this.onBeforeEventRender = null),
                    (this.onBeforeEventDomAdd = null),
                    (this.onBeforeEventDomRemove = null),
                    (this.onBeforeGridLineRender = null),
                    (this.onBeforeTimeHeaderRender = null),
                    (this.onBeforeTimeHeaderDomAdd = null),
                    (this.onBeforeTimeHeaderDomRemove = null),
                    (this.onBeforeResHeaderRender = null),
                    (this.onBeforeRowHeaderRender = null),
                    (this.onBeforeRowHeaderColumnRender = null),
                    (this.onBeforeRowHeaderDomAdd = null),
                    (this.onBeforeRowHeaderDomRemove = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeCornerExport = null),
                    (this.onBeforeEventExport = null),
                    (this.onBeforeTimeHeaderExport = null),
                    (this.onBeforeRowHeaderExport = null),
                    (this.onAfterEventRender = null),
                    (this.onAfterCellRender = null),
                    (this.onAfterEventEditRender = null),
                    (this.onEventFilter = null),
                    (this.onRowFilter = null),
                    (this.onRectangleSelecting = null),
                    (this.onRectangleSelect = null),
                    (this.onRectangleSelected = null),
                    (this.onDimensionsChanged = null),
                    (this.onAfterUpdate = null),
                    (this.S = 0),
                    (this.zi = !0),
                    (this.Ai = !1),
                    (this.Bi = !1),
                    (this.Ci = !1),
                    (this.Di = -1),
                    (this.Ei = -1),
                    (this.U = !1),
                    (this.Fi = -1),
                    (this.Gi = !1),
                    (this.Hi = !0),
                    (this.rowlist = DayPilot.list()),
                    (this.itline = DayPilot.list()),
                    (this.events = {}),
                    (this.cells = {}),
                    (this.elements = {}),
                    (this.elements.events = []),
                    (this.elements.bars = []),
                    (this.elements.text = []),
                    (this.elements.cells = []),
                    (this.elements.linesVertical = []),
                    (this.elements.separators = []),
                    (this.elements.range = []),
                    (this.elements.breaks = []),
                    (this.elements.links = []),
                    (this.elements.linkpoints = []),
                    (this.elements.rectangle = []),
                    (this.elements.hover = []),
                    (this.elements.timeHeader = []),
                    (this.Q = {}),
                    (this.Q.cells = []),
                    (this.Q.linesVertical = {}),
                    (this.Q.linesHorizontal = {}),
                    (this.Q.timeHeaderGroups = []),
                    (this.Q.timeHeader = {}),
                    (this.Q.pixels = []),
                    (this.Q.breaks = []),
                    (this.Q.events = []),
                    (this.clientState = {}),
                    (this.members = {}),
                    (this.members.obsolete = [
                        "Init",
                        "cleanSelection",
                        "cssClassPrefix",
                        "getHScrollPosition",
                        "setHScrollPosition",
                        "getVScrollPosition",
                        "setVScrollPosition",
                        "showBaseTimeHeader",
                    ]),
                    (this.members.ignoreFilter = function (e) {
                        return 0 === e.indexOf("div");
                    }),
                    (this.members.ignore = [
                        "internal",
                        "nav",
                        "debug",
                        "temp",
                        "elements",
                        "members",
                        "cellProperties",
                        "itline",
                        "rowlist",
                        "timeHeader",
                        "timeouts",
                        "rowHeaderCols",
                    ]),
                    (this.members.noCssOnly = []),
                    (this.V = "javasc"),
                    (this.nav = {}),
                    (this.na = function (e, t) {
                        var e = JSON.parse(e);
                        if (((p.onScrollCalled = !1), e.VsUpdate)) {
                            var n = document.createElement("input");
                            (n.type = "hidden"),
                                (n.name = p.id + "_vsupdate"),
                                (n.id = n.name),
                                (n.value = e.VsUpdate),
                                (p.Kg.innerHTML = ""),
                                p.Kg.appendChild(n);
                        }
                        if (e.CallBackRedirect)
                            return void (document.location.href =
                                e.CallBackRedirect);
                        if (e.BubbleGuid) {
                            var i = e.BubbleGuid,
                                a = this.bubbles[i];
                            return (
                                delete this.bubbles[i],
                                p.Ja(),
                                "undefined" != typeof e.Result.BubbleHTML &&
                                    a &&
                                    a.updateView(e.Result.BubbleHTML, a),
                                void p.Ii()
                            );
                        }
                        if ("function" == typeof p.onCallBackResult) {
                            var r = {};
                            if (
                                ((r.result = e),
                                (r.preventDefault = function () {
                                    r.preventDefault.value = !0;
                                }),
                                p.onCallBackResult(r),
                                r.preventDefault.value)
                            )
                                return (
                                    p.Mb(),
                                    p.Ja(),
                                    p.eb(),
                                    e.Message &&
                                        p.message &&
                                        p.message(e.Message),
                                    p.Ka(e.CallBackData, !0),
                                    p.Ii(),
                                    void p.da()
                                );
                        }
                        return (
                            "undefined" != typeof DayPilot.Bubble &&
                                DayPilot.Bubble.hideActive(),
                            "undefined" != typeof e.ClientState &&
                                (null === e.ClientState
                                    ? (p.clientState = {})
                                    : (p.clientState = e.ClientState)),
                            "None" === e.UpdateType
                                ? (p.Ja(),
                                  p.Ii(),
                                  e.Message && p.message(e.Message),
                                  void p.Ka(e.CallBackData, !0))
                                : ("undefined" != typeof e.TagFields &&
                                      (p.tagFields = e.TagFields),
                                  "undefined" != typeof e.SortDirections &&
                                      (p.sortDirections = e.SortDirections),
                                  (p.Q.drawArea = null),
                                  "Full" === e.UpdateType &&
                                      ((p.resources = e.Resources),
                                      (p.colors = e.Colors),
                                      (p.palette = e.Palette),
                                      (p.dirtyColors = e.DirtyColors),
                                      (p.cellProperties = e.CellProperties),
                                      (p.cellConfig = e.CellConfig),
                                      (p.separators = e.Separators),
                                      (p.timeline = e.Timeline),
                                      (p.timeHeader = e.TimeHeader),
                                      (p.timeHeaders = e.TimeHeaders),
                                      "undefined" != typeof e.Links &&
                                          (p.links.list = e.Links),
                                      "undefined" !=
                                          typeof e.RowHeaderColumns &&
                                          (p.rowHeaderColumns =
                                              e.RowHeaderColumns),
                                      (p.startDate = e.StartDate
                                          ? new DayPilot.Date(e.StartDate)
                                          : p.startDate),
                                      (p.days = e.Days ? e.Days : p.days),
                                      (p.cellDuration = e.CellDuration
                                          ? e.CellDuration
                                          : p.cellDuration),
                                      (p.cellGroupBy = e.CellGroupBy
                                          ? e.CellGroupBy
                                          : p.cellGroupBy),
                                      (p.cellWidth = e.CellWidth
                                          ? e.CellWidth
                                          : p.cellWidth),
                                      "undefined" != typeof e.CellWidthSpec &&
                                          (p.cellWidthSpec = e.CellWidthSpec),
                                      "undefined" != typeof e.Scale &&
                                          (p.scale = e.Scale),
                                      (p.viewType = e.ViewType
                                          ? e.ViewType
                                          : p.viewType),
                                      "undefined" != typeof e.ShowNonBusiness &&
                                          (p.showNonBusiness =
                                              e.ShowNonBusiness),
                                      (p.businessBeginsHour =
                                          e.BusinessBeginsHour
                                              ? e.BusinessBeginsHour
                                              : p.businessBeginsHour),
                                      (p.businessEndsHour = e.BusinessEndsHour
                                          ? e.BusinessEndsHour
                                          : p.businessEndsHour),
                                      "undefined" != typeof e.DynamicLoading &&
                                          (p.dynamicLoading = e.DynamicLoading),
                                      "undefined" != typeof e.TreeEnabled &&
                                          (p.treeEnabled = e.TreeEnabled),
                                      (p.locale = e.Locale
                                          ? e.Locale
                                          : p.locale),
                                      "undefined" != typeof e.TimeZone &&
                                          (p.timeZone = e.TimeZone),
                                      (p.timeFormat = e.TimeFormat
                                          ? e.TimeFormat
                                          : p.timeFormat),
                                      (p.rowHeaderCols = e.RowHeaderCols
                                          ? e.RowHeaderCols
                                          : p.rowHeaderCols),
                                      "undefined" != typeof e.DurationBarMode &&
                                          (p.durationBarMode =
                                              e.DurationBarMode),
                                      "undefined" != typeof e.CornerHTML &&
                                          (p.cornerHtml = e.CornerHTML),
                                      (p.hashes = e.Hashes),
                                      p.Ji(),
                                      p.Ki(),
                                      p.Li(),
                                      p.Oa()),
                                  "Scroll" !== e.Action && p.Pa(e.Events),
                                  "Full" === e.UpdateType &&
                                      (p.Mi(), p.Ni(), p.Oi()),
                                  p.Pi(),
                                  p._a(),
                                  p.cb(),
                                  (p.Q.drawArea = null),
                                  "Scroll" !== e.Action
                                      ? (p.Qi(),
                                        p.Qa(),
                                        ("Auto" !== p.heightSpec &&
                                            "Max" !== p.heightSpec) ||
                                            p.Xa(),
                                        p.Ri(),
                                        p.ra(),
                                        p.Si(),
                                        p.multiselect.clear(!0),
                                        p.multiselect.Ti(e.SelectedEvents),
                                        p.Ui(),
                                        p.Vi(),
                                        p.ab())
                                      : (p.multiselect.clear(!0),
                                        p.multiselect.Ti(e.SelectedEvents),
                                        p.Wi(e.Events)),
                                  "HoldForever" !==
                                      p.timeRangeSelectedHandling && p.Xi(),
                                  "Full" === e.UpdateType &&
                                      (p.setScroll(e.ScrollX, e.ScrollY),
                                      p.Gh()),
                                  p.Yi(),
                                  p.Mb(),
                                  e.SelectedRows && p.Zi(e.SelectedRows),
                                  p.Ja(),
                                  "Full" === e.UpdateType &&
                                      navigator.appVersion.indexOf(
                                          "MSIE 7."
                                      ) !== -1 &&
                                      window.setTimeout(function () {
                                          p.Mi(), p.Xa();
                                      }, 0),
                                  p.eb(),
                                  e.Message &&
                                      p.message &&
                                      p.message(e.Message),
                                  p.Ka(e.CallBackData, !0),
                                  p.Ii(),
                                  p.da(),
                                  void (
                                      "Full" !== e.UpdateType ||
                                      "Scroll" === e.Action ||
                                      p.onScrollCalled ||
                                      setTimeout(function () {
                                          p.$i();
                                      }, 0)
                                  ))
                        );
                    }),
                    (this.Mb = function () {
                        if (p._i && p._i.aj) {
                            var e = p._i.aj;
                            e.parentNode.removeChild(e), (p._i.aj = null);
                        }
                    }),
                    (this.Ka = function (e, t) {
                        var n = function (e, t) {
                            return function () {
                                if (p.fb()) {
                                    if ("function" == typeof p.onAfterRender) {
                                        var n = {};
                                        (n.isCallBack = t),
                                            (n.isScroll = !1),
                                            (n.data = e),
                                            p.onAfterRender(n);
                                    }
                                } else p.afterRender && p.afterRender(e, t);
                            };
                        };
                        window.setTimeout(n(e, t), 0);
                    }),
                    (this.scrollTo = function (e, t, n) {
                        if (p.infiniteScrollingEnabled) {
                            if (p.T) {
                                var i = p.getPixels(p.visibleEnd()).left,
                                    a =
                                        i -
                                        p.infiniteScrollingMargin -
                                        p.nav.scroll.clientWidth,
                                    r = p.getDate(a, !0, !0);
                                if (
                                    !DayPilot.Util.overlaps(
                                        p.visibleStart(),
                                        r,
                                        e,
                                        e
                                    )
                                )
                                    return void p.infinite.scrollTo(e);
                            }
                            return void p.bj(e, t, n);
                        }
                        p.cj.enabled
                            ? ((p.cj.scrollToRequested = e),
                              setTimeout(function () {
                                  var e = p.cj.scrollToRequested;
                                  e && ((p.dj = null), p.bj(e, t, n));
                              }, 0))
                            : p.bj(e, t, n);
                    }),
                    (this.bj = function (e, t, n) {
                        if (e) {
                            if (!p.T)
                                return void (p.dj = {
                                    date: e,
                                    animated: t,
                                    position: n,
                                });
                            if ("Days" === p.viewType) {
                                var i = new DayPilot.Date(e),
                                    a = p.ej(i);
                                if (!a) return;
                                setTimeout(function () {
                                    var e = a.top;
                                    p.nav.scroll.scrollTop = e;
                                }, 100);
                                var r = i.getTimePart();
                                e = p.visibleStart().getDatePart().addTime(r);
                            }
                            var o;
                            if (e instanceof DayPilot.Date)
                                o = this.getPixels(e).left;
                            else if ("string" == typeof e)
                                o = this.getPixels(new DayPilot.Date(e)).left;
                            else {
                                if ("number" != typeof e)
                                    throw new DayPilot.Exception(
                                        "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object"
                                    );
                                o = e;
                            }
                            var s = p.fj.clientWidth,
                                l = p.nav.scroll.clientWidth;
                            switch (((n = n || "left"), n.toLowerCase())) {
                                case "left":
                                    break;
                                case "middle":
                                    o -= l / 2;
                                    break;
                                case "right":
                                    o -= l;
                            }
                            if (
                                (o < 0 && (o = 0), o > s - l && (o = s - l), !t)
                            )
                                return void p.gj(o);
                            var d = Math.abs(p.nav.scroll.scrollLeft - o),
                                c = d / s,
                                u = 50;
                            if ("number" == typeof t) u = t;
                            else if ("string" == typeof t)
                                switch (t) {
                                    case "fast":
                                        u = 30;
                                        break;
                                    case "normal":
                                        u = 50;
                                        break;
                                    case "slow":
                                        u = 100;
                                        break;
                                    case "linear":
                                        u = Math.floor(100 * c);
                                }
                            c > 0.6 && (u = Math.min(u, 80)), p.hj(o, u);
                        }
                    }),
                    (this.hj = function (e, t) {
                        function n(e) {
                            var t = e.next();
                            return "undefined" == typeof t
                                ? void (e.finished && e.finished())
                                : (p.setScrollX(t),
                                  window.clearTimeout(p.refreshTimeout),
                                  void setTimeout(function () {
                                      n(e);
                                  }, e.delay));
                        }
                        var i = {};
                        (i.steps = []),
                            (i.index = 0),
                            (i.delay = 10),
                            (i.next = function () {
                                var e = i.steps[i.index];
                                return (i.index += 1), e;
                            }),
                            (i.finished = function () {
                                p.$i();
                            });
                        for (
                            var a = p.getScrollX(),
                                t = t || 100,
                                r = e - a,
                                o = 0;
                            o < t;
                            o++
                        ) {
                            var s = o / t,
                                l =
                                    (2 * (s - 0.5)) /
                                        (Math.pow(2 * (s - 0.5), 2) + 1) +
                                    0.5;
                            i.steps.push(a + r * l);
                        }
                        i.steps.push(e), n(i);
                    }),
                    (this.scrollToResource = function (e) {
                        DayPilot.complete(function () {
                            var t;
                            if ("string" == typeof e || "number" == typeof e)
                                t = p.ij(e);
                            else {
                                if (!(e instanceof DayPilot.Row))
                                    throw new DayPilot.Exception(
                                        "Invalid scrollToResource() argument: id or DayPilot.Row expected"
                                    );
                                t = p.ij(e.id);
                            }
                            t &&
                                setTimeout(function () {
                                    var e = t.top;
                                    p.nav.scroll.scrollTop = e;
                                }, 100);
                        });
                    }),
                    (this.jj = function () {
                        if (this.floatingTimeHeaders && this.timeHeader) {
                            var e = p.Y();
                            if (e) {
                                p.kj();
                                for (
                                    var t = e.pixels.left + g.lj,
                                        n = e.pixels.right + g.lj + e.sw,
                                        i = [],
                                        a = 0;
                                    a < this.timeHeader.length;
                                    a++
                                )
                                    for (
                                        var r = 0;
                                        r < this.timeHeader[a].length;
                                        r++
                                    ) {
                                        var o = this.timeHeader[a][r],
                                            s = o.left,
                                            l = o.left + o.width,
                                            d = null;
                                        if (
                                            (s < t &&
                                                t < l &&
                                                ((d = {}),
                                                (d.x = r),
                                                (d.y = a),
                                                (d.marginLeft = t - s),
                                                (d.marginRight = 0),
                                                (d.div =
                                                    p.Q.timeHeader[
                                                        r + "_" + a
                                                    ]),
                                                i.push(d)),
                                            s < n && n < l)
                                        ) {
                                            d ||
                                                ((d = {}),
                                                (d.x = r),
                                                (d.y = a),
                                                (d.marginLeft = 0),
                                                (d.div =
                                                    p.Q.timeHeader[
                                                        r + "_" + a
                                                    ]),
                                                i.push(d)),
                                                (d.marginRight = l - n);
                                            break;
                                        }
                                    }
                                for (var c = 0; c < i.length; c++) {
                                    var d = i[c];
                                    p.mj(d.div, d.marginLeft, d.marginRight);
                                }
                            }
                        }
                    }),
                    (this.Yi = function () {
                        p.jj(), p.nj();
                    }),
                    (this.oj = {});
                var m = p.oj;
                (m.pj = function (e, t, n, i) {
                    var a = e,
                        r = e + n,
                        o = t,
                        s = t + i;
                    return DayPilot.list(p.elements.events).filter(function (
                        e
                    ) {
                        var t = e.event,
                            n = t.part.left,
                            i = t.part.left + t.part.width,
                            l = p.rowlist[t.part.dayIndex],
                            d = l.top + t.part.top,
                            c = d + t.part.height;
                        if (
                            DayPilot.Util.overlaps(n, i, a, r) &&
                            DayPilot.Util.overlaps(d, c, o, s)
                        )
                            return !0;
                    });
                }),
                    (m.Zh = function (e) {
                        var t = [],
                            e = e || "All",
                            n = p.Y();
                        if (!n) return DayPilot.list(t);
                        for (
                            var i = n.pixels.left, a = n.pixels.right, r = 0;
                            r < p.elements.events.length;
                            r++
                        ) {
                            var o = p.elements.events[r],
                                s = o.event,
                                l = s.part.left,
                                d = s.part.left + s.part.width;
                            switch (e) {
                                case "Left":
                                    l < i && i < d && t.push(o);
                                    break;
                                case "All":
                                    DayPilot.Util.overlaps(l, d, i, a) &&
                                        t.push(o);
                            }
                        }
                        return DayPilot.list(t).addProps({ area: n });
                    }),
                    (this.nj = function () {
                        if (this.floatingEvents) {
                            var e = m.Zh("Left");
                            p.qj(),
                                e
                                    .filter(function (e) {
                                        return (
                                            "Milestone" !== e.event.data.type
                                        );
                                    })
                                    .forEach(function (t) {
                                        var n = t.event,
                                            i = e.area.pixels.left,
                                            a = n.part.left,
                                            r = i - a;
                                        p.rj(t, r, 0);
                                    });
                        }
                    }),
                    (this.elements.sections = []),
                    (this.elements.hsections = []),
                    (this.mj = function (e, t, n) {
                        var i = u();
                        i.setAttribute("unselectable", "on"),
                            (i.className = p.H("_timeheader_float")),
                            (i.style.position = "absolute"),
                            (i.style.left = t + "px"),
                            (i.style.right = n + "px"),
                            (i.style.top = "0px"),
                            (i.style.bottom = "0px"),
                            (i.style.overflow = "hidden");
                        var a = u();
                        (a.className = p.H("_timeheader_float_inner")),
                            a.setAttribute("unselectable", "on");
                        var r = e.cell.th;
                        if (
                            ((a.innerHTML = p.ea(r.text, r.innerHTML)),
                            r.fontColor && (a.style.color = r.fontColor),
                            i.appendChild(a),
                            (e.section = i),
                            e.insertBefore(i, e.firstChild.nextSibling),
                            e.domArgs && e.domArgs.element)
                        ) {
                            var o = e.firstChild && e.firstChild.firstChild;
                            o && (o.style.display = "none");
                        } else e.firstChild.innerHTML = "";
                        this.elements.hsections.push(e);
                    }),
                    (this.kj = function () {
                        for (
                            var e = 0;
                            e < this.elements.hsections.length;
                            e++
                        ) {
                            var t = this.elements.hsections[e],
                                n = t.cell;
                            if (n && t.firstChild)
                                if (t.domArgs && t.domArgs.element) {
                                    var i =
                                        t.firstChild && t.firstChild.firstChild;
                                    i && (i.style.display = "");
                                } else
                                    t.firstChild.innerHTML = p.ea(
                                        n.th.text,
                                        n.th.innerHTML
                                    );
                            DayPilot.de(t.section), (t.section = null);
                        }
                        this.elements.hsections = [];
                    }),
                    (this.rj = function (e, t, n) {
                        var i = u();
                        i.setAttribute("unselectable", "on"),
                            (i.className = p.H(B.eventFloat)),
                            (i.style.position = "absolute"),
                            (i.style.left = t + "px"),
                            (i.style.right = n + "px"),
                            (i.style.top = "0px"),
                            (i.style.bottom = "0px"),
                            (i.style.overflow = "hidden");
                        var a = u();
                        if (
                            ((a.className = p.H(B.eventFloatInner)),
                            a.setAttribute("unselectable", "on"),
                            (a.innerHTML = e.event.client.html()),
                            i.appendChild(a),
                            (e.section = i),
                            e.insertBefore(i, e.firstChild.nextSibling),
                            e.domArgs && e.domArgs.element)
                        ) {
                            var r =
                                e && e.firstChild && e.firstChild.firstChild;
                            r && (r.style.display = "none");
                        } else e.firstChild.innerHTML = "";
                        var o = e.event,
                            s = o.cache || o.data,
                            l = o.cache ? o.cache.areas : o.data.areas;
                        (l = l || []),
                            s.fontColor && (a.style.color = s.fontColor);
                        var d = {
                            offsetX: p.sj(a),
                            eventDiv: e,
                            areas: l.filter(function (e) {
                                return !(e.start || e.end);
                            }),
                        };
                        DayPilot.Areas.attach(i, e.event, d),
                            DayPilot.Areas.disable(e),
                            this.elements.sections.push(e);
                    }),
                    (this.tj = null),
                    (this.sj = function (e) {
                        return (
                            null === p.tj &&
                                (p.tj = parseInt(
                                    new DayPilot.StyleReader(e).get(
                                        "padding-left"
                                    )
                                )),
                            p.tj
                        );
                    }),
                    (this.qj = function () {
                        for (
                            var e = 0;
                            e < this.elements.sections.length;
                            e++
                        ) {
                            var t = this.elements.sections[e],
                                n = t.event;
                            if (n)
                                if (t.domArgs && t.domArgs.element) {
                                    var i =
                                        t &&
                                        t.firstChild &&
                                        t.firstChild.firstChild;
                                    i && (i.style.display = "");
                                } else t.firstChild.innerHTML = n.client.html();
                            DayPilot.de(t.section),
                                DayPilot.Areas.enable(t),
                                (t.section = null);
                        }
                        this.elements.sections = [];
                    }),
                    (this.setScrollX = function (e) {
                        p.cj.enabled
                            ? ((p.cj.scrollXRequested = e),
                              setTimeout(function () {
                                  var e = p.cj.scrollXRequested;
                                  "number" == typeof e && p.gj(e);
                              }, 0))
                            : p.gj(e);
                    }),
                    (this.gj = function (e) {
                        var t = p.nav.scroll,
                            n = p.uj();
                        t.clientWidth + e > n && (e = n - t.clientWidth),
                            (p.divTimeScroll.scrollLeft = e),
                            (t.scrollLeft = e);
                    }),
                    (this.setScrollY = function (e) {
                        p.cj.enabled
                            ? ((p.cj.scrollYRequested = e),
                              setTimeout(function () {
                                  var e = p.cj.scrollYRequested;
                                  "number" == typeof e && p.vj(e);
                              }, 0))
                            : p.vj(e);
                    }),
                    (this.vj = function (e) {
                        var t = p.nav.scroll,
                            n = p.Fi;
                        t.clientHeight + e > n && (e = n - t.clientHeight),
                            (p.divResScroll.scrollTop = e),
                            (t.scrollTop = e);
                    }),
                    (this.setScroll = function (e, t) {
                        p.setScrollX(e), p.setScrollY(t);
                    }),
                    (this.wj = function () {
                        return p.xj() + U.yj() - 1;
                    }),
                    (this.message = function (e, t) {
                        if (null !== e && p.T) {
                            var n,
                                i = {};
                            "object" == typeof arguments[1]
                                ? ((i = arguments[1]), (n = i.delay))
                                : (n = t);
                            var a = "";
                            (a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                                (n = n || this.messageHideAfter || 2e3);
                            var r,
                                o = p.zj() + 1,
                                s = p.wj(),
                                l = DayPilot.sw(p.nav.scroll) + 1,
                                d = DayPilot.sh(p.nav.scroll);
                            if (this.nav.message) r = p.nav.message;
                            else {
                                (r = u()),
                                    (r.style.position = "absolute"),
                                    (r.style.left = s + "px"),
                                    (r.style.right = l + "px"),
                                    (r.style.display = "none"),
                                    DayPilot.rePassive(
                                        r,
                                        DayPilot.touch.start,
                                        function (e) {
                                            (p.nav.message.style.display =
                                                "none"),
                                                e.stopPropagation();
                                        }
                                    ),
                                    (r.onmousemove = function () {
                                        p.messageHideOnMouseOut &&
                                            r.messageTimeout &&
                                            !r.status &&
                                            clearTimeout(r.messageTimeout);
                                    }),
                                    (r.onmouseout = function () {
                                        p.messageHideOnMouseOut &&
                                            "none" !==
                                                p.nav.message.style.display &&
                                            (r.messageTimeout = setTimeout(
                                                p.qb,
                                                500
                                            ));
                                    });
                                var c = u();
                                (c.onclick = function () {
                                    p.nav.message.style.display = "none";
                                }),
                                    (c.className = p.H("_message")),
                                    r.appendChild(c);
                                var h = u();
                                (h.style.position = "absolute"),
                                    (h.className = p.H("_message_close")),
                                    (h.onclick = function () {
                                        p.nav.message.style.display = "none";
                                    }),
                                    r.appendChild(h),
                                    this.nav.top.appendChild(r),
                                    (this.nav.message = r);
                            }
                            var f = function () {
                                if (p.nav.message) {
                                    var e = p.nav.message.firstChild;
                                    (e.className = p.H("_message")),
                                        i.cssClass &&
                                            DayPilot.Util.addClass(
                                                e,
                                                i.cssClass
                                            ),
                                        (e.innerHTML = a);
                                    var t = DayPilot.sw(p.nav.scroll);
                                    p.nav.message.style.right = t + "px";
                                    var s = p.messageBarPosition || "Top";
                                    "Bottom" === s
                                        ? ((p.nav.message.style.bottom =
                                              d + "px"),
                                          (p.nav.message.style.top = ""))
                                        : "Top" === s &&
                                          ((p.nav.message.style.bottom = ""),
                                          (p.nav.message.style.top = o + "px"));
                                    var l = function () {
                                        r.messageTimeout = setTimeout(p.qb, n);
                                    };
                                    DayPilot.fade(p.nav.message, 0.2, l);
                                }
                            };
                            clearTimeout(r.messageTimeout),
                                "none" !== this.nav.message.style.display
                                    ? DayPilot.fade(p.nav.message, -0.2, f)
                                    : f();
                        }
                    }),
                    (this.qb = function () {
                        if (p.nav && p.nav.message) {
                            var e = function () {
                                p.nav.message.style.display = "none";
                            };
                            DayPilot.fade(p.nav.message, -0.2, e);
                        }
                    }),
                    (this.Aj = function () {
                        p.nav &&
                            p.nav.message &&
                            (p.nav.message.style.display = "none");
                    }),
                    (this.message.show = function (e) {
                        p.message(e);
                    }),
                    (this.message.hide = function () {
                        p.qb();
                    }),
                    (this.Bj = null),
                    (this.Xa = function () {
                        if (this.nav.scroll) {
                            !(function () {
                                var e = p.uj();
                                (p.fj.style.height = p.Fi + "px"),
                                    (p.fj.style.width = e + "px"),
                                    "Auto" !== p.cellWidthSpec || p.Cj
                                        ? e > p.nav.scroll.clientWidth
                                            ? (p.nav.scroll.style.overflowX =
                                                  "auto")
                                            : (p.nav.scroll.style.overflowX =
                                                  "hidden")
                                        : ((p.nav.scroll.style.overflowX =
                                              "hidden"),
                                          (p.nav.scroll.scrollLeft = 0));
                            })();
                            var e = "None" === p.timeHeaderPosition ? 0 : 1;
                            null !== this.Bj &&
                                ((this.nav.top.style.border = this.Bj),
                                (this.Bj = null)),
                                ("Parent100Pct" !== this.heightSpec &&
                                    "Max100Pct" !== this.heightSpec) ||
                                    ((this.nav.top.style.height = "100%"),
                                    this.hideBorderFor100PctHeight &&
                                        ((this.Bj = this.nav.top.style.border),
                                        (this.nav.top.style.border = "0 none")),
                                    (this.height =
                                        parseInt(
                                            this.nav.top.clientHeight,
                                            10
                                        ) -
                                        this.zj() -
                                        e)),
                                (this.nav.scroll.style.height = "30px");
                            var t = this.gd(),
                                n = t + this.zj() + e;
                            if (
                                (t >= 0 &&
                                    ((this.nav.scroll.style.height = t + "px"),
                                    (this.Dj.style.height = t + "px")),
                                this.nav.divider &&
                                    ((!n || isNaN(n) || n < 0) && (n = 0),
                                    (this.nav.divider.style.height = n + "px")),
                                "Parent100Pct" !== this.heightSpec &&
                                    (this.nav.top.style.height = n + "px"),
                                p.nav.resScrollSpace)
                            ) {
                                var i = 30 + p.Ej.bottom.height;
                                "Auto" === p.heightSpec &&
                                    (i = DayPilot.sh(p.nav.scroll)),
                                    (p.nav.resScrollSpace.style.height =
                                        i + "px");
                            }
                            for (
                                var a = 0;
                                a < this.elements.separators.length;
                                a++
                            )
                                this.elements.separators[a].style.height =
                                    this.Fi + "px";
                            for (
                                var a = 0;
                                a < this.elements.linesVertical.length;
                                a++
                            )
                                this.elements.linesVertical[a].style.height =
                                    this.Fi + "px";
                            p.Fj(), p.Gj();
                        }
                    }),
                    (this.Ki = function () {
                        (this.startDate = new DayPilot.Date(
                            this.startDate
                        ).getDatePart()),
                            (this.Q.pixels = []),
                            (this.itline = DayPilot.list());
                        var e = "Auto" === this.cellWidthSpec;
                        if (
                            ((function () {
                                if (e) {
                                    var t = 0;
                                    p.J() && p.timeline
                                        ? (t = p.timeline.length)
                                        : "Manual" === p.scale
                                        ? (t = p.timeline.length)
                                        : (p.Hj(),
                                          (t = p.itline.length),
                                          (p.itline = DayPilot.list()));
                                    var n = p.Ij();
                                    if (t > 0 && n > 0) {
                                        var i = n / t;
                                        (p.cellWidth = DayPilot.Util.atLeast(
                                            i,
                                            p.cellWidthMin
                                        )),
                                            (p.Cj = i < p.cellWidthMin);
                                    }
                                }
                            })(),
                            this.J() && this.timeline)
                        ) {
                            if (this.timeline) {
                                this.itline = DayPilot.list();
                                for (
                                    var t = null, n = 0, i = 0;
                                    i < this.timeline.length;
                                    i++
                                ) {
                                    var a = this.timeline[i],
                                        r = {};
                                    if (
                                        ((r.start = new DayPilot.Date(a.start)),
                                        (r.end = a.end
                                            ? new DayPilot.Date(a.end)
                                            : r.start.addMinutes(
                                                  this.cellDuration
                                              )),
                                        a.width)
                                    )
                                        (r.left = a.left || n),
                                            (r.width =
                                                a.width || this.cellWidth),
                                            (n += r.width);
                                    else {
                                        var o = Math.floor(n + this.cellWidth),
                                            s = o - Math.floor(n);
                                        (r.left = Math.floor(n)),
                                            (r.width = s),
                                            (n += this.cellWidth);
                                    }
                                    (r.breakBefore =
                                        t && t.ticks !== r.start.ticks),
                                        (t = r.end),
                                        this.itline.push(r);
                                }
                            }
                            e && this.Jj();
                        } else {
                            if (
                                ((this.timeHeader = []),
                                "Manual" === this.scale)
                            ) {
                                this.itline = DayPilot.list();
                                for (
                                    var n = 0, t = null, i = 0;
                                    this.timeline && i < this.timeline.length;
                                    i++
                                ) {
                                    var a = this.timeline[i],
                                        r = {};
                                    if (
                                        ((r.start = new DayPilot.Date(a.start)),
                                        (r.end = a.end
                                            ? new DayPilot.Date(a.end)
                                            : r.start.addMinutes(
                                                  this.cellDuration
                                              )),
                                        t && r.start.ticks < t.ticks)
                                    )
                                        throw new DayPilot.Exception(
                                            "The timeline must be sequential"
                                        );
                                    var l = a.width || this.cellWidth,
                                        o = Math.floor(n + l),
                                        s = o - Math.floor(n);
                                    (r.left = Math.floor(n)),
                                        (r.width = s),
                                        (n += l),
                                        (r.breakBefore =
                                            t && t.ticks !== r.start.ticks),
                                        (t = r.end),
                                        this.itline.push(r);
                                }
                            } else this.Hj();
                            this.Kj();
                        }
                    }),
                    (this.infinite = {}),
                    (this.infinite.shiftStart = function (e) {
                        g.Lj(e);
                    }),
                    (this.infinite.scrollTo = function (e) {
                        g.Mj(e);
                    }),
                    (this.Nj = {});
                var g = this.Nj;
                (g.lj = 0),
                    (g.Cf = !1),
                    (g.Oj = function () {
                        p.Pj().forEach(function (e, t) {
                            (e.start = p.nb()),
                                (e.data = null),
                                p.Qj(e.index, e.grid);
                        });
                    }),
                    (g.Rj = function () {
                        return p.infiniteScrollingEnabled && !p.J();
                    }),
                    (g.Mj = function (e) {
                        var e = new DayPilot.Date(e),
                            t = e
                                .addDays(-p.infiniteScrollingStepDays)
                                .getDatePart(),
                            n = new DayPilot.Duration(
                                t.getTime() -
                                    p.startDate.getDatePart().getTime()
                            ).totalDays();
                        g.Lj(n, e);
                    }),
                    (g.Lj = function (e, t) {
                        var n;
                        g.Cf = !0;
                        var i = p.startDate,
                            a = p.startDate.addDays(e);
                        e > 0 && (n = -p.getPixels(a).left),
                            (p.startDate = p.startDate.addDays(e)),
                            (p.itline = DayPilot.list()),
                            (p.Q.pixels = []),
                            (p.Sj = {}),
                            p.Hj(),
                            g.Oj(),
                            e < 0 && (n = p.getPixels(i).left),
                            (p.timeHeader = []),
                            p.Kj(),
                            p.Oi(),
                            (p.cellProperties = {}),
                            p.Ri(),
                            p.Si(),
                            p.Pa(),
                            p.ra(),
                            p.Pi(),
                            p.Qi(),
                            p.Xa(),
                            "undefined" != typeof t
                                ? (p.scrollTo(new DayPilot.Date(t)), p.$i())
                                : (p.nav.scroll.scrollLeft += n),
                            p.Vi(),
                            p.ab(),
                            (g.Cf = !1);
                    }),
                    (this.Hj = function () {
                        !p.T &&
                            g.Rj() &&
                            (this.startDate = this.startDate.addDays(
                                -this.infiniteScrollingStepDays
                            ));
                        for (
                            var e =
                                    "Days" !== this.viewType
                                        ? this.startDate.addDays(this.days)
                                        : this.startDate.addDays(1),
                                t = this.startDate,
                                n = this.Tj(t),
                                i = !1,
                                a = 0,
                                r = null;
                            n.ticks <= e.ticks && n.ticks > t.ticks;

                        ) {
                            var o = t,
                                s = n;
                            p.showNonBusinessForceHours &&
                                "Day" == p.scale &&
                                ((o = t.addHours(p.businessBeginsHour)),
                                (s = t.addHours(p.businessEndsHour)));
                            var l = this.Uj(o, s, !0);
                            if (!l.cell.start || !l.cell.end)
                                throw new DayPilot.Exception(
                                    "Invalid timeline cell start/end: start and/or end not specified"
                                );
                            if (
                                ((l.cell.start = new DayPilot.Date(
                                    l.cell.start
                                )),
                                (l.cell.end = new DayPilot.Date(l.cell.end)),
                                l.cell.start >= l.cell.end)
                            )
                                throw new DayPilot.Exception(
                                    "Invalid timeline cell start/end: end before start"
                                );
                            if (r && r.ticks > l.cell.start.ticks)
                                throw new DayPilot.Exception(
                                    "Invalid timeline cell start/end: overlapping cells"
                                );
                            i = !!(r && r.ticks < l.cell.start.ticks);
                            var d = l.cell.width || p.cellWidth;
                            if (l.cell.visible) {
                                var c = Math.floor(a + d),
                                    u = c - Math.floor(a),
                                    h = {};
                                (h.start = l.cell.start),
                                    (h.end = l.cell.end),
                                    (h.left = Math.floor(a)),
                                    (h.width = u),
                                    (h.breakBefore = i),
                                    this.itline.push(h),
                                    (a += d),
                                    (r = l.cell.end);
                            }
                            (t = n), (n = this.Tj(t));
                        }
                    }),
                    (this.Jj = function () {
                        if (this.timeHeader)
                            for (var e = 0; e < this.timeHeader.length; e++)
                                for (
                                    var t = this.timeHeader[e], n = 0;
                                    n < t.length;
                                    n++
                                ) {
                                    var i = t[n];
                                    i.left = this.getPixels(
                                        new DayPilot.Date(i.start)
                                    ).left;
                                    var a = this.getPixels(
                                            new DayPilot.Date(i.end)
                                        ).left,
                                        r = a - i.left;
                                    i.width = r;
                                }
                    }),
                    (this.Kj = function () {
                        var e = this.timeHeaders;
                        if (
                            (e ||
                                (e = [
                                    { groupBy: this.cellGroupBy },
                                    { groupBy: "Cell" },
                                ]),
                            this.itline.isEmpty())
                        ) {
                            this.timeHeader = [];
                            for (var t = 0; t < e.length; t++)
                                this.timeHeader[t] = [];
                        } else
                            for (var n = p.Vj(), t = 0; t < e.length; t++) {
                                var i = e[t].groupBy,
                                    a = e[t].format;
                                "Default" === i && (i = this.cellGroupBy);
                                for (
                                    var r = [], o = this.nb();
                                    o.ticks < n.ticks;

                                ) {
                                    var s = {};
                                    if (
                                        ((s.start = o),
                                        (s.end = this.Wj(s.start, i)),
                                        s.start.ticks === s.end.ticks)
                                    )
                                        break;
                                    s.left = this.getPixels(s.start).left;
                                    var l = this.getPixels(s.end).left,
                                        d = l - s.left;
                                    if (
                                        ((s.width = d),
                                        (s.colspan = Math.ceil(
                                            d / (1 * this.cellWidth)
                                        )),
                                        "string" == typeof a
                                            ? (s.text = s.start.toString(
                                                  a,
                                                  U.Xj()
                                              ))
                                            : (s.text = this.Yj(s, i)),
                                        d > 0)
                                    ) {
                                        if (
                                            "function" ==
                                            typeof this.onBeforeTimeHeaderRender
                                        ) {
                                            var c = {};
                                            (c.start = s.start),
                                                (c.end = s.end),
                                                (c.text = s.text),
                                                (c.html = null),
                                                (c.toolTip = p.ea(s.text)),
                                                (c.backColor = null),
                                                (c.fontColor = null),
                                                (c.level =
                                                    this.timeHeader.length),
                                                (c.cssClass = null);
                                            var u = {};
                                            (u.header = c),
                                                (u.control = p),
                                                this.onBeforeTimeHeaderRender(
                                                    u
                                                ),
                                                (s.innerHTML = p.ea(
                                                    c.text,
                                                    c.html
                                                )),
                                                (s.backColor = c.backColor),
                                                (s.fontColor = c.fontColor),
                                                (s.toolTip = c.toolTip),
                                                (s.areas = c.areas),
                                                (s.cssClass = c.cssClass);
                                        }
                                        r.push(s);
                                    }
                                    o = s.end;
                                }
                                this.timeHeader.push(r);
                            }
                    }),
                    (this.Uj = function (e, t) {
                        var n = {};
                        (n.start = e),
                            (n.end = t),
                            (n.visible = !0),
                            (n.width = null);
                        var i = {};
                        if (
                            ((i.cell = n),
                            "function" == typeof this.onIncludeTimeCell)
                        )
                            return this.onIncludeTimeCell(i), i;
                        if (this.showNonBusiness) return i;
                        var a = "Days" === p.viewType;
                        return (
                            (i.cell.visible = this.isBusiness(
                                { start: e, end: t },
                                a
                            )),
                            i
                        );
                    }),
                    (this.getPixels = function (e) {
                        var t = e.ticks,
                            n = this.Q.pixels[t];
                        if (n) return n;
                        var i = 2218768416e5;
                        if (
                            0 === this.itline.length ||
                            t < this.itline[0].start.ticks
                        ) {
                            var a = {};
                            return (
                                (a.cut = !1),
                                (a.left = 0),
                                (a.boxLeft = a.left),
                                (a.boxRight = a.left),
                                (a.i = null),
                                a
                            );
                        }
                        for (
                            var r = this.Zj(e),
                                o = DayPilot.Util.atLeast(r.i - 1, 0),
                                s = o;
                            s < this.itline.length;
                            s++
                        ) {
                            var l = this.itline[s],
                                d = l.start.ticks,
                                c = l.end.ticks;
                            if (d < t && t < c) {
                                var u = t - d,
                                    a = {};
                                (a.cut = !1),
                                    (a.left = l.left + this.Qd(l, u)),
                                    (a.boxLeft = l.left),
                                    (a.boxRight = l.left + l.width),
                                    (a.i = s);
                                break;
                            }
                            if (d === t) {
                                var a = {};
                                (a.cut = !1),
                                    (a.left = l.left),
                                    (a.boxLeft = a.left),
                                    (a.boxRight = a.left + l.width),
                                    (a.i = s);
                                break;
                            }
                            if (c === t) {
                                var a = {};
                                (a.cut = !1),
                                    (a.left = l.left + l.width),
                                    (a.boxLeft = a.left),
                                    (a.boxRight = a.left),
                                    (a.i = s + 1);
                                break;
                            }
                            if (t < d && t > i) {
                                var a = {};
                                (a.cut = !0),
                                    (a.left = l.left),
                                    (a.boxLeft = a.left),
                                    (a.boxRight = a.left),
                                    (a.i = s);
                                break;
                            }
                            i = c;
                        }
                        if (!a) {
                            var h = this.itline[this.itline.length - 1],
                                a = {};
                            (a.cut = !0),
                                (a.left = h.left + h.width),
                                (a.boxLeft = a.left),
                                (a.boxRight = a.left),
                                (a.i = null);
                        }
                        return (this.Q.pixels[t] = a), a;
                    }),
                    (this.getDate = function (e, t, n) {
                        var i = this.$j(e, n);
                        if (!i) return null;
                        var a = i.x,
                            r = this.itline[a];
                        if (!r) return null;
                        var o = n && !t ? r.end : r.start;
                        return t ? o.addTime(this._j(i.cell, i.offset)) : o;
                    }),
                    (this.$j = function (e, t) {
                        if (0 === this.itline.length) return null;
                        for (
                            var n = 0, i = 0, a = 0;
                            a < this.itline.length;
                            a++
                        ) {
                            var r = this.itline[a];
                            if (
                                ((n += r.width || this.cellWidth),
                                e < n || (t && e === n))
                            ) {
                                var o = {};
                                return (
                                    (o.x = a),
                                    (o.offset = e - i),
                                    (o.cell = r),
                                    o
                                );
                            }
                            i = n;
                        }
                        var r = p.itline.last(),
                            o = {};
                        return (
                            (o.x = this.itline.length - 1),
                            (o.offset = r.width || this.cellWidth),
                            (o.cell = r),
                            o
                        );
                    }),
                    (this.ak = function (e) {
                        return this.Zj(e);
                    }),
                    (this.Zj = function (e) {
                        var t = new DayPilot.Date(e),
                            n = 0,
                            i = this.itline[0];
                        if (t.ticks < i.start.ticks) {
                            var a = {};
                            return (
                                (a.hidden = !0),
                                (a.previous = null),
                                (a.current = null),
                                (a.next = this.itline[0]),
                                (a.i = -1),
                                a
                            );
                        }
                        var r = this.itline.length - 1,
                            o = this.itline[r];
                        if (t.ticks > o.end.ticks) {
                            var a = {};
                            return (
                                (a.past = !0),
                                (a.previous =
                                    this.itline[this.itline.length - 1]),
                                (a.i = this.itline.length),
                                a
                            );
                        }
                        if (t.ticks === o.end.ticks) {
                            var a = {};
                            return (
                                (a.past = !1),
                                (a.current =
                                    this.itline[this.itline.length - 1]),
                                (a.i = this.itline.length - 1),
                                a
                            );
                        }
                        for (
                            var s = (function () {
                                    for (var e, i = p.itline; n <= r; )
                                        if (
                                            ((e = Math.floor((n + r) / 2)),
                                            i[e].start.ticks > t.ticks)
                                        )
                                            r = e - 1;
                                        else {
                                            if (!(i[e].end.ticks < t.ticks))
                                                return e;
                                            n = e + 1;
                                        }
                                    return n;
                                })(),
                                l = s;
                            l < this.itline.length;
                            l++
                        ) {
                            var d = this.itline[l];
                            if (
                                d.start.ticks <= t.ticks &&
                                t.ticks < d.end.ticks
                            ) {
                                var a = {};
                                return (
                                    (a.hidden = !1),
                                    (a.current = d),
                                    (a.i = l),
                                    a
                                );
                            }
                            if (t.ticks < d.start.ticks) {
                                var a = {};
                                return (
                                    (a.hidden = !0),
                                    (a.previous =
                                        l > 0 ? this.itline[l - 1] : null),
                                    (a.current = null),
                                    (a.next = this.itline[l]),
                                    (a.i = l),
                                    a
                                );
                            }
                        }
                        var a = {};
                        return (
                            (a.past = !0),
                            (a.previous = this.itline[this.itline.length - 1]),
                            (a.i = this.itline.length),
                            a
                        );
                    }),
                    (this.Qd = function (e, t) {
                        var n = e.width || this.cellWidth,
                            i = e.end.ticks - e.start.ticks;
                        return Math.floor((n * t) / i);
                    }),
                    (this._j = function (e, t) {
                        var n = e.end.ticks - e.start.ticks,
                            i = e.width || this.cellWidth;
                        return Math.floor((t / i) * n);
                    }),
                    (this.$g = function (e) {
                        DayPilot.Global.touch.start ||
                            o.bk ||
                            ((p.ck = {}), p.rb(this, e));
                    }),
                    (this.eventClickPostBack = function (e, t) {
                        this.ha("EventClick", e, t);
                    }),
                    (this.eventClickCallBack = function (e, t) {
                        this.ja("EventClick", e, t);
                    }),
                    (this.rb = function (e, t) {
                        var n = e.event;
                        if (n) {
                            if (
                                ("undefined" != typeof DayPilot.Bubble &&
                                    DayPilot.Bubble.hideActive(),
                                !n.client.doubleClickEnabled())
                            )
                                return void p.sb(e, t);
                            p.dk.click || (p.dk.click = []);
                            var i = function (e, t) {
                                return function () {
                                    p.sb(e, t);
                                };
                            };
                            p.dk.click.push(
                                window.setTimeout(i(e, t), p.doubleClickTimeout)
                            );
                        }
                    }),
                    (this.ek = function (e) {
                        return p.itline[e];
                    }),
                    (this.sb = function (e, t) {
                        if ("boolean" == typeof t)
                            throw new DayPilot.Exception(
                                "Invalid _eventClickSingle parameters"
                            );
                        var n = e.event;
                        if (n) {
                            var i = t.ctrlKey,
                                a = t.metaKey;
                            if (n.client.clickEnabled())
                                if ((p.fk(t), p.fb())) {
                                    var r = {};
                                    if (
                                        ((r.e = n),
                                        (r.control = p),
                                        (r.div = e),
                                        (r.originalEvent = t),
                                        (r.ctrl = i),
                                        (r.meta = a),
                                        (r.shift = t.shiftKey),
                                        (r.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (r.toJSON = function () {
                                            return DayPilot.Util.copyProps(
                                                r,
                                                {},
                                                ["e", "ctrl", "meta", "shift"]
                                            );
                                        }),
                                        "function" == typeof p.onEventClick &&
                                            (p.onEventClick(r),
                                            r.preventDefault.value))
                                    )
                                        return;
                                    switch (p.eventClickHandling) {
                                        case "PostBack":
                                            p.eventClickPostBack(n);
                                            break;
                                        case "CallBack":
                                            p.eventClickCallBack(n);
                                            break;
                                        case "Edit":
                                            p.tb(e);
                                            break;
                                        case "Select":
                                            p.ub(e, n, i, a);
                                            break;
                                        case "ContextMenu":
                                            var o = n.client.contextMenu();
                                            o
                                                ? o.show(n)
                                                : p.contextMenu &&
                                                  p.contextMenu.show(n);
                                            break;
                                        case "Bubble":
                                            p.bubble && p.bubble.showEvent(n);
                                            break;
                                        case "RectangleSelect":
                                            if ("Disabled" !== U.gk())
                                                return P.start(), !1;
                                    }
                                    "function" == typeof p.onEventClicked &&
                                        p.onEventClicked(r);
                                } else
                                    switch (p.eventClickHandling) {
                                        case "PostBack":
                                            p.eventClickPostBack(n);
                                            break;
                                        case "CallBack":
                                            p.eventClickCallBack(n);
                                            break;
                                        case "JavaScript":
                                            p.onEventClick(n);
                                            break;
                                        case "Edit":
                                            p.tb(e);
                                            break;
                                        case "Select":
                                            p.ub(e, n, i, a);
                                            break;
                                        case "ContextMenu":
                                            var o = n.client.contextMenu();
                                            o
                                                ? o.show(n)
                                                : p.contextMenu &&
                                                  p.contextMenu.show(n);
                                            break;
                                        case "Bubble":
                                            p.bubble && p.bubble.showEvent(n);
                                            break;
                                        case "RectangleSelect":
                                            if ("Disabled" !== U.gk())
                                                return P.start(), !1;
                                    }
                        }
                    }),
                    (this.Bb = function (e) {
                        if (p.fb()) {
                            var t = {};
                            if (
                                ((t.e = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (t.control = p),
                                (t.toJSON = function () {
                                    return DayPilot.Util.copyProps(t, {}, [
                                        "e",
                                    ]);
                                }),
                                "function" == typeof p.onEventDelete &&
                                    (p.onEventDelete(t),
                                    t.preventDefault.value))
                            )
                                return;
                            switch (p.eventDeleteHandling) {
                                case "PostBack":
                                    p.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    p.eventDeleteCallBack(e);
                                    break;
                                case "Update":
                                    p.events.remove(e),
                                        "undefined" != typeof DayPilot.Bubble &&
                                            DayPilot.Bubble.hideActive();
                            }
                            "function" == typeof p.onEventDeleted &&
                                p.onEventDeleted(t);
                        } else
                            switch (p.eventDeleteHandling) {
                                case "PostBack":
                                    p.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    p.eventDeleteCallBack(e);
                                    break;
                                case "JavaScript":
                                    p.onEventDelete(e);
                            }
                    }),
                    (this.eventDeletePostBack = function (e, t) {
                        this.ha("EventDelete", e, t);
                    }),
                    (this.eventDeleteCallBack = function (e, t) {
                        this.ja("EventDelete", e, t);
                    }),
                    (this.setHScrollPosition = function (e) {
                        this.nav.scroll.scrollLeft = e;
                    }),
                    (this.getScrollX = function () {
                        return this.nav.scroll.scrollLeft;
                    }),
                    (this.getHScrollPosition = this.getScrollX),
                    (this.getScrollY = function () {
                        return this.nav.scroll.scrollTop;
                    }),
                    (this.ub = function (e, t, n, i) {
                        p.Vb(e, t, n, i);
                    }),
                    (this.eventSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.ha("EventSelect", i, n);
                    }),
                    (this.eventSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.ja("EventSelect", i, n);
                    }),
                    (this.Vb = function (e, t, n, i) {
                        var a = p.multiselect,
                            r = a.isSelected(t);
                        if (n || i || !r || 1 !== a.Wb.length)
                            if (p.fb()) {
                                a.wc = a.events();
                                var o = {};
                                if (
                                    ((o.e = t),
                                    (o.selected = r),
                                    (o.ctrl = n),
                                    (o.meta = i),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof p.onEventSelect &&
                                        (p.onEventSelect(o),
                                        o.preventDefault.value))
                                )
                                    return;
                                switch (p.eventSelectHandling) {
                                    case "PostBack":
                                        p.eventSelectPostBack(t, s);
                                        break;
                                    case "CallBack":
                                        "undefined" !=
                                            typeof WebForm_InitCallback &&
                                            ((window.Xb = ""),
                                            (window.Yb = []),
                                            WebForm_InitCallback()),
                                            p.eventSelectCallBack(t, s);
                                        break;
                                    case "Update":
                                        a.Zb(e, n, i);
                                }
                                "function" == typeof p.onEventSelected &&
                                    ((o.change = a.isSelected(t)
                                        ? "selected"
                                        : "deselected"),
                                    (o.selected = a.isSelected(t)),
                                    p.onEventSelected(o));
                            } else {
                                (a.wc = a.events()), a.Zb(e, n, i);
                                var s = a.isSelected(t)
                                    ? "selected"
                                    : "deselected";
                                switch (p.eventSelectHandling) {
                                    case "PostBack":
                                        p.eventSelectPostBack(t, s);
                                        break;
                                    case "CallBack":
                                        "undefined" !=
                                            typeof WebForm_InitCallback &&
                                            ((window.Xb = ""),
                                            (window.Yb = []),
                                            WebForm_InitCallback()),
                                            p.eventSelectCallBack(t, s);
                                        break;
                                    case "JavaScript":
                                        p.onEventSelect(t, s);
                                }
                            }
                    }),
                    (this.eventRightClickPostBack = function (e, t) {
                        this.ha("EventRightClick", e, t);
                    }),
                    (this.eventRightClickCallBack = function (e, t) {
                        this.ja("EventRightClick", e, t);
                    }),
                    (this.wb = function (e) {
                        if (
                            !DayPilot.Global.touch.active &&
                            !DayPilot.Global.touch.start
                        ) {
                            var t = this.event;
                            if (
                                ((e.cancelBubble = !0),
                                p.allowDefaultContextMenu || e.preventDefault(),
                                !this.event.client.rightClickEnabled())
                            )
                                return !1;
                            if ((p.fk(e), p.fb())) {
                                var n = {};
                                if (
                                    ((n.e = t),
                                    (n.div = this),
                                    (n.originalEvent = e),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof p.onEventRightClick &&
                                        (p.onEventRightClick(n),
                                        n.preventDefault.value))
                                )
                                    return !1;
                                switch (p.eventRightClickHandling) {
                                    case "PostBack":
                                        p.eventRightClickPostBack(t);
                                        break;
                                    case "CallBack":
                                        p.eventRightClickCallBack(t);
                                        break;
                                    case "ContextMenu":
                                        var i = t.client.contextMenu();
                                        i
                                            ? i.show(t)
                                            : p.contextMenu &&
                                              p.contextMenu.show(this.event);
                                        break;
                                    case "Bubble":
                                        p.bubble && p.bubble.showEvent(t);
                                }
                                "function" == typeof p.onEventRightClicked &&
                                    p.onEventRightClicked(n);
                            } else
                                switch (p.eventRightClickHandling) {
                                    case "PostBack":
                                        p.eventRightClickPostBack(t);
                                        break;
                                    case "CallBack":
                                        p.eventRightClickCallBack(t);
                                        break;
                                    case "JavaScript":
                                        p.onEventRightClick(t);
                                        break;
                                    case "ContextMenu":
                                        var i = t.client.contextMenu();
                                        i
                                            ? i.show(t)
                                            : p.contextMenu &&
                                              p.contextMenu.show(this.event);
                                        break;
                                    case "Bubble":
                                        p.bubble && p.bubble.showEvent(t);
                                }
                            return !1;
                        }
                    }),
                    (this.eventDoubleClickPostBack = function (e, t) {
                        this.ha("EventDoubleClick", e, t);
                    }),
                    (this.eventDoubleClickCallBack = function (e, t) {
                        this.ja("EventDoubleClick", e, t);
                    }),
                    (this.vb = function (e) {
                        if (
                            ("undefined" != typeof DayPilot.Bubble &&
                                DayPilot.Bubble.hideActive(),
                            p.dk.click)
                        ) {
                            for (var t in p.dk.click)
                                window.clearTimeout(p.dk.click[t]);
                            p.dk.click = null;
                        }
                        var n = this.event;
                        if (
                            (e.stopPropagation && e.stopPropagation(),
                            (e.cancelBubble = !0),
                            p.fb())
                        ) {
                            var i = {};
                            if (
                                ((i.e = n),
                                (i.originalEvent = e),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onEventDoubleClick &&
                                    (p.onEventDoubleClick(i),
                                    i.preventDefault.value))
                            )
                                return;
                            switch (p.eventDoubleClickHandling) {
                                case "PostBack":
                                    p.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    p.eventDoubleClickCallBack(n);
                                    break;
                                case "Edit":
                                    p.tb(this);
                                    break;
                                case "Select":
                                    p.ub(div, n, e.ctrlKey, e.metaKey);
                                    break;
                                case "Bubble":
                                    p.bubble && p.bubble.showEvent(n);
                                    break;
                                case "ContextMenu":
                                    var a = n.client.contextMenu();
                                    a
                                        ? a.show(n)
                                        : p.contextMenu &&
                                          p.contextMenu.show(n);
                            }
                            "function" == typeof p.onEventDoubleClicked &&
                                p.onEventDoubleClicked(i);
                        } else
                            switch (p.eventDoubleClickHandling) {
                                case "PostBack":
                                    p.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    p.eventDoubleClickCallBack(n);
                                    break;
                                case "JavaScript":
                                    p.onEventDoubleClick(n);
                                    break;
                                case "Edit":
                                    p.tb(this);
                                    break;
                                case "Select":
                                    p.ub(div, n, e.ctrlKey, e.metaKey);
                                    break;
                                case "Bubble":
                                    p.bubble && p.bubble.showEvent(n);
                                    break;
                                case "ContextMenu":
                                    var a = n.client.contextMenu();
                                    a
                                        ? a.show(n)
                                        : p.contextMenu &&
                                          p.contextMenu.show(n);
                            }
                    }),
                    (this.eventResizePostBack = function (e, t, n, i) {
                        this.Ib("PostBack", e, t, n, i);
                    }),
                    (this.eventResizeCallBack = function (e, t, n, i) {
                        this.Ib("CallBack", e, t, n, i);
                    }),
                    (this.Ib = function (e, t, n, i, a) {
                        var r = t && !!t.preventDefault,
                            o = {};
                        if (r) {
                            var s = t;
                            (o.e = s.e),
                                (o.newStart = s.newStart),
                                (o.newEnd = s.newEnd),
                                (o.multiresize = []),
                                s.multiresize.forEach(function (e) {
                                    var t = {};
                                    (t.e = e.event),
                                        (t.newStart = e.start),
                                        (t.newEnd = e.end),
                                        o.multiresize.push(t);
                                });
                        } else (o.e = t), (o.newStart = n), (o.newEnd = i);
                        this.Cb(e, "EventResize", o, a);
                    }),
                    (this.Gb = function (e, t, n, i) {
                        if ("Disabled" !== this.eventResizeHandling) {
                            n = p.nh(n);
                            var a = {};
                            (a.e = e),
                                (a.async = !1),
                                (a.loaded = function () {
                                    o();
                                }),
                                (a.newStart = t),
                                (a.newEnd = n),
                                (a.what = i),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (a.multiresize = DayPilot.list(C.list)),
                                (a.control = p),
                                (a.toJSON = function () {
                                    return DayPilot.Util.copyProps(a, {}, [
                                        "e",
                                        "async",
                                        "newStart",
                                        "newEnd",
                                        "multiresize",
                                    ]);
                                });
                            var r = {};
                            if (
                                ((r.event = e),
                                (r.start = t),
                                (r.end = n),
                                a.multiresize.splice(0, 0, r),
                                p.fb())
                            ) {
                                var o = function () {
                                    if ((M.wg(), !a.preventDefault.value)) {
                                        switch (
                                            ((a.loaded = {}),
                                            (t = a.newStart),
                                            (n = a.newEnd),
                                            p.eventResizeHandling)
                                        ) {
                                            case "PostBack":
                                                p.eventResizePostBack(a);
                                                break;
                                            case "CallBack":
                                                p.eventResizeCallBack(a);
                                                break;
                                            case "Notify":
                                                p.eventResizeNotify(a);
                                                break;
                                            case "Update":
                                                p.hk(a);
                                        }
                                        "function" == typeof p.onEventResized &&
                                            p.onEventResized(a);
                                    }
                                };
                                "function" == typeof p.onEventResize &&
                                    p.onEventResize(a),
                                    a.async ? p.blockOnCallBack && M._a() : o();
                            } else
                                switch (p.eventResizeHandling) {
                                    case "PostBack":
                                        p.eventResizePostBack(a);
                                        break;
                                    case "CallBack":
                                        p.eventResizeCallBack(a);
                                        break;
                                    case "JavaScript":
                                        p.onEventResize(e, t, n);
                                        break;
                                    case "Notify":
                                        p.eventResizeNotify(a);
                                        break;
                                    case "Update":
                                        p.hk(a);
                                }
                        }
                    }),
                    (this.eventMovePostBack = function (e, t, n, i, a, r) {
                        this.Nb("PostBack", e, t, n, i, a, r);
                    }),
                    (this.eventMoveCallBack = function (e, t, n, i, a, r) {
                        this.Nb("CallBack", e, t, n, i, a, r);
                    }),
                    (this.Nb = function (e, t, n, i, a, r, o) {
                        var s = t && !!t.preventDefault,
                            l = {};
                        if (s) {
                            var d = t;
                            (l.e = d.e),
                                (l.newStart = d.newStart),
                                (l.newEnd = d.newEnd),
                                (l.newResource = d.newResource),
                                (l.position = d.position),
                                (l.multimove = []),
                                d.multimove.forEach(function (e) {
                                    var t = {};
                                    if (
                                        ((t.e = e.event),
                                        (t.newStart = e.start),
                                        (t.newEnd = e.end),
                                        (t.newResource = e.event.resource()),
                                        t.e === d.e ||
                                            t.e.data.id == d.e.data.id)
                                    )
                                        t.newResource = d.newResource;
                                    else if (H.rowoffset) {
                                        var n =
                                            e.event.part.dayIndex + H.rowoffset;
                                        t.newResource = p.rowlist[n].id;
                                    }
                                    l.multimove.push(t);
                                });
                        } else
                            (l.e = t),
                                (l.newStart = n),
                                (l.newEnd = i),
                                (l.newResource = a),
                                (l.position = o);
                        this.Cb(e, "EventMove", l, r);
                    }),
                    (this.ik = function (e, t, n) {
                        var i = {};
                        (i.start = t.start),
                            (i.end = t.end),
                            (i.resource = t.resource),
                            (i.multirange = []),
                            t.multirange.forEach(function (e) {
                                var t = {};
                                (t.start = e.start),
                                    (t.end = e.end),
                                    (t.resource = e.resource),
                                    i.multirange.push(t);
                            }),
                            this.Cb(e, "TimeRangeSelected", i, n);
                    }),
                    (this.Cb = function (e, t, n, i) {
                        if ("PostBack" === e) p.ha(t, n, i);
                        else if ("CallBack" === e) p.ja(t, n, i, "CallBack");
                        else if ("Immediate" === e) p.ja(t, n, i, "Notify");
                        else if ("Queue" === e)
                            p.queue.add(new DayPilot.Action(this, t, n, i));
                        else {
                            if ("Notify" !== e)
                                throw new DayPilot.Exception(
                                    "Invalid event invocation type"
                                );
                            "Notify" === U.jk()
                                ? p.ja(t, n, i, "Notify")
                                : p.queue.add(new DayPilot.Action(p, t, n, i));
                        }
                    }),
                    (this.eventMoveNotify = function (e, t, n, i, a, r) {
                        if (e && !!e.preventDefault) {
                            var o = e;
                            (o.old = new DayPilot.Event(o.e.copy(), p)),
                                o.multimove.forEach(function (e) {
                                    e.old = new DayPilot.Event(
                                        e.event.copy(),
                                        p
                                    );
                                }),
                                p.hk(o),
                                (o.e = o.old),
                                delete o.old,
                                o.multimove.forEach(function (e) {
                                    (e.event = e.old), delete e.old;
                                });
                        } else {
                            e = new DayPilot.Event(e.copy(), p);
                            var s = p.events.kk(e.data);
                            e.start(t),
                                e.end(n),
                                e.resource(i),
                                e.commit(),
                                (s = s.concat(p.events.lk(e.data))),
                                p.mk(s),
                                p.nk(),
                                p.ok(s);
                        }
                        this.Nb("Notify", e, t, n, i, a, r);
                    }),
                    (this.eventResizeNotify = function (e, t, n, i) {
                        if (e && !!e.preventDefault) {
                            var a = e;
                            (a.old = new DayPilot.Event(a.e.copy(), p)),
                                a.multiresize.forEach(function (e) {
                                    e.old = new DayPilot.Event(
                                        e.event.copy(),
                                        p
                                    );
                                }),
                                p.hk(a),
                                (a.e = a.old),
                                delete a.old,
                                a.multiresize.forEach(function (e) {
                                    (e.event = e.old), delete e.old;
                                });
                        } else {
                            e = new DayPilot.Event(e.copy(), p);
                            var r = p.events.kk(e.data);
                            e.start(t),
                                e.end(n),
                                e.commit(),
                                (r = r.concat(p.events.lk(e.data))),
                                p.mk(r),
                                p.nk(),
                                p.ok(r);
                        }
                        this.Ib("Notify", e, t, n, i);
                    }),
                    (this.zoom = {}),
                    (this.zoom.active = -1),
                    (this.zoom.setActive = function (e, t) {
                        var n;
                        if ("number" == typeof e) n = p.zoomLevels[e];
                        else {
                            if ("string" != typeof e)
                                throw new DayPilot.Exception(
                                    "Unexpected parameter type (string or number required): " +
                                        typeof e
                                );
                            var i = p.zoom.pk(e);
                            n = p.zoomLevels[i];
                        }
                        if (!n)
                            throw new DayPilot.Exception(
                                "Zoom level not found: " + e
                            );
                        if (e !== p.zoom.active) {
                            var a = p.zoom.Qh(t);
                            p.zoom.qk(e, a),
                                p.T && p.update(),
                                a && p.scrollTo(a, null, t || p.zoomPosition);
                        }
                    }),
                    (this.zoom.pk = function (e) {
                        return DayPilot.list(p.zoomLevels).findIndex(function (
                            t
                        ) {
                            return t.id === e;
                        });
                    }),
                    (this.zoom.Qh = function (e) {
                        e = e || p.zoomPosition || "left";
                        var t = null;
                        if (!p.nav.scroll) return null;
                        var n = p.getViewPort();
                        switch (e) {
                            case "left":
                                t = n.start;
                                break;
                            case "middle":
                                t =
                                    n.start &&
                                    n.start.addTime(
                                        (p.getViewPort().end.getTime() -
                                            p.getViewPort().start.getTime()) /
                                            2
                                    );
                                break;
                            case "right":
                                t = n.end;
                        }
                        return t;
                    }),
                    (this.zoom.qk = function (e, t) {
                        var n = p.zoomLevels.length - 1;
                        e > n && (e = n), e < 0 && (e = 0), (p.zoom.active = e);
                        var i = p.zoomLevels[e],
                            a = {};
                        return (
                            (a.date = t || new DayPilot.Date(p.startDate)),
                            (a.level = i),
                            DayPilot.Util.ownPropsAsArray(i.properties).forEach(
                                function (e) {
                                    if (0 !== e.key.indexOf("on"))
                                        return "function" == typeof e.val
                                            ? void (p[e.key] = e.val(a))
                                            : void (p[e.key] = e.val);
                                }
                            ),
                            a
                        );
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.Wb = []),
                    (this.multiselect.vc = []),
                    (this.multiselect.wc = []),
                    (this.multiselect.Ti = function (e) {
                        p.multiselect.Wb = DayPilot.list(e).map(function (e) {
                            return new DayPilot.Event(e, p);
                        });
                    }),
                    (this.multiselect.xc = function () {
                        var e = p.multiselect;
                        return JSON.stringify(e.events());
                    }),
                    (this.multiselect.events = function () {
                        var e = p.multiselect,
                            t = DayPilot.list();
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.Wb.length; n++) t.push(e.Wb[n]);
                        return t;
                    }),
                    (this.multiselect.get = function () {
                        return p.multiselect.events();
                    }),
                    (this.multiselect.yc = function () {}),
                    (this.multiselect.Zb = function (e, t, n) {
                        var i = p.multiselect;
                        if (i.isSelected(e.event))
                            if (p.allowMultiSelect)
                                if (t || n) i.remove(e.event, !0);
                                else {
                                    var a = i.Wb.length;
                                    i.clear(), a > 1 && i.add(e.event, !0);
                                }
                            else i.clear();
                        else
                            p.allowMultiSelect && (t || n)
                                ? i.add(e.event, !0)
                                : (i.clear(), i.add(e.event, !0));
                        i.Lc(e), i.yc();
                    }),
                    (this.multiselect.zc = function (e) {
                        var t = p.multiselect;
                        return t.Ac(e, t.Wb);
                    }),
                    (this.multiselect.Bc = function () {
                        for (
                            var e = p.multiselect, t = [], n = 0;
                            n < e.Wb.length;
                            n++
                        ) {
                            var i = e.Wb[n];
                            t.push(i.value());
                        }
                        alert(t.join("\n"));
                    }),
                    (this.multiselect.add = function (e, t) {
                        var n = p.multiselect;
                        n.Cc(e) === -1 && n.Wb.push(e), t || n.rk(e);
                    }),
                    (this.multiselect.remove = function (e, t) {
                        var n = p.multiselect,
                            i = n.Cc(e);
                        i !== -1 && n.Wb.splice(i, 1), t || n.rk(e);
                    }),
                    (this.multiselect.clear = function (e) {
                        var t = p.multiselect;
                        (t.Wb = []), e || t.redraw();
                    }),
                    (this.multiselect.redraw = function () {
                        var e = p.multiselect;
                        e.vc = [];
                        for (var t = 0; t < p.elements.events.length; t++) {
                            var n = p.elements.events[t];
                            n.event &&
                                n.event.isEvent &&
                                (e.isSelected(n.event) ? e.Dc(n) : e.Ec(n));
                        }
                    }),
                    (this.multiselect.Lc = function (e) {
                        if (e) {
                            var t = p.multiselect;
                            t.isSelected(e.event) ? t.Dc(e) : t.Ec(e);
                        }
                    }),
                    (this.multiselect.rk = function (e) {
                        var t = p.multiselect,
                            n = p.Ne(e);
                        t.Lc(n);
                    }),
                    (this.multiselect.Dc = function (e) {
                        var t = p.multiselect,
                            n = p.H("_selected"),
                            e = t.Fc(e);
                        DayPilot.Util.addClass(e, n), t.vc.push(e);
                    }),
                    (this.multiselect.Fc = function (e) {
                        return e;
                    }),
                    (this.multiselect.Gc = function () {
                        for (
                            var e = p.multiselect, t = 0;
                            t < e.vc.length;
                            t++
                        ) {
                            var n = e.vc[t];
                            e.Ec(n, !0);
                        }
                        e.vc = [];
                    }),
                    (this.multiselect.Ec = function (e, t) {
                        var n = p.multiselect,
                            i = p.H("_selected");
                        if ((DayPilot.Util.removeClass(e, i), !t)) {
                            var a = DayPilot.indexOf(n.vc, e);
                            a !== -1 && n.vc.splice(a, 1);
                        }
                    }),
                    (this.multiselect.isSelected = function (e) {
                        return (
                            !!e &&
                            !!e.isEvent &&
                            p.multiselect.Ac(e, p.multiselect.Wb)
                        );
                    }),
                    (this.multiselect.Cc = function (e) {
                        for (
                            var t = e.data, n = 0;
                            n < p.multiselect.Wb.length;
                            n++
                        ) {
                            var i = p.multiselect.Wb[n];
                            if (p.Hc(i.data, t)) return n;
                        }
                        return -1;
                    }),
                    (this.multiselect.Ac = function (e, t) {
                        if (!t) return !1;
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (p.Hc(e, i)) return !0;
                        }
                        return !1;
                    }),
                    (this.multiselect.startRectangle = function () {
                        P.start();
                    }),
                    (this.sk = function () {
                        this.Si(), this.Vi();
                    }),
                    (this.tk = function () {
                        p.uk(),
                            p.Mi(),
                            p.Qi(),
                            p.vk(),
                            p.progressiveRowRendering && p.wk();
                    }),
                    (this.Lc = function (e) {
                        e = e || {};
                        var t = !e.eventsOnly;
                        window.clearTimeout(p.xk),
                            t &&
                                (this.J() ||
                                    ((p.timeHeader = null),
                                    (p.cellProperties = {})),
                                (p.Sj = {}),
                                p.Ji(),
                                p.Ki(),
                                (e && e.dontLoadResources) || p.Li(),
                                p.yk !== p.timeHeaderPosition && p.zk(),
                                p.events.Ak(),
                                p.ga.Nh(),
                                p.clearSelection()),
                            this.Pa(),
                            this.Bk(),
                            p.Pi(),
                            p.Mi(),
                            t &&
                                (p.Qe(),
                                p.Ni(),
                                p.Oi(),
                                p.Zi(p.selectedRows),
                                p.Ck()),
                            p.Qi(),
                            p.vk(),
                            p.Qa(),
                            y.Dk(),
                            this.ra(),
                            this.Ri(),
                            this.da(),
                            this.Oa(),
                            p.Xa(),
                            this.Ui(),
                            this.sk(),
                            e.immediateEvents || e.eventsOnly
                                ? p.ab()
                                : setTimeout(function () {
                                      p.ab();
                                  }, 100),
                            this.visible
                                ? p.Hi != p.visible && this.show()
                                : this.hide(),
                            (this.Hi = this.visible),
                            this.Yi(),
                            p.Oe.scope || p.cj.enabled
                                ? p.T
                                    ? p.$i()
                                    : g.Rj() || p.$i()
                                : p.$i(),
                            this.Ek(),
                            this.eb(),
                            this.Fk();
                    }),
                    (this.Ek = function () {
                        if ("function" == typeof p.onAfterUpdate) {
                            var e = {};
                            p.onAfterUpdate(e);
                        }
                    }),
                    (this.update = function (e) {
                        if (!p.T)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Scheduler object that hasn't been initialized."
                            );
                        if (p.U)
                            throw new DayPilot.Exception(
                                "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."
                            );
                        b.request(e);
                    });
                var b = {};
                (b.timeout = null),
                    (b.options = null),
                    (b.enabled = !1),
                    (b.request = function (e) {
                        b.enabled
                            ? (clearTimeout(b.timeout),
                              b.Gk(e),
                              (b.timeout = setTimeout(b.doit)))
                            : (b.Gk(e), b.doit());
                    }),
                    (b.Gk = function (e) {
                        if (e) {
                            b.options || (b.options = {});
                            for (var t in e) b.options[t] = e[t];
                        }
                    }),
                    (b.doit = function () {
                        var e = b.options;
                        return (
                            (b.options = null),
                            p.T
                                ? DayPilot.Util.isOnlyProperty(e, "events")
                                    ? ((p.events.list = e.events),
                                      p.Lc({ eventsOnly: !0 }),
                                      void L.Hk())
                                    : DayPilot.Util.isOnlyProperty(
                                          e,
                                          "separators"
                                      )
                                    ? ((p.separators = e.separators),
                                      void p.sk())
                                    : DayPilot.Util.isOnlyProperty(
                                          e,
                                          "rowHeaderColumns"
                                      ) && !p.Ik()
                                    ? ((p.rowHeaderColumns =
                                          e.rowHeaderColumns),
                                      void p.tk())
                                    : (p.Re(e),
                                      p.Lc({ immediateEvents: !0 }),
                                      p.$e(),
                                      L.Hk(),
                                      void p.Ka(null, !1))
                                : void p.Re(e)
                        );
                    }),
                    (this.Jk = function (e) {
                        e.forEach(function (e) {
                            p.Kk(e.index, e.grid);
                        });
                    }),
                    (this.Lk = function (e) {
                        return e && 0 !== e.length
                            ? e[0].isRow
                                ? e
                                : e.map(function (e) {
                                      return p.rowlist[e];
                                  })
                            : [];
                    }),
                    (this.ok = function (e, t, n) {
                        (e = DayPilot.ua(e)),
                            (e = p.Lk(e)),
                            p.Jk(e),
                            this.Mk
                                ? (this.Pi(),
                                  this.Qi(),
                                  this.Ri(),
                                  this.Si(),
                                  e.forEach(function (e) {
                                      p.Nk(e.index, e.grid);
                                  }),
                                  e.forEach(function (e) {
                                      p.Ok(e.index, e.grid);
                                  }),
                                  this.Ui(),
                                  this.Vi(),
                                  this.Pk())
                                : (e.forEach(function (e) {
                                      t || p.Nk(e.index, e.grid),
                                          p.Ok(e.index, e.grid);
                                  }),
                                  e.forEach(function (e) {
                                      p.Qk(e.index, e.grid);
                                  }),
                                  p.Ui()),
                            p.nj(),
                            y.Rk(),
                            p.multiselect.redraw(),
                            n && n(),
                            this.da();
                    }),
                    (this.nh = function (e) {
                        return "DateTime" === p.eventEndSpec
                            ? e
                            : e.getDatePart().ticks === e.ticks
                            ? e.addDays(-1)
                            : e.getDatePart();
                    }),
                    (this.Qg = function (e) {
                        return "DateTime" === p.eventEndSpec
                            ? e
                            : e.getDatePart().addDays(1);
                    }),
                    (this.ph = function (e) {
                        return "DateTime" === p.eventEndSpec
                            ? e
                            : e.getDatePart();
                    }),
                    (this.Kb = function (e, t, n, i, a, r, o) {
                        if (
                            ((p.Fa = null), "Disabled" !== p.eventMoveHandling)
                        ) {
                            n = p.nh(n);
                            var s = {};
                            (s.e = e),
                                (s.newStart = t),
                                (s.newEnd = n),
                                (s.newResource = i),
                                (s.external = a),
                                (s.ctrl = !1),
                                (s.meta = !1),
                                (s.shift = !1),
                                r &&
                                    ((s.shift = r.shiftKey),
                                    (s.ctrl = r.ctrlKey),
                                    (s.meta = r.metaKey)),
                                (s.multimove = DayPilot.list(H.list)),
                                (s.areaData = DayPilot.Global.movingAreaData),
                                (s.control = p),
                                (s.toJSON = function () {
                                    return DayPilot.Util.copyProps(s, {}, [
                                        "e",
                                        "newStart",
                                        "newEnd",
                                        "newResource",
                                        "external",
                                        "ctrl",
                                        "meta",
                                        "shift",
                                        "multimove",
                                        "areaData",
                                    ]);
                                });
                            var l = {};
                            if (
                                ((l.event = e),
                                (l.start = t),
                                (l.end = n),
                                (l.overlapping = !1),
                                (l.resource = i),
                                s.multimove.splice(0, 0, l),
                                (s.position = o),
                                (s.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                p.fb())
                            ) {
                                var d = function () {
                                    if (
                                        ((s.loaded = function () {}),
                                        M.wg(),
                                        s.preventDefault.value)
                                    )
                                        return void p.Lb();
                                    switch (
                                        ((t = s.newStart),
                                        (n = s.newEnd),
                                        p.eventMoveHandling)
                                    ) {
                                        case "PostBack":
                                            p.eventMovePostBack(s);
                                            break;
                                        case "CallBack":
                                            p.eventMoveCallBack(s);
                                            break;
                                        case "Notify":
                                            p.eventMoveNotify(s);
                                            break;
                                        case "Update":
                                            p.hk(s);
                                    }
                                    p.Lb(),
                                        "function" == typeof p.onEventMoved &&
                                            p.onEventMoved(s);
                                };
                                (s.async = !1),
                                    (s.loaded = function () {
                                        d();
                                    }),
                                    "function" == typeof p.onEventMove &&
                                        p.onEventMove(s),
                                    s.async ? p.blockOnCallBack && M._a() : d();
                            } else {
                                switch (p.eventMoveHandling) {
                                    case "PostBack":
                                        p.eventMovePostBack(s);
                                        break;
                                    case "CallBack":
                                        p.eventMoveCallBack(s);
                                        break;
                                    case "JavaScript":
                                        p.onEventMove(
                                            e,
                                            t,
                                            n,
                                            i,
                                            a,
                                            !!r && r.ctrlKey,
                                            !!r && r.shiftKey,
                                            o
                                        );
                                        break;
                                    case "Notify":
                                        p.eventMoveNotify(s);
                                        break;
                                    case "Update":
                                        p.hk(s);
                                }
                                p.Lb();
                            }
                        }
                    }),
                    (this.hk = function (e) {
                        var t = e.e,
                            n = e.newStart,
                            i = e.newEnd,
                            a = e.newResource,
                            r = e.external;
                        t.start(n),
                            t.end(i),
                            t.resource(a),
                            r
                                ? (t.commit(), p.events.add(t))
                                : p.events.update(t),
                            e.multimove &&
                                !e.multimove.isEmpty() &&
                                e.multimove.forEach(function (e) {
                                    e.event !== t &&
                                        (e.event.start(e.start),
                                        e.event.end(e.end),
                                        e.event.resource(e.resource),
                                        e.event.commit(),
                                        p.events.update(e.event));
                                }),
                            e.multiresize &&
                                !e.multiresize.isEmpty() &&
                                e.multiresize.forEach(function (e) {
                                    e.event !== t &&
                                        (e.event.start(e.start),
                                        e.event.end(e.end),
                                        e.event.commit(),
                                        p.events.update(e.event));
                                }),
                            p.events.Sk(),
                            p.Mb();
                    }),
                    (this.Ob = function (e, t) {
                        var n = p.Pb(t),
                            i = {};
                        (i.args = e), (i.guid = n), p.ja("Bubble", i);
                    }),
                    (this.Pb = function (e) {
                        var t = DayPilot.guid();
                        return (
                            this.bubbles || (this.bubbles = []),
                            (this.bubbles[t] = e),
                            t
                        );
                    }),
                    (this.eventMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e),
                            (i.command = t),
                            this.ha("EventMenuClick", i, n);
                    }),
                    (this.eventMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e),
                            (i.command = t),
                            this.ja("EventMenuClick", i, n);
                    }),
                    (this.Qb = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                p.eventMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                p.eventMenuClickCallBack(t, e);
                        }
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ha("TimeRangeSelected", a, i);
                    }),
                    (this.timeRangeSelectedCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ja("TimeRangeSelected", a, i);
                    }),
                    (this.Tk = function (e) {
                        if (e) {
                            if (e.disabled) return void p.clearSelection();
                            if (e.args)
                                p.Sb(e.args.start, e.args.end, e.args.resource);
                            else {
                                var t = p.Uk(e);
                                if (!t) return;
                                p.Sb(t.start, t.end, t.resource);
                            }
                        }
                    }),
                    (this.Sb = function (e, t, n) {
                        if ("Disabled" !== p.timeRangeSelectedHandling) {
                            var i = t;
                            t = p.nh(i);
                            var a = {};
                            if (
                                ((a.control = p),
                                (a.start = e),
                                (a.end = t),
                                (a.resource = n),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (a.multirange = DayPilot.list(N.list).map(
                                    function (e) {
                                        return p.Uk(e);
                                    }
                                )),
                                a.multirange.isEmpty() &&
                                    a.multirange.push({
                                        start: a.start,
                                        end: a.end,
                                        resource: a.resource,
                                    }),
                                (a.toJSON = function () {
                                    return DayPilot.Util.copyProps(a, {}, [
                                        "start",
                                        "end",
                                        "resource",
                                        "multirange",
                                    ]);
                                }),
                                p.fb())
                            ) {
                                if ("function" == typeof p.onTimeRangeSelect) {
                                    if (
                                        (p.onTimeRangeSelect(a),
                                        a.preventDefault.value)
                                    )
                                        return;
                                    (e = a.start), (t = a.end);
                                }
                                switch (
                                    ((t = p.Qg(t)),
                                    p.Vk(p.Wk, e, t, a.multirange),
                                    p.Xk(p.Wk),
                                    p.timeRangeSelectedHandling)
                                ) {
                                    case "PostBack":
                                        p.ik("PostBack", a);
                                        break;
                                    case "CallBack":
                                        p.ik("CallBack", a);
                                }
                                "function" == typeof p.onTimeRangeSelected &&
                                    p.onTimeRangeSelected(a);
                            } else
                                switch (p.timeRangeSelectedHandling) {
                                    case "PostBack":
                                        p.ik("PostBack", a);
                                        break;
                                    case "CallBack":
                                        p.ik("CallBack", a);
                                        break;
                                    case "JavaScript":
                                        p.onTimeRangeSelected(
                                            e,
                                            t,
                                            n,
                                            a.multirange
                                        );
                                        break;
                                    case "Hold":
                                }
                        }
                    }),
                    (this.Vk = function (e, t, n, i) {
                        if (e && !(i && i.length > 1)) {
                            var a,
                                r,
                                o = n,
                                s = 0;
                            if ("Days" === p.viewType) {
                                s = p.ej(t).start.getTime() - p.nb().getTime();
                            }
                            t.getTime() < p.itline[0].start.getTime()
                                ? ((e.start.x = 0),
                                  (e.start.time = p.itline[0].start.getTime()))
                                : ((a = p.ak(t.addTime(-s))),
                                  (r = a.current || a.previous),
                                  (e.start.x = DayPilot.indexOf(p.itline, r)),
                                  (e.start.time = t)),
                                (a = p.ak(o.addMilliseconds(-1).addTime(-s))),
                                a.past
                                    ? ((e.end.x = p.itline.length - 1),
                                      (e.end.time =
                                          p.itline[
                                              p.itline.length - 1
                                          ].end.getTime()))
                                    : ((r = a.current || a.next),
                                      (e.end.x = DayPilot.indexOf(p.itline, r)),
                                      (e.end.time = n));
                        }
                    }),
                    (this.ej = function (e) {
                        var t = e.getDatePart();
                        return DayPilot.list(p.rowlist).find(function (e) {
                            return e.start.getDatePart() === t;
                        });
                    }),
                    (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ha("TimeRangeDoubleClick", a, i);
                    }),
                    (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.resource = n),
                            this.ja("TimeRangeDoubleClick", a, i);
                    }),
                    (this.Tb = function (e, t, n) {
                        if (((t = p.nh(t)), p.fb())) {
                            var i = {};
                            if (
                                ((i.start = e),
                                (i.end = t),
                                (i.resource = n),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onTimeRangeDoubleClick &&
                                    (p.onTimeRangeDoubleClick(i),
                                    i.preventDefault.value))
                            )
                                return;
                            switch (p.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    p.timeRangeDoubleClickPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    p.timeRangeDoubleClickCallBack(e, t, n);
                            }
                            "function" == typeof p.onTimeRangeDoubleClicked &&
                                p.onTimeRangeDoubleClicked(i);
                        } else
                            switch (p.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    p.timeRangeDoubleClickPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    p.timeRangeDoubleClickCallBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    p.onTimeRangeDoubleClick(e, t, n);
                            }
                    }),
                    (this.timeRangeMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e),
                            (i.command = t),
                            this.ha("TimeRangeMenuClick", i, n);
                    }),
                    (this.timeRangeMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e),
                            (i.command = t),
                            this.ja("TimeRangeMenuClick", i, n);
                    }),
                    (this.Rb = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                p.timeRangeMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                p.timeRangeMenuClickCallBack(t, e);
                        }
                    }),
                    (this.linkMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.link = e),
                            (i.command = t),
                            this.ha("LinkMenuClick", i, n);
                    }),
                    (this.linkMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.link = e),
                            (i.command = t),
                            this.ja("LinkMenuClick", i, n);
                    }),
                    (this.Yk = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                p.linkMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                p.linkMenuClickCallBack(t, e);
                        }
                    }),
                    (this.rowMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.command = t),
                            this.ha("RowMenuClick", i, n);
                    }),
                    (this.resourceHeaderMenuClickPostBack =
                        this.rowMenuClickPostBack),
                    (this.rowMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.command = t),
                            this.ja("RowMenuClick", i, n);
                    }),
                    (this.resourceHeaderMenuClickCallBack =
                        this.rowMenuClickCallBack),
                    (this.Zk = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                p.rowMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                p.rowMenuClickCallBack(t, e);
                        }
                    }),
                    (this.$k = function (e, t) {
                        var n = p._k(e);
                        (n.data.name = t),
                            (n.data.html = p.ea(t)),
                            p.rows.update(n);
                    }),
                    (this.al = function (e, t) {
                        if (t) {
                            var n = {};
                            if (
                                ((n.text = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" != typeof p.onRowCreate ||
                                    (p.onRowCreate(n), !n.preventDefault.value))
                            ) {
                                switch (p.rowCreateHandling) {
                                    case "CallBack":
                                        p.rowCreateCallBack(n.text);
                                        break;
                                    case "PostBack":
                                        p.rowCreatePostBack(n.text);
                                }
                                "function" == typeof p.onRowCreated &&
                                    p.onRowCreated(n);
                            }
                        }
                    }),
                    (this.bl = function (e, t, n) {
                        if (e.isNewRow) return void (n || p.al(e, t));
                        var i = DayPilot.indexOf(p.rowlist, e),
                            a = p._k(e, i);
                        if (p.fb()) {
                            var r = {};
                            (r.resource = a),
                                (r.row = a),
                                (r.newText = t),
                                (r.canceled = n),
                                (r.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (r.async = !1),
                                (r.loaded = function () {
                                    o();
                                });
                            var o = function () {
                                if (!n) {
                                    switch (p.rowEditHandling) {
                                        case "PostBack":
                                            p.rowEditPostBack(a, t);
                                            break;
                                        case "CallBack":
                                            p.rowEditCallBack(a, t);
                                            break;
                                        case "Update":
                                            p.$k(e, t);
                                    }
                                    "function" == typeof p.onRowEdited &&
                                        p.onRowEdited(r);
                                }
                            };
                            if (
                                "function" == typeof p.onRowEdit &&
                                (p.onRowEdit(r), r.preventDefault.value)
                            )
                                return;
                            r.async || o();
                        } else
                            switch (p.rowEditHandling) {
                                case "PostBack":
                                    p.rowEditPostBack(a, t);
                                    break;
                                case "CallBack":
                                    p.rowEditCallBack(a, t);
                                    break;
                                case "JavaScript":
                                    p.onrowEdit(a, t);
                            }
                    }),
                    (this.rowCreatePostBack = function (e, t) {
                        var n = {};
                        (n.text = e), this.ha("RowCreate", n, t);
                    }),
                    (this.rowCreateCallBack = function (e, t) {
                        var n = {};
                        (n.text = e), this.ja("RowCreate", n, t);
                    }),
                    (this.rowEditPostBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.newText = t),
                            this.ha("RowEdit", i, n);
                    }),
                    (this.rowEditCallBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.newText = t),
                            this.ja("RowEdit", i, n);
                    }),
                    (this.rowMovePostBack = function (e, t, n, i) {
                        var a = {};
                        (a.source = e),
                            (a.target = t),
                            (a.position = n),
                            this.ha("RowMove", a, i);
                    }),
                    (this.rowMoveCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.source = e),
                            (a.target = t),
                            (a.position = n),
                            this.ja("RowMove", a, i);
                    }),
                    (this.rowMoveNotify = function (e, t, n, i) {
                        var a = {};
                        (a.source = e),
                            (a.target = t),
                            (a.position = n),
                            this.ja("RowMove", a, i, "Notify");
                    }),
                    (this.rowClickPostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ha("RowClick", n, t);
                    }),
                    (this.resourceHeaderClickPostBack = this.rowClickPostBack),
                    (this.rowClickCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ja("RowClick", n, t);
                    }),
                    (this.resourceHeaderClickCallBack = this.rowClickCallBack),
                    (this.cl = function (e, t) {
                        if ("Disabled" === p.rowDoubleClickHandling)
                            return void p.dl(e, t);
                        p.dk.resClick || (p.dk.resClick = []);
                        var n = function (e, t) {
                            return function () {
                                p.dl(e, t);
                            };
                        };
                        p.dk.resClick.push(
                            window.setTimeout(n(e, t), p.doubleClickTimeout)
                        );
                    }),
                    (this.dl = function (e, t) {
                        var n =
                            p.resourceHeaderClickHandling || p.rowClickHandling;
                        if (p.fb()) {
                            var i = {};
                            if (
                                ((i.resource = e),
                                (i.row = e),
                                (i.ctrl = t.ctrlKey),
                                (i.shift = t.shiftKey),
                                (i.meta = t.metaKey),
                                (i.originalEvent = t),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onRowClick &&
                                    (p.onRowClick(i), i.preventDefault.value))
                            )
                                return;
                            if (
                                "function" == typeof p.onResourceHeaderClick &&
                                (p.onResourceHeaderClick(i),
                                i.preventDefault.value)
                            )
                                return;
                            switch (n) {
                                case "PostBack":
                                    p.rowClickPostBack(e);
                                    break;
                                case "CallBack":
                                    p.rowClickCallBack(e);
                                    break;
                                case "Select":
                                    p.fl(
                                        e.$.row,
                                        t.ctrlKey,
                                        t.shiftKey,
                                        t.metaKey
                                    );
                                    break;
                                case "Edit":
                                    p.gl.edit(e.$.row);
                            }
                            "function" == typeof p.onRowClicked &&
                                p.onRowClicked(i),
                                "function" ==
                                    typeof p.onResourceHeaderClicked &&
                                    p.onResourceHeaderClicked(i);
                        } else
                            switch (n) {
                                case "PostBack":
                                    p.rowClickPostBack(e);
                                    break;
                                case "CallBack":
                                    p.rowClickCallBack(e);
                                    break;
                                case "JavaScript":
                                    p.onRowClick(e);
                                    break;
                                case "Select":
                                    p.fl(e.$.row, t.ctrlKey, t.shiftKey);
                                    break;
                                case "Edit":
                                    p.gl.edit(e.$.row);
                            }
                    }),
                    (this.timeHeaderClickPostBack = function (e, t) {
                        var n = {};
                        (n.header = e), this.ha("TimeHeaderClick", n, t);
                    }),
                    (this.timeHeaderClickCallBack = function (e, t) {
                        var n = {};
                        (n.header = e), this.ja("TimeHeaderClick", n, t);
                    }),
                    (this.hl = function (e) {
                        if (p.fb()) {
                            var t = {};
                            if (
                                ((t.header = e),
                                (t.control = p),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onTimeHeaderClick &&
                                    (p.onTimeHeaderClick(t),
                                    t.preventDefault.value))
                            )
                                return;
                            switch (this.timeHeaderClickHandling) {
                                case "PostBack":
                                    p.timeHeaderClickPostBack(e);
                                    break;
                                case "CallBack":
                                    p.timeHeaderClickCallBack(e);
                            }
                            "function" == typeof p.onTimeHeaderClicked &&
                                p.onTimeHeaderClicked(t);
                        } else
                            switch (this.timeHeaderClickHandling) {
                                case "PostBack":
                                    p.timeHeaderClickPostBack(e);
                                    break;
                                case "CallBack":
                                    p.timeHeaderClickCallBack(e);
                                    break;
                                case "JavaScript":
                                    p.onTimeHeaderClick(e);
                            }
                    }),
                    (this.resourceCollapsePostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ha("ResourceCollapse", n, t);
                    }),
                    (this.resourceCollapseCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ja("ResourceCollapse", n, t);
                    }),
                    (this.il = function (e) {
                        if (p.fb()) {
                            var t = {};
                            if (
                                ((t.resource = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onResourceCollapse &&
                                    (p.onResourceCollapse(t),
                                    t.preventDefault.value))
                            )
                                return;
                            switch (this.resourceCollapseHandling) {
                                case "PostBack":
                                    p.resourceCollapsePostBack(e);
                                    break;
                                case "CallBack":
                                    p.resourceCollapseCallBack(e);
                            }
                        } else
                            switch (this.resourceCollapseHandling) {
                                case "PostBack":
                                    p.resourceCollapsePostBack(e);
                                    break;
                                case "CallBack":
                                    p.resourceCollapseCallBack(e);
                                    break;
                                case "JavaScript":
                                    p.onResourceCollapse(e);
                            }
                    }),
                    (this.resourceExpandPostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ha("ResourceExpand", n, t);
                    }),
                    (this.resourceExpandCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ja("ResourceExpand", n, t);
                    }),
                    (this.jl = function (e) {
                        if (p.fb()) {
                            var t = {};
                            if (
                                ((t.resource = e),
                                (t.row = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onResourceExpand &&
                                    (p.onResourceExpand(t),
                                    t.preventDefault.value))
                            )
                                return;
                            switch (this.resourceExpandHandling) {
                                case "PostBack":
                                    p.resourceExpandPostBack(e);
                                    break;
                                case "CallBack":
                                    p.resourceExpandCallBack(e);
                            }
                        } else
                            switch (this.resourceExpandHandling) {
                                case "PostBack":
                                    p.resourceExpandPostBack(e);
                                    break;
                                case "CallBack":
                                    p.resourceExpandCallBack(e);
                                    break;
                                case "JavaScript":
                                    p.onResourceExpand(e);
                            }
                    }),
                    (this.eventEditPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.ha("EventEdit", i, n);
                    }),
                    (this.eventEditCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.ja("EventEdit", i, n);
                    }),
                    (this.eventEditNotify = function (e, t, n, i) {
                        var a = new DayPilot.Event(e.copy(), this);
                        e.text(t), p.events.update(e, null, i);
                        var r = {};
                        (r.e = a),
                            (r.newText = t),
                            this.ja("EventEdit", r, n, "Notify");
                    }),
                    (this.Ub = function (e, t, n) {
                        if ((L.kl(), p.fb())) {
                            var i = {};
                            (i.e = e),
                                (i.control = p),
                                (i.newText = t),
                                (i.canceled = n),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (i.async = !1),
                                (i.loaded = function () {
                                    a();
                                });
                            var a = function () {
                                if (((i.loaded = function () {}), !n))
                                    switch (p.eventEditHandling) {
                                        case "PostBack":
                                            p.eventEditPostBack(e, i.newText);
                                            break;
                                        case "CallBack":
                                            p.eventEditCallBack(e, i.newText);
                                            break;
                                        case "Update":
                                            e.text(i.newText),
                                                p.events.update(e, null, {
                                                    inplace: !0,
                                                });
                                    }
                                "function" == typeof p.onEventEdited &&
                                    p.onEventEdited(i);
                            };
                            if (
                                "function" == typeof p.onEventEdit &&
                                (p.onEventEdit(i), i.preventDefault.value)
                            )
                                return;
                            i.async || a();
                        } else
                            switch (p.eventEditHandling) {
                                case "PostBack":
                                    p.eventEditPostBack(e, i.newText);
                                    break;
                                case "CallBack":
                                    p.eventEditCallBack(e, i.newText);
                                    break;
                                case "Notify":
                                    p.eventEditNotify(e, i.newText, null, {
                                        inplace: !0,
                                    });
                                    break;
                                case "JavaScript":
                                    p.onEventEdit(e, i.newText);
                            }
                    }),
                    (this.commandCallBack = function (e, t) {
                        this.ll("CallBack", e, t);
                    }),
                    (this.commandPostBack = function (e, t) {
                        this.ll("PostBack", e, t);
                    }),
                    (this.ll = function (e, t, n) {
                        var i = {};
                        (i.command = t), this.Cb(e, "Command", i, n);
                    }),
                    (this.ha = function (e, t, n) {
                        var i = {};
                        (i.action = e),
                            (i.type = "PostBack"),
                            (i.parameters = t),
                            (i.data = n),
                            (i.header = this.ia());
                        var a = "JSON" + JSON.stringify(i);
                        __doPostBack(p.uniqueID, a);
                    }),
                    (this.ja = function (e, t, n, i) {
                        if (!p.J())
                            return void p.debug.message(
                                "Callback invoked without the server-side backend specified. Callback canceled.",
                                "warning"
                            );
                        "undefined" == typeof i && (i = "CallBack"),
                            this.qa(),
                            p.ka({ delay: 100 });
                        var a = {};
                        (a.action = e),
                            (a.type = i),
                            (a.parameters = t),
                            (a.data = n),
                            (a.header = this.ia());
                        var r,
                            o = JSON.stringify(a);
                        (r =
                            "undefined" != typeof Iuppiter && Iuppiter.compress
                                ? "LZJB" +
                                  Iuppiter.Base64.encode(Iuppiter.compress(o))
                                : "JSON" + o),
                            this.ml(a),
                            this.backendUrl
                                ? DayPilot.request(
                                      this.backendUrl,
                                      this.la,
                                      r,
                                      this.ma
                                  )
                                : "function" == typeof WebForm_DoCallback &&
                                  WebForm_DoCallback(
                                      this.uniqueID,
                                      r,
                                      this.na,
                                      null,
                                      this.callbackError,
                                      !0
                                  );
                    }),
                    (this.ml = function (e) {
                        var t = {};
                        "function" == typeof p.onCallBackStart &&
                            p.onCallBackStart(t);
                    }),
                    (this.Ii = function () {
                        var e = {};
                        "function" == typeof p.onCallBackEnd &&
                            setTimeout(function () {
                                p.onCallBackEnd(e);
                            }, 0);
                    }),
                    (this.J = function () {
                        return (
                            ("javasc" !== p.V && p.V.indexOf("DCODE") === -1) ||
                            p.devsb
                        );
                    }),
                    (this.oa = function () {
                        return !(
                            "function" != typeof WebForm_DoCallback ||
                            !this.uniqueID
                        );
                    }),
                    (this.ma = function (e) {
                        if ("function" == typeof p.onAjaxError) {
                            var t = {};
                            (t.request = e), p.onAjaxError(t);
                        } else
                            "function" == typeof p.ajaxError && p.ajaxError(e);
                    }),
                    (this.la = function (e) {
                        p.na(e.responseText);
                    }),
                    (this.callbackProps = []),
                    (this.ia = function () {
                        var e = {};
                        (e.v = this.v),
                            (e.control = "dps"),
                            (e.id = this.id),
                            (e.startDate = p.startDate),
                            (e.days = p.days),
                            (e.cellDuration = p.cellDuration),
                            (e.cellGroupBy = p.cellGroupBy),
                            (e.cellWidth = p.cellWidth),
                            (e.cellWidthSpec = p.cellWidthSpec),
                            (e.viewType = p.viewType),
                            (e.showNonBusiness = p.showNonBusiness),
                            (e.businessBeginsHour = p.businessBeginsHour),
                            (e.businessEndsHour = p.businessEndsHour),
                            (e.weekStarts = p.weekStarts),
                            (e.treeEnabled = p.treeEnabled),
                            (e.locale = p.locale),
                            (e.timeZone = p.timeZone),
                            (e.tagFields = p.tagFields),
                            (e.timeHeaders = p.timeHeaders),
                            (e.cssClassPrefix = p.cssClassPrefix),
                            (e.durationBarMode = p.durationBarMode),
                            (e.rowHeaderColumns = p.rowHeaderColumns),
                            (e.rowMarginBottom = p.rowMarginBottom),
                            (e.rowMarginTop = p.rowMarginTop),
                            (e.rowMinHeight = p.rowMinHeight),
                            (e.scale = p.scale),
                            (e.clientState = p.clientState),
                            this.nav.scroll &&
                                ((e.scrollX = DayPilot.Util.atLeast(
                                    0,
                                    this.nav.scroll.scrollLeft
                                )),
                                (e.scrollY = DayPilot.Util.atLeast(
                                    0,
                                    this.nav.scroll.scrollTop
                                ))),
                            (e.selected = p.multiselect.events()),
                            (e.selectedRows = S.nl()),
                            (e.hashes = p.hashes);
                        var t = p.ol(e.scrollX, e.scrollY);
                        if (t) {
                            var n = p.pl(t),
                                i = p.ql(t);
                            (e.rangeStart = n.start),
                                (e.rangeEnd = n.end),
                                (e.resources = i);
                        } else
                            (e.rangeStart = p.startDate),
                                (e.rangeEnd = p.startDate),
                                (e.resources = []);
                        if (
                            ((e.dynamicLoading = p.dynamicLoading),
                            (e.separators = this.separators),
                            this.syncResourceTree &&
                                "Days" != this.viewType &&
                                (e.tree = this.Ba()),
                            this.syncLinks && (e.links = this.rl()),
                            "Manual" === this.scale && (e.timeline = this.sl()),
                            "function" == typeof p.onCallBackHeader)
                        ) {
                            var a = {};
                            (a.header = e), p.onCallBackHeader(a);
                        }
                        var r = p.callbackProps;
                        return (
                            DayPilot.isArray(r) &&
                                ((e.props = {}),
                                r.forEach(function (t) {
                                    e.props[t] = p[t];
                                })),
                            e
                        );
                    }),
                    (this.sl = function () {
                        var e = [];
                        return (
                            DayPilot.list(p.timeline).forEach(function (t) {
                                var n = {};
                                (n.start = t.start),
                                    (n.end = t.end),
                                    (n.width = t.width),
                                    e.push(n);
                            }),
                            e
                        );
                    }),
                    (this.rl = function () {
                        var e = [],
                            t = function (e) {
                                var t = {};
                                if (e.tags)
                                    for (var n in e.tags) t[n] = "" + e.tags[n];
                                return t;
                            };
                        if (!DayPilot.isArray(p.links.list)) return e;
                        for (var n = 0; n < p.links.list.length; n++) {
                            var i = p.links.list[n],
                                a = {};
                            (a.id = i.id),
                                (a.from = i.from),
                                (a.to = i.to),
                                (a.type = i.type),
                                (a.tags = t(i)),
                                e.push(a);
                        }
                        return e;
                    }),
                    (this.getViewPort = function () {
                        var e = this.nav.scroll.scrollLeft - g.lj,
                            t = this.nav.scroll.scrollTop,
                            n = {};
                        if ("Days" !== p.viewType) {
                            var i = p.ol(e, t),
                                a = p.pl(i),
                                r = p.ql(i),
                                o = p.itline[i.start.x],
                                s = p.itline[i.end.x];
                            (n.start = p.getDate(e, !0)),
                                (n.end = p.getDate(
                                    e + p.nav.scroll.clientWidth,
                                    !0,
                                    !0
                                )),
                                (n.resources = r),
                                o &&
                                    (n.topLeft = {
                                        start: o.start,
                                        end: o.end,
                                        x: i.start.x,
                                        y: i.start.y,
                                        resource: r[0],
                                    }),
                                s &&
                                    (n.bottomRight = {
                                        start: s.start,
                                        end: s.end,
                                        x: i.end.x,
                                        y: i.end.y,
                                        resource: r[r.length - 1],
                                    });
                        } else {
                            var i = p.ol(e, t),
                                a = p.ul(i);
                            (n.start = a.start),
                                (n.end = a.end),
                                (n.resources = []);
                        }
                        return (
                            (n.rows = function () {
                                return n.resources.map(function (e) {
                                    return p.rows.find(e);
                                });
                            }),
                            (n.events = function () {
                                if ("Days" === p.viewType)
                                    return p.events.forRange(n.start, n.end);
                                var e = [];
                                return (
                                    n.rows().forEach(function (t) {
                                        e = e.concat(
                                            t.events.forRange(n.start, n.end)
                                        );
                                    }),
                                    e
                                );
                            }),
                            n
                        );
                    }),
                    (this.ol = function (e, t) {
                        var n = {};
                        (n.start = {}), (n.end = {});
                        var i = p.$j(e),
                            a = p.$j(e + p.nav.scroll.clientWidth);
                        i && (n.start.x = i.x), a && (n.end.x = a.x);
                        var r = t + p.Ej.top.height,
                            o =
                                t +
                                p.nav.scroll.clientHeight -
                                p.Ej.bottom.height;
                        (n.start.y = p.vl(r).i),
                            (n.end.y = p.vl(o).i),
                            (n.start.x = DayPilot.Util.atLeast(n.start.x, 0));
                        var s = this.itline.length;
                        return n.end.x >= s && (n.end.x = s - 1), n;
                    }),
                    (this.wl = function () {
                        var e = this.nav.scroll.scrollLeft - g.lj,
                            t = this.nav.scroll.scrollTop;
                        return p.ol(e, t);
                    }),
                    (this.pl = function (e) {
                        var t = {};
                        if (this.itline.length <= 0)
                            return (
                                (t.start = this.startDate),
                                (t.end = this.startDate),
                                t
                            );
                        if (!this.itline[e.start.x])
                            throw new DayPilot.Exception(
                                "Internal error: area.start.x is null."
                            );
                        return (
                            (t.start = this.itline[e.start.x].start),
                            (t.end = this.itline[e.end.x].end),
                            t
                        );
                    }),
                    (this.ql = function (e) {
                        if (!e)
                            var e = this.ol(
                                this.nav.scroll.scrollLeft,
                                this.nav.scroll.scrollTop
                            );
                        var t = [];
                        t.ignoreToJSON = !0;
                        for (var n = e.start.y; n <= e.end.y; n++) {
                            var i = p.rowlist[n];
                            i && !i.hidden && t.push(i.id);
                        }
                        return t;
                    }),
                    (this.ul = function (e) {
                        if (!e)
                            var e = this.ol(
                                this.nav.scroll.scrollLeft,
                                this.nav.scroll.scrollTop
                            );
                        var t = {};
                        if (0 === p.rowlist.length) return t;
                        var n =
                            p.itline[p.itline.length - 1].end.getTime() -
                            p.itline[0].start.getTime();
                        return (
                            (t.start =
                                p.rowlist[e.start.y] &&
                                p.rowlist[e.start.y].start),
                            (t.end =
                                p.rowlist[e.end.y] &&
                                p.rowlist[e.end.y].start.addTime(n)),
                            t
                        );
                    }),
                    (this.Ba = function () {
                        var e = [];
                        e.ignoreToJSON = !0;
                        for (var t = 0; t < this.rowlist.length; t++) {
                            var n = this.rowlist[t];
                            if (!(n.level > 0 || n.isNewRow)) {
                                var i = this.Ha(t);
                                e.push(i);
                            }
                        }
                        return e;
                    }),
                    (this.Ia = function (e) {
                        var t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            p.rowlist[i].isNewRow || t.push(p.Ha(i));
                        }
                        return t;
                    }),
                    (this.Ha = function (e) {
                        var t = this.rowlist[e];
                        if ("function" == typeof p.onGetNodeState) {
                            var n = {};
                            if (
                                ((n.row = t),
                                (n.preventDefault = function () {
                                    n.preventDefault.value = !0;
                                }),
                                (n.result = {}),
                                p.onGetNodeState(n),
                                n.preventDefault.value)
                            )
                                return n.result;
                        }
                        var i = {};
                        return (
                            (i.Value = t.id),
                            (i.BackColor = t.backColor),
                            (i.Name = t.name),
                            (i.InnerHTML = t.html),
                            (i.ToolTip = t.toolTip),
                            (i.Expanded = t.expanded),
                            (i.Children = this.Ia(t.children)),
                            (i.Loaded = t.loaded),
                            (i.IsParent = t.isParent),
                            (i.Columns = this.xl(t)),
                            (i.Tags = t.tags),
                            t.start.getTime() !== p.nb().getTime() &&
                                (i.Start = t.start),
                            t.minHeight !== p.rowMinHeight &&
                                (i.MinHeight = t.minHeight),
                            t.marginBottom !== p.rowMarginBottom &&
                                (i.MarginBottom = t.marginBottom),
                            t.marginTop !== p.rowMarginTop &&
                                (i.MarginTop = t.marginTop),
                            t.eventHeight !== p.eventHeight &&
                                (i.EventHeight = t.eventHeight),
                            i
                        );
                    }),
                    (this.xl = function (e) {
                        if (!e.columns || 0 === e.columns.length) return null;
                        var t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.columns.length; n++) {
                            var i = {};
                            (i.InnerHTML = e.columns[n].html), t.push(i);
                        }
                        return t;
                    }),
                    (this.H = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.Qe = function () {
                        p.nav.top.className !== p.H("_main") &&
                            ((p.nav.top.className = p.H("_main")),
                            (p.nav.dh1.className = p.H("_divider_horizontal")),
                            (p.nav.dh2.className = p.H("_divider_horizontal")),
                            (p.divResScroll.className =
                                p.H("_rowheader_scroll")),
                            (p.nav.divider.className =
                                p.H("_divider") + " " + p.H("_splitter")),
                            (p.nav.scroll.className = p.H("_scrollable")),
                            (p.fj.className =
                                p.H("_matrix") + " " + p.H("_grid_main")),
                            (p.nav.loading.className = p.H("_loading")));
                    }),
                    (this.Aa = function () {
                        (this.nav.top.dispose = this.dispose),
                            (function (s, t, u) {
                                var r = [];
                                for (var i = 0; i < s.length; i++) {
                                    r.push(s.charCodeAt(i) - 1);
                                }
                                return new Function(
                                    "t",
                                    "u",
                                    String.fromCharCode.apply(this, r)
                                )(t, u);
                            })(
                                "wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                                this,
                                this.nav.top
                            );
                    }),
                    (this.dispose = function () {
                        var e = p;
                        if (e.T && !e.U) {
                            (e.U = !0),
                                e.pa && e.pa.disconnect(),
                                e.qa(),
                                clearInterval(e.pe),
                                clearInterval(e.te);
                            for (var t in e.dk) {
                                var n = e.dk[t];
                                DayPilot.isArray(n)
                                    ? DayPilot.list(n).forEach(function (e) {
                                          clearTimeout(e);
                                      })
                                    : clearTimeout(n);
                            }
                            e.ra(),
                                e.wa(),
                                e.yl("main"),
                                e.yl("top"),
                                e.yl("bottom"),
                                e.zl(),
                                e.Al(),
                                (e.divBreaks = null),
                                (e.divCells = null),
                                (e.divCorner = null),
                                (e.divCrosshair = null),
                                (e.divEvents = null),
                                e.divHeader && (e.divHeader.rows = null),
                                (e.divHeader = null),
                                (e.divLines = null),
                                (e.divNorth = null),
                                (e.divRange = null),
                                (e.divResScroll = null),
                                (e.divSeparators = null),
                                (e.divSeparatorsAbove = null),
                                (e.divStretch = null),
                                (e.divTimeScroll = null),
                                (e.Dj = null),
                                (e.Kg = null),
                                (e.fj.calendar = null),
                                (e.fj = null),
                                (e.nav.loading = null),
                                (e.nav.top.onmousemove = null),
                                (e.nav.top.onmouseout = null),
                                (e.nav.top.dispose = null),
                                DayPilot.ue(e.nav.top, "touchstart", R.Bl),
                                DayPilot.ue(e.nav.top, "touchmove", R.Cl),
                                DayPilot.ue(e.nav.top, "touchend", R.Dl),
                                L.El(),
                                e.nav.top.removeAttribute("style"),
                                e.nav.top.removeAttribute("class");
                            !(p.ya.reactDOM && DayPilot.browser.ie) &&
                                (e.nav.top.innerHTML = ""),
                                (e.nav.top.dp = null),
                                (e.nav.top = null),
                                (e.nav.scroll.onscroll = null),
                                (e.nav.scroll.root = null),
                                (e.nav.scroll = null),
                                clearTimeout(e.refreshTimeout),
                                e.Fl && (e.Fl.dispose(), (e.Fl = null)),
                                e.daypilot && delete e.daypilot,
                                DayPilot.ue(window, "resize", e.Uf),
                                DayPilot.ue(document, "keydown", e.Gl),
                                DayPilot.ue(document, "keyup", e.Hl),
                                o.Yf(e),
                                (D = null),
                                "undefined" != typeof DayPilot.Bubble &&
                                    (DayPilot.Bubble.cancelShowing(),
                                    DayPilot.Bubble.hide({ calendar: e })),
                                "undefined" != typeof DayPilot.Menu &&
                                    DayPilot.Menu.hide({ calendar: e }),
                                (function () {
                                    return;
                                })();
                        }
                    }),
                    (this.yl = function (e) {
                        if (
                            "function" == typeof p.onBeforeRowHeaderDomAdd ||
                            "function" == typeof p.onBeforeRowHeaderDomRemove
                        ) {
                            var t = p.Il(e),
                                n = t.divHeader,
                                i = t.rowlist;
                            if (
                                ("function" ==
                                    typeof p.onBeforeRowHeaderDomAdd &&
                                    p.ya.reactDOM) ||
                                "function" ==
                                    typeof p.onBeforeRowHeaderDomRemove
                            )
                                for (var a = 0; a < i.length; a++)
                                    n.rows[a] && p.Jl(a, e);
                        }
                    }),
                    (this.zl = function () {
                        ("function" != typeof p.onBeforeTimeHeaderDomAdd &&
                            "function" !=
                                typeof p.onBeforeTimeHeaderDomRemove) ||
                            p.elements.timeHeader.forEach(function (e) {
                                var t = e.domArgs;
                                if (
                                    ((e.domArgs = null),
                                    "function" ==
                                        typeof p.onBeforeTimeHeaderDomRemove &&
                                        p.onBeforeTimeHeaderDomRemove(t),
                                    "function" ==
                                        typeof p.onBeforeTimeHeaderDomAdd &&
                                        p.ya.reactDOM)
                                ) {
                                    var n = t && t.Tc;
                                    if (n) {
                                        if (
                                            DayPilot.Util.isReactComponent(
                                                t.element
                                            )
                                        ) {
                                            if (!p.ya.reactDOM)
                                                throw new DayPilot.Exception(
                                                    "Can't reach ReactDOM"
                                                );
                                            p.ya.reactDOM.unmountComponentAtNode(
                                                n
                                            );
                                        }
                                    }
                                }
                            });
                    }),
                    (this.gb = function (e) {
                        var t = null;
                        t = e.nodeType ? e.event : e;
                        var n = t,
                            i =
                                n.cache &&
                                "undefined" != typeof n.cache.moveVDisabled
                                    ? !n.cache.moveVDisabled
                                    : !n.data.moveVDisabled,
                            a =
                                n.cache &&
                                "undefined" != typeof n.cache.moveHDisabled
                                    ? !n.cache.moveHDisabled
                                    : !n.data.moveHDisabled,
                            r = p.Kl(t),
                            s = p.Ej[r.grid];
                        !i && o.ck && (s = p.Ej[t.part.grid]);
                        var l = s.rowlist;
                        if (p.Ll(r.rowIndex, r.grid)) return null;
                        var d = t.part.height || p.ga.Ml(),
                            c =
                                t.part && t.part.top && l[t.part.dayIndex]
                                    ? t.part.top + l[t.part.dayIndex].top
                                    : r.top,
                            h = r.left,
                            f = r.width;
                        if (
                            (!i && o.ck && (c = l[n.part.dayIndex].top),
                            !a &&
                                o.ck &&
                                ((h = t.part.left), "undefined" == typeof h))
                        ) {
                            var v = DayPilot.DateUtil.diff(t.start(), t.end());
                            (v = DayPilot.Util.atLeast(v, 1)),
                                (h = U.Nl(v)
                                    ? p.getPixels(t.start()).boxLeft
                                    : p.getPixels(t.start()).left);
                            f =
                                (U.Nl(v)
                                    ? p.getPixels(t.end()).boxRight
                                    : p.getPixels(t.end()).left) - h;
                        }
                        var m = document.createElement("div");
                        m.setAttribute("unselectable", "on"),
                            (m.style.position = "absolute"),
                            (m.style.width = f + "px"),
                            (m.style.height = d + "px"),
                            (m.style.left = h + "px"),
                            (m.style.top = c + "px"),
                            (m.style.overflow = "hidden");
                        var g = u();
                        return (
                            m.appendChild(g),
                            (m.className = this.H("_shadow")),
                            (g.className = this.H("_shadow_inner")),
                            s.divShadow.appendChild(m),
                            (m.calendar = p),
                            (m.grid = r.grid),
                            m
                        );
                    }),
                    (this.vl = function (e, t) {
                        t = t || "main";
                        var n,
                            i = p.Ej[t],
                            a = i.rowlist,
                            r = {},
                            o = 0,
                            s = 0;
                        "main" === t && ((o = p.Ej.top.height), (s = o));
                        for (var l = a.length, d = 0; d < l; d++) {
                            var c = a[d];
                            if (
                                !c.hidden &&
                                ((s += c.height),
                                (o = s - c.height),
                                (n = c),
                                (r.top = o),
                                (r.bottom = s),
                                (r.i = d),
                                (r.element = n),
                                (r.grid = t),
                                e < s)
                            )
                                break;
                        }
                        return r;
                    }),
                    (this.links = {}),
                    (this.links.list = []),
                    (this.links.add = function (e) {
                        if (e) {
                            var t = e;
                            e instanceof DayPilot.Link && (t = e.data),
                                p.links.list.push(e),
                                y.Rk();
                        }
                    }),
                    (this.links.remove = function (e) {
                        if ("number" == typeof e || "string" == typeof e) {
                            var t = p.links.find(e);
                            return void (t && y.Ol(t.data));
                        }
                        var n = e.data;
                        e.isLink || (n = e), y.Ol(n);
                    }),
                    (this.links.find = function (e) {
                        if (!DayPilot.isArray(p.links.list)) return null;
                        var t = p.links.list.find(function (t) {
                            return t.id === e;
                        });
                        return t ? new DayPilot.Link(t, p) : null;
                    }),
                    (this.links.findByFromTo = function (e, t) {
                        if (!DayPilot.isArray(p.links.list)) return null;
                        var n = p.link.list.find(function (n) {
                            return n.from === e && n.to === t;
                        });
                        return n ? new DayPilot.Link(n, p) : null;
                    }),
                    (this.links.load = function (e, t, n, i) {
                        if (!e)
                            throw new DayPilot.Exception(
                                "links.load(): 'url' parameter required"
                            );
                        i = i || {};
                        var a = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            r = function (e) {
                                var n,
                                    i = e.request;
                                try {
                                    n = JSON.parse(i.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void a(r);
                                }
                                if (DayPilot.isArray(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (p.links.list = n), p.T && p.update();
                                }
                            };
                        if (
                            p.linksLoadMethod &&
                            "POST" === p.linksLoadMethod.toUpperCase()
                        )
                            DayPilot.ajax({
                                method: "POST",
                                contentType: "application/json",
                                data: {
                                    start: p.visibleStart().toString(),
                                    end: p.visibleEnd().toString(),
                                },
                                url: e,
                                success: r,
                                error: a,
                            });
                        else {
                            var o = e;
                            if (!i.dontAddStartEnd) {
                                var s =
                                    "start=" +
                                    p.visibleStart().toString() +
                                    "&end=" +
                                    p.visibleEnd().toString();
                                o += o.indexOf("?") > -1 ? "&" + s : "?" + s;
                            }
                            DayPilot.ajax({
                                method: "GET",
                                url: o,
                                success: r,
                                error: a,
                            });
                        }
                    });
                var y = {};
                (this.Pl = y),
                    (y.Ql = []),
                    (y.Rl = function () {
                        (p.divLinksAbove.innerHTML = ""),
                            (p.divLinksBelow.innerHTML = ""),
                            (p.elements.links = []),
                            (y.Ql = []);
                    }),
                    (y.Ol = function (e) {
                        var t = y.Sl(e);
                        DayPilot.rfa(p.links.list, e),
                            t && (t.clear(), DayPilot.rfa(y.Ql, t));
                    }),
                    (y.Sl = function (e) {
                        for (var t = 0; t < y.Ql.length; t++) {
                            var n = y.Ql[t];
                            if (n.props === e) return n;
                        }
                        return null;
                    }),
                    (y.Tl = function () {
                        m.Zh().forEach(function (e) {
                            y.Ul(e);
                        });
                    }),
                    (y.Ul = function (e) {
                        var t = p.linkPointSize,
                            n = t / 2,
                            i = e.event.part.left,
                            a =
                                p.rowlist[e.event.part.dayIndex].top +
                                e.event.part.top,
                            r = e.event.part.height,
                            o = e.event.part.right,
                            s = DayPilot.Util.div(
                                p.divLinkpoints,
                                i - n,
                                a - n + r / 2,
                                t,
                                t
                            );
                        (s.className = p.H("_linkpoint")),
                            (s.style.boxSizing = "border-box"),
                            (s.coords = { x: i, y: a + r / 2 }),
                            (s.type = "Start"),
                            (s.event = e.event),
                            y.Vl(s),
                            p.elements.linkpoints.push(s);
                        var l = DayPilot.Util.div(
                            p.divLinkpoints,
                            o - n,
                            a - n + r / 2,
                            t,
                            t
                        );
                        (l.className = p.H("_linkpoint")),
                            (l.style.boxSizing = "border-box"),
                            (l.coords = { x: o, y: a + r / 2 }),
                            (l.type = "Finish"),
                            (l.event = e.event),
                            y.Vl(l),
                            p.elements.linkpoints.push(l);
                    }),
                    (y.Vl = function (e) {
                        (e.onmousedown = function (t) {
                            return (
                                (f.source = e),
                                (f.calendar = p),
                                y.Tl(),
                                t.preventDefault(),
                                t.stopPropagation(),
                                !1
                            );
                        }),
                            (e.onmousemove = function (t) {
                                DayPilot.Util.addClass(
                                    e,
                                    p.H("_linkpoint_hover")
                                ),
                                    y.Wl();
                            }),
                            (e.onmouseout = function (t) {
                                (f.source && f.source.event === e.event) ||
                                    DayPilot.Util.removeClass(
                                        e,
                                        p.H("_linkpoint_hover")
                                    );
                            }),
                            (e.onmouseup = function (t) {
                                if (f.source) {
                                    var n = f.source.type + "To" + e.type,
                                        i = f.source.event.id(),
                                        a = e.event.id(),
                                        r = {};
                                    if (
                                        ((r.from = i),
                                        (r.to = a),
                                        (r.type = n),
                                        (r.id = null),
                                        (r.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        "function" == typeof p.onLinkCreate &&
                                            (p.onLinkCreate(r),
                                            r.preventDefault.value))
                                    )
                                        return;
                                    var o = function () {
                                        DayPilot.isArray(p.links.list) ||
                                            (p.links.list = []),
                                            p.links.list.push({
                                                from: i,
                                                to: a,
                                                type: n,
                                                id: r.id,
                                            }),
                                            y.Rk();
                                    };
                                    switch (p.linkCreateHandling) {
                                        case "Update":
                                            o();
                                            break;
                                        case "CallBack":
                                            p.Xl(r);
                                            break;
                                        case "PostBack":
                                            p.Yl(r);
                                            break;
                                        case "Notify":
                                            o(), p.Zl(r);
                                    }
                                    "function" == typeof p.onLinkCreated &&
                                        p.onLinkCreated(r);
                                }
                            });
                    }),
                    (y.Dk = function () {
                        (p.divLinkpoints.innerHTML = ""),
                            (p.elements.linkpoints = []);
                    }),
                    (y.$l = null),
                    (y._l = function () {
                        y.$l = setTimeout(function () {
                            y.Dk();
                        }, 100);
                    }),
                    (y.Wl = function () {
                        y.$l && (clearTimeout(y.$l), (y.$l = null));
                    }),
                    (y.Rk = function () {
                        if ((y.Rl(), DayPilot.isArray(p.links.list)))
                            for (var e = 0; e < p.links.list.length; e++) {
                                var t = p.links.list[e];
                                y.bm(t.from, t.to, t);
                            }
                    }),
                    (y.bm = function (e, t, n) {
                        var i = p.events.find(e),
                            a = p.events.cm(i && i.data),
                            r = p.events.find(t),
                            o = p.events.cm(r && r.data);
                        ((a && a.rendered) || (o && o.rendered)) &&
                            y.dm(a, o, n);
                    }),
                    (y.em = function (e, t) {
                        if (
                            e &&
                            e.tagName &&
                            "div" === e.tagName.toLowerCase()
                        ) {
                            var n = e;
                            return {
                                top: n.offsetTop,
                                right: n.offsetLeft + n.offsetWidth,
                                left: n.offsetLeft,
                                height: n.offsetHeight,
                            };
                        }
                        if (e instanceof DayPilot.Event) {
                            var i = e,
                                a = p.rowlist[i.part.dayIndex];
                            return {
                                top: (t ? a.absTop : a.top) + (i.part.top || 0),
                                right: i.part.left + i.part.width,
                                left: i.part.left,
                                height: i.part.height,
                            };
                        }
                        return null;
                    }),
                    (y.fm = function (e) {
                        return y.Ql.some(function (t) {
                            return t.props === e;
                        });
                    }),
                    (y.dm = function (e, t, n) {
                        if (y.fm(n)) return null;
                        var i = y.gm(e, t, n);
                        if (!i) return null;
                        var a = y.hm(i, n);
                        return a ? (y.Ql.push(a), a) : null;
                    }),
                    (y.hm = function (e, t) {
                        if (!e) return null;
                        var n = {
                                divs: [],
                                props: t,
                                clear: function () {
                                    var e = this;
                                    DayPilot.de(e.divs),
                                        e.divs.forEach(function (e) {
                                            DayPilot.rfa(p.elements.links, e);
                                        });
                                },
                            },
                            i = (p.eventHeight / 2, t.width || 1),
                            a = t.color,
                            r = t.style,
                            o = t.layer || "Above",
                            s = "Above" === o,
                            l = s ? p.divLinksAbove : p.divLinksBelow,
                            d = function (e, t) {
                                a && (e.style["border" + t + "Color"] = a),
                                    r && (e.style["border" + t + "Style"] = r);
                            },
                            c = [],
                            u = function (e, t) {
                                p.elements.links.push(e),
                                    f(e),
                                    h(e),
                                    v(e),
                                    (e.divs = c),
                                    t || c.push(e),
                                    n.divs.push(e);
                            },
                            h = function (e) {
                                (e.onmousedown = function (e) {
                                    e.cancelBubble = !0;
                                }),
                                    (e.onmouseup = function (e) {
                                        e.cancelBubble = !0;
                                    }),
                                    (e.oncontextmenu = function (e) {
                                        if (p.contextMenuLink) {
                                            var n = new DayPilot.Link(t, p);
                                            p.contextMenuLink.show(n);
                                        }
                                        (e.cancelBubble = !0),
                                            e.preventDefault();
                                    });
                            },
                            f = function (e) {
                                (e.onmouseenter = function () {
                                    DayPilot.Util.addClass(
                                        e.divs,
                                        p.H("_link_hover")
                                    ),
                                        p.linkBubble &&
                                            p.linkBubble.showLink(
                                                new DayPilot.Link(t, p)
                                            );
                                }),
                                    (e.onmouseleave = function () {
                                        DayPilot.Util.removeClass(
                                            e.divs,
                                            p.H("_link_hover")
                                        ),
                                            p.linkBubble &&
                                                p.linkBubble.hideOnMouseOut();
                                    });
                            },
                            v = function (e) {
                                e.onclick = function (e) {
                                    var n = {};
                                    (n.link = t),
                                        "function" == typeof p.onLinkClick &&
                                            p.onLinkClick(n),
                                        "function" == typeof p.onLinkClicked &&
                                            p.onLinkClicked(n);
                                };
                            };
                        return (
                            e.forEach(function (e) {
                                switch (e.type) {
                                    case "Dot":
                                        var n,
                                            r = 10;
                                        a
                                            ? ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX - 5,
                                                  e.endY - 5,
                                                  r,
                                                  r
                                              )),
                                              (n.style.borderRadius = "10px"),
                                              (n.style.backgroundColor = a))
                                            : ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX - 5,
                                                  e.endY - 5,
                                                  r,
                                                  r
                                              )),
                                              (n.className = p.H("_link_dot")),
                                              DayPilot.Util.addClass(
                                                  n,
                                                  t.cssClass
                                              )),
                                            u(n, !0);
                                        break;
                                    case "HorizontalLine":
                                        var o = DayPilot.Util.div(
                                            l,
                                            e.startX,
                                            e.startY,
                                            e.endX - e.startX,
                                            i
                                        );
                                        (o.style.boxSizing = "border-box"),
                                            (o.style.borderBottomWidth =
                                                i + "px"),
                                            (o.className =
                                                p.H("_link_horizontal")),
                                            DayPilot.Util.addClass(
                                                o,
                                                t.cssClass
                                            ),
                                            d(o, "Bottom"),
                                            u(o);
                                        break;
                                    case "VerticalLine":
                                        var s = DayPilot.Util.div(
                                            l,
                                            e.startX,
                                            e.startY,
                                            i,
                                            e.endY - e.startY
                                        );
                                        (s.style.boxSizing = "border-box"),
                                            (s.style.borderRightWidth =
                                                i + "px"),
                                            (s.className =
                                                p.H("_link_vertical")),
                                            DayPilot.Util.addClass(
                                                s,
                                                t.cssClass
                                            ),
                                            d(s, "Right"),
                                            u(s);
                                        break;
                                    case "ArrowUp":
                                        var n;
                                        a
                                            ? ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX -
                                                      5 +
                                                      Math.floor(i / 2),
                                                  e.endY - 5,
                                                  0,
                                                  0
                                              )),
                                              (n.style.borderColor =
                                                  "transparent transparent " +
                                                  a +
                                                  " transparent"),
                                              (n.style.borderStyle = "solid"),
                                              (n.style.borderWidth = "5px"))
                                            : ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX -
                                                      6 +
                                                      Math.floor(i / 2),
                                                  e.endY - 6,
                                                  6,
                                                  6
                                              )),
                                              (n.className =
                                                  p.H("_link_arrow_up")),
                                              DayPilot.Util.addClass(
                                                  n,
                                                  t.cssClass
                                              )),
                                            u(n, !0);
                                        break;
                                    case "ArrowDown":
                                        var n;
                                        a
                                            ? ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX -
                                                      5 +
                                                      Math.floor(i / 2),
                                                  e.endY - 5,
                                                  0,
                                                  0
                                              )),
                                              (n.style.borderColor =
                                                  a +
                                                  " transparent transparent transparent"),
                                              (n.style.borderStyle = "solid"),
                                              (n.style.borderWidth = "5px"))
                                            : ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX -
                                                      5 +
                                                      Math.floor(i / 2),
                                                  e.endY - 6,
                                                  6,
                                                  6
                                              )),
                                              (n.className =
                                                  p.H("_link_arrow_down")),
                                              DayPilot.Util.addClass(
                                                  n,
                                                  t.cssClass
                                              )),
                                            u(n, !0);
                                        break;
                                    case "ArrowRight":
                                        var n;
                                        a
                                            ? ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX - 6,
                                                  e.endY - 5,
                                                  0,
                                                  0
                                              )),
                                              (n.style.borderWidth = "6px"),
                                              (n.style.borderColor =
                                                  "transparent transparent transparent " +
                                                  a),
                                              (n.style.borderStyle = "solid"))
                                            : ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX - 6,
                                                  e.endY - 5,
                                                  6,
                                                  6
                                              )),
                                              (n.className =
                                                  p.H("_link_arrow_right")),
                                              DayPilot.Util.addClass(
                                                  n,
                                                  t.cssClass
                                              )),
                                            u(n, !0);
                                        break;
                                    case "ArrowLeft":
                                        var n;
                                        a
                                            ? ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX - 6,
                                                  e.endY - 5,
                                                  0,
                                                  0
                                              )),
                                              (n.style.borderColor =
                                                  "transparent " +
                                                  a +
                                                  " transparent transparent"),
                                              (n.style.borderStyle = "solid"),
                                              (n.style.borderWidth = "6px"))
                                            : ((n = DayPilot.Util.div(
                                                  l,
                                                  e.endX - 6,
                                                  e.endY - 5,
                                                  6,
                                                  6
                                              )),
                                              (n.className =
                                                  p.H("_link_arrow_left")),
                                              DayPilot.Util.addClass(
                                                  n,
                                                  t.cssClass
                                              )),
                                            u(n, !0);
                                        break;
                                    default:
                                        throw new DayPilot.Exception(
                                            "Invalid segment type"
                                        );
                                }
                            }),
                            n
                        );
                    }),
                    (y.gm = function (e, t, n, i) {
                        var a = y.em(e, i),
                            r = y.em(t, i);
                        if (!a) return null;
                        if (!r) return null;
                        var o,
                            s,
                            l = n.type || "FinishToStart",
                            d = n.width || 1,
                            c = p.eventHeight,
                            u = p.linkBottomMargin,
                            h = p.eventHeight / 2;
                        switch (l) {
                            case "FinishToStart":
                                (o = { x: a.right, y: a.top }),
                                    (s = { x: r.left, y: r.top }),
                                    o.y > s.y &&
                                        (r.top + r.height > a.top
                                            ? (s.y = o.y)
                                            : o.x <= s.x &&
                                              ((s.y += r.height),
                                              (s.bottom = !0)));
                                break;
                            case "StartToFinish":
                                (o = { x: a.left, y: a.top }),
                                    (s = { x: r.right, y: r.top });
                                break;
                            case "StartToStart":
                                (o = { x: a.left, y: a.top }),
                                    (s = { x: r.left, y: r.top });
                                break;
                            case "FinishToFinish":
                                (o = { x: a.right, y: a.top }),
                                    (s = { x: r.right, y: r.top });
                        }
                        var f = [];
                        if ("FinishToStart" === l)
                            if (o.y !== s.y || o.x !== s.x || s.bottom)
                                if (o.y > s.y || (o.y == s.y && s.bottom))
                                    if (o.x <= s.x) {
                                        var v = o.x,
                                            m = o.y + c - u,
                                            g = s.x + h,
                                            b = s.y;
                                        f.push({
                                            type: "HorizontalLine",
                                            startX: v,
                                            startY: m,
                                            endX: g,
                                            endY: m,
                                        }),
                                            f.push({
                                                type: "VerticalLine",
                                                startX: g,
                                                startY: m,
                                                endX: g,
                                                endY: b,
                                            }),
                                            f.push({
                                                type:
                                                    o.y < s.y
                                                        ? "ArrowDown"
                                                        : "ArrowUp",
                                                startX: g,
                                                startY: b,
                                                endX: g,
                                                endY: b,
                                            });
                                    } else {
                                        var w = 5,
                                            x = s.y + c + w;
                                        f.push({
                                            type: "HorizontalLine",
                                            startX: o.x,
                                            startY: o.y + c - u,
                                            endX: o.x + h + d,
                                            endY: o.y + c - u,
                                        }),
                                            f.push({
                                                type: "VerticalLine",
                                                startX: o.x + h,
                                                startY: o.y + c - u,
                                                endX: o.x + h,
                                                endY: x,
                                            }),
                                            f.push({
                                                type: "HorizontalLine",
                                                startX: s.x - h,
                                                startY: x,
                                                endX: o.x + h + d,
                                                endY: x,
                                            }),
                                            f.push({
                                                type: "VerticalLine",
                                                startX: s.x - h,
                                                startY: x,
                                                endX: s.x - h,
                                                endY: s.y + c - u,
                                            }),
                                            f.push({
                                                type: "HorizontalLine",
                                                startX: s.x - h,
                                                startY: s.y + c - u,
                                                endX: s.x - h + h,
                                                endY: s.y + c - u,
                                            }),
                                            f.push({
                                                type: "ArrowRight",
                                                startX: s.x,
                                                startY: s.y + c - u,
                                                endX: s.x,
                                                endY: s.y + c - u,
                                            });
                                    }
                                else if (o.y === s.y)
                                    if (o.x < s.x) {
                                        var v = o.x,
                                            m = o.y + c - u,
                                            g = s.x;
                                        f.push({
                                            type: "HorizontalLine",
                                            startX: v,
                                            startY: m,
                                            endX: g,
                                            endY: m,
                                        }),
                                            f.push({
                                                type: "ArrowRight",
                                                startX: s.x,
                                                startY: s.y + c - u,
                                                endX: s.x,
                                                endY: s.y + c - u,
                                            });
                                    } else {
                                        var w = 5,
                                            x = s.y + c + w;
                                        f.push({
                                            type: "HorizontalLine",
                                            startX: o.x,
                                            startY: o.y + c - u,
                                            endX: o.x + h + d,
                                            endY: o.y + c - u,
                                        }),
                                            f.push({
                                                type: "VerticalLine",
                                                startX: o.x + h,
                                                startY: o.y + c - u,
                                                endX: o.x + h,
                                                endY: x,
                                            }),
                                            f.push({
                                                type: "HorizontalLine",
                                                startX: s.x - h,
                                                startY: x,
                                                endX: o.x + h + d,
                                                endY: x,
                                            }),
                                            f.push({
                                                type: "VerticalLine",
                                                startX: s.x - h,
                                                startY: x,
                                                endX: s.x - h,
                                                endY: s.y + c - u,
                                            }),
                                            f.push({
                                                type: "HorizontalLine",
                                                startX: s.x - h,
                                                startY: s.y + c - u,
                                                endX: s.x,
                                                endY: s.y + c - u,
                                            }),
                                            f.push({
                                                type: "ArrowRight",
                                                startX: s.x,
                                                startY: s.y + c - u,
                                                endX: s.x,
                                                endY: s.y + c - u,
                                            });
                                    }
                                else if (o.x > s.x) {
                                    var k = 5,
                                        x = s.y - k;
                                    f.push({
                                        type: "HorizontalLine",
                                        startX: o.x,
                                        startY: o.y + c - u,
                                        endX: o.x + h,
                                        endY: o.y + c - u,
                                    }),
                                        f.push({
                                            type: "VerticalLine",
                                            startX: o.x + h,
                                            startY: o.y + c - u,
                                            endX: o.x + h,
                                            endY: x,
                                        }),
                                        f.push({
                                            type: "HorizontalLine",
                                            startX: s.x - h,
                                            startY: x,
                                            endX: o.x + h,
                                            endY: x,
                                        }),
                                        f.push({
                                            type: "VerticalLine",
                                            startX: s.x - h,
                                            startY: x,
                                            endX: s.x - h,
                                            endY: s.y + c - u,
                                        }),
                                        f.push({
                                            type: "HorizontalLine",
                                            startX: s.x - h,
                                            startY: s.y + c - u,
                                            endX: s.x - h + h,
                                            endY: s.y + c - u,
                                        }),
                                        f.push({
                                            type: "ArrowRight",
                                            startX: s.x,
                                            startY: s.y + c - u,
                                            endX: s.x,
                                            endY: s.y + c - u,
                                        });
                                } else {
                                    var v = o.x,
                                        m = o.y + c - u,
                                        g = s.x + h,
                                        b = s.y;
                                    f.push({
                                        type: "HorizontalLine",
                                        startX: v,
                                        startY: m,
                                        endX: g,
                                        endY: m,
                                    }),
                                        f.push({
                                            type: "VerticalLine",
                                            startX: g,
                                            startY: m,
                                            endX: g,
                                            endY: b,
                                        }),
                                        f.push({
                                            type:
                                                o.y < s.y
                                                    ? "ArrowDown"
                                                    : "ArrowUp",
                                            startX: g,
                                            startY: b,
                                            endX: g,
                                            endY: b,
                                        });
                                }
                            else {
                                var g = o.x,
                                    b = o.y + c - u;
                                f.push({
                                    type: "Dot",
                                    startX: g,
                                    startY: b,
                                    endX: g,
                                    endY: b,
                                });
                            }
                        else if ("StartToFinish" === l) {
                            var k = 5,
                                x = s.y - k;
                            f.push({
                                type: "HorizontalLine",
                                startX: s.x,
                                startY: s.y + c - u,
                                endX: s.x + h + d,
                                endY: s.y + c - u,
                            }),
                                f.push({
                                    type: "VerticalLine",
                                    startX: s.x + h,
                                    startY: s.y + c - u,
                                    endX: s.x + h,
                                    endY: x,
                                }),
                                f.push({
                                    type: "HorizontalLine",
                                    startX: o.x - h,
                                    startY: x,
                                    endX: s.x + h + d,
                                    endY: x,
                                }),
                                f.push({
                                    type: "VerticalLine",
                                    startX: o.x - h,
                                    startY: x,
                                    endX: o.x - h,
                                    endY: o.y + c - u,
                                }),
                                f.push({
                                    type: "HorizontalLine",
                                    startX: o.x - h,
                                    startY: o.y + c - u,
                                    endX: o.x,
                                    endY: o.y + c - u,
                                }),
                                f.push({
                                    type: "ArrowLeft",
                                    startX: s.x,
                                    startY: s.y + c - u,
                                    endX: s.x,
                                    endY: s.y + c - u,
                                });
                        } else if ("StartToStart" === l) {
                            var C = Math.min(o.x, s.x) - h;
                            f.push({
                                type: "HorizontalLine",
                                startX: C,
                                startY: o.y + c - u,
                                endX: o.x,
                                endY: o.y + c - u,
                            }),
                                f.push({
                                    type: "VerticalLine",
                                    startX: C,
                                    startY: o.y + c - u,
                                    endX: C,
                                    endY: s.y + c - u,
                                }),
                                f.push({
                                    type: "HorizontalLine",
                                    startX: C,
                                    startY: s.y + c - u,
                                    endX: s.x,
                                    endY: s.y + c - u,
                                }),
                                f.push({
                                    type: "ArrowRight",
                                    startX: s.x,
                                    startY: s.y + c - u,
                                    endX: s.x,
                                    endY: s.y + c - u,
                                });
                        } else if ("FinishToFinish" === l) {
                            var H = Math.max(s.x, o.x) + h;
                            f.push({
                                type: "HorizontalLine",
                                startX: o.x,
                                startY: o.y + c - u,
                                endX: H,
                                endY: o.y + c - u,
                            }),
                                f.push({
                                    type: "VerticalLine",
                                    startX: H,
                                    startY: o.y + c - u,
                                    endX: H,
                                    endY: c - u + s.y,
                                }),
                                f.push({
                                    type: "HorizontalLine",
                                    startX: s.x,
                                    startY: s.y + c - u,
                                    endX: H,
                                    endY: s.y + c - u,
                                }),
                                f.push({
                                    type: "ArrowLeft",
                                    startX: s.x,
                                    startY: s.y + c - u,
                                    endX: s.x,
                                    endY: s.y + c - u,
                                });
                        }
                        return f;
                    }),
                    (y.Yg = function () {
                        (p.divLinkShadow.innerHTML = ""),
                            (p.elements.linkshadow = []);
                    }),
                    (y.Ug = function (e, t) {
                        y.Yg();
                        var n = p.divLinkShadow,
                            i = DayPilot.line(e.x, e.y, t.x, t.y, {
                                arrow: !0,
                                cssClass: p.H("_link_shadow"),
                            });
                        n.appendChild(i), p.elements.linkshadow.push(i);
                    }),
                    (this.Xl = function (e, t) {
                        var n = {};
                        (n.from = e.from),
                            (n.to = e.to),
                            (n.type = e.type),
                            p.ja("LinkCreate", n, t);
                    }),
                    (this.Zl = function (e, t) {
                        var n = {};
                        (n.from = e.from),
                            (n.to = e.to),
                            (n.type = e.type),
                            p.ja("LinkCreate", n, t, "Notify");
                    }),
                    (this.Yl = function (e, t) {
                        var n = {};
                        (n.from = e.from),
                            (n.to = e.to),
                            (n.type = e.type),
                            p.ha("LinkCreate", n, t);
                    }),
                    (this.im = function (e) {
                        var t = 0,
                            n = 0,
                            i = 0;
                        if (e > this.rowlist.length - 1)
                            throw new DayPilot.Exception("Row index too high");
                        for (var a = 0; a <= e; a++) {
                            var r = this.rowlist[a];
                            r.hidden || ((n += r.height), i++);
                        }
                        t = n - r.height;
                        var o = {};
                        return (
                            (o.top = t),
                            (o.height = r.height),
                            (o.bottom = n),
                            (o.i = i - 1),
                            (o.data = r),
                            o
                        );
                    }),
                    (this.Xe = function () {
                        return !!this.backendUrl;
                    }),
                    (this.events.find = function (e) {
                        if (
                            !p.events.list ||
                            "undefined" == typeof p.events.list.length
                        )
                            return null;
                        if ("function" == typeof e) return p.jm(e);
                        for (var t = p.events.list.length, n = 0; n < t; n++)
                            if (p.events.list[n].id === e)
                                return new DayPilot.Event(p.events.list[n], p);
                        return null;
                    }),
                    (this.events.findAll = function (e) {
                        if ("function" == typeof e) {
                            for (
                                var t = p.events.list.length, n = [], i = 0;
                                i < t;
                                i++
                            ) {
                                var a = new DayPilot.Event(p.events.list[i], p);
                                e(a) && n.push(a);
                            }
                            return n;
                        }
                        if ("object" == typeof e)
                            return p.events.findAll(function (t) {
                                for (var n in e)
                                    if (e[n] !== t.data[n]) return !1;
                                return !0;
                            });
                        throw new DayPilot.Exception(
                            "function or object argument expected"
                        );
                    }),
                    (this.jm = function (e) {
                        for (var t = p.events.list.length, n = 0; n < t; n++) {
                            var i = new DayPilot.Event(p.events.list[n], p);
                            if (e(i)) return i;
                        }
                        return null;
                    }),
                    (this.events.focus = function (e) {
                        var t = p.km(e);
                        t && t.focus();
                    }),
                    (this.events.scrollIntoView = function (e) {
                        if (p.km(e)) {
                            var t = e.start(),
                                n = p.getViewPort();
                            !DayPilot.Util.overlaps(
                                n.start,
                                n.end,
                                e.start(),
                                e.end()
                            ) &&
                                DayPilot.Util.overlaps(
                                    p.nb(),
                                    p.Vj(),
                                    e.start(),
                                    e.end()
                                ) &&
                                p.scrollTo(t, "fast", "middle");
                            var i = e.resource();
                            p.getViewPort().resources.indexOf(i) === -1 &&
                                p.scrollToResource(i);
                        }
                    }),
                    (this.events.all = function () {
                        for (var e = [], t = 0; t < p.events.list.length; t++) {
                            var n = new DayPilot.Event(p.events.list[t], p);
                            e.push(n);
                        }
                        return DayPilot.list(e);
                    }),
                    (this.events.forRange = function (e, t) {
                        (e = e ? new DayPilot.Date(e) : p.visibleStart()),
                            (t = t ? new DayPilot.Date(t) : p.visibleEnd());
                        for (
                            var n = DayPilot.list(), i = 0;
                            i < p.events.list.length;
                            i++
                        ) {
                            var a = new DayPilot.Event(p.events.list[i], p);
                            DayPilot.Util.overlaps(a.start(), a.end(), e, t) &&
                                n.push(a);
                        }
                        return n;
                    }),
                    (this.events.filter = function (e, t) {
                        (p.events.Je = e), t || p.Lc({ eventsOnly: !0 });
                    }),
                    (this.events.edit = function (e) {
                        e instanceof DayPilot.Event ||
                            (e = new DayPilot.Event(e));
                        var t = p.Ne(e);
                        if (t) L.mm(), p.tb(t);
                        else {
                            if (DayPilot.list(p.events.lm.rows).isEmpty())
                                return;
                            setTimeout(function () {
                                p.tb(p.Ne(e));
                            });
                        }
                    }),
                    (this.events.load = function (e, t, n) {
                        if (!e)
                            throw new DayPilot.Exception(
                                "events.load(): 'url' parameter required"
                            );
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void i(r);
                                }
                                if (DayPilot.isArray(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (p.events.list = o.data), p.T && p.update();
                                }
                            };
                        if (
                            p.eventsLoadMethod &&
                            "POST" === p.eventsLoadMethod.toUpperCase()
                        )
                            DayPilot.ajax({
                                method: "POST",
                                contentType: "application/json",
                                data: {
                                    start: p.visibleStart().toString(),
                                    end: p.visibleEnd().toString(),
                                },
                                url: e,
                                success: a,
                                error: i,
                            });
                        else {
                            var r = e,
                                o =
                                    "start=" +
                                    p.visibleStart().toString() +
                                    "&end=" +
                                    p.visibleEnd().toString();
                            (r += r.indexOf("?") > -1 ? "&" + o : "?" + o),
                                DayPilot.ajax({
                                    method: "GET",
                                    url: r,
                                    success: a,
                                    error: i,
                                });
                        }
                    }),
                    (this.events.findRecurrent = function (e, t) {
                        if (
                            !p.events.list ||
                            "undefined" == typeof p.events.list.length
                        )
                            return null;
                        for (var n = p.events.list.length, i = 0; i < n; i++)
                            if (
                                p.events.list[i].recurrentMasterId === e &&
                                p.events.list[i].start.getTime() === t.getTime()
                            )
                                return new DayPilot.Event(p.events.list[i], p);
                        return null;
                    }),
                    (this.events.kk = function (e) {
                        var t = [];
                        return (
                            p.Pj().forEach(function (n) {
                                if (!n.isNewRow) {
                                    p.Qj(n.index, n.grid);
                                    for (var i = 0; i < n.events.length; i++) {
                                        var a = n.events[i].data;
                                        if (p.Hc(a, e)) {
                                            t.push(n), n.events.splice(i, 1);
                                            break;
                                        }
                                    }
                                }
                            }),
                            t
                        );
                    }),
                    (this.events.cm = function (e) {
                        if (!e) return null;
                        for (var t = p.Pj(), n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (!i.hidden && !i.isNewRow) {
                                p.Qj(i.index, i.grid);
                                for (var a = 0; a < i.events.length; a++) {
                                    var r = i.events[a];
                                    if (p.Hc(r.data, e)) return i.events[a];
                                }
                            }
                        }
                        return null;
                    }),
                    (this.events.lk = function (e) {
                        var t = [],
                            n = p.nm() || "Days" === p.viewType,
                            i = DayPilot.indexOf(p.events.list, e);
                        p.we(i);
                        var a = p.Pj(),
                            r = !1;
                        return (
                            a.forEach(function (a) {
                                if (!r && !a.isNewRow) {
                                    p.Qj(a.index, a.grid);
                                    var o = p.om(e, a);
                                    o &&
                                        ("function" ==
                                            typeof p.onBeforeEventRender &&
                                            (o.cache = p.Q.events[i]),
                                        t.push(a),
                                        n || (r = !0));
                                }
                            }),
                            t
                        );
                    }),
                    (this.Hc = function (e, t) {
                        return DayPilot.Util.isSameEvent(e, t);
                    }),
                    (this.events.update = function (e, t, n) {
                        var i = function (e) {
                            var t = L.ki;
                            if (t && "event" === t.type) {
                                p.Hc(t.event.data, e) &&
                                    (t.event = p.events.cm(e));
                            }
                        };
                        if (
                            "object" == typeof e &&
                            !(e instanceof DayPilot.Event)
                        ) {
                            var a = p.events.find(e.id);
                            return (
                                p.events.remove(a), p.events.add(e), void i(e)
                            );
                        }
                        var r = {};
                        (r.oldEvent = new DayPilot.Event(e.copy(), p)),
                            (r.newEvent = new DayPilot.Event(e.temp(), p));
                        var n = n || {},
                            o = new DayPilot.Action(p, "EventUpdate", r, t);
                        if (
                            DayPilot.list(p.events.list).find(function (t) {
                                return p.Hc(t, e.data);
                            })
                        ) {
                            if (p.Oe.scope)
                                p.Oe.notify(function () {
                                    e.commit();
                                });
                            else if (
                                (p.cj.pm && (p.cj.skip = !0),
                                (p.eventUpdateInplaceOptimization ||
                                    n.inplace) &&
                                    r.oldEvent.resource() ===
                                        r.newEvent.resource() &&
                                    r.oldEvent.start() === r.newEvent.start() &&
                                    r.oldEvent.end() === r.newEvent.end())
                            ) {
                                e.commit();
                                var l = p.Ne(e);
                                if (l) {
                                    var d = l.event.part;
                                    p.Uc(l),
                                        DayPilot.rfa(p.elements.events, l),
                                        (e.part = d);
                                } else s("Old div not found");
                                var c = p.events.kk(e.data);
                                (c = c.concat(p.events.lk(e.data))), p.mk(c);
                                var u = p.events.cm(e.data);
                                u && p.Wc(u), p.qm();
                            } else {
                                var c = p.events.kk(e.data);
                                e.commit(),
                                    (c = c.concat(p.events.lk(e.data))),
                                    p.events.rm(c);
                            }
                            return i(e.data), o;
                        }
                    }),
                    (this.events.remove = function (e, t) {
                        if (e) {
                            if ("string" == typeof e || "number" == typeof e) {
                                var n = p.events.find(e);
                                return void p.events.remove(n);
                            }
                            var i = {};
                            i.e = new DayPilot.Event(e.data, p);
                            var a = new DayPilot.Action(p, "EventRemove", i, t),
                                r = p.sm(e.data);
                            if (
                                (r && p.events.list.splice(r.index, 1),
                                p.Oe.scope)
                            )
                                p.Oe.notify();
                            else {
                                p.cj.pm && (p.cj.skip = !0);
                                var o = p.events.kk(e.data);
                                if (
                                    p.eventUpdateInplaceOptimization &&
                                    1 === o.length &&
                                    !p.events.cc(e)
                                ) {
                                    p.tm(p.rowlist[o[0]]);
                                    var s = p.Ne(e);
                                    if (s) {
                                        var l = p.elements.events.indexOf(s);
                                        p.elements.events.splice(l, 1),
                                            p.Uc(s),
                                            p.qm();
                                    }
                                } else p.events.rm(o);
                            }
                            return a;
                        }
                    }),
                    (this.events.add = function (e, t, n) {
                        var n = n || {},
                            i = n.renderOnly;
                        e instanceof DayPilot.Event ||
                            (e = new DayPilot.Event(e)),
                            (e.calendar = p),
                            p.events.list || (p.events.list = []);
                        var a = p.sm(e);
                        if (i) {
                            if (!a)
                                throw new DayPilot.Exception(
                                    "Unexpected: event not found in list"
                                );
                        } else {
                            if (a && !p.temp.allowDuplicateEventIds)
                                throw new DayPilot.Exception(
                                    "The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required."
                                );
                            a || p.events.list.push(e.data);
                        }
                        var r = new DayPilot.Action(p, "EventAdd", o, t);
                        if (!p.T) return r;
                        if (p.Oe.scope) p.Oe.notify();
                        else {
                            p.cj.pm && (p.cj.skip = !0);
                            var o = {};
                            o.e = e;
                            var s = p.events.lk(e.data),
                                l = e.data.height || p.eventHeight;
                            if (
                                p.eventUpdateInplaceOptimization &&
                                1 === s.length &&
                                !p.events.cc(e) &&
                                l <= p.eventHeight &&
                                !p.eventVersionsEnabled
                            ) {
                                var d = p.rowlist[s[0]];
                                p.tm(d);
                                var c = d.events.find(function (t) {
                                    return t.data === e.data;
                                });
                                (c.part.top = 0),
                                    (c.part.height = l),
                                    (c.part.line = 0),
                                    p.Wc(c),
                                    p.qm(),
                                    L.Hk();
                            } else p.events.rm(s);
                        }
                        return r;
                    }),
                    (this.events.cc = function (e) {
                        var t = e instanceof DayPilot.Event ? e.data : e,
                            n = new DayPilot.Date(t.start),
                            i = new DayPilot.Date(t.end);
                        return !!DayPilot.list(p.events.list).find(function (
                            e
                        ) {
                            if (p.Hc(t, e)) return !1;
                            if (t.resource !== e.resource) return !1;
                            var a = new DayPilot.Date(e.start),
                                r = new DayPilot.Date(e.end);
                            return DayPilot.Util.overlaps(n, i, a, r);
                        });
                    }),
                    (this.events.addByData = function (e) {
                        p.events.add(new DayPilot.Event(e));
                    }),
                    (this.events.removeByData = function (e) {
                        var t = p.events.find(e.id);
                        if (!t)
                            throw new DayPilot.Exception(
                                "The event to be removed was not found"
                            );
                        p.events.remove(t);
                    }),
                    (this.events.updateByData = function (e) {
                        var t = p.events.find(e.id);
                        if (!t)
                            throw new DayPilot.Exception(
                                "The event to be updated was not found"
                            );
                        p.events.remove(t), p.events.add(new DayPilot.Event(e));
                    }),
                    (this.events.removeById = function (e) {
                        var t = p.events.find(e);
                        if (!t)
                            throw new DayPilot.Exception(
                                "The event to be removed was not found"
                            );
                        p.events.remove(t);
                    }),
                    (this.events.lm = { rows: [] }),
                    (this.events.um = null),
                    (this.events.Ak = function () {
                        clearTimeout(p.events.um),
                            (p.events.um = null),
                            (p.events.lm.rows = []);
                    }),
                    (this.events.vm = 0),
                    (this.events.rm = function (e) {
                        var t = p.events.lm.rows;
                        DayPilot.list(e).forEach(function (e) {
                            t.push(e);
                        }),
                            (p.events.lm.rows = DayPilot.ua(t));
                        var n = p.events.Sk;
                        p.events.um ||
                            (p.events.um = setTimeout(n, p.events.vm));
                    }),
                    (this.events.Sk = function () {
                        clearTimeout(p.events.um), (p.events.um = null);
                        var e = p.events.lm.rows;
                        (p.events.lm.rows = []),
                            p.mk(e),
                            p.nk(),
                            p.T &&
                                ("Gantt" === p.viewType
                                    ? p.update()
                                    : (p.Mk && p.Pi(),
                                      p.Xa(),
                                      p.ok(e),
                                      p.qm(),
                                      L.Hk()));
                    }),
                    (this.cj = {}),
                    (this.cj.enabled = !1),
                    (this.cj.skip = !1),
                    (this.cj.skipUpdate = function () {
                        return p.cj.skip;
                    }),
                    (this.cj.skipped = function () {
                        p.cj.skip = !1;
                    }),
                    (this.cj.wm = !1),
                    (this.cj.pm = !1),
                    (this.ya = {}),
                    (this.ya.reactDOM = null),
                    (this.ya.react = null),
                    (this.queue = {}),
                    (this.queue.list = []),
                    (this.queue.list.ignoreToJSON = !0),
                    (this.queue.add = function (e) {
                        if (e) {
                            if (!e.isAction)
                                throw new DayPilot.Exception(
                                    "DayPilot.Action object required for queue.add()"
                                );
                            p.queue.list.push(e);
                        }
                    }),
                    (this.queue.notify = function (e) {
                        var t = {};
                        (t.actions = p.queue.list),
                            p.ja("Notify", t, e, "Notify"),
                            (p.queue.list = []);
                    }),
                    (this.queue.clear = function () {
                        p.queue.list = [];
                    }),
                    (this.queue.pop = function () {
                        return p.queue.list.pop();
                    }),
                    (this.cells.find = function (e, t) {
                        var n = p.xm(e, t);
                        return n ? this.findXy(n.x, n.y, n.grid) : w();
                    }),
                    (this.cells.findByPixels = function (e, t) {
                        var n = p.$j(e);
                        if (!n) return w();
                        var e = n.x,
                            i = p.vl(t);
                        if (!i) return w();
                        var t = i.i;
                        return this.findXy(e, t);
                    }),
                    (this.cells.all = function () {
                        for (
                            var e = [],
                                t = p.itline.length,
                                n = p.rowlist.length,
                                i = 0;
                            i < t;
                            i++
                        )
                            for (var a = 0; a < n; a++) {
                                var r = p.cells.findXy(i, a);
                                e.push(r[0]);
                            }
                        return w(e);
                    }),
                    (this.cells.ym = function (e, t, n) {
                        n = n || "main";
                        var i = p.Ej[n],
                            a = i.rowlist,
                            r = p.ek(e),
                            o = a[t];
                        if (!r) return null;
                        if (!o) return null;
                        var s = o.start.getTime() - p.nb().getTime(),
                            l = r.start.addTime(s),
                            d = r.end.addTime(s),
                            c = {};
                        (c.x = e),
                            (c.y = t),
                            (c.grid = n),
                            (c.displayY = o.displayY),
                            (c.i = n + "_" + e + "_" + t),
                            !o.id,
                            (c.resource = o.id),
                            (c.start = l),
                            (c.end = d),
                            (c.calendar = p),
                            (c.isParent = !(!o.children || !o.children.length)),
                            (c.update = function () {
                                if (!a[c.y].hidden) {
                                    var e = p.Q.cells[c.i];
                                    p.zm(e);
                                    var t = p.Y();
                                    t.xStart <= c.x &&
                                        c.x <= t.xEnd &&
                                        t.yStart <= c.y &&
                                        c.y <= t.yEnd &&
                                        p.bd(c.x, c.y, c.grid);
                                }
                            }),
                            (c.utilization = function (e) {
                                return o.isNewRow
                                    ? 0
                                    : (o.sections || o.calculateUtilization(),
                                      o.sections.forRange(l, d).maxSum(e));
                            }),
                            (c.events = function () {
                                return o.events.forRange(l, d);
                            }),
                            (c.div = p.Q.cells[c.i]);
                        var u = p.Am(e, t, n);
                        return (c.properties = u), c;
                    }),
                    (this.cells.findXy = function (e, t, n) {
                        if (((n = n || "main"), DayPilot.isArray(e))) {
                            for (var i = [], a = 0; a < e.length; a++) {
                                var r = e[a];
                                i.push(p.cells.ym(r.x, r.y, n));
                            }
                            return w(i);
                        }
                        return null === e || null === t
                            ? w()
                            : w(p.cells.ym(e, t, n));
                    }),
                    (this.xm = function (e, t) {
                        var n;
                        if (
                            ((n =
                                t instanceof DayPilot.Row
                                    ? t.$.row
                                    : t.isRow
                                    ? t
                                    : p.ij(t)),
                            !n)
                        )
                            return null;
                        var i = n.start.getTime() - p.nb().getTime(),
                            a = new DayPilot.Date(e).addTime(-i),
                            r = p.getPixels(a);
                        if (!r) return null;
                        var o = {};
                        return (
                            (o.x = r.i), (o.y = n.index), (o.grid = n.grid), o
                        );
                    }),
                    (this.Bm = function (e) {
                        var t = DayPilot.list();
                        if (DayPilot.isArray(e))
                            for (var n = 0; n < e.length; n++) t.push(e[n]);
                        else "object" == typeof e && e && t.push(e);
                        return (
                            (t.cssClass = function (e) {
                                return (
                                    this.forEach(function (t) {
                                        (t.properties.cssClass =
                                            DayPilot.Util.addClassToString(
                                                t.properties.cssClass,
                                                e
                                            )),
                                            t.update();
                                    }),
                                    this
                                );
                            }),
                            (t.removeClass = function (e) {
                                return (
                                    this.forEach(function (t) {
                                        (t.properties.cssClass =
                                            DayPilot.Util.removeClassFromString(
                                                t.properties.cssClass,
                                                e
                                            )),
                                            t.update();
                                    }),
                                    this
                                );
                            }),
                            (t.addClass = t.cssClass),
                            (t.html = function (e) {
                                return (
                                    this.forEach(function (t) {
                                        (t.properties.html = e), t.update();
                                    }),
                                    this
                                );
                            }),
                            (t.invalidate = function () {
                                return (
                                    this.forEach(function (e) {
                                        delete p.Sj[e.i];
                                    }),
                                    this
                                );
                            }),
                            t
                        );
                    });
                var w = this.Bm;
                (this.Oe = {}),
                    (this.Oe.scope = null),
                    (this.Oe.notify = function (e) {
                        p.Oe.scope && DayPilot.Util.safeApply(p.Oe.scope, e);
                    }),
                    (this.debug = new DayPilot.Debug(this)),
                    (this.Cm = function (e) {
                        if ("Days" !== p.viewType)
                            throw new DayPilot.Exception(
                                "Checking row start when viewType !== 'Days'"
                            );
                        for (var t = 0; t < p.rowlist.length; t++) {
                            var n = p.rowlist[t],
                                i = n.element ? n.element.data : n.data,
                                a = i.start;
                            if (
                                e.getTime() >= a.getTime() &&
                                e.getTime() < a.addDays(1).getTime()
                            )
                                return a;
                        }
                        return null;
                    }),
                    (this.Dm = function (e) {
                        var t = p.nb();
                        if (e.ticks === t.ticks) return e;
                        var n = t;
                        if (e.ticks < t.ticks) {
                            for (
                                var i =
                                    this.itline[0].end.ticks -
                                    this.itline[0].start.ticks;
                                n.ticks > e.ticks;

                            )
                                n = n.addTime(-i);
                            return n;
                        }
                        if ("Days" === p.viewType) {
                            var a = 0,
                                r = this.ak(e.addTime(-0));
                            if (r.current) return r.current.start.addTime(a);
                            if (r.past) return r.previous.end.addTime(a);
                            throw new DayPilot.Exception(
                                "getBoxStart(): time not found"
                            );
                        }
                        var r = this.ak(e);
                        if (r.current) return r.current.start;
                        if (r.past) return r.previous.end;
                        if (r.hidden) {
                            var o = r.next.start.getTime() - e.getTime(),
                                s =
                                    r.next.end.getTime() -
                                    r.next.start.getTime(),
                                l = Math.ceil(o / s) * s;
                            return r.next.start.addTime(-l);
                        }
                        throw new DayPilot.Exception(
                            "getBoxStart(): time not found"
                        );
                    }),
                    (this.Kl = function (e) {
                        var t = this.vl(p.coords.y, p.coords.grid),
                            n = p.scaleManualLimitBeyond;
                        if ("function" != typeof e.end)
                            throw new DayPilot.Exception(
                                "e.end function is not defined"
                            );
                        if (!e.end())
                            throw new DayPilot.Exception(
                                "e.end() returns null"
                            );
                        var i = DayPilot.DateUtil.diff(e.rawend(), e.start());
                        i = DayPilot.Util.atLeast(i, 1);
                        var a = U.Nl(i),
                            r = e.data && "Milestone" === e.data.type,
                            s = p.eventHeight,
                            l = 0,
                            d = p.coords.x;
                        if (
                            (r && (d += s / 2),
                            n &&
                                "Manual" === p.scale &&
                                !p.eventMoveSkipNonBusiness)
                        ) {
                            var c = (function () {
                                    var e = p.getDate(p.coords.x, !0, !0),
                                        t = e.addTime(-i),
                                        n = p.getPixels(t).boxLeft,
                                        a = p.getPixels(e).boxRight,
                                        e = Math.min(a, p.coords.x);
                                    return e - n;
                                })(),
                                u = Math.min(o.Em ? o.Em : 0, c);
                            d = p.coords.x - u;
                        }
                        var h = o.Fm ? o.Fm.calendar : p,
                            f = 0,
                            v = "Days" === this.viewType || this.Gm(),
                            m = !e.part.external && h === p;
                        if (
                            (v &&
                                m &&
                                (f =
                                    this.rowlist[
                                        e.part.dayIndex
                                    ].start.getTime() - this.nb().getTime()),
                            a && !r && h === p)
                        ) {
                            var g = p.ak(e.start()),
                                b = !g.hidden && !g.past;
                            (l =
                                e.start().getTime() -
                                this.Dm(e.start().addTime(-f))
                                    .addTime(f)
                                    .getTime()),
                                b &&
                                    (l = (function (e, t) {
                                        var n = p.Hm(p.ak(e).current),
                                            i = p.Hm(p.$j(d).cell);
                                        if (n > 1.2 * i) {
                                            for (
                                                var a = t > 0 ? 1 : -1,
                                                    t = Math.abs(t);
                                                t >= i;

                                            )
                                                t -= i;
                                            t *= a;
                                        }
                                        return t;
                                    })(e.start(), l));
                        }
                        h && h !== p && h.Im() !== p.Im() && (l = 0);
                        var y = 0;
                        if (!o.Jm || ("Manual" === p.scale && n) || h !== p)
                            y = 0;
                        else if (a) {
                            var w = e.start().addTime(-f),
                                x = this.Dm(w);
                            y = o.Jm.getTime() - x.getTime();
                            var k = 60 * p.Im() * 1e3;
                            y = Math.floor(y / k) * k;
                        } else
                            y =
                                o.Jm.getTime() -
                                e.start().addTime(-f).getTime();
                        if ((this.eventMoveToPosition && (y = 0), r)) {
                            var C = p.getDate(d, !0);
                            y = -(
                                (p.getDate(d + s / 2, !0).getTime() -
                                    C.getTime()) /
                                2
                            );
                        }
                        var H = this.getDate(d, !0).addTime(-y).addTime(f);
                        o.Km && (H = e.start());
                        var D = p.snapToGrid;
                        o.ck
                            ? (D = D && p.snapToGridEventMoving)
                            : o.Km
                            ? (D = D && p.snapToGridEventResizing)
                            : o.Lm && (D = D && p.snapToGridTimeRangeSelecting),
                            D && (H = this.Dm(H.addTime(-f)).addTime(f)),
                            (H = H.addTime(l));
                        var E = H.addTime(i),
                            S = H,
                            T = E;
                        if (v) {
                            (S = H.addTime(-f)), (T = S.addTime(i));
                            var _ =
                                t.element.data.start.getTime() -
                                this.nb().getTime();
                            (H = S.addTime(_)), (E = H.addTime(i));
                        }
                        if (n && "Manual" === p.scale) {
                            var M = t.element.Mm();
                            if (E > M) {
                                var A = E.getTime() - M.getTime();
                                (H = H.addTime(-A)), (E = E.addTime(-A));
                            }
                            (S = H.addTime(-f)), (T = E.addTime(-f));
                        }
                        if (o.ck && p.eventMoveSkipNonBusiness) {
                            var R = t.i,
                                B = 0;
                            o.Jm &&
                                ((B = o.Jm.addTime(f)),
                                D && (B = this.Dm(B.addTime(-f)).addTime(f)));
                            var P = !e.part.dayIndex,
                                N = 0;
                            P || (N = p.Nm(e.start(), B, e.part.dayIndex));
                            var i = p.Om(e),
                                L = p.getDate(d, !0);
                            D && (L = p.getDate(d));
                            var u = p.Pm(L, N, R, t.grid);
                            (H = L.addTime(-u).addTime(f)),
                                D && (H = this.Dm(H.addTime(-f)).addTime(f)),
                                (l = P
                                    ? 0
                                    : p.Nm(
                                          this.Dm(
                                              e.start().addTime(-f)
                                          ).addTime(f),
                                          e.start(),
                                          R,
                                          t.grid
                                      )),
                                (H = H.addTime(l)),
                                H <= p.visibleStart() &&
                                    (H = p.Qm(
                                        p.visibleStart(),
                                        R,
                                        t.grid
                                    ).start),
                                (E = p.Rm(H, i, R, t.grid)),
                                E >= p.visibleEnd() &&
                                    ((E = p.Sm(p.visibleEnd(), R, t.grid).end),
                                    (H = E.addTime(-p.Pm(E, i, R)))),
                                (S = H.addTime(-f)),
                                (T = E.addTime(-f));
                        }
                        var I = this.getPixels(S),
                            j = this.getPixels(T),
                            O = D ? I.boxLeft : I.left,
                            z = D && a ? j.boxRight - O : j.left - O;
                        r && ((z = s), (O -= z / 2));
                        var W = {};
                        return (
                            (W.top = t.top),
                            (W.left = O),
                            (W.row = t.element),
                            (W.rowIndex = t.i),
                            (W.grid = p.coords.grid),
                            (W.width = z),
                            (W.start = H),
                            (W.end = E),
                            (W.relativeY = p.coords.y - t.top),
                            W
                        );
                    }),
                    (this.Tm = function (e, t) {
                        var n = p.ak(e),
                            i = p.ak(t),
                            a = null,
                            r = 0;
                        n.hidden && (a = e);
                        for (var o = n.i; o <= i.i; o++) {
                            var s = p.itline[o];
                            a &&
                                a < s.start &&
                                (r += s.start.getTime() - a.getTime()),
                                (a = s.end);
                        }
                        return r;
                    }),
                    (this.Rm = function (e, t, n, i) {
                        i = i || "main";
                        var a = t,
                            r = p.rowlist[n],
                            o = r.data.start.getTime() - p.nb().getTime(),
                            s = e.addTime(-o),
                            l = p.Qm(s, n, i);
                        if (!l)
                            throw new DayPilot.Exception("No next cell found");
                        var d = DayPilot.indexOf(p.itline, l);
                        if (l.start > e);
                        else {
                            if (((a -= l.end.getTime() - s.getTime()), a <= 0))
                                return e.addTime(t);
                            d += 1;
                        }
                        for (var c = d; c < p.itline.length; c++) {
                            var u = p.Am(c, n, i),
                                h = p.itline[c];
                            if (u.business) {
                                var f = h.start.addTime(o),
                                    v = h.end.addTime(o),
                                    m = v.getTime() - f.getTime();
                                if (a <= m) return f.addTime(a);
                                a -= m;
                            }
                        }
                        return p.itline[p.itline.length - 1].end.addTime(a);
                    }),
                    (this.Nm = function (e, t, n, i) {
                        i = i || "main";
                        var a = p.Il(i),
                            r = a.rowlist,
                            o = r[n],
                            s = o.data.start.getTime() - p.nb().getTime(),
                            l = (p.ak(e), e.addTime(-s)),
                            d = t.addTime(-s),
                            c = p.Qm(l, n, i);
                        if (!c)
                            throw new DayPilot.Exception("No next cell found");
                        var u = 0,
                            h = DayPilot.indexOf(p.itline, c);
                        if (c.start <= d) {
                            if (t < c.end.addTime(s))
                                return c.start > l
                                    ? t.getTime() - c.start.addTime(s).getTime()
                                    : t.getTime() - e.getTime();
                            (u +=
                                l > c.start
                                    ? c.end.getTime() - l.getTime()
                                    : c.end.getTime() - c.start.getTime()),
                                (h += 1);
                        }
                        for (var f = h; f < p.itline.length; f++) {
                            if (p.Am(f, n, i).business) {
                                var v = p.itline[f],
                                    m = v.start.addTime(s),
                                    g = v.end.addTime(s),
                                    b = g.getTime() - m.getTime();
                                if (t < m) return u;
                                if (t <= g)
                                    return (u += t.getTime() - m.getTime());
                                u += b;
                            }
                        }
                        var y =
                            t.getTime() -
                            p.itline.last().end.addTime(s).getTime();
                        return (u += DayPilot.Util.atLeast(0, y));
                    }),
                    (this.Om = function (e) {
                        if (e.part.duration) {
                            if (isNaN(e.part.duration))
                                throw new DayPilot.Exception(
                                    "Unable to get calculated duration"
                                );
                            return e.part.duration;
                        }
                        var t = e.part.dayIndex;
                        return p.Nm(e.start(), e.rawend(), t);
                    }),
                    (this.Pm = function (e, t, n, i) {
                        i = i || "main";
                        var a = 0,
                            r = t,
                            o = p.ak(e);
                        if (!o.current)
                            throw new DayPilot.Exception(
                                "Current cell not found."
                            );
                        var s = DayPilot.indexOf(p.itline, o.current);
                        if (p.Am(s, n, i).business) {
                            if (e.addTime(-t) >= o.current.start) return t;
                        } else if (
                            0 === t ||
                            e.addTime(-t) >= o.current.start
                        ) {
                            var l = p.Qm(e, n, i);
                            if (l) return e.getTime() - l.start.getTime();
                            var d = p.Sm(e, n, i);
                            return e.getTime() - d.start.getTime();
                        }
                        (a += e.getTime() - o.current.start.getTime()),
                            (r -= e.getTime() - o.current.start.getTime()),
                            (s -= 1);
                        for (var c = o.current.start; s >= 0; ) {
                            var o = p.itline[s];
                            c > o.end && (a += c.getTime() - o.end.getTime()),
                                (c = o.start);
                            var u = o.end.getTime() - o.start.getTime();
                            if (p.Am(s, n, i).business) {
                                if (r <= u) return (a += r);
                                (a += u), (r -= u);
                            } else a += u;
                            s -= 1;
                        }
                        return a + r;
                    }),
                    (this.Sm = function (e, t, n) {
                        n = n || "main";
                        var i = p.ak(e),
                            a = 0;
                        if (i.past) return null;
                        if (i.current) a = i.i;
                        else {
                            if (!i.previous) return null;
                            a = DayPilot.indexOf(p.itline, i.previous);
                        }
                        for (var r = a; r >= 0; r--) {
                            if (p.Nd(r, t, n)) return p.itline[r];
                        }
                        return null;
                    }),
                    (this.Qm = function (e, t, n) {
                        n = n || "main";
                        var i = p.ak(e),
                            a = 0;
                        if (i.past) return null;
                        if (i.current) a = i.i;
                        else {
                            if (!i.next) return null;
                            a = DayPilot.indexOf(p.itline, i.next);
                        }
                        for (var r = a; r < p.itline.length; r++) {
                            if (p.Nd(r, t, n)) return p.itline[r];
                        }
                        return null;
                    }),
                    (this.Nd = function (e, t, n) {
                        return (n = n || "main"), p.Am(e, t, n).business;
                    }),
                    (this.Im = function () {
                        switch (this.scale) {
                            case "CellDuration":
                                return this.cellDuration;
                            case "Minute":
                                return 1;
                            case "Hour":
                                return 60;
                            case "Day":
                                return 1440;
                            case "Week":
                                return 10080;
                            case "Month":
                                return 43200;
                            case "Year":
                                return 525600;
                            case "Manual":
                                if (p.itline.length > 0) {
                                    var e = p.itline[0];
                                    return (
                                        (e.end.getTime() - e.start.getTime()) /
                                        6e4
                                    );
                                }
                                return p.cellDuration;
                        }
                        throw new DayPilot.Exception(
                            "can't guess cellDuration value"
                        );
                    }),
                    (this.Hm = function (e) {
                        return e.end.ticks - e.start.ticks;
                    }),
                    (this.Ll = function (e, t) {
                        return (
                            (t = t || "main"),
                            "main" === t &&
                                this.treePreventParentUsage &&
                                this.Um(e, t)
                        );
                    }),
                    (this.Um = function (e, t) {
                        t = t || "main";
                        var n = p.Ej[t],
                            i = n.rowlist,
                            a = i[e];
                        return (
                            !!a.isParent ||
                            !!(
                                this.treeEnabled &&
                                a.children &&
                                a.children.length > 0
                            )
                        );
                    }),
                    (this.Vm = {}),
                    (this.Wm = function () {
                        if (p.treeAutoExpand) {
                            var e = this.Kl(o.Fm),
                                t = e.rowIndex,
                                n = this.Um(t),
                                i = this.Vm;
                            if (
                                (i.timeout &&
                                    i.y !== t &&
                                    (clearTimeout(i.timeout),
                                    (i.timeout = null),
                                    (i.y = null)),
                                n)
                            ) {
                                i.y = t;
                                var a = !p.rowlist[i.y].expanded;
                                !i.timeout &&
                                    a &&
                                    (i.timeout = setTimeout(function () {
                                        !p.rowlist[i.y].expanded &&
                                            (p.Xm(i.y, { notAnimated: !0 }),
                                            p.Ym()),
                                            (i.timeout = null),
                                            (i.y = null);
                                    }, 500));
                            }
                        }
                    }),
                    (this.Zm = function () {
                        clearTimeout(p.Vm.timeout),
                            (p.Vm.timeout = null),
                            (p.Vm.y = null);
                    }),
                    (this.Td = function () {
                        var e = o.$m.width,
                            t = o.$m.left,
                            n = o._m,
                            i = o.Km.dpBorder,
                            a = p.rowlist[n.part.dayIndex],
                            r = 0;
                        r = a.start.getTime() - p.nb().getTime();
                        var s = null,
                            l = null,
                            d = p.snapToGrid && p.snapToGridEventResizing,
                            c = !d;
                        "left" === i
                            ? ((s = p.getDate(t, c).addTime(r)),
                              (l = n.rawend()))
                            : "right" === i &&
                              ((s = n.start()),
                              (l = p.getDate(t + e, c, !0).addTime(r))),
                            (o.$m.start = s),
                            (o.$m.end = l);
                    }),
                    (this.exportAs = function (e, t) {
                        if (!p.me())
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.exportAs(): The instance must be visible during export."
                            );
                        var n = x.generate(e, t);
                        return new DayPilot.Export(n);
                    }),
                    (this["export"] = this.exportAs),
                    (this.Ue = {});
                var x = this.Ue;
                (x.hh = function () {
                    var e = x.We;
                    switch (e) {
                        case "viewport":
                            return p.nav.top.offsetWidth;
                        case "full":
                            return p.uj() + x.getRowHeaderWidth();
                        case "range":
                            return (
                                p.getPixels(x.getRangeEnd()).boxRight -
                                p.getPixels(x.getRangeStart()).boxLeft +
                                x.getRowHeaderWidth()
                            );
                        default:
                            throw new DayPilot.Exception(
                                "Unsupported export mode: " + e
                            );
                    }
                }),
                    (x.gh = function () {
                        var e = x.We;
                        switch (e) {
                            case "viewport":
                                return (
                                    p.nav.top.offsetHeight -
                                    DayPilot.sh(p.nav.scroll) -
                                    1
                                );
                            case "full":
                                return (
                                    p.an() + p.zj() - DayPilot.sh(p.nav.scroll)
                                );
                            case "range":
                                var t = x.getRows();
                                if (0 === t.length) return p.zj();
                                var n = t.first(),
                                    i = t.last(),
                                    a = x.bn(i) - x.bn(n) + i.height + p.zj();
                                return (
                                    (a += p.Ej.top.height),
                                    (a += p.Ej.bottom.height)
                                );
                            default:
                                throw new DayPilot.Exception(
                                    "Unsupported export mode: " + e
                                );
                        }
                    }),
                    (x.bn = function (e) {
                        var t = x.Ve.includeHiddenRows ? e.absTop : e.top;
                        return (
                            "bottom" === e.grid &&
                                ("viewport" === x.We
                                    ? (t += p.Ej.bottom.top - p.zj())
                                    : "full" === x.We
                                    ? (t += p.Fi)
                                    : "range" === x.We &&
                                      (t +=
                                          x.gh() -
                                          p.zj() -
                                          p.Ej.bottom.height)),
                            t
                        );
                    }),
                    (x.cn = function (e) {
                        var t = x.getViewportOffsetTop();
                        return "main" !== e.grid && (t = 0), t;
                    }),
                    (x.getRangeStart = function () {
                        var e = x.Ve.dateFrom || p.nb();
                        return new DayPilot.Date(e);
                    }),
                    (x.getRangeEnd = function () {
                        var e = x.Ve.dateTo || p.Vj();
                        return new DayPilot.Date(e);
                    }),
                    (x.getRangeResStart = function () {
                        return x.Ve.resourceFrom
                            ? p.ij(x.Ve.resourceFrom)
                            : p.rowlist.find(function (e) {
                                  return !e.hidden;
                              });
                    }),
                    (x.getRangeResEnd = function () {
                        return x.Ve.resourceTo
                            ? p.ij(x.Ve.resourceTo)
                            : p.rowlist.last();
                    }),
                    (x.getRowHeaderWidth = function () {
                        return p.xj();
                    }),
                    (x.getTimeHeaderHeight = function () {
                        return p.zj();
                    }),
                    (x.getCanvas = function () {
                        return x.canvas();
                    }),
                    (x.getRectangles = function () {
                        var e = x.getRowHeaderWidth(),
                            t = x.getTimeHeaderHeight(),
                            n = {};
                        (n.main = { x: 0, y: 0, w: x.hh(), h: x.gh() }),
                            (n.corner = { x: 0, y: 0, w: e, h: t }),
                            (n.grid = {
                                x: e,
                                y: t,
                                w: x.hh() - e,
                                h: x.gh() - t,
                            });
                        var i = n.grid.w,
                            a = p.itline.last();
                        a &&
                            a.left + a.width < n.grid.w &&
                            (i = a.left + a.width);
                        var r = n.grid.h,
                            o = p.rowlist.last();
                        return (
                            o &&
                                o.top + o.height < n.grid.h &&
                                (r = o.top + o.height),
                            (n.gridContent = { x: e, y: t, w: i, h: r }),
                            n
                        );
                    }),
                    (x.getRows = function () {
                        var e,
                            t,
                            n,
                            i,
                            a = x.We,
                            r = DayPilot.list();
                        switch (a) {
                            case "viewport":
                                (e = p.dn),
                                    (t = e + p.nav.scroll.offsetHeight),
                                    (n = p.vl(e).i),
                                    (i = p.vl(t).i);
                                break;
                            case "full":
                                (e = 0), (n = 0), (i = p.rowlist.length);
                                break;
                            case "range":
                                var o = x.getRangeResStart(),
                                    s = x.getRangeResEnd();
                                if (!o)
                                    throw new DayPilot.Exception(
                                        "Resource specified using resourceFrom option not found during export."
                                    );
                                if (!s)
                                    throw new DayPilot.Exception(
                                        "Resource specified using resourceTo option not found during export."
                                    );
                                (n = o.index), (i = s.index);
                        }
                        i < p.rowlist.length && (i += 1);
                        for (var l = n; l < i; l++) {
                            var d = p.rowlist[l];
                            (!x.Ve.includeHiddenRows && d.hidden) || r.push(d);
                        }
                        return (r.offset = n), r;
                    }),
                    (x.getRowsTop = function () {
                        return p.Ej.top.rowlist;
                    }),
                    (x.getRowsBottom = function () {
                        return p.Ej.bottom.rowlist;
                    }),
                    (x.getRowsAll = function () {
                        var e = x.getRows();
                        return (
                            (e = e.concat(x.getRowsTop())),
                            (e = e.concat(x.getRowsBottom()))
                        );
                    }),
                    (x.getRowsTopAndBottom = function () {
                        var e = [];
                        return (
                            (e = e.concat(x.getRowsTop())),
                            (e = e.concat(x.getRowsBottom()))
                        );
                    }),
                    (x.bottomFrozenY = function () {
                        if (p.Ej.bottom.enabled()) {
                            if ("viewport" === x.We) return p.Ej.bottom.top;
                            if ("full" === x.We)
                                return x.gh() - p.Ej.bottom.height;
                            if ("range" === x.We)
                                return x.gh() - p.Ej.bottom.height;
                        }
                        return x.gh();
                    }),
                    (x.getEvents = function () {
                        var e = x.We;
                        switch (e) {
                            case "full":
                                var t = DayPilot.list();
                                return (
                                    DayPilot.list(p.rowlist).forEach(function (
                                        e
                                    ) {
                                        e.hidden ||
                                            DayPilot.list(e.events).forEach(
                                                function (e) {
                                                    t.push(e);
                                                }
                                            );
                                    }),
                                    t
                                );
                            case "viewport":
                                return m
                                    .Zh()
                                    .filter(function (e) {
                                        return "main" === e.event.part.grid;
                                    })
                                    .map(function (e) {
                                        return e.event;
                                    });
                            case "range":
                                var t = DayPilot.list(),
                                    n = x.getRangeStart(),
                                    i = x.getRangeEnd();
                                return (
                                    x.getRows().forEach(function (e) {
                                        DayPilot.list(e.events)
                                            .filter(function (e) {
                                                return DayPilot.Util.overlaps(
                                                    e.start(),
                                                    e.end(),
                                                    n,
                                                    i
                                                );
                                            })
                                            .forEach(function (e) {
                                                t.push(e);
                                            });
                                    }),
                                    t
                                );
                            default:
                                throw new DayPilot.Exception(
                                    "Unsupported export mode: " + e
                                );
                        }
                    }),
                    (x.getEventsFrozen = function () {
                        var e = x.We;
                        switch (e) {
                            case "full":
                                var t = DayPilot.list();
                                return (
                                    x
                                        .getRowsTopAndBottom()
                                        .forEach(function (e) {
                                            e.hidden ||
                                                DayPilot.list(e.events).forEach(
                                                    function (e) {
                                                        t.push(e);
                                                    }
                                                );
                                        }),
                                    t
                                );
                            case "viewport":
                                return m
                                    .Zh()
                                    .filter(function (e) {
                                        return "main" !== e.event.part.grid;
                                    })
                                    .map(function (e) {
                                        return e.event;
                                    });
                            case "range":
                                var t = DayPilot.list(),
                                    n = x.getRangeStart(),
                                    i = x.getRangeEnd();
                                return (
                                    x
                                        .getRowsTopAndBottom()
                                        .forEach(function (e) {
                                            DayPilot.list(e.events)
                                                .filter(function (e) {
                                                    return DayPilot.Util.overlaps(
                                                        e.start(),
                                                        e.end(),
                                                        n,
                                                        i
                                                    );
                                                })
                                                .forEach(function (e) {
                                                    t.push(e);
                                                });
                                        }),
                                    t
                                );
                            default:
                                throw new DayPilot.Exception(
                                    "Unsupported export mode: " + e
                                );
                        }
                    }),
                    (x.getLinks = function () {
                        if (DayPilot.isArray(p.links.list)) {
                            for (
                                var e = [], t = 0;
                                t < p.links.list.length;
                                t++
                            ) {
                                var n = p.links.list[t],
                                    i = p.events.find(n.from),
                                    a = p.events.cm(i && i.data),
                                    r = p.events.find(n.to),
                                    o = p.events.cm(r && r.data),
                                    s = y.gm(a, o, n, x.Ve.includeHiddenRows);
                                s && e.push(s);
                            }
                            return e;
                        }
                    }),
                    (x.getTimeline = function () {
                        var e = x.We;
                        switch (e) {
                            case "full":
                                return DayPilot.list(p.itline).addProps({
                                    offset: 0,
                                });
                            case "viewport":
                                return x.getViewportTimeline();
                            case "range":
                                return x.getRangeTimeline();
                            default:
                                throw new DayPilot.Exception(
                                    "Unsupported export mode: " + e
                                );
                        }
                    }),
                    (x.getRangeTimeline = function () {
                        var e = DayPilot.list();
                        if (p.itline && p.itline.length > 0) {
                            var t = p.ak(x.getRangeStart()).i,
                                n = p.ak(x.getRangeEnd()).i,
                                i = p.en();
                            (n = Math.min(n, i - 1)),
                                (t = DayPilot.Util.atLeast(t, 0));
                            for (var a = t; a <= n; a++) {
                                var r = p.itline[a];
                                e.push(r);
                            }
                            e.offset = t;
                        }
                        return e;
                    }),
                    (x.getViewportTimeline = function () {
                        var e = DayPilot.list();
                        if (p.itline && p.itline.length > 0) {
                            var t = p.gn,
                                n = t + p.nav.scroll.offsetWidth,
                                i = p.$j(t).x,
                                a = p.$j(n, !0).x,
                                r = p.en();
                            (a = Math.min(a, r)),
                                (i = DayPilot.Util.atLeast(i, 0));
                            for (var o = i; o <= a; o++) {
                                var s = p.itline[o];
                                e.push(s);
                            }
                            e.offset = i;
                        }
                        return e;
                    }),
                    (x.getTimeHeader = function (e) {
                        if ("full" === x.We)
                            return DayPilot.list(p.timeHeader[e]);
                        var t,
                            n,
                            i = DayPilot.list();
                        (t = x.getViewportOffsetStart()),
                            (n = t + x.getViewportOffsetWidth());
                        var a = p.hn(e, t),
                            r = p.hn(e, n);
                        r || (r = { x: p.timeHeader[e].length - 1 });
                        for (var o = a.x; o <= r.x; o++) {
                            var s = p.timeHeader[e][o];
                            i.push(s);
                        }
                        return i;
                    }),
                    (x.getSeparators = function () {
                        return DayPilot.list(p.separators)
                            .map(function (e) {
                                var t = new DayPilot.Date(e.location);
                                if (t.getTime() < p.nb().getTime()) return null;
                                if (t.getTime() >= p.Vj().getTime())
                                    return null;
                                var n = p.getPixels(t);
                                return n.cut
                                    ? null
                                    : n.left < 0
                                    ? null
                                    : n.left > p.uj()
                                    ? null
                                    : {
                                          left: n.left,
                                          color: e.color,
                                          width: e.width || 1,
                                      };
                            })
                            .filter(function (e) {
                                return !!e;
                            });
                    }),
                    (x.fakeDurationBar = function () {
                        var e = u();
                        (e.style.display = "none"),
                            (e.className = p.H(B.event));
                        var t = u();
                        t.className = p.H(B.eventBar);
                        var n = u();
                        return (
                            (n.className = p.H(B.eventBarInner)),
                            c().appendChild(e),
                            t.appendChild(n),
                            e.appendChild(t),
                            e
                        );
                    }),
                    (x.fakeEventLeft = function () {
                        var e = u();
                        return (
                            (e.style.display = "none"),
                            (e.className = p.H("_event_left")),
                            c().appendChild(e),
                            e
                        );
                    }),
                    (x.fakeGroup = function () {
                        var e = u();
                        (e.style.display = "none"),
                            (e.className =
                                p.H(B.event) + " " + p.H("_task_group"));
                        var t = u();
                        return (
                            (t.className = p.H(B.eventInner)),
                            e.appendChild(t),
                            p.divEvents.appendChild(e),
                            e
                        );
                    }),
                    (x.fakeMilestone = function () {
                        var e = u();
                        (e.style.display = "none"),
                            (e.className =
                                p.H(B.event) + " " + p.H("_task_milestone"));
                        var t = u();
                        return (
                            (t.className = p.H(B.eventInner)),
                            e.appendChild(t),
                            p.divEvents.appendChild(e),
                            e
                        );
                    }),
                    (x.fakeCell = function () {
                        var e = u();
                        (e.style.display = "none"),
                            (e.className = p.H("_cell")),
                            (e.style.position = "absolute"),
                            (e.style.top = "-2000px"),
                            (e.style.left = "-2000px");
                        var t = u();
                        return (
                            (t.className = p.H("_cell_inner")),
                            e.appendChild(t),
                            p.divCells.appendChild(e),
                            e
                        );
                    }),
                    (x.fakeRowHeader = function () {
                        var e = u();
                        (e.style.display = "none"),
                            (e.className = p.H("_rowheader")),
                            (e.style.position = "absolute"),
                            (e.style.top = "-2000px"),
                            (e.style.left = "-2000px");
                        var t = u();
                        return (
                            (t.className = p.H("_rowheader_inner")),
                            e.appendChild(t),
                            p.divResScroll.appendChild(e),
                            e
                        );
                    }),
                    (x.in = function () {
                        var e = u();
                        (e.style.display = "none"),
                            (e.className = p.H("_corner")),
                            (e.style.position = "absolute"),
                            (e.style.top = "-2000px"),
                            (e.style.left = "-2000px");
                        var t = u();
                        return (
                            (t.className = p.H("_corner_inner")),
                            e.appendChild(t),
                            p.nav.top.appendChild(e),
                            e
                        );
                    }),
                    (x.fakeExpand = function () {
                        var e = u();
                        return (
                            (e.style.display = "none"),
                            (e.className = p.H("_tree_image_expand")),
                            c().appendChild(e),
                            e
                        );
                    }),
                    (x.fakeIcon = function (e) {
                        var t = document.createElement("i");
                        return (
                            (t.className = e),
                            (t.style.position = "absolute"),
                            (t.style.top = "-2000px"),
                            (t.style.left = "-2000px"),
                            t
                        );
                    }),
                    (x.extractUrl = function (e) {
                        var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
                        return t ? t[2] : null;
                    }),
                    (x.getImages = function () {
                        var e = {},
                            t = x.fakeExpand();
                        return (
                            (e.expand = x.extractUrl(
                                new DayPilot.StyleReader(t).get(
                                    "background-image"
                                )
                            )),
                            (t.className = p.H("_tree_image_collapse")),
                            (e.collapse = x.extractUrl(
                                new DayPilot.StyleReader(t).get(
                                    "background-image"
                                )
                            )),
                            (t.className = p.H("_tree_image_no_children")),
                            (e.nochildren = x.extractUrl(
                                new DayPilot.StyleReader(t).get(
                                    "background-image"
                                )
                            )),
                            DayPilot.de(t),
                            e
                        );
                    }),
                    (x.getFont = function (e) {
                        return new DayPilot.StyleReader(e).getFont();
                    }),
                    (x.getViewportOffsetStart = function () {
                        switch (x.We) {
                            case "full":
                                return 0;
                            case "viewport":
                                return p.nav.scroll.scrollLeft;
                            case "range":
                                return p.getPixels(x.getRangeStart()).boxLeft;
                        }
                    }),
                    (x.getViewportOffsetTop = function () {
                        switch (x.We) {
                            case "full":
                                return 0;
                            case "viewport":
                                return p.nav.scroll.scrollTop;
                            case "range":
                                return (
                                    x.bn(x.getRangeResStart()) - p.Ej.top.height
                                );
                        }
                    }),
                    (x.getViewportOffsetWidth = function () {
                        switch (x.We) {
                            case "full":
                                return p.uj();
                            case "viewport":
                                return p.nav.scroll.offsetWidth;
                            case "range":
                                return (
                                    p.getPixels(x.getRangeEnd()).boxRight -
                                    x.getViewportOffsetStart()
                                );
                        }
                    }),
                    (x.excelBoard = function () {
                        var e = new DayPilot.Excel(),
                            t = e.worksheets.create("Scheduler"),
                            n = new DayPilot.StyleReader(p.nav.corner).get(
                                "background-color"
                            ),
                            i = new DayPilot.StyleReader(p.nav.top).get(
                                "border-top-color"
                            ),
                            a = DayPilot.list(p.elements.events)
                                .filter(function (e) {
                                    return !e.event.data.type;
                                })
                                .map(function (e) {
                                    return e.firstChild;
                                })
                                .last(),
                            r = new DayPilot.StyleReader(a).get(
                                "border-right-color"
                            );
                        e.styles.getDefault().setBackColor("#ffaaaa");
                        var o = e.styles.create();
                        o.setHorizontalAlignment("Center"),
                            o.setBackColor(n),
                            o.setBorderColor(i);
                        var s = e.styles.create();
                        s.setVerticalAlignment("Top"),
                            s.setBackColor(n),
                            s.setBorderColor(i);
                        var l = e.styles.create();
                        l.setVerticalAlignment("Top"),
                            l.setBackColor("#ff0000"),
                            l.setBorderColor(r),
                            t.enableGridlines(!1),
                            t
                                .cell(0, 0)
                                .setRowspan(p.timeHeader.length)
                                .setStyle(o),
                            t.cell(10, 10).setText("hi there"),
                            DayPilot.list(p.timeHeader).forEach(function (
                                e,
                                n
                            ) {
                                var i = { x: 1, y: 0 };
                                x.getTimeHeader(n, "full").forEach(function (
                                    e,
                                    a
                                ) {
                                    var r = e.colspan;
                                    t.cell(a + i.x, n + i.y)
                                        .setText(e.innerHTML)
                                        .setColspan(r)
                                        .setStyle(o);
                                });
                            }),
                            DayPilot.list(p.rowlist).forEach(function (e, n) {
                                for (
                                    var i = { x: 0, y: 1 }, a = "", r = 0;
                                    r < e.level;
                                    r++
                                )
                                    a += "  ";
                                t.cell(i.x, n + i.y)
                                    .setText(a + e.html)
                                    .setRowspan(e.lines.length)
                                    .setStyle(s);
                            });
                        var d = { x: 0, y: p.timeHeader.length },
                            c = d.y;
                        return (
                            DayPilot.list(p.rowlist).forEach(function (e, n) {
                                DayPilot.list(e.lines).forEach(function (e, i) {
                                    var a = d.x;
                                    DayPilot.list(e).forEach(function (e) {
                                        var i = p.ak(e.start()).i,
                                            r = p.ak(e.end()).i,
                                            o = 1 + r - i;
                                        t
                                            .cell(i + a, n + c)
                                            .setText(e.client.html())
                                            .setColspan(o)
                                            .setStyle(l),
                                            (a += o - 1);
                                    });
                                }),
                                    (c += e.lines.length - 1);
                            }),
                            e
                        );
                    }),
                    (x.Ve = null),
                    (x.We = null),
                    (x.generate = function (e, t) {
                        function n(e) {
                            var t = h.grid.y + x.bn(e) - x.cn(e);
                            t += DayPilot.Util.atLeast(0, h.grid.y - t);
                            var n = p.treeEnabled && !e.isNewRow,
                                i = 10,
                                a = n
                                    ? e.level * p.treeIndent +
                                      p.treeImageMarginLeft +
                                      5
                                    : 5;
                            "Disabled" !== p.rowMoveHandling && (a += 10);
                            var r = {
                                    x: 0,
                                    y: t,
                                    w: h.grid.x + 1,
                                    h: e.height + 1,
                                },
                                o = e;
                            if (de) {
                                o = p.ln(e).row;
                            }
                            var s = p.rowHeaderCols
                                    ? p.rowHeaderCols.length
                                    : 0,
                                l = p.Ik(),
                                c = p.internalUseStandardColumns && !e.isNewRow,
                                u =
                                    c ||
                                    (l && DayPilot.isArray(p.rowHeaderColumns)),
                                v = {};
                            if (((v.text = o.html), U.kn().length > 0 && u)) {
                                var m = o.columns.find(function (e, t) {
                                    return !p.rowHeaderColumns[t].hidden;
                                });
                                v.text = m.text || m.html;
                            }
                            (v.backColor = o.backColor || Z),
                                (v.fontSize = Q.size),
                                (v.fontFamily = Q.family),
                                (v.fontStyle = Q.style),
                                (v.fontColor = o.fontColor || K),
                                (v.borderColor = g),
                                (v.horizontalAlignment = "left"),
                                (v.verticalAlignment = "center"),
                                (v.row = p._k(e)),
                                (v.columns = []),
                                (v.row.columns = v.columns),
                                o.columns &&
                                    o.columns.forEach(function (e) {
                                        var t = DayPilot.Util.copyProps(e, {}, [
                                            "text",
                                            "html",
                                            "backColor",
                                            "horizontalAlignment",
                                            "verticalAlignment",
                                        ]);
                                        (t.text = e.text || e.html),
                                            (t.fontSize = v.fontSize),
                                            (t.fontFamily = v.fontFamily),
                                            (t.fontStyle = v.fontStyle),
                                            (t.fontColor = v.fontColor),
                                            (t.horizontalAlignment =
                                                t.horizontalAlignment ||
                                                v.horizontalAlignment),
                                            (t.verticalAlignment =
                                                t.verticalAlignment ||
                                                v.verticalAlignment),
                                            (t.backColor =
                                                t.backColor || v.backColor),
                                            v.columns.push(t);
                                    }),
                                e.isNewRow && (v.text = p.rowCreateText),
                                ce && p.onBeforeRowHeaderExport(v);
                            var b = 10,
                                y = {
                                    x: a,
                                    y: t + p.treeImageMarginTop + 2,
                                    w: 10,
                                    h: b,
                                },
                                w = {
                                    size: v.fontSize,
                                    family: v.fontFamily,
                                    style: v.fontStyle,
                                };
                            "center" === v.verticalAlignment &&
                                (y.y = t + r.h / 2 - 5);
                            var k = n ? a + i + 3 : a,
                                C = n ? r.w - k : r.w,
                                H = { x: k, y: t, w: C, h: e.height + 1 };
                            if (
                                (p.rowHeaderCols &&
                                    (H.w = p.rowHeaderCols[0] - k),
                                d.fillRect(r, v.backColor),
                                d.text(
                                    H,
                                    v.text,
                                    w,
                                    v.fontColor,
                                    v.horizontalAlignment,
                                    0,
                                    v.verticalAlignment
                                ),
                                d.rect(r, v.borderColor),
                                n)
                            ) {
                                var D = null;
                                (D = DayPilot.list(e.children).isEmpty()
                                    ? f.nochildren
                                    : e.expanded || x.Ve.includeHiddenRows
                                    ? f.collapse
                                    : f.expand),
                                    d.image(y, D);
                            }
                            var E = DayPilot.list(v.row.columns);
                            if (
                                (u &&
                                    ((E = E.filter(function (e, t) {
                                        return !p.rowHeaderColumns[t].hidden;
                                    })),
                                    (s = E.length)),
                                p.rowHeaderCols)
                            ) {
                                var a = r.x;
                                DayPilot.list(p.rowHeaderCols).forEach(
                                    function (e, t) {
                                        if (0 !== t) {
                                            var n = c || p.Ik() ? 0 : 1,
                                                i = t - n,
                                                o = E[i] || {},
                                                s = DayPilot.Util.copyProps(r);
                                            (s.x = a), (s.w = e + 1);
                                            var l = 3,
                                                u = DayPilot.Util.copyProps(s);
                                            (u.x += l), (u.w -= l);
                                            var h = o.backColor || v.backColor;
                                            d.fillRect(s, h),
                                                o.text &&
                                                    d.text(
                                                        u,
                                                        o.text,
                                                        {
                                                            size: o.fontSize,
                                                            family: o.fontFamily,
                                                            style: o.fontStyle,
                                                        },
                                                        o.fontColor,
                                                        o.horizontalAlignment,
                                                        0,
                                                        o.verticalAlignment
                                                    ),
                                                d.rect(s, v.borderColor);
                                        }
                                        a += e;
                                    }
                                );
                            }
                        }
                        function i(e, t, n) {
                            n = n || "main";
                            var i = p.itline[e],
                                a = p.Ej[n].rowlist[t],
                                r = p.Am(e, t, n),
                                o = r.business,
                                s = p.mn(e, t, n);
                            s ||
                                ((s = {}),
                                (s.cell = p.cells.findXy(e, t, n)[0]));
                            var l = r.html,
                                c = r.horizontalAlignment || "left",
                                u = r.backColor || (o ? L : N);
                            (s.areas =
                                (s.cell &&
                                    s.cell.properties &&
                                    s.cell.properties.areas) ||
                                []),
                                (s.text = l),
                                (s.horizontalAlignment = c),
                                (s.backColor = u),
                                (s.fontSize = j.size),
                                (s.fontFamily = j.family),
                                (s.fontStyle = j.style),
                                (s.fontColor =
                                    (s.cell &&
                                        s.cell.properties &&
                                        s.cell.properties.fontColor) ||
                                    O),
                                ue &&
                                    (p.onBeforeCellExport(s),
                                    (l = s.text),
                                    (c = s.horizontalAlignment),
                                    (u = s.backColor));
                            var f = h.grid.y + x.bn(a) - x.cn(a);
                            f += DayPilot.Util.atLeast(0, h.grid.y - f);
                            var v = h.grid.x + i.left - re;
                            v += DayPilot.Util.atLeast(0, h.grid.x - v);
                            var m = { x: v, y: f, w: i.width, h: a.height };
                            d.fillRect(m, u);
                            var g = {};
                            (g.x = m.x + 1),
                                (g.y = m.y + 1),
                                (g.w = m.w - 2),
                                (g.h = m.h - 2);
                            var b = {
                                size: s.fontSize,
                                family: s.fontFamily,
                                style: s.fontStyle,
                            };
                            l && d.text(g, l, b, s.fontColor, c);
                            var y = s.areas;
                            DayPilot.list(y).forEach(function (e) {
                                if (DayPilot.Areas.isVisible(e)) {
                                    var t = { type: "cell-area" };
                                    "undefined" != typeof e.id && (t.id = e.id),
                                        d.groupStart(t);
                                    var n = 0;
                                    "number" == typeof e.left
                                        ? (n = e.left)
                                        : e.start
                                        ? (n =
                                              p.getPixels(
                                                  new DayPilot.Date(e.start)
                                              ).left - i.left)
                                        : "number" == typeof e.right &&
                                          (n = i.width - e.right - e.width);
                                    var a = e.width || e.w;
                                    "number" == typeof e.right
                                        ? (a = i.width - e.right - n)
                                        : e.end &&
                                          (a =
                                              p.getPixels(
                                                  new DayPilot.Date(e.end)
                                              ).left -
                                              e.left -
                                              i.left +
                                              1);
                                    var r = e.top || 0,
                                        o = e.height || e.h;
                                    "number" == typeof e.bottom &&
                                        (o = i.height - e.bottom - r),
                                        o || (o = i.height - r);
                                    var l = { x: v + n, y: f + r, w: a, h: o };
                                    if (
                                        (e.backColor &&
                                            d.fillRect(l, e.backColor),
                                        e.icon)
                                    ) {
                                        var c = p.Ue.areaIcon(e.icon);
                                        d.text(
                                            l,
                                            c.text,
                                            c.font,
                                            e.fontColor || s.fontColor,
                                            e.horizontalAlignment,
                                            e.padding,
                                            e.verticalAlignment
                                        );
                                    } else if (e.image) {
                                        var u = new Image();
                                        (u.src = e.image), d.image(l, u);
                                    } else
                                        e.symbol
                                            ? d.symbol(l, e.symbol, {
                                                  color:
                                                      e.fontColor ||
                                                      s.fontColor,
                                              })
                                            : (e.text || e.html) &&
                                              d.text(
                                                  l,
                                                  e.text || e.html,
                                                  {
                                                      size:
                                                          e.fontSize ||
                                                          s.fontSize,
                                                      family:
                                                          e.fontFamily ||
                                                          s.fontFamily,
                                                      style:
                                                          e.fontStyle ||
                                                          s.fontStyle,
                                                  },
                                                  e.fontColor || s.fontColor,
                                                  e.horizontalAlignment,
                                                  e.padding,
                                                  e.verticalAlignment
                                              );
                                    d.groupEnd();
                                }
                            });
                        }
                        function a(e) {
                            var t = h.grid.y + x.bn(e) - x.cn(e);
                            if (
                                ((t += DayPilot.Util.atLeast(0, h.grid.y - t)),
                                t !== h.grid.y &&
                                    !(
                                        "main" === e.grid &&
                                        t > x.bottomFrozenY()
                                    ))
                            ) {
                                var n = W,
                                    i = {};
                                if (he) {
                                    if (
                                        ((i.row = p._k(e)),
                                        (i.hidden = !1),
                                        (i.cssClass = null),
                                        (i.type = "HorizontalLine"),
                                        (i.color = null),
                                        p.onBeforeGridLineRender(i),
                                        i.hidden)
                                    )
                                        return;
                                    n = i.color || W;
                                }
                                d.line(
                                    h.gridContent.x + 1,
                                    t,
                                    h.gridContent.x + h.gridContent.w - 1,
                                    t,
                                    n
                                ),
                                    "top" === e.grid &&
                                        e === p.Ej.top.rowlist.last() &&
                                        d.line(
                                            h.gridContent.x + 1,
                                            t + e.height,
                                            h.gridContent.x +
                                                h.gridContent.w -
                                                1,
                                            t + e.height,
                                            W
                                        );
                            }
                        }
                        function r(e, t) {
                            var n = h.grid.x + e.left - re;
                            if (
                                ((n += DayPilot.Util.atLeast(0, h.grid.x - n)),
                                n !== h.grid.x)
                            ) {
                                var i = h.grid.y + 1,
                                    a = h.grid.y + h.grid.h - 2;
                                "top" === t && (a = i + p.Ej.top.height),
                                    "bottom" === t && (i = x.bottomFrozenY());
                                var r = q,
                                    o = {};
                                if (he) {
                                    if (
                                        ((o.start = e.start),
                                        (o.end = e.end),
                                        (o.hidden = !1),
                                        (o.cssClass = null),
                                        (o.type = "VerticalLine"),
                                        (o.color = null),
                                        p.onBeforeGridLineRender(o),
                                        o.hidden)
                                    )
                                        return;
                                    r = o.color || q;
                                }
                                d.line(n, i, n, a, r);
                            }
                        }
                        function o(e) {
                            function t() {
                                var e = R.backColor;
                                d.diamond(P, e);
                            }
                            function n() {
                                var e = { x: u, y: c, w: s, h: R.barHeight },
                                    t = {
                                        x: u + D,
                                        y: c,
                                        w: S,
                                        h: R.barHeight,
                                    },
                                    n = v.backColor || T,
                                    i = {
                                        x: u,
                                        y: c + 5,
                                        h: P.h - 6 - 5,
                                        w: P.w,
                                    };
                                d.fillRect(i, n);
                                var a = v.text || v.html;
                                d.text(
                                    i,
                                    a,
                                    {
                                        size: R.fontSize,
                                        family: R.fontFamily,
                                        style: R.fontStyle,
                                    },
                                    R.fontColor,
                                    R.horizontalAlignment,
                                    R.textPadding,
                                    R.verticalAlignment
                                ),
                                    d.upperRightCorner(
                                        {
                                            x: u + P.w - 6,
                                            y: i.y + i.h,
                                            w: 6,
                                            h: 6,
                                        },
                                        n
                                    ),
                                    d.upperLeftCorner(
                                        { x: u, y: i.y + i.h, w: 6, h: 6 },
                                        n
                                    ),
                                    l &&
                                        (d.fillRect(e, g),
                                        S > 0 && d.fillRect(t, m));
                            }
                            function i(t, n) {
                                var i = v.versions[n];
                                d.groupStart({
                                    type: "event-version",
                                    "event-id": e.id(),
                                });
                                var a = t.width,
                                    r = h.grid.y + o + t.top - oe;
                                r += DayPilot.Util.atLeast(0, h.grid.y - r);
                                var s = h.grid.x + t.left - re + 1,
                                    l = DayPilot.Util.atLeast(0, h.grid.x - s);
                                (s += l), (a -= l);
                                var c = p.eventVersionHeight,
                                    u = p.durationBarVisible && !i.barHidden,
                                    f = u ? U.nn() : 0,
                                    m = { x: s, y: r, w: a, h: c };
                                d.fillRect(m, i.backColor || R.backColor);
                                var g = {
                                    x: s + _,
                                    y: r + f,
                                    w: DayPilot.Util.atLeast(0, a - _),
                                    h: c - f,
                                };
                                if (
                                    (d.text(
                                        g,
                                        i.text,
                                        {
                                            size: R.fontSize,
                                            family: R.fontFamily,
                                            style: R.fontStyle,
                                        },
                                        R.fontColor,
                                        R.horizontalAlignment,
                                        R.textPadding,
                                        R.verticalAlignment
                                    ),
                                    d.rect(m, i.borderColor || R.borderColor),
                                    u)
                                ) {
                                    var b = i.barBackColor || M,
                                        y = i.barColor || A,
                                        w = (100 * t.barLeft) / a,
                                        x = Math.ceil((100 * t.barWidth) / a),
                                        k = { x: s, y: r + 1, w: a, h: f },
                                        C = { x: s + w, y: r + 1, w: x, h: f };
                                    d.fillRect(k, b), x > 0 && d.fillRect(C, y);
                                }
                                d.groupEnd();
                            }
                            function a() {
                                var t = { x: u, y: c, w: s, h: R.barHeight },
                                    n = {
                                        x: u + D,
                                        y: c,
                                        w: S,
                                        h: R.barHeight,
                                    },
                                    i = {
                                        x: u + _,
                                        y: c + R.barHeight,
                                        w: s - _,
                                        h: e.part.height - R.barHeight,
                                    };
                                d.fillRect(P, R.backColor),
                                    d.text(
                                        i,
                                        R.text,
                                        {
                                            size: R.fontSize,
                                            family: R.fontFamily,
                                            style: R.fontStyle,
                                        },
                                        R.fontColor,
                                        R.horizontalAlignment,
                                        R.textPadding,
                                        R.verticalAlignment
                                    ),
                                    d.rect(P, R.borderColor),
                                    l &&
                                        (d.fillRect(t, g),
                                        S > 0 && d.fillRect(n, m)),
                                    DayPilot.list(R.areas).forEach(function (
                                        t
                                    ) {
                                        if (DayPilot.Areas.isVisible(t)) {
                                            var n = { type: "event-area" };
                                            "undefined" != typeof t.id &&
                                                (n.id = t.id),
                                                d.groupStart(n);
                                            var i = 0;
                                            "number" == typeof t.left
                                                ? (i = t.left)
                                                : t.start
                                                ? (i =
                                                      p.getPixels(
                                                          new DayPilot.Date(
                                                              t.start
                                                          )
                                                      ).left - e.part.left)
                                                : "number" == typeof t.right &&
                                                  (i =
                                                      e.part.width -
                                                      t.right -
                                                      t.width);
                                            var a = t.width || t.w;
                                            "number" == typeof t.right
                                                ? (a =
                                                      e.part.width -
                                                      t.right -
                                                      i)
                                                : t.end &&
                                                  (a =
                                                      p.getPixels(
                                                          new DayPilot.Date(
                                                              t.end
                                                          )
                                                      ).left -
                                                      t.left -
                                                      e.part.left +
                                                      1);
                                            var r = t.top || 0,
                                                o = t.height || t.h;
                                            "number" == typeof t.bottom &&
                                                (o =
                                                    e.part.height -
                                                    t.bottom -
                                                    r),
                                                o || (o = e.part.height - r);
                                            var s = {
                                                x: u + i,
                                                y: c + r,
                                                w: a,
                                                h: o,
                                            };
                                            if (
                                                (t.backColor &&
                                                    d.fillRect(s, t.backColor),
                                                t.icon)
                                            ) {
                                                var l = p.Ue.areaIcon(t.icon);
                                                d.text(
                                                    s,
                                                    l.text,
                                                    l.font,
                                                    t.fontColor || R.fontColor,
                                                    t.horizontalAlignment,
                                                    t.padding,
                                                    t.verticalAlignment
                                                );
                                            } else if (t.image) {
                                                var h = new Image();
                                                (h.src = t.image),
                                                    d.image(s, h);
                                            } else
                                                t.symbol
                                                    ? d.symbol(s, t.symbol, {
                                                          color:
                                                              t.fontColor ||
                                                              R.fontColor,
                                                      })
                                                    : (t.text || t.html) &&
                                                      d.text(
                                                          s,
                                                          t.text || t.html,
                                                          {
                                                              size:
                                                                  t.fontSize ||
                                                                  R.fontSize,
                                                              family:
                                                                  t.fontFamily ||
                                                                  R.fontFamily,
                                                              style:
                                                                  t.fontStyle ||
                                                                  R.fontStyle,
                                                          },
                                                          t.fontColor ||
                                                              R.fontColor,
                                                          t.horizontalAlignment,
                                                          t.padding,
                                                          t.verticalAlignment
                                                      );
                                            d.groupEnd();
                                        }
                                    });
                            }
                            var r = p.Ej[e.part.grid].rowlist[e.part.dayIndex],
                                o = x.bn(r),
                                s = e.part.width,
                                l =
                                    e.client &&
                                    e.client.barVisible &&
                                    e.client.barVisible(),
                                c = h.grid.y + o + e.part.top - x.cn(r),
                                u = h.grid.x + e.part.left - re + 1,
                                f = DayPilot.Util.atLeast(0, h.grid.x - u);
                            (u += f), (s -= f);
                            var v = e.cache || e.data,
                                m = v.barColor || A,
                                g = v.barBackColor || M,
                                b = v.backColor || H,
                                y = v.fontColor || C,
                                D = e.part.barLeft,
                                S = e.part.barWidth;
                            "PercentComplete" === p.durationBarMode &&
                                ((D = 0),
                                (S = DayPilot.Util.atLeast(
                                    0,
                                    Math.floor(
                                        (e.part.width * (v.complete || 0)) / 100
                                    )
                                ))),
                                "Milestone" === e.data.type && (b = E);
                            var _ = 2,
                                R = {};
                            (R.e = e),
                                (R.text = e.text ? e.text() : e.client.html()),
                                (R.areas = DayPilot.Util.createArrayCopy(
                                    v.areas
                                )),
                                (R.fontSize = k.size),
                                (R.fontFamily = k.family),
                                (R.fontStyle = k.style),
                                (R.fontColor = y),
                                (R.backColor = b),
                                (R.borderColor = w),
                                (R.horizontalAlignment = "left"),
                                (R.verticalAlignment = "center"),
                                (R.barHeight = 4),
                                (R.textPadding = 2),
                                (R.textLeft = v.textLeft || v.htmlLeft),
                                (R.textRight = v.textRight || v.htmlRight),
                                "function" == typeof p.onBeforeEventExport &&
                                    p.onBeforeEventExport(R);
                            var P = { x: u, y: c, w: s, h: e.part.height };
                            d.groupStart({ type: "event", id: e.id() }),
                                "Milestone" === e.data.type
                                    ? t()
                                    : "Group" === e.data.type
                                    ? n()
                                    : a();
                            var N = R.textLeft;
                            if (N) {
                                var L = {
                                        size: R.fontSize,
                                        family: R.fontFamily,
                                        style: R.fontStyle,
                                    },
                                    I = d.textWidth(N, L),
                                    j = {
                                        x: u - (p.eventHtmlLeftMargin + I),
                                        y: c,
                                        w: I,
                                        h: e.part.height,
                                    };
                                d.text(j, N, L, B);
                            }
                            var O = R.textRight;
                            if (O) {
                                var z = {
                                        size: R.fontSize,
                                        family: R.fontFamily,
                                        style: R.fontStyle,
                                    },
                                    W = d.textWidth(O, z),
                                    F = {
                                        x: u + s + p.eventHtmlRightMargin,
                                        y: c,
                                        w: W,
                                        h: e.part.height,
                                    };
                                d.text(F, O, z, B);
                            }
                            d.groupEnd(), (e.versions || []).forEach(i);
                        }
                        "object" == typeof e && ((t = e), (e = null));
                        var t = t || {},
                            e = e || t.format || "svg",
                            s = t.scale || 1;
                        if ("xls" === e) return x.excelBoard();
                        "jpg" === e.toLowerCase() && (e = "jpeg");
                        var l = t.area || "viewport";
                        (x.Ve = DayPilot.Util.copyProps(t)),
                            (x.We = l),
                            (x.Ve.includeHiddenRows =
                                x.Ve.includeHiddenRows && "range" === l),
                            x.getRows().forEach(function (e) {
                                p.jn(e);
                            });
                        var d,
                            c = x.hh(),
                            u = x.gh();
                        switch (e.toLowerCase()) {
                            case "svg":
                                d = new DayPilot.Svg(c, u);
                                break;
                            case "png":
                                d = new DayPilot.Canvas(c, u, "image/png", s);
                                break;
                            case "jpeg":
                                d = new DayPilot.Canvas(
                                    c,
                                    u,
                                    "image/jpeg",
                                    s,
                                    t.quality
                                );
                                break;
                            default:
                                throw new DayPilot.Exception(
                                    "Export format not supported: " + e
                                );
                        }
                        var h = x.getRectangles(),
                            f = x.getImages(),
                            v = new DayPilot.StyleReader(p.nav.top).get(
                                "background-color"
                            ),
                            m = new DayPilot.StyleReader(p.nav.corner).get(
                                "background-color"
                            ),
                            g = new DayPilot.StyleReader(p.nav.top).get(
                                "border-top-color"
                            ),
                            b = new DayPilot.StyleReader(p.nav.divider).get(
                                "background-color"
                            ),
                            y = DayPilot.list(p.elements.events)
                                .filter(function (e) {
                                    return !e.event.data.type;
                                })
                                .map(function (e) {
                                    return e.firstChild;
                                })
                                .last(),
                            w = new DayPilot.StyleReader(y).get(
                                "border-right-color"
                            ),
                            k = x.getFont(y),
                            C = new DayPilot.StyleReader(y).get("color"),
                            H = new DayPilot.StyleReader(y).get(
                                "background-color"
                            );
                        H = DayPilot.Util.isTransparentColor(H) ? "white" : H;
                        var D = x.fakeMilestone(),
                            E = new DayPilot.StyleReader(D.firstChild).get(
                                "background-color"
                            );
                        DayPilot.de(D);
                        var S = x.fakeGroup(),
                            T = new DayPilot.StyleReader(S.firstChild).get(
                                "background-color"
                            );
                        DayPilot.de(S);
                        var _ = x.fakeDurationBar(),
                            M = new DayPilot.StyleReader(_.firstChild).get(
                                "background-color"
                            ),
                            A = new DayPilot.StyleReader(
                                _.firstChild.firstChild
                            ).get("background-color");
                        DayPilot.de(_);
                        var R = x.fakeEventLeft(),
                            B = new DayPilot.StyleReader(R).get("color");
                        DayPilot.de(R);
                        var P = x.fakeCell(),
                            N = new DayPilot.StyleReader(P).get(
                                "background-color"
                            );
                        DayPilot.Util.addClass(P, p.H("_cell_business"));
                        var L = new DayPilot.StyleReader(P).get(
                                "background-color"
                            ),
                            j = x.getFont(P),
                            O = new DayPilot.StyleReader(P).get("color");
                        DayPilot.de(P);
                        var z = DayPilot.Util.firstPropValue(
                                p.Q.linesHorizontal
                            ),
                            W = new DayPilot.StyleReader(z).get(
                                "background-color"
                            ),
                            F = DayPilot.Util.firstPropValue(p.Q.linesVertical),
                            q = new DayPilot.StyleReader(F).get(
                                "background-color"
                            ),
                            Y = p.Q.timeHeader["0_0"],
                            G = x.getFont(Y),
                            J = new DayPilot.StyleReader(Y).get("color"),
                            V = new DayPilot.StyleReader(Y).get(
                                "background-color"
                            ),
                            X = x.fakeRowHeader(),
                            Q = x.getFont(X),
                            K = new DayPilot.StyleReader(X).get("color"),
                            Z = new DayPilot.StyleReader(X).get(
                                "background-color"
                            );
                        DayPilot.de(X);
                        var $ = x.in(),
                            ee = x.getFont($),
                            te = new DayPilot.StyleReader($).get("color"),
                            m = new DayPilot.StyleReader($).get(
                                "background-color"
                            );
                        if (p.rowHeaderColumns && p.Fl && p.Fl.blocks[0])
                            var ne = p.Fl.blocks[0].section.firstChild,
                                ie = new DayPilot.StyleReader(ne).getFont(),
                                ae = new DayPilot.StyleReader(ne).get("color");
                        var re = x.getViewportOffsetStart(),
                            oe = x.getViewportOffsetTop();
                        d.fillRect(h.main, "white"),
                            d.fillRect(h.main, v),
                            (function () {
                                var e = {};
                                (e.backColor = m),
                                    (e.text = p.cornerText),
                                    (e.fontSize = ee.size),
                                    (e.fontFamily = ee.family),
                                    (e.fontStyle = ee.style),
                                    (e.fontColor = te),
                                    (e.horizontalAlignment = "left"),
                                    (e.verticalAlignment = "top"),
                                    "function" ==
                                        typeof p.onBeforeCornerExport &&
                                        p.onBeforeCornerExport(e);
                                var t = {
                                    size: e.fontSize,
                                    family: e.fontFamily,
                                    style: e.fontStyle,
                                };
                                d.fillRect(h.corner, e.backColor),
                                    d.text(
                                        h.corner,
                                        e.text,
                                        t,
                                        e.fontColor,
                                        e.horizontalAlignment,
                                        0,
                                        e.verticalAlignment
                                    );
                            })();
                        var se = h.corner.x;
                        U.kn().forEach(function (e, t) {
                            var n = p.rowHeaderCols[t],
                                i = {};
                            (i.x = se),
                                (i.w = n + 1),
                                (i.y = h.corner.h - p.Fl.height),
                                (i.h = p.Fl.height + 1);
                            var a = 3,
                                r = DayPilot.Util.copyProps(i);
                            (r.x += a), (r.w -= a);
                            var o = e.name || e.title || "";
                            d.fillRect(i, m),
                                d.text(r, o, ie, ae, "left", 0, "center"),
                                d.rect(i, g),
                                (se += n);
                        });
                        var le =
                                "function" == typeof p.onBeforeTimeHeaderExport,
                            de = "function" == typeof p.onBeforeRowHeaderRender,
                            ce = "function" == typeof p.onBeforeRowHeaderExport,
                            ue = "function" == typeof p.onBeforeCellExport;
                        x.getRows().forEach(n),
                            x.getRowsTop().forEach(n),
                            x.getRowsBottom().forEach(n),
                            x.getRows().forEach(function (e, t, n) {
                                var t = e.index;
                                x.getTimeline().forEach(function (n, a, r) {
                                    var a = r.offset + a;
                                    i(a, t, e.grid);
                                });
                            });
                        var he = "function" == typeof p.onBeforeGridLineRender;
                        x.getRows().forEach(a),
                            x.getTimeline().forEach(function (e) {
                                r(e, "main");
                            });
                        var fe = x.getTimeline().last();
                        return (
                            (function (e) {
                                if (e) {
                                    var t = q,
                                        n = {};
                                    if (he) {
                                        if (
                                            ((n.start = e.end),
                                            (n.end = e.end),
                                            (n.hidden = !1),
                                            (n.cssClass = null),
                                            (n.type = "VerticalLine"),
                                            (n.color = null),
                                            p.onBeforeGridLineRender(n),
                                            n.hidden)
                                        )
                                            return;
                                        t = n.color || q;
                                    }
                                    var i = h.grid.x + e.left - re + e.width;
                                    d.line(
                                        i,
                                        h.grid.y + 1,
                                        i,
                                        h.grid.y + h.grid.h - 2,
                                        t
                                    );
                                }
                            })(fe),
                            x.getSeparators().forEach(function (e) {
                                var t = h.grid.x + e.left - re;
                                d.line(
                                    t,
                                    h.grid.y + 1,
                                    t,
                                    h.grid.y + h.grid.h - 2,
                                    e.color
                                );
                            }),
                            x.getLinks().forEach(function (e) {
                                e &&
                                    e
                                        .map(function (e) {
                                            return x
                                                .shiftableSegment(e)
                                                .shift(
                                                    h.grid.x - re,
                                                    h.grid.y - oe
                                                );
                                        })
                                        .forEach(function (e) {
                                            switch (e.type) {
                                                case "HorizontalLine":
                                                    d.line(
                                                        e.startX,
                                                        e.startY,
                                                        e.endX,
                                                        e.endY,
                                                        "red"
                                                    );
                                                    break;
                                                case "VerticalLine":
                                                    d.line(
                                                        e.startX,
                                                        e.startY,
                                                        e.endX,
                                                        e.endY,
                                                        "red"
                                                    );
                                                    break;
                                                case "ArrowRight":
                                                    d.triangle(
                                                        {
                                                            x: e.startX - 10,
                                                            y: e.startY - 4.5,
                                                            w: 10,
                                                            h: 10,
                                                        },
                                                        "red"
                                                    );
                                                    break;
                                                case "ArrowDown":
                                                    d.triangle(
                                                        {
                                                            x: e.startX - 4.5,
                                                            y: e.startY - 10,
                                                            w: 10,
                                                            h: 10,
                                                        },
                                                        "red",
                                                        90
                                                    );
                                                    break;
                                                case "ArrowLeft":
                                                    d.triangle(
                                                        {
                                                            x: e.startX,
                                                            y: e.startY - 4.5,
                                                            w: 10,
                                                            h: 10,
                                                        },
                                                        "red",
                                                        180
                                                    );
                                                    break;
                                                case "ArrowUp":
                                                    d.triangle(
                                                        {
                                                            x: e.startX - 4.5,
                                                            y: e.startY,
                                                            w: 10,
                                                            h: 10,
                                                        },
                                                        "red",
                                                        -90
                                                    );
                                            }
                                        });
                            }),
                            x.getEvents().forEach(o),
                            x.getRowsTopAndBottom().forEach(function (e, t, n) {
                                var t = e.index;
                                x.getTimeline().forEach(function (n, a, r) {
                                    var a = r.offset + a;
                                    i(a, t, e.grid);
                                }),
                                    a(e);
                            }),
                            x.getTimeline().forEach(function (e) {
                                r(e, "top"), r(e, "bottom");
                            }),
                            x.getEventsFrozen().forEach(o),
                            DayPilot.list(p.timeHeader).forEach(function (
                                e,
                                t
                            ) {
                                x.getTimeHeader(t, l).forEach(function (e) {
                                    var n = h.grid.x + e.left - re,
                                        i = e.width,
                                        a = I.on(t),
                                        r = a.top,
                                        o = a.height,
                                        s = {};
                                    (s.header = {}),
                                        (s.header.start = e.start),
                                        (s.header.end = e.end),
                                        (s.header.level = t),
                                        (s.header.text = e.text),
                                        (s.header.html = e.innerHTML),
                                        (s.text = e.text),
                                        (s.backColor = e.backColor),
                                        (s.verticalAlignment = "center"),
                                        (s.horizontalAlignment = "center"),
                                        (s.fontColor = J),
                                        (s.fontSize = G.size),
                                        (s.fontFamily = G.family),
                                        (s.fontStyle = G.style),
                                        le && p.onBeforeTimeHeaderExport(s);
                                    var l = DayPilot.Util.atLeast(
                                        0,
                                        h.grid.x - n
                                    );
                                    (n += l), (i -= l);
                                    var l = DayPilot.Util.atLeast(
                                        0,
                                        n + i - (h.grid.x + h.grid.w)
                                    );
                                    i -= l;
                                    var c = { x: n, y: r, w: i + 1, h: o + 1 },
                                        u = {
                                            size: s.fontSize,
                                            family: s.fontFamily,
                                            style: s.fontStyle,
                                        };
                                    d.fillRect(c, s.backColor || V),
                                        d.rect(c, g),
                                        d.text(
                                            c,
                                            s.text,
                                            u,
                                            s.fontColor,
                                            s.horizontalAlignment,
                                            0,
                                            s.verticalAlignment
                                        );
                                });
                            }),
                            d.rect(h.main, g),
                            d.line(h.grid.x, 0, h.grid.x, h.main.h, b),
                            d.line(0, h.grid.y, h.main.w, h.grid.y, b),
                            d
                        );
                    }),
                    (x.areaIcon = function (e) {
                        var t = x.fakeIcon(e);
                        c().appendChild(t);
                        var n = window
                                .getComputedStyle(t, ":before")
                                .content.replace(/"/g, ""),
                            i = new DayPilot.StyleReader(t).getFont();
                        return c().removeChild(t), { text: n, font: i };
                    }),
                    (x.shiftableSegment = function (e) {
                        return {
                            startX: e.startX,
                            endX: e.endX,
                            startY: e.startY,
                            endY: e.endY,
                            type: e.type,
                            shift: function (t, n) {
                                return x.shiftableSegment({
                                    startX: e.startX + t,
                                    endX: e.endX + t,
                                    startY: e.startY + n,
                                    endY: e.endY + n,
                                    type: e.type,
                                });
                            },
                        };
                    }),
                    (this.pn = {});
                var k = this.pn;
                (k.findJointDivs = function (e) {
                    var t = e.data.join;
                    return t
                        ? DayPilot.list(p.elements.events).filter(function (n) {
                              return n.event.data.join === t && n.event !== e;
                          })
                        : DayPilot.list();
                }),
                    (this.qn = {});
                var C = this.qn;
                (C.divs = []),
                    (C.list = []),
                    (C.forbidden = !1),
                    (C.additional = function () {
                        var e = DayPilot.list(),
                            t = p.multiselect.isSelected(o.Km.event),
                            n = p.allowMultiResize,
                            e = DayPilot.list();
                        if (
                            (t &&
                                n &&
                                (e = DayPilot.list(p.multiselect.vc).filter(
                                    function (e) {
                                        return e !== o.Km;
                                    }
                                )),
                            p.jointEventsResize)
                        ) {
                            var i = k.findJointDivs(o._m);
                            e = e.concat(i);
                        }
                        return e;
                    }),
                    (C.update = function () {
                        C.clear(), C.draw();
                    }),
                    (C.clear = function () {
                        DayPilot.de(C.divs), (C.divs = []);
                    }),
                    (C.isInvalid = function () {
                        return C.divs.some(function (e) {
                            return e.info.invalid;
                        });
                    }),
                    (C.rn = function () {
                        return p.sn(C.list);
                    }),
                    (C.tn = function () {
                        if (o.Km) {
                            var e = o._m,
                                t = o.$m,
                                n = t.start.getTime() - e.start().getTime(),
                                i = t.end.getTime() - e.end().getTime(),
                                a = 0;
                            (C.list = []),
                                (C.forbidden = !1),
                                (C.invalid = !1),
                                (C.rowoffset = a),
                                C.additional().forEach(function (e) {
                                    if (e.event) {
                                        var t = e.event,
                                            r = p.rowlist[t.part.dayIndex + a];
                                        if (!r) return void (C.invalid = !0);
                                        var o = t.start().addTime(n),
                                            s = t.end().addTime(i),
                                            l = {};
                                        (l.$ = {}),
                                            o >= s &&
                                                ((l.invalid = !0),
                                                n > 0
                                                    ? (l.$.un =
                                                          s.addSeconds(-1))
                                                    : i < 0 &&
                                                      (l.$.vn =
                                                          o.addSeconds(1))),
                                            (l.event = t),
                                            (l.start = o),
                                            (l.end = s),
                                            (l.$.wn = r),
                                            C.list.push(l);
                                    }
                                });
                        }
                    }),
                    (C.xn = function () {
                        var e = 0;
                        if (
                            (C.list.forEach(function (e) {
                                var t = e.event,
                                    n = e.$.wn,
                                    i = t.part.top + n.top,
                                    a = t.part.height,
                                    r = p.getPixels(e.start),
                                    o = p.getPixels(e.end);
                                e.$.un && (r = p.getPixels(e.$.un)),
                                    e.$.vn && (o = p.getPixels(e.$.vn));
                                var s = DayPilot.DateUtil.diff(
                                    t.rawend(),
                                    t.start()
                                );
                                s = DayPilot.Util.atLeast(s, 1);
                                var l = U.Nl(s),
                                    d = l ? r.boxLeft : r.left,
                                    c = l ? o.boxRight - d : o.left - d,
                                    h = u();
                                (h.style.position = "absolute"),
                                    (h.style.left = d + "px"),
                                    (h.style.top = i + "px"),
                                    (h.style.height = a + "px"),
                                    (h.style.width = c + "px"),
                                    (h.style.zIndex = 101),
                                    (h.style.overflow = "hidden"),
                                    (h.className = p.H("_shadow")),
                                    (h.info = e);
                                var f = u();
                                (f.className = p.H("_shadow_inner")),
                                    h.appendChild(f),
                                    p.fj.appendChild(h),
                                    C.divs.push(h);
                            }),
                            C.invalid)
                        ) {
                            var t = p.H("_shadow_overlap");
                            return void DayPilot.list(C.divs).forEach(function (
                                e
                            ) {
                                DayPilot.Util.addClass(e, t);
                            });
                        }
                        DayPilot.list(C.divs).forEach(function (t) {
                            if (t.info) {
                                var n = t,
                                    i = t.info,
                                    a = t.info.event,
                                    r = p.rowlist[a.part.dayIndex + e],
                                    s = p.getPixels(i.start),
                                    l = p.getPixels(i.end),
                                    d = s.left,
                                    c = l.left - d;
                                t.info.invalid &&
                                    DayPilot.Util.addClass(
                                        t,
                                        p.H("_shadow_invalid")
                                    );
                                var u = DayPilot.list(C.list)
                                    .map(function (e) {
                                        return e.event.data;
                                    })
                                    .add(o.Km.event.data);
                                p.yn(n, r, d, c, u),
                                    p.zn(n, i.start, i.end, a.resource()),
                                    n.overlapping &&
                                        ((i.overlapping = !0),
                                        (C.forbidden = !0));
                            }
                        });
                    }),
                    (C.draw = function () {
                        C.tn(), C.xn();
                    }),
                    (this.An = {}),
                    (this.An.modifiedProps = function () {
                        var e = new DayPilot.Scheduler(),
                            t = DayPilot.Util.members(p, 2),
                            n = [];
                        return (
                            n.push("<div id='dp'></div>"),
                            n.push("<script>"),
                            n.push("var dp = new DayPilot.Scheduler('dp');"),
                            t.properties.forEach(function (t) {
                                var i,
                                    a,
                                    r = t.name,
                                    o = r.split(".");
                                if (o.length > 1) {
                                    var s = o[0],
                                        l = o[1];
                                    (i = JSON.stringify(e[s][l])),
                                        (a = JSON.stringify(p[s][l]));
                                } else (i = JSON.stringify(e[r])), (a = JSON.stringify(p[r]));
                                i !== a && n.push("dp." + r + " = " + a + ";");
                            }),
                            t.events.forEach(function (e) {
                                var t = e.name;
                                "function" == typeof p[t] &&
                                    n.push(
                                        "dp." +
                                            t +
                                            " = " +
                                            p[t].toString() +
                                            ";"
                                    );
                            }),
                            n.push("dp.init();"),
                            n.push("</script>"),
                            n.join("\n")
                        );
                    }),
                    (this.Bn = {});
                var H = this.Bn;
                (H.divs = []),
                    (H.list = []),
                    (H.forbidden = !1),
                    (H.Cn = 0),
                    (H.verticalAll = function () {
                        return "All" === p.multiMoveVerticalMode;
                    }),
                    (H.additional = function () {
                        var e = DayPilot.list(),
                            t = p.ck,
                            n = p.multiselect.isSelected(o.Fm),
                            i = p.allowMultiMove;
                        if (
                            (n &&
                                i &&
                                (e = DayPilot.list(p.multiselect.vc).filter(
                                    function (e) {
                                        return e !== o.ck && e !== t.ck;
                                    }
                                )),
                            p.jointEventsMove)
                        ) {
                            var a = k.findJointDivs(o.Fm);
                            e = e.concat(a);
                        }
                        return e;
                    }),
                    (H.update = function () {
                        H.clear(), H.draw();
                    }),
                    (H.rn = function () {
                        return p.sn(H.list);
                    }),
                    (H.tn = function () {
                        if (((H.list = []), (H.rowoffset = 0), o.ck)) {
                            var e = o.Fm,
                                t = o.Dn.start,
                                n = t.getTime() - e.start().getTime(),
                                i = e.part.dayIndex,
                                a = DayPilot.indexOf(p.rowlist, o.Dn.row),
                                r = a - i;
                            H.verticalAll() || (r = 0),
                                (H.forbidden = !1),
                                (H.invalid = !1),
                                (H.rowoffset = r),
                                H.additional().forEach(function (e) {
                                    if (e.event) {
                                        var t = e.event,
                                            i = p.rowlist[t.part.dayIndex + r];
                                        if (!i) return void (H.invalid = !0);
                                        var a = t.start().addTime(n),
                                            o = t.end().addTime(n),
                                            s = {};
                                        (s.event = t),
                                            (s.start = a),
                                            (s.end = o),
                                            (s.resource = i.id),
                                            H.list.push(s);
                                    }
                                });
                        }
                    }),
                    (H.xn = function () {
                        H.rowoffset;
                        if (
                            (H.list.forEach(function (e) {
                                var t = e.start,
                                    n = e.end,
                                    i = e.event,
                                    a = p.getPixels(t),
                                    r = p.getPixels(n),
                                    o = DayPilot.DateUtil.diff(
                                        i.rawend(),
                                        i.start()
                                    );
                                o = DayPilot.Util.atLeast(o, 1);
                                var s = U.Nl(o),
                                    l = p.ij(e.resource);
                                if (!l) return void (H.invalid = !0);
                                (e.$ = {}), (e.$.wn = l);
                                var d = s ? a.boxLeft : a.left,
                                    c = s ? r.boxRight - d : r.left - d,
                                    h = i.part.top + l.top,
                                    f = i.part.height;
                                e.resource !== e.event.data.resource &&
                                    ((h = l.top), (f = l.height));
                                var v = u();
                                (v.style.position = "absolute"),
                                    (v.style.left = d + "px"),
                                    (v.style.top = h + "px"),
                                    (v.style.height = f + "px"),
                                    (v.style.width = c + "px"),
                                    (v.style.overflow = "hidden"),
                                    (v.className = p.H("_shadow")),
                                    (v.info = e);
                                var m = u();
                                (m.className = p.H("_shadow_inner")),
                                    v.appendChild(m),
                                    p.fj.appendChild(v),
                                    H.divs.push(v);
                            }),
                            H.invalid)
                        ) {
                            var e = p.H("_shadow_overlap");
                            return void DayPilot.list(H.divs).forEach(function (
                                t
                            ) {
                                DayPilot.Util.addClass(t, e);
                            });
                        }
                        DayPilot.list(H.divs).forEach(function (e) {
                            if (e.info) {
                                var t = e,
                                    n = e.info,
                                    i = (e.info.event, e.info.$.wn),
                                    a = p.getPixels(n.start),
                                    r = p.getPixels(n.end),
                                    s = a.left,
                                    l = r.left - s,
                                    d = DayPilot.list(H.list)
                                        .map(function (e) {
                                            return e.event.data;
                                        })
                                        .add(o.Fm.data);
                                p.yn(t, i, s, l, d),
                                    p.zn(t, n.start, n.end, n.resource),
                                    (n.overlapping = !1),
                                    t.overlapping &&
                                        ((n.overlapping = !0),
                                        (H.forbidden = !0));
                            }
                        });
                    }),
                    (H.draw = function () {
                        H.tn(), H.xn();
                    }),
                    (H.clear = function () {
                        DayPilot.de(H.divs), (H.divs = []);
                    }),
                    (this.sn = function (e, t) {
                        return (
                            (t = ["$"].concat(t || [])),
                            e.map(function (e) {
                                var n = e,
                                    i = {};
                                for (var a in n) {
                                    var r = t && DayPilot.indexOf(t, a) !== -1;
                                    n.hasOwnProperty(a) &&
                                        "undefined" != typeof n[a] &&
                                        (r
                                            ? Object.defineProperty(i, a, {
                                                  value: n[a],
                                              })
                                            : (i[a] = n[a]));
                                }
                                return i;
                            })
                        );
                    }),
                    (this.En = function () {
                        var e = p.coords,
                            t = o.Km.dpBorder,
                            n = o.Km.event,
                            i = n.part.left;
                        "right" == t && (i += n.part.width);
                        var a,
                            r,
                            s = o.Km.event.calendar.cellWidth,
                            l = o.Km.event.part.width,
                            d = o.Km.event.part.left,
                            c = 0,
                            u = e.x - i,
                            h = p.snapToGrid && p.snapToGridEventResizing;
                        if ("right" === t) {
                            if (((a = d), h)) {
                                var f = p.$j(l + d + u).cell,
                                    v = p.$j(d).cell,
                                    m = v.left + v.width - d;
                                (r = f.left + f.width - d), r < m && (r = m);
                            } else r = l + u;
                            var g = p.uj();
                            d + r > g && (r = g - d),
                                (o.$m.left = d),
                                (o.$m.width = r);
                        } else {
                            if ("left" !== t)
                                throw new DayPilot.Exception(
                                    "Invalid dpBorder."
                                );
                            h
                                ? (u >= l && (u = l),
                                  (a = Math.floor((d + u + 0) / s) * s),
                                  a < c && (a = c))
                                : (a = d + u),
                                (r = l - (a - d));
                            var b = d + l,
                                y = s;
                            h
                                ? "Never" === p.useEventBoxes &&
                                  (y = l < s ? l : 1)
                                : (y = 1),
                                r < y && ((r = y), (a = b - r)),
                                (o.$m.left = a),
                                (o.$m.width = r);
                        }
                        !(function () {
                            o.$m.overlapping = !1;
                            var e = o.Km.event,
                                t = p.rowlist[e.part.dayIndex],
                                n = a,
                                i = r;
                            p.yn(o.$m, t, n, i, e.data);
                            var s = o.$m;
                            if (s.start) {
                                var l = { start: s.start, end: p.nh(s.end) };
                                p.zn(o.$m, l.start, l.end, t.id);
                            }
                        })(),
                            p.Fn();
                    }),
                    (this.Ym = function () {
                        this.nav.scroll;
                        if (p.coords && o.Fm) {
                            p.Aj();
                            var e = o.Dn,
                                t = this.Kl(o.Fm);
                            if (!p.Ll(t.rowIndex, t.grid)) {
                                var n = o.Fm,
                                    i =
                                        n.cache &&
                                        "undefined" !=
                                            typeof n.cache.moveVDisabled
                                            ? !n.cache.moveVDisabled
                                            : !n.data.moveVDisabled,
                                    a =
                                        n.cache &&
                                        "undefined" !=
                                            typeof n.cache.moveHDisabled
                                            ? !n.cache.moveHDisabled
                                            : !n.data.moveHDisabled,
                                    r = !H.additional().isEmpty();
                                r &&
                                    "Disabled" === p.multiMoveVerticalMode &&
                                    (i = !1),
                                    i &&
                                        t.grid !== e.grid &&
                                        (e.parentNode.removeChild(e),
                                        p.Ej[t.grid].divShadow.appendChild(e),
                                        (e.grid = t.grid));
                                var s = 0,
                                    l = 0;
                                if (
                                    ((function () {
                                        if (p.Bi) {
                                            var e = t.relativeY,
                                                n = p.$j(t.left).x,
                                                i = t.row,
                                                a = i.evColumns[n],
                                                r = a.events.find(function (t) {
                                                    return (
                                                        e <
                                                        t.part.top +
                                                            t.part.height +
                                                            p.eventMarginBottom
                                                    );
                                                });
                                            r || (r = a.events.last()),
                                                r &&
                                                    ((l = r.part.top),
                                                    (s = DayPilot.indexOf(
                                                        a.events,
                                                        r
                                                    )),
                                                    e - r.part.top >
                                                        r.part.height / 2 &&
                                                        ((l =
                                                            r.part.top +
                                                            r.part.height +
                                                            p.eventMarginBottom /
                                                                2),
                                                        (s += 1)));
                                        } else {
                                            for (
                                                var e = t.relativeY,
                                                    i = t.row,
                                                    o = 0,
                                                    d = p.ga.Ml(),
                                                    c = i.lines.length,
                                                    u = 0;
                                                u < i.lines.length;
                                                u++
                                            ) {
                                                if (
                                                    i.lines[u].isFree(
                                                        t.left,
                                                        p.cellWidth
                                                    )
                                                ) {
                                                    c = u;
                                                    break;
                                                }
                                            }
                                            var h = Math.floor(
                                                (e - o + d / 2) / d
                                            );
                                            (h = Math.min(c, h)),
                                                (h = DayPilot.Util.atLeast(
                                                    0,
                                                    h
                                                )),
                                                (s = h),
                                                (l =
                                                    p.rowMarginTop +
                                                    s *
                                                        (p.ga.Ml() +
                                                            p.eventMarginBottom) +
                                                    p.eventMarginBottom / 2);
                                        }
                                    })(),
                                    l > 0 && (l -= 3),
                                    i)
                                )
                                    if (this.Ll(t.rowIndex, t.grid)) {
                                        var d = e.row,
                                            c = 1;
                                        if (!d) return;
                                        c = t.rowIndex < d.index ? 1 : -1;
                                        for (
                                            var u = t.rowIndex;
                                            u !== d.index;
                                            u += c
                                        ) {
                                            var h = this.rowlist[u];
                                            if (
                                                !this.Ll(u, t.grid) &&
                                                !h.hidden
                                            ) {
                                                (e.row = h),
                                                    (e.style.top =
                                                        e.row.top +
                                                        e.row.marginTop +
                                                        "px"),
                                                    (e.style.height =
                                                        DayPilot.Util.atLeast(
                                                            e.row.height -
                                                                e.row
                                                                    .marginTop -
                                                                e.row
                                                                    .marginBottom,
                                                            0
                                                        ) + "px"),
                                                    p.eventMoveToPosition &&
                                                        ((s =
                                                            c > 0
                                                                ? 0
                                                                : h.lines
                                                                      .length -
                                                                  1),
                                                        (e.style.top =
                                                            t.top + l + "px"),
                                                        (e.style.height =
                                                            "3px"),
                                                        (e.line = s));
                                                break;
                                            }
                                        }
                                    } else
                                        (e.row = t.row),
                                            (e.style.top =
                                                e.row.top +
                                                e.row.marginTop +
                                                "px"),
                                            (e.style.height =
                                                DayPilot.Util.atLeast(
                                                    e.row.height -
                                                        e.row.marginTop -
                                                        e.row.marginBottom,
                                                    0
                                                ) + "px"),
                                            p.eventMoveToPosition &&
                                                ((e.style.top =
                                                    t.top + l + "px"),
                                                (e.style.height = "3px"),
                                                (e.line = s));
                                else {
                                    for (
                                        var f = p.Ej[n.part.grid].rowlist,
                                            d = f[n.part.dayIndex],
                                            v = d.lines.length,
                                            u = 0;
                                        u < d.lines.length;
                                        u++
                                    ) {
                                        if (
                                            d.lines[u].isFree(
                                                t.left,
                                                p.cellWidth
                                            )
                                        ) {
                                            v = u;
                                            break;
                                        }
                                    }
                                    if (
                                        (r ||
                                            ((e.style.height =
                                                DayPilot.Util.atLeast(
                                                    d.height,
                                                    0
                                                ) + "px"),
                                            (e.style.top = d.top + "px")),
                                        (e.row = d),
                                        p.eventMoveToPosition && !r)
                                    )
                                        if (t.row === d)
                                            (e.style.top = d.top + l + "px"),
                                                (e.style.height = "3px"),
                                                (e.line = s);
                                        else {
                                            var m =
                                                t.rowIndex > d.index && v > 0
                                                    ? v * p.ga.Ml() - 3
                                                    : 0;
                                            (e.style.top = d.top + m + "px"),
                                                (e.style.height = "3px"),
                                                (e.line = 0);
                                        }
                                }
                                a
                                    ? ((e.style.left = t.left + "px"),
                                      p.eventMoveToPosition
                                          ? (e.style.width = p.cellWidth + "px")
                                          : (e.style.width = t.width + "px"),
                                      (e.start = t.start),
                                      (e.end = t.end))
                                    : ((e.style.left = n.part.left + "px"),
                                      (e.start = n.start()),
                                      (e.end = n.rawend()),
                                      (t.left = n.part.left)),
                                    (function () {
                                        e.overlapping = !1;
                                        var i = e.row,
                                            a = n.data,
                                            r = t.width,
                                            s = t.left,
                                            l = DayPilot.list(H.list)
                                                .map(function (e) {
                                                    return e.event.data;
                                                })
                                                .add(a);
                                        p.yn(e, i, s, r, l),
                                            p.zn(
                                                o.Dn,
                                                e.start,
                                                e.end,
                                                e.row.id
                                            );
                                    })(),
                                    p.Gn();
                            }
                        }
                    }),
                    (this.Gn = function () {
                        var e = o.Dn,
                            t = p.Bn,
                            n = p.Fa,
                            i = o.Fm;
                        if (n) {
                            var a = n.start.getTime() === e.start.getTime(),
                                r = n.end.getTime() === e.end.getTime(),
                                s = n.resource === e.row.id,
                                l =
                                    n.shift +
                                        "_" +
                                        n.ctrl +
                                        "_" +
                                        n.meta +
                                        "_" +
                                        n.alt ==
                                    p.coords.shift +
                                        "_" +
                                        p.coords.ctrl +
                                        "_" +
                                        p.coords.meta +
                                        "_" +
                                        p.coords.alt;
                            if (a && r && s && l) return;
                        }
                        n &&
                            (DayPilot.Util.removeClass(e, n.cssClass),
                            (e.firstChild.innerHTML = "")),
                            t.clear(),
                            t.tn();
                        var d = !!o.Hn && i.part.external,
                            c = {};
                        (c.start = e.start),
                            (c.end = p.nh(e.end)),
                            (c.duration = new DayPilot.Duration(
                                c.start,
                                c.end
                            )),
                            (c.e = i),
                            (c.external = d),
                            (c.control = p),
                            (c.resource = e.row.id),
                            (c.html = null),
                            (c.row = p._k(e.row)),
                            (c.position = e.line),
                            (c.overlapping = e.overlapping || t.forbidden),
                            (c.allowed = !0),
                            (c.left = {}),
                            (c.left.html = c.start.toString(
                                p.eventMovingStartEndFormat,
                                U.Xj()
                            )),
                            (c.left.enabled = p.eventMovingStartEndEnabled),
                            (c.left.space = 5),
                            (c.left.width = null),
                            (c.left.height = p.eventHeight),
                            (c.right = {}),
                            (c.right.html = c.end.toString(
                                p.eventMovingStartEndFormat,
                                U.Xj()
                            )),
                            (c.right.enabled = p.eventMovingStartEndEnabled),
                            (c.right.space = 5),
                            (c.right.width = null),
                            (c.right.height = p.eventHeight),
                            (c.multimove = t.rn()),
                            (c.shift = p.coords.shift),
                            (c.ctrl = p.coords.ctrl),
                            (c.meta = p.coords.meta),
                            (c.alt = p.coords.alt),
                            (c.areaData = DayPilot.Global.movingAreaData),
                            (c.link = null),
                            (c.cssClass = null),
                            (c.html = null);
                        var u = {};
                        (u.event = i),
                            (u.start = c.start),
                            (u.end = c.end),
                            (u.overlapping = c.overlapping),
                            (u.resource = c.resource),
                            c.multimove.splice(0, 0, u),
                            (p.Fa = c);
                        var h = {
                            start: c.start,
                            end: c.end,
                            resource: c.resource,
                        };
                        if (
                            ("function" == typeof p.onEventMoving &&
                                p.onEventMoving(c),
                            (t.list = DayPilot.list(c.multimove, !0)),
                            t.list.splice(0, 1),
                            t.xn(),
                            (e.allowed = c.allowed),
                            DayPilot.Util.addClass(e, c.cssClass),
                            c.html && (e.firstChild.innerHTML = c.html),
                            c.start !== h.start || c.end !== h.end)
                        ) {
                            var f = c.start,
                                v = p.Qg(c.end);
                            (e.start = f), (e.end = v);
                            var m = DayPilot.DateUtil.diff(f, v);
                            m = DayPilot.Util.atLeast(m, 1);
                            var g = U.Nl(m),
                                b = g
                                    ? p.getPixels(f).boxLeft
                                    : p.getPixels(f).left,
                                w = g
                                    ? p.getPixels(v).boxRight
                                    : p.getPixels(v).left;
                            (e.style.left = b + "px"),
                                (e.style.width = w - b + "px");
                        }
                        if (c.resource !== h.resource) {
                            var x = p.ij(c.resource);
                            if (
                                x &&
                                ((e.row = x),
                                (e.style.height =
                                    DayPilot.Util.atLeast(x.height, 0) + "px"),
                                (e.style.top = x.top + "px"),
                                p.eventMoveToPosition)
                            ) {
                                var k = p.rowMarginTop;
                                (e.style.top = x.top + k + "px"),
                                    (e.style.height = "3px"),
                                    (e.line = 0);
                            }
                        }
                        c.html
                            ? (e.firstChild.innerHTML = c.html)
                            : (e.firstChild.innerHTML = ""),
                            p.In(e, c),
                            p.Jn(e, c),
                            DayPilot.Global.movingLink &&
                                DayPilot.Global.movingLink.clear(),
                            c.link &&
                                (DayPilot.Global.movingLink = y.dm(
                                    c.link.from,
                                    e,
                                    c.link
                                ));
                    }),
                    (this.yn = function (e, t, n, i, a) {
                        if (!p.allowEventOverlap) {
                            !(function () {
                                e.overlapping = !1;
                                for (var r = 0; r < t.lines.length; r++) {
                                    if (!t.lines[r].isFree(n, i, a))
                                        return void (e.overlapping = !0);
                                }
                                var o = t.index,
                                    s = DayPilot.list(N.list).some(function (
                                        t
                                    ) {
                                        var a = t.div,
                                            r = parseInt(a.style.left),
                                            s = parseInt(a.style.width),
                                            l = t.start.y;
                                        return (
                                            e !== a &&
                                            l === o &&
                                            DayPilot.Util.overlaps(
                                                n,
                                                n + i,
                                                r,
                                                r + s
                                            )
                                        );
                                    });
                                if (s) return void (e.overlapping = !0);
                                if (
                                    DayPilot.list(H.divs).some(function (t) {
                                        var a = t.info,
                                            r = parseInt(t.style.left),
                                            s = parseInt(t.style.width),
                                            l = a.$.wn.index;
                                        return (
                                            e !== t &&
                                            l === o &&
                                            DayPilot.Util.overlaps(
                                                n,
                                                n + i,
                                                r,
                                                r + s
                                            )
                                        );
                                    })
                                )
                                    return void (e.overlapping = !0);
                                var s = DayPilot.list(C.divs).some(function (
                                    t
                                ) {
                                    var a = t.info,
                                        r = parseInt(t.style.left),
                                        s = parseInt(t.style.width),
                                        l = a.$.wn.index;
                                    return (
                                        e !== t &&
                                        l === o &&
                                        DayPilot.Util.overlaps(
                                            n,
                                            n + i,
                                            r,
                                            r + s
                                        )
                                    );
                                });
                                return s ? void (e.overlapping = !0) : void 0;
                            })();
                            var r = e.overlapping,
                                o = p.H("_shadow_overlap");
                            r
                                ? DayPilot.Util.addClass(e, o)
                                : DayPilot.Util.removeClass(e, o);
                        }
                    }),
                    (this.zn = function (e, t, n, i) {
                        p.dc(t, n, i) && (e.overlapping = !0);
                        var a = p.H("_shadow_overlap");
                        e.overlapping
                            ? DayPilot.Util.addClass(e, a)
                            : DayPilot.Util.removeClass(e, a);
                    }),
                    (this.dc = function (e, t, n) {
                        if (
                            !(
                                (p.cellConfig && p.cellConfig.hasDisabled) ||
                                p.Sj.Kn
                            )
                        )
                            return !1;
                        var i = null;
                        "Days" === p.viewType && (i = p.Cm(e));
                        var a = p.rows.find(n, i).cells.forRange(e, t);
                        return (
                            !!a &&
                            a.some(function (e) {
                                return e.properties.disabled;
                            })
                        );
                    }),
                    (this.In = function (e, t) {
                        var n = p.H("_shadow_forbidden");
                        !t.allowed || H.invalid
                            ? DayPilot.Util.addClass(e, n)
                            : DayPilot.Util.removeClass(e, n);
                    }),
                    (this.Jn = function (e, t) {
                        if ((this.Ln(), e.calendar === p)) {
                            var n = p.Il(e.grid),
                                i = {};
                            (i.left = parseInt(e.style.left)),
                                (i.top = parseInt(e.style.top)),
                                (i.right = i.left + parseInt(e.style.width));
                            var a = t.left.width || 10,
                                r = u();
                            if (
                                ((r.style.position = "absolute"),
                                (r.style.left =
                                    i.left - a - t.left.space + "px"),
                                (r.style.top = i.top + "px"),
                                (r.style.height = t.left.height + "px"),
                                (r.style.overflow = "hidden"),
                                (r.style.boxSizing = "border-box"),
                                (r.innerHTML = t.left.html),
                                (r.className = p.H("_event_move_left")),
                                (r.onmousemove = p.Mn),
                                DayPilot.browser.ie &&
                                    (r.style.display = "block"),
                                t.left.enabled)
                            )
                                if ((n.divHover.appendChild(r), t.left.width))
                                    r.style.width = a + "px";
                                else {
                                    r.style.whiteSpace = "nowrap";
                                    var o = r.offsetWidth,
                                        s = i.left - o - t.left.space;
                                    (r.style.width = o + "px"),
                                        (r.style.left = s + "px");
                                    var l = p.nav.scroll.scrollLeft;
                                    s < l && n.divHover.removeChild(r);
                                    var d = p.xj() + (s - l);
                                    d > 0 &&
                                        ((r.style.left = d + "px"),
                                        (r.style.top =
                                            i.top -
                                            n.div.scrollTop +
                                            n.top +
                                            "px"),
                                        p.nav.top.appendChild(r),
                                        p.elements.hover.push(r));
                                }
                            var a = t.right.width || 10,
                                c = u();
                            if (
                                ((c.style.position = "absolute"),
                                (c.style.left = i.right + t.right.space + "px"),
                                (c.style.top = i.top + "px"),
                                (c.style.height = t.right.height + "px"),
                                (c.style.overflow = "hidden"),
                                (c.style.boxSizing = "border-box"),
                                t.right.width
                                    ? (c.style.width = t.right.width + "px")
                                    : (c.style.whiteSpace = "nowrap"),
                                (c.innerHTML = t.right.html),
                                (c.className = this.H("_event_move_right")),
                                (c.onmousemove = p.Mn),
                                DayPilot.browser.ie &&
                                    (c.style.display = "block"),
                                t.right.enabled)
                            ) {
                                n.divHover.appendChild(c);
                                var h = p.nav.scroll.scrollWidth;
                                i.right + t.right.space + c.offsetWidth >= h &&
                                    n.divHover.removeChild(c);
                            }
                        }
                    }),
                    (this.Ln = function () {
                        (p.divHover.innerHTML = ""),
                            (p.Ej.top.divHover.innerHTML = ""),
                            (p.Ej.bottom.divHover.innerHTML = ""),
                            DayPilot.de(p.elements.hover),
                            (p.elements.hover = []);
                    }),
                    (this.Nn = function () {
                        var e = p.rowHeaderColumnDefaultWidth;
                        if (this.rowHeaderColumns) {
                            var t = U.kn();
                            this.rowHeaderCols = DayPilot.Util.propArray(
                                t,
                                "width",
                                e
                            );
                        } else this.rowHeaderCols = null;
                    }),
                    (this.On = function () {
                        var e = 0;
                        if ((this.Nn(), this.rowHeaderCols))
                            for (var t = 0; t < this.rowHeaderCols.length; t++)
                                e += this.rowHeaderCols[t];
                        else e = this.rowHeaderWidth;
                        return e;
                    }),
                    (this.Pn = function () {
                        return this.Qn(p.progressiveRowRenderingPreload);
                    }),
                    (this.Qn = function (e) {
                        var e = e || 0,
                            t = 0,
                            n = p.rowlist.length;
                        if (p.progressiveRowRendering) {
                            var i = p.Y();
                            (t = i.yStart),
                                (n = i.yEnd + 1),
                                (t = DayPilot.Util.atLeast(0, t - e)),
                                (n = Math.min(p.rowlist.length, n + e));
                        }
                        return { start: t, end: n };
                    }),
                    (this.Rn = function () {
                        if (this.me()) {
                            var e = !1,
                                t = 0;
                            if (this.rowHeaderWidthAutoFit) {
                                var n = this.divHeader;
                                if (!n) return;
                                if (!n.rows) return;
                                var i = [];
                                p.rowHeaderWidthAutoFitShrink &&
                                    ((p.rowHeaderWidth = 0),
                                    p.rowHeaderCols &&
                                        p.rowHeaderCols.forEach(function (
                                            e,
                                            t
                                        ) {
                                            p.rowHeaderCols[t] = 0;
                                        }));
                                for (
                                    var a = p.Pn(), r = a.start;
                                    r < a.end;
                                    r++
                                ) {
                                    var o = n.rows[r];
                                    if (o && !o.hidden) {
                                        for (var s = 0; s < o.cells.length; s++)
                                            if (
                                                "number" != typeof o.cells[s].Sn
                                            ) {
                                                var l =
                                                    o.cells[s].firstChild
                                                        .firstChild;
                                                if (l && l.style) {
                                                    var d = l.style.width,
                                                        c = l.style.right,
                                                        u = l.style.display;
                                                    (l.style.position =
                                                        "absolute"),
                                                        (l.style.width =
                                                            "auto"),
                                                        (l.style.right =
                                                            "auto"),
                                                        (l.style.whiteSpace =
                                                            "nowrap"),
                                                        (l.style.display =
                                                            "block");
                                                    var h = l.offsetWidth + 2;
                                                    (o.cells[s].Sn = h),
                                                        (l.style.position = ""),
                                                        (l.style.width = d),
                                                        (l.style.right = c),
                                                        (l.style.display = u),
                                                        (l.style.whiteSpace =
                                                            "");
                                                }
                                            }
                                        for (
                                            var s = 0;
                                            s < o.cells.length;
                                            s++
                                        ) {
                                            var h = o.cells[s].Sn;
                                            "undefined" == typeof i[s] &&
                                                (i[s] = 0),
                                                (i[s] = Math.max(i[s], h));
                                        }
                                    }
                                }
                                if ((this.Nn(), this.rowHeaderCols))
                                    for (var r = 0; r < i.length; r++)
                                        this.rowHeaderCols[r] &&
                                            (i[r] > this.rowHeaderCols[r] &&
                                                ((this.rowHeaderCols[r] = i[r]),
                                                (e = !0)),
                                            (t += this.rowHeaderCols[r]));
                                else {
                                    t = this.rowHeaderWidth;
                                    var f = U.yj();
                                    this.rowHeaderWidth <
                                        i[0] +
                                            p.rowHeaderWidthMarginRight +
                                            f &&
                                        ((t =
                                            i[0] +
                                            p.rowHeaderWidthMarginRight +
                                            f),
                                        (e = !0));
                                }
                            }
                            e &&
                                (this.Fl &&
                                    ((this.Fl.widths = this.rowHeaderCols),
                                    this.Fl.updateWidths(),
                                    DayPilot.Util.updatePropsFromArray(
                                        U.kn(),
                                        "width",
                                        this.rowHeaderCols
                                    )),
                                this.rowHeaderCols || (this.rowHeaderWidth = t),
                                this.vk(),
                                this.Tn());
                        }
                    }),
                    (this.Mi = function () {
                        function e(e) {
                            var t = p.Il(e),
                                n = t.divHeader;
                            n && (n.rows = []);
                            var i = n;
                            if ((n.Xn && (i = n.Xn), i)) {
                                if (DayPilot.browser.ie)
                                    for (
                                        var a = 0;
                                        a < i.childNodes.length;
                                        a++
                                    )
                                        DayPilot.de(i.childNodes[a]);
                                p.yl(e), (i.innerHTML = ""), DayPilot.puc(i);
                            }
                        }
                        (this.Un = !0), this.Nn();
                        var t = this.On();
                        e("main"), e("top"), e("bottom");
                        var n = this.divHeader;
                        if (
                            ((n.style.width = t + "px"),
                            (n.style.height = p.Fi + "px"),
                            (p.Ej.main.divHeader = n),
                            p.progressiveRowRendering)
                        )
                            s();
                        else
                            for (var i = this.rowlist.length, a = 0; a < i; a++)
                                p.Vn(a);
                        if (p.Ej.top.enabled())
                            for (var a = 0; a < p.Ej.top.rowlist.length; a++)
                                p.Vn(a, "top");
                        if (p.Ej.bottom.enabled())
                            for (var a = 0; a < p.Ej.bottom.rowlist.length; a++)
                                p.Vn(a, "bottom");
                        p.Wn(),
                            this.divResScroll.appendChild(n),
                            this.rowHeaderWidthAutoFit && this.Rn();
                    }),
                    (this.wk = function () {
                        if (p.progressiveRowRendering) {
                            for (
                                var e = this.Pn(), t = 0;
                                t < p.rowlist.length;
                                t++
                            )
                                e.start <= t && t < e.end ? p.Vn(t) : p.Jl(t);
                            if (this.rowHeaderWidthAutoFit) {
                                var n = p.xj();
                                this.Rn();
                                if (p.xj() !== n) {
                                    var i = this.cellWidth;
                                    this.Ji();
                                    this.cellWidth !== i &&
                                        (p.Ki(),
                                        p.Ni(),
                                        p.Oi(),
                                        p.Xa(),
                                        p.Pa(),
                                        p.Yn());
                                }
                            }
                        }
                    }),
                    (this.Wn = function () {
                        if (!p.ga.Zn()) {
                            var e = p.divHeader,
                                t = u();
                            (t.style.position = "absolute"),
                                e.appendChild(t),
                                (p.nav.resScrollSpace = t),
                                t.setAttribute("unselectable", "on");
                            var n = u();
                            (n.style.position = "relative"),
                                (n.style.height = "100%"),
                                (n.className = this.H("_rowheader")),
                                t.appendChild(n);
                            var i = this.On(),
                                t = p.nav.resScrollSpace;
                            (t.style.width = i + "px"),
                                (t.style.top = this.Fi + "px");
                        }
                    }),
                    (this.Jl = function (e, t) {
                        var n = p.Il(t),
                            i = n.divHeader.rows[e];
                        if (i) {
                            var a = i.cells[0],
                                r = a.domArgs;
                            if (
                                ((a.domArgs = null),
                                r &&
                                    "function" ==
                                        typeof p.onBeforeRowHeaderDomRemove &&
                                    p.onBeforeRowHeaderDomRemove(r),
                                r &&
                                    "function" ==
                                        typeof p.onBeforeRowHeaderDomAdd &&
                                    p.ya.reactDOM)
                            ) {
                                var o = r && r.Tc;
                                if (o) {
                                    if (
                                        DayPilot.Util.isReactComponent(
                                            r.element
                                        )
                                    ) {
                                        if (!p.ya.reactDOM)
                                            throw new DayPilot.Exception(
                                                "Can't reach ReactDOM"
                                            );
                                        p.ya.reactDOM.unmountComponentAtNode(o);
                                    }
                                }
                            }
                            DayPilot.de(i.cells), (n.divHeader.rows[e] = null);
                        }
                    }),
                    (this.Kk = function (e, t) {
                        this.Jl(e, t), this.Vn(e, t);
                    }),
                    (this.Ik = function () {
                        return (
                            "Standard" === p.rowHeaderColumnsMode ||
                            "Tabular" === p.rowHeaderColumnsMode
                        );
                    }),
                    (this.$n = function (e, t) {
                        var n = void 0;
                        return (
                            e.tags && (n = e.tags[t]),
                            "undefined" != typeof n ? n : e[t]
                        );
                    }),
                    (this.Vn = function (e, t) {
                        function n() {
                            var t = u();
                            if (p.treeEnabled && !c.isNewRow) {
                                var n =
                                    c.level * p.treeIndent +
                                    p.treeImageMarginLeft;
                                A && (n += R);
                                var i = p.treeImageWidth,
                                    a = p.treeImageHeight;
                                (t.style.marginLeft = n + "px"),
                                    (t.style.position = "relative"),
                                    (t.className = p.H(
                                        "_rowheader_inner_indent"
                                    ));
                                var r = u();
                                (r.style.width = i + "px"),
                                    (r.style.height = a + "px"),
                                    (r.style.backgroundRepeat = "no-repeat"),
                                    (r.style.position = "absolute"),
                                    (r.style.top = p.treeImageMarginTop + "px"),
                                    c.loaded || 0 !== c.children.length
                                        ? c.children.length > 0
                                            ? (c.expanded
                                                  ? (r.className = p.H(
                                                        "_tree_image_collapse"
                                                    ))
                                                  : (r.className =
                                                        p.H(
                                                            "_tree_image_expand"
                                                        )),
                                              (r.style.cursor = "pointer"),
                                              (r.index = e),
                                              (r.onclick = function (e) {
                                                  p.Xm(this.index),
                                                      (e.cancelBubble = !0);
                                              }))
                                            : (r.className = p.H(
                                                  "_tree_image_no_children"
                                              ))
                                        : ((r.className =
                                              p.H("_tree_image_expand")),
                                          (r.style.cursor = "pointer"),
                                          (r.index = e),
                                          (r.onclick = function (e) {
                                              p.ho(this.index),
                                                  (e.cancelBubble = !0);
                                          })),
                                    t.appendChild(r);
                            }
                            var o = u();
                            if (p.treeEnabled) {
                                var s = p.treeImageMarginRight;
                                o.style.marginLeft = i + s + "px";
                            }
                            (o.innerHTML = p.ea(b.text, b.html)),
                                (o.className = p.H("_rowheader_inner_text")),
                                (m.textDiv = o),
                                (m.cellDiv = D),
                                t.appendChild(o),
                                M.appendChild(t);
                            var l = b.verticalAlignment || g.verticalAlignment;
                            if (l)
                                switch (((M.style.display = "flex"), l)) {
                                    case "center":
                                        M.style.alignItems = "center";
                                        break;
                                    case "top":
                                        M.style.alignItems = "flex-start";
                                        break;
                                    case "bottom":
                                        M.style.alignItems = "flex-end";
                                }
                        }
                        var i = p.Il(t),
                            a = i.rowlist,
                            r = i.divHeader,
                            o = r;
                        if ((r.Xn && (o = r.Xn), r && !r.rows[e])) {
                            var s = this.rowHeaderCols,
                                l = s ? this.rowHeaderCols.length : 0,
                                d = this.On(),
                                c = a[e];
                            if (c && !c.hidden) {
                                var f = E.Q[e],
                                    v = this.ln(c);
                                (r.rows[e] = {}), (r.rows[e].cells = []);
                                var m = u();
                                (m.style.position = "absolute"),
                                    (m.style.top = c.top + "px"),
                                    (m.row = c),
                                    (m.index = e);
                                var g = v.row,
                                    b = g,
                                    y = p.Ik(),
                                    w =
                                        p.internalUseStandardColumns &&
                                        !c.isNewRow,
                                    x =
                                        w ||
                                        (y &&
                                            DayPilot.isArray(
                                                p.rowHeaderColumns
                                            )),
                                    k = DayPilot.list(v.row.columns);
                                x &&
                                    ((k = k.filter(function (e, t) {
                                        return !p.rowHeaderColumns[t].hidden;
                                    })),
                                    (l = k.length)),
                                    x && (b = k[0] || {});
                                var C = s ? s[0] : this.rowHeaderWidth;
                                (m.style.width = C + "px"),
                                    (m.style.border = "0px none");
                                var H = b.toolTip || g.toolTip;
                                H && (m.title = H),
                                    m.setAttribute("unselectable", "on"),
                                    "undefined" != typeof g.ariaLabel
                                        ? m.setAttribute(
                                              "aria-label",
                                              g.ariaLabel
                                          )
                                        : m.setAttribute(
                                              "aria-label",
                                              b.text || ""
                                          ),
                                    (m.onmouseenter = p._n),
                                    (m.onmouseleave = p.ao),
                                    (m.onmousemove = p.bo),
                                    (m.onmouseout = p.co),
                                    (m.onmouseup = p.do),
                                    (m.oncontextmenu = p.eo),
                                    (m.onclick = p.fo),
                                    (m.ondblclick = p.go);
                                var D = u();
                                (D.style.width = C + "px"),
                                    D.setAttribute("unselectable", "on"),
                                    (D.className = this.H("_rowheader")),
                                    f &&
                                        DayPilot.Util.addClass(
                                            D,
                                            p.H("_rowheader_selected")
                                        ),
                                    g.cssClass &&
                                        DayPilot.Util.addClass(D, g.cssClass),
                                    b.cssClass &&
                                        DayPilot.Util.addClass(D, b.cssClass);
                                var S = b.backColor || g.backColor;
                                S && (D.style.background = S);
                                var T = b.fontColor || g.fontColor;
                                T && (D.style.color = T);
                                var _ =
                                    b.horizontalAlignment ||
                                    g.horizontalAlignment;
                                p.treeEnabled && (_ = null),
                                    _ && (D.style.textAlign = _),
                                    (D.style.height = c.height + "px"),
                                    (D.style.overflow = "hidden"),
                                    (D.style.position = "relative");
                                var M = u();
                                switch (
                                    (M.setAttribute("unselectable", "on"),
                                    (M.className = this.H("_rowheader_inner")),
                                    _)
                                ) {
                                    case "right":
                                        M.style.justifyContent = "flex-end";
                                        break;
                                    case "left":
                                        M.style.justifyContent = "flex-start";
                                        break;
                                    case "center":
                                        M.style.justifyContent = "center";
                                }
                                D.appendChild(M);
                                var A =
                                        "Disabled" !== this.rowMoveHandling &&
                                        "main" === c.grid,
                                    R = p.rowDragHandleWidth,
                                    P = b.areas || [];
                                A &&
                                    !g.moveDisabled &&
                                    P.push({
                                        v: "Hover",
                                        w: R,
                                        bottom: 0,
                                        top: 0,
                                        left: 0,
                                        css: p.H("_rowmove_handle"),
                                        action: "Move",
                                    });
                                var N = p._k(c);
                                DayPilot.Areas.attach(D, N, {
                                    areas: P,
                                    allowed: function () {
                                        return !h.row;
                                    },
                                });
                                var L = u();
                                if (
                                    ((L.style.position = "absolute"),
                                    (L.style.bottom = "0px"),
                                    (L.style.width = "100%"),
                                    (L.style.height = "0px"),
                                    (L.style.boxSizing = "content-box"),
                                    (L.style.borderBottom =
                                        "1px solid transparent"),
                                    (L.className = this.H(B.resourcedivider)),
                                    D.appendChild(L),
                                    n(),
                                    m.appendChild(D),
                                    (function () {
                                        if (
                                            "function" ==
                                                typeof p.onBeforeRowHeaderDomAdd ||
                                            "function" ==
                                                typeof p.onBeforeRowHeaderDomRemove
                                        ) {
                                            var e = m,
                                                t = {};
                                            if (
                                                ((t.control = p),
                                                (t.row = p._k(c)),
                                                (t.element = null),
                                                (t.target = "Cell"),
                                                (e.domArgs = t),
                                                "function" ==
                                                    typeof p.onBeforeRowHeaderDomAdd &&
                                                    p.onBeforeRowHeaderDomAdd(
                                                        t
                                                    ),
                                                t.element)
                                            ) {
                                                var n = null;
                                                switch (
                                                    t.target &&
                                                    t.target.toLowerCase()
                                                ) {
                                                    case "text":
                                                        n = F;
                                                        break;
                                                    case "cell":
                                                        n = M;
                                                }
                                                if (n) {
                                                    (t.Tc = n),
                                                        (n.innerHTML = "");
                                                    if (
                                                        DayPilot.Util.isReactComponent(
                                                            t.element
                                                        )
                                                    ) {
                                                        if (!p.ya.reactDOM)
                                                            throw new DayPilot.Exception(
                                                                "Can't reach ReactDOM"
                                                            );
                                                        p.ya.reactDOM.render(
                                                            t.element,
                                                            n
                                                        );
                                                    } else
                                                        n.appendChild(
                                                            t.element
                                                        );
                                                }
                                            }
                                        }
                                    })(),
                                    o.appendChild(m),
                                    r.rows[e].cells.push(m),
                                    c.columns && 0 !== c.columns.length)
                                )
                                    for (
                                        var U = C, I = w || y ? 0 : 1, j = 1;
                                        j < l;
                                        j++
                                    ) {
                                        var b = k[j - I] || {},
                                            m = u();
                                        (m.style.position = "absolute"),
                                            (m.style.top = c.top + "px"),
                                            (m.style.left = U + "px"),
                                            o.appendChild(m),
                                            r.rows[e].cells.push(m),
                                            (m.row = c),
                                            (m.index = e);
                                        var O = b.toolTip || g.toolTip;
                                        O && (m.title = O),
                                            m.setAttribute(
                                                "unselectable",
                                                "on"
                                            ),
                                            (m.onmousemove = p.bo),
                                            (m.onmouseout = p.co),
                                            (m.onmouseup = p.do),
                                            (m.oncontextmenu = p.eo),
                                            (m.onclick = p.fo),
                                            (m.ondblclick = p.go);
                                        var D = u(),
                                            z = s[j];
                                        U += z;
                                        var S = b.backColor || g.backColor;
                                        S && (D.style.backgroundColor = S);
                                        var T = b.fontColor || g.fontColor;
                                        T && (D.style.color = T),
                                            (D.style.width = z + "px"),
                                            (D.style.height = c.height + "px"),
                                            (D.style.overflow = "hidden"),
                                            (D.style.position = "relative"),
                                            D.setAttribute(
                                                "unselectable",
                                                "on"
                                            ),
                                            DayPilot.Util.addClass(
                                                D,
                                                this.H("_rowheader")
                                            ),
                                            DayPilot.Util.addClass(
                                                D,
                                                this.H("_rowheadercol")
                                            ),
                                            DayPilot.Util.addClass(
                                                D,
                                                this.H("_rowheadercol" + j)
                                            ),
                                            f &&
                                                DayPilot.Util.addClass(
                                                    D,
                                                    p.H("_rowheader_selected")
                                                ),
                                            g.cssClass &&
                                                DayPilot.Util.addClass(
                                                    D,
                                                    g.cssClass
                                                ),
                                            b.cssClass &&
                                                DayPilot.Util.addClass(
                                                    D,
                                                    b.cssClass
                                                );
                                        var W =
                                            b.horizontalAlignment ||
                                            g.horizontalAlignment;
                                        W && (D.style.textAlign = W);
                                        var M = u();
                                        switch (
                                            (M.setAttribute(
                                                "unselectable",
                                                "on"
                                            ),
                                            (M.className =
                                                this.H("_rowheader_inner")),
                                            W)
                                        ) {
                                            case "right":
                                                M.style.justifyContent =
                                                    "flex-end";
                                                break;
                                            case "left":
                                                M.style.justifyContent =
                                                    "flex-start";
                                                break;
                                            case "center":
                                                M.style.justifyContent =
                                                    "center";
                                        }
                                        D.appendChild(M);
                                        var L = u();
                                        (L.style.position = "absolute"),
                                            (L.style.bottom = "0px"),
                                            (L.style.width = "100%"),
                                            (L.style.height = "0px"),
                                            (L.style.boxSizing = "content-box"),
                                            (L.style.borderBottom =
                                                "1px solid transparent"),
                                            (L.className =
                                                this.H("_resourcedivider")),
                                            D.appendChild(L);
                                        var F = u(),
                                            q = p.ea(b.text, b.html);
                                        (F.innerHTML = q),
                                            (m.textDiv = F),
                                            (m.cellDiv = D),
                                            M.appendChild(F),
                                            DayPilot.Areas.attach(D, N, {
                                                areas: b.areas,
                                                allowed: function () {
                                                    return !h.row;
                                                },
                                            }),
                                            m.appendChild(D);
                                    }
                                else
                                    (m.colSpan = "max"),
                                        (D.style.width = d + "px");
                            }
                        }
                    }),
                    (this.eo = function (e) {
                        if ("Disabled" === p.rowRightClickHandling) return !1;
                        var t = this.row,
                            n = p._k(t),
                            i = {};
                        if (
                            ((i.ctrl = e.ctrlKey),
                            (i.shift = e.shiftKey),
                            (i.meta = e.metaKey),
                            (i.originalEvent = e),
                            (i.row = n),
                            (i.preventDefault = function () {
                                this.preventDefault.value = !0;
                            }),
                            "function" != typeof p.onRowRightClick ||
                                (p.onRowRightClick(i), !i.preventDefault.value))
                        ) {
                            switch (p.rowRightClickHandling) {
                                case "ContextMenu":
                                    t.contextMenu && t.contextMenu.show(n);
                            }
                            return (
                                "function" == typeof p.onRowRightClicked &&
                                    p.onRowRightClicked(i),
                                !1
                            );
                        }
                    }),
                    (this.fo = function (e) {
                        if (!S.cancelClick) {
                            var t = this.row,
                                n = p._k(t, this.index);
                            return t.isNewRow
                                ? void p.gl.edit(t)
                                : void p.cl(n, e);
                        }
                    }),
                    (this.go = function (e) {
                        if (p.dk.resClick) {
                            for (var t in p.dk.resClick)
                                window.clearTimeout(p.dk.resClick[t]);
                            p.dk.resClick = null;
                        }
                        var n = this.row,
                            i = p._k(n, this.index);
                        if (p.fb()) {
                            var a = {};
                            if (
                                ((a.resource = i),
                                (a.row = i),
                                (a.ctrl = e.ctrlKey),
                                (a.shift = e.shiftKey),
                                (a.meta = e.metaKey),
                                (a.originalEvent = e),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onRowDoubleClick &&
                                    (p.onRowDoubleClick(a),
                                    a.preventDefault.value))
                            )
                                return;
                            switch (p.rowDoubleClickHandling) {
                                case "PostBack":
                                    p.rowDoubleClickPostBack(i);
                                    break;
                                case "CallBack":
                                    p.rowDoubleClickCallBack(i);
                                    break;
                                case "Select":
                                    p.fl(n, e.ctrlKey, e.shiftKey, e.metaKey);
                                    break;
                                case "Edit":
                                    p.gl.edit(n);
                            }
                            "function" == typeof p.onRowDoubleClicked &&
                                p.onRowDoubleClicked(a);
                        } else
                            switch (p.rowDoubleClickHandling) {
                                case "PostBack":
                                    p.rowDoubleClickPostBack(i);
                                    break;
                                case "CallBack":
                                    p.rowDoubleClickCallBack(i);
                                    break;
                                case "JavaScript":
                                    p.onRowDoubleClick(i);
                                    break;
                                case "Select":
                                    p.fl(n, e.ctrlKey, e.shiftKey, e.metaKey);
                                    break;
                                case "Edit":
                                    p.gl.edit(n);
                            }
                    }),
                    (this.rowDoubleClickPostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ha("RowDoubleClick", n, t);
                    }),
                    (this.rowDoubleClickCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.ja("RowDoubleClick", n, t);
                    }),
                    (this.io = function (e) {
                        if ("Disabled" !== p.timeHeaderClickHandling) {
                            var t = {};
                            (t.start = this.cell.start),
                                (t.level = this.cell.level),
                                (t.end = this.cell.end),
                                t.end ||
                                    (t.end = new DayPilot.Date(
                                        t.start
                                    ).addMinutes(p.cellDuration)),
                                p.hl(t);
                        }
                    }),
                    (this.jo = function (t) {
                        if ("Disabled" !== p.timeHeaderRightClickHandling) {
                            (t.cancelBubble = !0), t.preventDefault();
                            var n = {};
                            if (
                                ((n.start = this.cell.start),
                                (n.level = this.cell.level),
                                (n.end = this.cell.end),
                                n.end ||
                                    (n.end = new DayPilot.Date(
                                        n.start
                                    ).addMinutes(p.cellDuration)),
                                p.fb())
                            ) {
                                var i = {};
                                if (
                                    ((i.header = n),
                                    (i.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" ==
                                        typeof p.onTimeHeaderRightClick &&
                                        (p.onTimeHeaderRightClick(i),
                                        i.preventDefault.value))
                                )
                                    return;
                                switch (this.timeHeaderRightClickHandling) {
                                    case "PostBack":
                                        p.timeHeaderRightClickPostBack(e);
                                        break;
                                    case "CallBack":
                                        p.timeHeaderRightClickCallBack(e);
                                }
                                "function" ==
                                    typeof p.onTimeHeaderRightClicked &&
                                    p.onTimeHeaderRightClicked(i);
                            }
                        }
                    }),
                    (this.ko = function (e) {
                        var t = p.rowlist[e];
                        if (t.hidden) return 0;
                        var n = t.height;
                        return (
                            "number" == typeof t.forcedHeight &&
                                (n = t.forcedHeight),
                            n
                        );
                    }),
                    (this.lo = function (e, t, n) {
                        function i(e) {
                            var n = p.ko(e),
                                i = t;
                            "hide" === t
                                ? (i = 0)
                                : "show" === t && (i = p.rowlist[e].height);
                            var a = i - n;
                            o.push({ i: e, now: n, dist: a });
                        }
                        function a(e) {
                            s || (s = e);
                            var t = e - s,
                                i = Math.min(1, t / r);
                            0 === i && (i = 0.1),
                                o.forEach(function (e) {
                                    var t = e.now + e.dist * i;
                                    p.rowlist[e.i].forcedHeight = t;
                                }),
                                p.mo(),
                                i < 1
                                    ? window.requestAnimationFrame(a)
                                    : ((l.style.overflowX = d),
                                      (l.style.overflowY = c),
                                      "function" == typeof n && n());
                        }
                        var r = 200,
                            o = [];
                        if ("number" == typeof e) i(e);
                        else {
                            if (!DayPilot.isArray(e))
                                throw new DayPilot.Exception(
                                    "Unexpected param (must be number/array)."
                                );
                            e.forEach(function (e) {
                                i(e);
                            });
                        }
                        var s = 0,
                            l = p.nav.scroll,
                            d = l.style.overflowX,
                            c = l.style.overflowY;
                        0 === DayPilot.sw(l) && (l.style.overflowY = "hidden"),
                            window.requestAnimationFrame(a);
                    }),
                    (this._k = function (e) {
                        return new DayPilot.Row(e, p);
                    }),
                    (this.Qj = function (e, t) {
                        t = t || "main";
                        var n = p.Ej[t],
                            i = n.rowlist,
                            a = i[e];
                        if ((a.events || a.resetEvents(), !a.data)) {
                            (a.data = {}),
                                (a.data.start = new DayPilot.Date(a.start)),
                                (a.data.startTicks = a.data.start.getTime());
                            var r = this.Vj().getTime() - this.nb().getTime();
                            (a.data.end = U.no()
                                ? a.data.start.addTime(r)
                                : a.data.start.addDays(1)),
                                (a.data.endTicks = a.data.end.getTime()),
                                (a.data.offset =
                                    a.start.getTime() - this.nb().getTime()),
                                (a.data.i = e),
                                (a.data.grid = t);
                        }
                    }),
                    (this.oo = {}),
                    (this.Pa = function (e) {
                        if (
                            (e
                                ? (this.events.list = e)
                                : this.events.list || (this.events.list = []),
                            null != this.events.list &&
                                !DayPilot.isArray(this.events.list))
                        )
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.events.list expects an array object"
                            );
                        D.prepareRows(!0);
                        var t,
                            n = this.events.list,
                            i = "function" == typeof this.onBeforeEventRender,
                            a = "Resources" === p.viewType;
                        p.oo = {};
                        for (var r = 0; r < n.length; r++) {
                            var o = n[r];
                            if (o) {
                                if ("object" != typeof o)
                                    throw new DayPilot.Exception(
                                        "Event data item must be an object"
                                    );
                                if (!o.start)
                                    throw new DayPilot.Exception(
                                        "Event data item must specify 'start' property"
                                    );
                                if (o instanceof DayPilot.Event)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."
                                    );
                                var s =
                                        "string" == typeof o.id ||
                                        "number" == typeof o.id,
                                    l =
                                        "string" ==
                                            typeof o.recurrentMasterId ||
                                        "number" == typeof o.recurrentMasterId;
                                if (!s) {
                                    var l =
                                        "string" ==
                                            typeof o.recurrentMasterId ||
                                        "number" == typeof o.recurrentMasterId;
                                    if (!l)
                                        throw new DayPilot.Exception(
                                            "All events must have an id property (string or number)"
                                        );
                                }
                                if (!p.temp.allowDuplicateEventIds) {
                                    var d = "_" + o.id;
                                    if (
                                        (!s &&
                                            l &&
                                            (d =
                                                "#" +
                                                o.recurrentMasterId +
                                                "#" +
                                                new DayPilot.Date(o.start)),
                                        p.oo[d])
                                    )
                                        throw new DayPilot.Exception(
                                            "Duplicate event IDs are not allowed: " +
                                                d
                                        );
                                    p.oo[d] = !0;
                                }
                                "Milestone" === o.type && (o.end = o.start),
                                    i && this.we(r),
                                    "*" === o.resource
                                        ? (t = p.rowlist)
                                        : a
                                        ? (t = p
                                              .po(o.resource)
                                              .concat(p.po("*")))
                                        : "Days" === p.viewType
                                        ? (t = p.rowlist)
                                        : "Gantt" === p.viewType &&
                                          (t = p.po(o.id));
                                for (var c = 0; t && c < t.length; c++) {
                                    var u = t[c],
                                        h = this.om(o, u);
                                    h && i && (h.cache = this.Q.events[r]);
                                }
                            }
                        }
                        p.Pj().forEach(function (e) {
                            p.tm(e);
                        }),
                            p.nk();
                    }),
                    (this.qo = {});
                var D = this.qo;
                (D.rowcache = {}),
                    (D.prepareRows = function (e) {
                        D.rowcache = {};
                        for (var t = p.Pj(), n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (
                                (e && i.resetEvents(),
                                p.Qj(i.index, i.grid),
                                i.id)
                            ) {
                                var a = typeof i.id + "_" + i.id;
                                D.rowcache[a] ||
                                    (D.rowcache[a] = DayPilot.list()),
                                    D.rowcache[a].push(i);
                            }
                        }
                    }),
                    (D.loadEvent = function (e) {}),
                    (this.po = function (e) {
                        var t = typeof e + "_" + e;
                        return DayPilot.list(D.rowcache[t]);
                    }),
                    (this.nm = function () {
                        var e = {};
                        if ("Resources" !== p.viewType) return !1;
                        for (var t = 0; t < p.rowlist.length; t++) {
                            var n = p.rowlist[t],
                                i = n.id;
                            if (e[i]) return !0;
                            e[i] = !0;
                        }
                        return !1;
                    }),
                    (this.we = function (e) {
                        var t = this.Q.events,
                            n = this.events.list[e],
                            i = {};
                        n instanceof DayPilot.Event && (n = n.data);
                        for (var a in n) i[a] = n[a];
                        if (
                            ("string" == typeof i.start &&
                                (i.start = new DayPilot.Date(i.start)),
                            "string" == typeof i.end &&
                                (i.end = new DayPilot.Date(i.end)),
                            "function" == typeof this.onBeforeEventRender)
                        ) {
                            var r = {};
                            (r.e = i),
                                (r.data = i),
                                this.onBeforeEventRender(r);
                        }
                        t[e] = i;
                    }),
                    (this.ro = function (e) {
                        var t = e.data.container,
                            n = typeof t;
                        return "string" !== n && "number" !== n
                            ? null
                            : typeof t + "_" + t;
                    }),
                    (this.tm = function (e) {
                        if (
                            ((e.lines = []), (e.sections = null), !e.isNewRow)
                        ) {
                            this.sortDirections
                                ? e.events.sort(this.Le)
                                : p.Bi || e.events.sort(this.Ke),
                                (e.containerCache = {}),
                                (e.containers = []),
                                e.events.forEach(function (t) {
                                    var n = p.ro(t);
                                    if (n) {
                                        var i = e.containerCache[n];
                                        i ||
                                            ((i = {
                                                events: [],
                                                line: null,
                                                start: null,
                                                end: null,
                                                left: null,
                                                width: null,
                                            }),
                                            (e.containerCache[n] = i),
                                            e.containers.push(i)),
                                            (t.part.container = i),
                                            i.events.push(t);
                                    }
                                }),
                                e.containers.forEach(function (e) {
                                    var t = e.events[0],
                                        n = e.events[e.events.length - 1];
                                    (e.start = t.part.start),
                                        (e.end = n.part.end),
                                        (e.left = t.part.left),
                                        (e.width = n.part.right - t.part.left),
                                        (e.right = n.part.right);
                                });
                            if (p.Bi) return void A.tm(e);
                            var t = p.groupConcurrentEvents;
                            if (t)
                                for (var n = 0; n < e.blocks.length; n++)
                                    e.blocks[n].clear();
                            DayPilot.list(e.events).forEach(function (t) {
                                if (!t.part.height)
                                    return e.eventHeight
                                        ? void (t.part.height = e.eventHeight)
                                        : void (t.part.height = U.Ml());
                            });
                            var i = function (e) {
                                return "number" == typeof e.data.line;
                            };
                            e.events.filter(i).forEach(function (t) {
                                e.putIntoLine(t);
                            });
                            for (var a = 0; a < e.events.length; a++) {
                                var r = e.events[a];
                                e.putIntoLine(r), t && e.putIntoBlock(r);
                            }
                            for (var o = 0, n = 0; n < e.lines.length; n++) {
                                var s = e.lines[n];
                                (s.top = o),
                                    (o +=
                                        ((s.height || e.eventHeight) *
                                            e.eventStackingLineHeight) /
                                        100);
                            }
                            if (t)
                                for (var a = 0; a < e.blocks.length; a++) {
                                    var l = e.blocks[a];
                                    (l.lines = []), l.events.sort(this.Le);
                                    for (var d = 0; d < l.events.length; d++) {
                                        var r = l.events[d];
                                        l.putIntoLine(r);
                                    }
                                    l.lines.length <=
                                        p.groupConcurrentEventsLimit &&
                                        (l.expanded = !0);
                                    var c = DayPilot.list(l.events)
                                        .map(function (e) {
                                            return e.id();
                                        })
                                        .some(function (e) {
                                            return DayPilot.contains(p.so, e);
                                        });
                                    c && (l.expanded = !0);
                                    for (
                                        var o = 0, n = 0;
                                        n < l.lines.length;
                                        n++
                                    ) {
                                        var s = l.lines[n];
                                        (s.top = o),
                                            (o +=
                                                ((s.height || e.eventHeight) *
                                                    e.eventStackingLineHeight) /
                                                100);
                                    }
                                }
                        }
                    }),
                    (this.mk = function (e) {
                        (e = DayPilot.ua(e)),
                            (e = p.Lk(e)),
                            e.forEach(function (e) {
                                p.tm(e);
                            }),
                            p.Bi
                                ? A.uo()
                                : e.forEach(function (e) {
                                      p.jn(e);
                                  });
                    }),
                    (this.Gm = function () {
                        var e =
                            "Manual" === p.scale
                                ? p.itline[0].start
                                : p.startDate;
                        return DayPilot.list(p.rowlist).some(function (t) {
                            return (
                                !!t.start &&
                                t.start.getTime() !==
                                    new DayPilot.Date(e).getTime()
                            );
                        });
                    }),
                    (this.om = function (e, t) {
                        if (!t.hideEvents) {
                            var n = new DayPilot.Date(e.start),
                                i = new DayPilot.Date(e.end);
                            i = p.Qg(i);
                            var a = n.ticks,
                                r = i.ticks;
                            if (r < a) return null;
                            var o = null;
                            if ("function" == typeof p.onBeforeEventRender) {
                                var s = DayPilot.indexOf(p.events.list, e);
                                o = p.Q.events[s];
                            }
                            if (o) {
                                if (o.hidden) return null;
                            } else if (e.hidden) return null;
                            var l = !1;
                            switch (this.viewType) {
                                case "Days":
                                    l =
                                        !(
                                            r <= t.data.startTicks ||
                                            a >= t.data.endTicks
                                        ) ||
                                        (a === r && a === t.data.startTicks);
                                    break;
                                case "Resources":
                                    l =
                                        (t.id === e.resource ||
                                            "*" === t.id ||
                                            "*" === e.resource) &&
                                        (!(
                                            r <= t.data.startTicks ||
                                            a >= t.data.endTicks
                                        ) ||
                                            (a === r &&
                                                a === t.data.startTicks));
                                    break;
                                case "Gantt":
                                    l =
                                        t.id === e.id &&
                                        !(
                                            r <= t.data.startTicks ||
                                            a >= t.data.endTicks
                                        );
                            }
                            if (!l) return null;
                            var d = new DayPilot.Event(e, p);
                            (d.part.dayIndex = t.data.i),
                                (d.part.grid = t.data.grid),
                                (d.part.start =
                                    t.data.startTicks < a ? n : t.data.start),
                                (d.part.end =
                                    t.data.endTicks > r ? i : t.data.end);
                            var c = this.getPixels(
                                    d.part.start.addTime(-t.data.offset)
                                ),
                                u = this.getPixels(
                                    d.part.end.addTime(-t.data.offset)
                                );
                            d.part.start === d.part.end &&
                                (u = this.getPixels(
                                    d.part.end
                                        .addTime(-t.data.offset)
                                        .addMilliseconds(1)
                                )),
                                o && o.height
                                    ? (d.part.height = o.height)
                                    : e.height && (d.part.height = e.height);
                            o || d.data;
                            d.part.vo = function () {
                                var e = this.height;
                                if (
                                    p.eventVersionsEnabled &&
                                    !DayPilot.list(d.versions).isEmpty()
                                ) {
                                    var t = d.versions.length;
                                    (e += t * p.eventVersionHeight),
                                        (e += t * p.eventVersionMargin);
                                }
                                return e + p.eventMarginBottom;
                            };
                            var h = c.left,
                                f = u.left;
                            if (
                                ((d.part.startPixels = c),
                                (d.part.endPixels = u),
                                h === f)
                            ) {
                                if (c.cut || u.cut) return null;
                                var v =
                                    (d.part.start
                                        .addTime(-t.data.offset)
                                        .getTime() +
                                        d.part.end
                                            .addTime(-t.data.offset)
                                            .getTime()) /
                                    2;
                                if (
                                    p.getPixels(
                                        new DayPilot.Date(Math.floor(v))
                                    ).cut
                                )
                                    return null;
                            }
                            d.part.box = U.Nl(r - a);
                            var m = p.eventHeight;
                            if ("Milestone" === e.type) {
                                var g = e.width || m;
                                (d.part.end = d.part.start),
                                    (d.part.left = h - g / 2),
                                    (d.part.width = g),
                                    (d.part.barLeft = 0),
                                    (d.part.barWidth = g);
                            } else if (d.part.box) {
                                var b = c.boxLeft,
                                    y = u.boxRight;
                                (d.part.left = b),
                                    (d.part.width = y - b),
                                    (d.part.barLeft = DayPilot.Util.atLeast(
                                        h - d.part.left,
                                        0
                                    )),
                                    (d.part.barWidth = DayPilot.Util.atLeast(
                                        f - h,
                                        1
                                    ));
                            } else
                                (d.part.left = h),
                                    (d.part.width = DayPilot.Util.atLeast(
                                        f - h,
                                        1
                                    )),
                                    (d.part.barLeft = 0),
                                    (d.part.barWidth = DayPilot.Util.atLeast(
                                        f - h - 1,
                                        1
                                    ));
                            var w = p.eventMinWidth;
                            if (
                                ((d.part.width = Math.max(d.part.width, w)),
                                (d.part.right = d.part.left + d.part.width),
                                (d.cache = o),
                                p.eventVersionsEnabled && p.wo(d, t),
                                "function" == typeof p.onEventFilter &&
                                    p.events.Je)
                            ) {
                                var x = {};
                                if (
                                    ((x.filter = p.events.Je),
                                    (x.filterParam = p.events.Je),
                                    (x.visible = !0),
                                    (x.e = d),
                                    p.onEventFilter(x),
                                    !x.visible)
                                )
                                    return null;
                            }
                            return t.events.push(d), d;
                        }
                    }),
                    (this.wo = function (e, t) {
                        e.versions = [];
                        var n = e.cache || e.data,
                            i = DayPilot.list(n.versions);
                        if (!i.isEmpty()) {
                            var a = e.part.left,
                                r = e.part.left + e.part.width;
                            i.forEach(function (n) {
                                var i = new DayPilot.Date(n.start),
                                    o = new DayPilot.Date(n.end),
                                    s = p.getPixels(i.addTime(-t.data.offset)),
                                    l = p.getPixels(o.addTime(-t.data.offset));
                                i.ticks === o.ticks &&
                                    (l = p.getPixels(
                                        o.addTime(-t.data.offset).addTime(1)
                                    ));
                                var d = s.left,
                                    c = l.left;
                                if (d === c && (s.cut || l.cut)) return null;
                                var u = {};
                                (u.left = d),
                                    (u.continueLeft = i < t.data.start),
                                    (u.right = c),
                                    (u.continueRight = o > t.data.end),
                                    (u.width = c - d),
                                    e.versions.push(u),
                                    u.left < a && (a = u.left),
                                    u.right > r && (r = u.right);
                            }),
                                p.eventVersionsReserveSpace
                                    ? ((e.part.versionsLeft = a),
                                      (e.part.versionsRight = r),
                                      (e.part.versionsWidth = r - a))
                                    : ((e.part.versionsLeft = e.part.left),
                                      (e.part.versionsRight =
                                          e.part.left + e.part.width),
                                      (e.part.versionsWidth = e.part.width));
                        }
                    }),
                    (this.Ke = function (e, t) {
                        if (!(e && t && e.start && t.start)) return 0;
                        var n = e.start().ticks - t.start().ticks;
                        return 0 !== n ? n : t.end().ticks - e.end().ticks;
                    }),
                    (this.Le = function (e, t) {
                        if (!e || !t) return 0;
                        var n = e.cache || e.data,
                            i = t.cache || t.data;
                        if (
                            !(
                                n.sort &&
                                n.sort.length > 0 &&
                                i.sort &&
                                i.sort.length > 0
                            )
                        )
                            return p.Ke(e, t);
                        for (
                            var a = 0, r = 0;
                            0 === a &&
                            "undefined" != typeof n.sort[r] &&
                            "undefined" != typeof i.sort[r];

                        )
                            (a =
                                n.sort[r] === i.sort[r]
                                    ? 0
                                    : "number" == typeof n.sort[r] &&
                                      "number" == typeof i.sort[r]
                                    ? n.sort[r] - i.sort[r]
                                    : p.Me(
                                          n.sort[r],
                                          i.sort[r],
                                          p.sortDirections[r]
                                      )),
                                r++;
                        return a;
                    }),
                    (this.Me = function (e, t, n) {
                        var i = "desc" !== n,
                            a = i ? -1 : 1,
                            r = -a;
                        if (null === e && null === t) return 0;
                        if (null === t) return r;
                        if (null === e) return a;
                        var o = [];
                        return (
                            (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r
                        );
                    }),
                    (this.fl = function (e, t, n, i) {
                        if (p.fb()) {
                            var a = DayPilot.indexOf(p.rowlist, e),
                                r = p._k(e, a),
                                o = DayPilot.indexOf(S.selected, e) !== -1,
                                s = o ? "deselected" : "selected",
                                l = {};
                            if (
                                ((l.row = r),
                                (l.selected = o),
                                (l.ctrl = t),
                                (l.shift = n),
                                (l.meta = i),
                                (l.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onRowSelect &&
                                    (p.onRowSelect(l), l.preventDefault.value))
                            )
                                return;
                            var d = n && !t && !i;
                            if ((n || (S.xo = { row: e, index: a }), d)) {
                                S.fixRowSelectLast();
                                var c = S.xo.index,
                                    u = a;
                                S.selectRange(c, u);
                            }
                            switch (p.rowSelectHandling) {
                                case "PostBack":
                                    p.rowSelectPostBack(r, s);
                                    break;
                                case "CallBack":
                                    p.rowSelectCallBack(r, s);
                                    break;
                                case "Notify":
                                    !d && S.select(e, t, n, i),
                                        p.rowSelectNotify(r, s);
                                    break;
                                case "Update":
                                    !d && S.select(e, t, n, i);
                            }
                            "function" == typeof p.onRowSelected &&
                                ((l.selected =
                                    DayPilot.indexOf(S.selected, e) !== -1),
                                p.onRowSelected(l));
                        } else {
                            S.select(e, t, n);
                            var a = DayPilot.indexOf(p.rowlist, e),
                                r = p._k(e, a),
                                o = DayPilot.indexOf(S.selected, e) !== -1,
                                s = o ? "deselected" : "selected";
                            switch (p.rowSelectHandling) {
                                case "PostBack":
                                    p.rowSelectPostBack(r, s);
                                    break;
                                case "CallBack":
                                    p.rowSelectCallBack(r, s);
                                    break;
                                case "Notify":
                                    p.rowSelectNotify(r, s);
                                    break;
                                case "JavaScript":
                                    p.onRowSelect(r, s);
                            }
                        }
                    }),
                    (this.rowSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.change = t),
                            this.ha("RowSelect", i, n);
                    }),
                    (this.rowSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.change = t),
                            this.ja("RowSelect", i, n);
                    }),
                    (this.rowSelectNotify = function (e, t, n) {
                        var i = {};
                        (i.resource = e),
                            (i.change = t),
                            this.ja("RowSelect", i, n, "Notify");
                    }),
                    (this.rows = {}),
                    (this.rows.selection = {});
                var E = this.rows.selection;
                (E.Q = []),
                    (E.get = function () {
                        var e = [];
                        return (
                            DayPilot.list(S.selected).forEach(function (t) {
                                e.push(p._k(t));
                            }),
                            e
                        );
                    }),
                    (E.clear = function () {
                        S.clearSelection();
                    }),
                    (E.add = function (e) {
                        if (!e || !e.isRow)
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected"
                            );
                        DayPilot.list(S.selected).some(function (t) {
                            return t === e.$.row;
                        }) || (S.selected.push(e.$.row), E.yo(), S.fi(e.$.row));
                    }),
                    (E.remove = function (e) {
                        if (!e || !e.isRow)
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected"
                            );
                        E.isSelected(e) &&
                            (DayPilot.rfa(S.selected, e.$.row),
                            E.yo(),
                            S.fi(e.$.row));
                    }),
                    (E.isSelected = function (e) {
                        if (!e || !e.isRow)
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected"
                            );
                        return DayPilot.indexOf(S.selected, e.$.row) !== -1;
                    }),
                    (E.yo = function () {
                        (p.selectedRows = DayPilot.list(S.selected).map(
                            function (e) {
                                return e.id;
                            }
                        )),
                            (E.Q = []),
                            S.selected.forEach(function (e) {
                                E.Q[e.index] = !0;
                            });
                    }),
                    (this.rows.all = function () {
                        for (
                            var e = DayPilot.list(), t = 0;
                            t < p.rowlist.length;
                            t++
                        ) {
                            var n = p._k(p.rowlist[t]);
                            e.push(n);
                        }
                        return e;
                    }),
                    (this.rows.visible = function () {
                        for (
                            var e = DayPilot.list(), t = 0;
                            t < p.rowlist.length;
                            t++
                        ) {
                            var n = p.rowlist[t];
                            if (!n.hidden) {
                                var n = p._k(p.rowlist[t]);
                                e.push(n);
                            }
                        }
                        return e;
                    }),
                    (this.rows.each = function (e) {
                        p.rows.all().forEach(e);
                    }),
                    (this.rows.forEach = function (e) {
                        p.rows.all().forEach(e);
                    }),
                    (this.rows.filter = function (e, t) {
                        (p.rows.Je = e),
                            t || (p.T && p.Lc({ immediateEvents: !0 }));
                    }),
                    Object.defineProperty(p.rows, "filterParam", {
                        get: function () {
                            return p.rows.Je;
                        },
                    }),
                    (this.rows.sort = function (e) {
                        var t = p.rows.sortParam;
                        if ("string" == typeof e)
                            p.rows.zo = { field: e, order: "asc" };
                        else if ("object" == typeof e) {
                            var n = DayPilot.Util.copyProps(e);
                            n.order || (n.order = "asc"), (p.rows.zo = n);
                        } else p.rows.zo = null;
                        if (
                            (p.T && p.Lc({ immediateEvents: !0 }),
                            "function" == typeof p.onRowSorted)
                        ) {
                            var i = {};
                            (i.oldSortParam = t), p.onRowSorted(i);
                        }
                    }),
                    Object.defineProperty(p.rows, "sortParam", {
                        get: function () {
                            return { order: p.rows.Ao(), field: p.rows.Bo() };
                        },
                    }),
                    (this.rows.Bo = function () {
                        var e = p.rows.zo;
                        return e ? e.field : null;
                    }),
                    (this.rows.Ao = function () {
                        var e = p.rows.zo;
                        return e ? e.order : "asc";
                    }),
                    (this.rows.find = function (e, t) {
                        if (
                            "string" == typeof e ||
                            "number" == typeof e ||
                            (!e && t)
                        ) {
                            var n = p.po(e);
                            e || (n = p.rowlist);
                            var i = null;
                            return (
                                "string" == typeof t ||
                                t instanceof DayPilot.Date
                                    ? ((t = new DayPilot.Date(t)),
                                      (i = n.find(function (e) {
                                          return t === e.start;
                                      })))
                                    : (i = n.first()),
                                i ? new DayPilot.Row(i, p) : null
                            );
                        }
                        if ("function" != typeof e)
                            throw new DayPilot.Exception(
                                "Invalid rows.find() argument: id or function expected"
                            );
                        var a = t || 0,
                            r = p.rowlist.find(function (t, n) {
                                return !(n < a) && e(p._k(t));
                            });
                        if (r) return p._k(r);
                    }),
                    (this.rows.load = function (e, t, n) {
                        if (!e)
                            throw new DayPilot.Exception(
                                "rows.load(): 'url' parameter required"
                            );
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception),
                                    (t.request = e.request),
                                    "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void i(r);
                                }
                                if (DayPilot.isArray(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (p.resources = o.data), p.T && p.update();
                                }
                            };
                        p.rowsLoadMethod &&
                        "POST" === p.rowsLoadMethod.toUpperCase()
                            ? DayPilot.ajax({
                                  method: "POST",
                                  url: e,
                                  success: a,
                                  error: i,
                              })
                            : DayPilot.ajax({
                                  method: "GET",
                                  url: e,
                                  success: a,
                                  error: i,
                              });
                    }),
                    (this.rows.expand = function (e) {
                        for (
                            var t = [], n = e || 1, i = 0;
                            i < p.rowlist.length;
                            i++
                        ) {
                            var a = p.rowlist[i],
                                r = n === -1;
                            a.level < n && (r = !0),
                                r &&
                                    !a.expanded &&
                                    a.children &&
                                    a.children.length > 0 &&
                                    t.push(a.index);
                        }
                        if (0 !== t.length)
                            if (1 === t.length) p.Xm(t[0]);
                            else {
                                for (var i = 0; i < t.length; i++) {
                                    var o = t[i],
                                        s = p.rowlist[o].resource;
                                    s.expanded = !0;
                                }
                                p.Lc();
                            }
                    }),
                    (this.rows.expandAll = function () {
                        p.rows.expand(-1);
                    }),
                    (this.rows.collapseAll = function () {
                        p.rowlist.forEach(function (e) {
                            e.resource.expanded = !1;
                        }),
                            p.Lc();
                    }),
                    (this.rows.headerHide = function () {
                        (p.Co = !0), p.Do(), p.Tn(), p.Gj();
                    }),
                    (this.rows.headerShow = function () {
                        (p.Co = !1), p.Do(), p.Tn(), p.Gj();
                    }),
                    (this.rows.headerToggle = function () {
                        p.Co ? p.rows.headerShow() : p.rows.headerHide();
                    }),
                    (this.rows.edit = function (e) {
                        S.edit(e.$.row);
                    }),
                    (this.rows.remove = function (e) {
                        if ("number" == typeof e || "string" == typeof e) {
                            var t = p.rows.find(e);
                            if (!t)
                                throw new DayPilot.Exception(
                                    "The row to be removed was not found"
                                );
                            return void p.rows.remove(t);
                        }
                        var n = e.$.row.resource,
                            i = _.findParentArray(n);
                        if (!i)
                            throw new DayPilot.Exception(
                                "Cannot find source node parent"
                            );
                        var a = DayPilot.indexOf(i, n);
                        i.splice(a, 1), p.update();
                    }),
                    (this.rows.add = function (e) {
                        p.resources.push(e), p.Lc();
                    }),
                    (this.rows.addChild = function (e, t) {
                        if (
                            (("number" != typeof e && "string" != typeof e) ||
                                (e = p.rows.find(e)),
                            e)
                        ) {
                            if (!(e instanceof DayPilot.Row)) {
                                var t = e;
                                if (((e = p.rows.find(t.id)), !e)) return;
                            }
                            e.data.children || (e.data.children = []),
                                e.data.children.push(t),
                                p.Lc();
                        }
                    }),
                    (this.rows.update = function (e) {
                        if (
                            !(e instanceof DayPilot.Row || "object" == typeof e)
                        )
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object."
                            );
                        if (!(e instanceof DayPilot.Row)) {
                            var t = e;
                            if (((e = p.rows.find(t.id)), !e)) return;
                            e.data = t;
                        }
                        var n = e.index,
                            i = p.Il(e.grid).rowlist,
                            a = i[n],
                            r = e.data,
                            o = e.parent() ? e.parent().$.row : null,
                            s = p.Eo(r),
                            e = p.Fo(s, o);
                        (e.hidden = a.hidden),
                            (e.level = a.level),
                            (e.children = a.children),
                            (e.index = n),
                            (e.top = a.top),
                            (e.height = a.height),
                            (e.grid = a.grid),
                            (i[n] = e),
                            e.resetEvents(),
                            p.Qj(e.index, e.grid),
                            p.Go(e),
                            p.tm(e),
                            p.Kk(e.index, e.grid),
                            p.Ri(),
                            p.Ui();
                    }),
                    (this.Go = function (e) {
                        for (
                            var t = p.events.list,
                                n = t.length,
                                i = "function" == typeof p.onBeforeEventRender,
                                a = 0;
                            a < n;
                            a++
                        ) {
                            var r = t[a];
                            if (r) {
                                if (r instanceof DayPilot.Event)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."
                                    );
                                if ("Days" === p.viewType)
                                    throw new DayPilot.Exception(
                                        ".rows.update() not supported for viewType = 'Days'."
                                    );
                                if ("Gantt" === p.viewType)
                                    throw new DayPilot.Exception(
                                        ".rows.update() not supported for viewType = 'Gantt'."
                                    );
                                if (
                                    "*" === r.resource ||
                                    "*" === e.id ||
                                    r.resource === e.id
                                ) {
                                    i && this.we(a);
                                    var o = this.om(r, e);
                                    o && i && (o.cache = this.Q.events[a]);
                                }
                            }
                        }
                    }),
                    (this.Ho = function () {
                        var e = h.source,
                            t = h.target,
                            n = h.position,
                            i = h.sourceCalendar;
                        if ((S.resetMoving(), p.fb())) {
                            var a = {};
                            if (
                                ((a.source = p._k(e)),
                                (a.source.calendar = i),
                                (a.target = p._k(t)),
                                (a.position = n),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof p.onRowMove &&
                                    (p.onRowMove(a), a.preventDefault.value))
                            )
                                return;
                            switch (p.rowMoveHandling) {
                                case "Update":
                                    S.move(a);
                                    break;
                                case "CallBack":
                                    p.rowMoveCallBack(
                                        a.source,
                                        a.target,
                                        a.position
                                    );
                                    break;
                                case "PostBack":
                                    p.rowMovePostBack(
                                        a.source,
                                        a.target,
                                        a.position
                                    );
                                    break;
                                case "Notify":
                                    S.move(a),
                                        p.rowMoveNotify(
                                            a.source,
                                            a.target,
                                            a.position
                                        );
                            }
                            "function" == typeof p.onRowMoved &&
                                p.onRowMoved(a);
                        } else {
                            var e = p._k(e),
                                t = p._k(t),
                                n = n;
                            switch (p.rowMoveHandling) {
                                case "CallBack":
                                    p.rowMoveCallBack(e, t, n);
                                    break;
                                case "PostBack":
                                    p.rowMovePostBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    p.onRowMove(e, t, n);
                            }
                        }
                    }),
                    (this.Zi = function (e) {
                        var t = DayPilot.list(e);
                        (S.selected = []),
                            t.isEmpty() || ((p.zi = !1), p.Oa()),
                            t.forEach(function (e) {
                                var t = p.ij(e);
                                t && S.selected.push(t);
                            }),
                            S.Io();
                    }),
                    (this.gl = {});
                var S = this.gl;
                (S.edit = function (e) {
                    S.Jo(e);
                }),
                    (S.rowSelectLastSetDefault = function () {
                        S.xo = { row: p.rowlist[0], index: 0 };
                    }),
                    (S.rowSelectSetLast = function (e) {
                        var t = DayPilot.indexOf(p.rowlist, e);
                        if (t === -1)
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler: Row not found when selecting a range"
                            );
                        S.xo = { row: e, index: t };
                    }),
                    (S.fixRowSelectLast = function () {
                        S.xo || S.rowSelectLastSetDefault();
                        var e = DayPilot.indexOf(p.rowlist, S.xo.row);
                        if (!(e > -1)) {
                            var t = p.ij(S.xo.row.id);
                            t
                                ? ((e = DayPilot.indexOf(p.rowlist, t)),
                                  (S.xo = { row: t, index: e }))
                                : S.rowSelectLastSetDefault();
                        }
                    }),
                    (S.createOverlay = function (e) {
                        var t = p.On(),
                            n = p.H("_rowmove_source"),
                            i = DayPilot.Util.div(
                                p.divHeader,
                                0,
                                e.top,
                                t,
                                e.height
                            );
                        (i.className = n), (e.moveOverlay = i);
                    }),
                    (S.deleteOverlay = function (e) {
                        e &&
                            (DayPilot.de(e.moveOverlay),
                            (e.moveOverlay = null));
                    }),
                    (S.Jo = function (e) {
                        var t = S.Ko(e),
                            n = t.cells[0];
                        if (n.input) return n.input;
                        DayPilot.Areas.disable(n.firstChild);
                        var i = n.clientWidth;
                        e.isNewRow && (i = p.xj());
                        var a = document.createElement("input");
                        (a.style.position = "absolute"),
                            (a.style.top = "0px"),
                            (a.style.left = "0px"),
                            (a.style.width = i + "px"),
                            (a.style.height = e.height - 1 + "px"),
                            (a.style.border = "0px none"),
                            (a.style.overflow = "hidden"),
                            (a.style.boxSizing = "border-box"),
                            (a.style.resize = "none"),
                            (a.style.paddingLeft =
                                e.level * p.treeIndent + "px"),
                            (a.style.outline = "none");
                        var r = n.textDiv;
                        (a.style.fontFamily =
                            DayPilot.gs(r, "fontFamily") ||
                            DayPilot.gs(r, "font-family")),
                            (a.style.fontSize =
                                DayPilot.gs(r, "fontSize") ||
                                DayPilot.gs(r, "font-size")),
                            (a.value = e.name || ""),
                            n.firstChild.appendChild(a),
                            (n.input = a);
                        var o = function () {
                            try {
                                n.input.parentNode.removeChild(n.input);
                            } catch (e) {
                                s();
                            }
                            n.input = null;
                        };
                        return (
                            a.focus(),
                            (a.onblur = function () {
                                a.onblur = null;
                                var t = a.value;
                                o(),
                                    DayPilot.Areas.enable(n.firstChild),
                                    p.bl(e, t, a.canceled);
                            }),
                            (a.onkeydown = function (e) {
                                var t = e.keyCode;
                                return (
                                    27 === t && ((a.canceled = !0), o()),
                                    13 !== t || (a.onblur(), !1)
                                );
                            }),
                            a.setSelectionRange
                                ? a.setSelectionRange(0, 9999)
                                : a.select(),
                            a
                        );
                    }),
                    (S.selected = []),
                    (S.select = function (e, t, n, i) {
                        var a = DayPilot.indexOf(S.selected, e) !== -1;
                        if (t || i) {
                            if (a)
                                return (
                                    DayPilot.rfa(S.selected, e),
                                    E.yo(),
                                    void S.fi(e)
                                );
                        } else (a = !1), S.clearSelection();
                        a || S.selected.push(e), E.yo(), S.fi(e);
                    }),
                    (S.selectRange = function (e, t) {
                        S.clearSelection();
                        for (
                            var n = Math.min(e, t), i = Math.max(e, t), a = n;
                            a <= i;
                            a++
                        ) {
                            var r = p.rowlist[a];
                            S.selected.push(r);
                        }
                        E.yo();
                        for (var a = n; a <= i; a++) {
                            var r = p.rowlist[a];
                            S.fi(r);
                        }
                    }),
                    (S.Io = function () {
                        for (var e = 0; e < S.selected.length; e++) {
                            var t = S.selected[e];
                            S.fi(t);
                        }
                    }),
                    (S.fi = function (e) {
                        var t = DayPilot.indexOf(p.rowlist, e);
                        if (t === -1) {
                            var n = p.ij(e.id);
                            if (!n) return;
                            t = n.index;
                        }
                        p.Qk(t), p.Ui(), p.Jl(t), p.Vn(t);
                    }),
                    (S.nl = function () {
                        var e = [];
                        if (!S.selected) return e;
                        for (var t = 0; t < S.selected.length; t++) {
                            var n = S.selected[t],
                                i = DayPilot.indexOf(p.rowlist, n),
                                a = p._k(n, i);
                            e.push(a.toJSON());
                        }
                        return e;
                    }),
                    (S.xo = null),
                    (S.clearSelection = function () {
                        var e = S.selected;
                        if (
                            ((S.selected = []),
                            (p.selectedRows = []),
                            (E.Q = []),
                            e.length <= 5)
                        )
                            e.forEach(function (e) {
                                S.fi(e);
                            });
                        else {
                            p.Ri(), p.Ui();
                            for (var t = 0; t < p.rowlist.length; t++)
                                p.divHeader.rows[t] && p.Kk(t);
                        }
                    }),
                    (S.Ko = function (e) {
                        for (
                            var t = p.divHeader, n = 0;
                            n < t.rows.length;
                            n++
                        ) {
                            var i = t.rows[n];
                            if (i && i.cells[0] && i.cells[0].row === e)
                                return i;
                        }
                        return null;
                    }),
                    (S.Lo = function (e) {
                        var t = DayPilot.Global.rowmoving;
                        (t.row = e),
                            (t.sourceCalendar = p),
                            (t.cursor = p.divResScroll.style.cursor),
                            (p.divResScroll.style.cursor = "move"),
                            S.createOverlay(e);
                    }),
                    (S.resetMoving = function () {
                        (p.divResScroll.style.cursor = h.cursor),
                            DayPilot.de(h.div),
                            S.deleteOverlay(h.row),
                            (DayPilot.Global.rowmoving = h = {});
                    }),
                    (S.Mo = function (e) {
                        var t = DayPilot.mo3(p.divHeader, e),
                            n = p.vl(t.y),
                            i = p.rowlist[n.i];
                        if (i && !i.isNewRow) {
                            var a = p.rowMoveSameLevelOnly,
                                r = t.y - n.top,
                                o = n.bottom - n.top,
                                s = o / 3,
                                l = 2 * s,
                                d = o / 2,
                                c = "before",
                                f = i.children && i.children.length > 0,
                                v = f && i.expanded,
                                m = (function () {
                                    for (var e = n.i, t = i.level; e >= 0; ) {
                                        var a = p.rowlist[e];
                                        if ((e--, !(t <= a.level))) {
                                            if (a === h.row) return !0;
                                            if (0 === a.level) return !1;
                                            t = a.level;
                                        }
                                    }
                                    return !1;
                                })(),
                                g = i,
                                b = p.treeEnabled;
                            if (m || (n.i === h.row.index && !a))
                                c = "forbidden";
                            else if (b)
                                if (a) {
                                    var y = h.row.level,
                                        w = i.level;
                                    if (w === y - 1) c = "child";
                                    else if (y !== w)
                                        if (y === w - 1) {
                                            var x = i.No,
                                                k = x.children.length - 1;
                                            i.index === x.children[k]
                                                ? ((g = x), (c = "after"))
                                                : (c = "forbidden");
                                        } else c = "forbidden";
                                    else
                                        c =
                                            r < d
                                                ? "before"
                                                : f && v
                                                ? "before"
                                                : "after";
                                } else
                                    c =
                                        f && v
                                            ? r < d
                                                ? "before"
                                                : "child"
                                            : r < s
                                            ? "before"
                                            : r < l
                                            ? "child"
                                            : "after";
                            else c = f ? "before" : r < d ? "before" : "after";
                            h.row.moveDisabled && (c = "forbidden"),
                                (h.calendar = p),
                                (h.source = h.row),
                                (h.target = g),
                                (h.position = c);
                            if (
                                (function () {
                                    return (
                                        !h.last ||
                                        h.last.target !== h.target ||
                                        h.last.position !== h.position
                                    );
                                })()
                            ) {
                                if ("function" == typeof p.onRowMoving) {
                                    var C = {};
                                    (C.source = p._k(h.source)),
                                        (C.target = p._k(h.target)),
                                        (C.position = c),
                                        p.onRowMoving(C),
                                        (h.position = C.position);
                                }
                            } else h.last && (h.position = h.last.position);
                            (h.last = {}),
                                (h.last.target = h.target),
                                (h.last.position = h.position),
                                (function () {
                                    h.div && DayPilot.de(h.div);
                                    var e = n.top,
                                        t = h.position,
                                        i = p.rowlist[n.i],
                                        a = i.level,
                                        r = a * p.treeIndent;
                                    switch (t) {
                                        case "before":
                                            e = n.top;
                                            break;
                                        case "child":
                                            e = n.top + d;
                                            break;
                                        case "after":
                                            e = n.bottom;
                                            break;
                                        case "forbidden":
                                            e = n.top + d;
                                    }
                                    var o = p.On() - r,
                                        s = u();
                                    (s.style.position = "absolute"),
                                        (s.style.left = r + "px"),
                                        (s.style.width = o + "px"),
                                        (s.style.top = e + "px"),
                                        (s.className = p.H(
                                            "_rowmove_position_" + t
                                        )),
                                        (h.div = s),
                                        p.divResScroll.appendChild(s);
                                })();
                        }
                    }),
                    (S.move = function (e) {
                        var t = e.source.$.row.resource,
                            n = e.target.$.row.resource,
                            i = e.position;
                        if (t !== n && "forbidden" !== i) {
                            var a = e.source.calendar.Oo.findParentArray(t);
                            if (!a)
                                throw new DayPilot.Exception(
                                    "Cannot find source node parent"
                                );
                            var r = DayPilot.indexOf(a, t);
                            a.splice(r, 1);
                            var o = _.findParentArray(n);
                            if (!o)
                                throw new DayPilot.Exception(
                                    "Cannot find target node parent"
                                );
                            var s = DayPilot.indexOf(o, n);
                            switch (i) {
                                case "before":
                                    o.splice(s, 0, t);
                                    break;
                                case "after":
                                    o.splice(s + 1, 0, t);
                                    break;
                                case "child":
                                    n.children ||
                                        ((n.children = []), (n.expanded = !0)),
                                        n.children.push(t);
                            }
                            p.update();
                        }
                    });
                var T = {};
                (this.Po = T), (T.If = function (e) {});
                var _ = {};
                (this.Oo = _),
                    (_.findParentArray = function (e) {
                        return _.findInArray(p.resources, e);
                    }),
                    (_.findInArray = function (e, t) {
                        if (DayPilot.indexOf(e, t) !== -1) return e;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            if (i.children && i.children.length > 0) {
                                var a = _.findInArray(i.children, t);
                                if (a) return a;
                            }
                        }
                        return null;
                    }),
                    (this.Li = function () {
                        var e = this.resources,
                            t = this.J();
                        t ||
                            ("Gantt" === this.viewType
                                ? (e = this.Qo())
                                : "Days" === this.viewType && (e = this.Ro())),
                            !t ||
                                "Days" !== this.viewType ||
                                (e && 0 !== e.length) ||
                                (e = this.Ro());
                        var n = {};
                        if (((n.i = 0), null != e && !DayPilot.isArray(e)))
                            throw new DayPilot.Exception(
                                "DayPilot.Scheduler.resources expects an array object"
                            );
                        e = e || [];
                        var i = e.filter(function (e) {
                            return "top" !== e.frozen && "bottom" !== e.frozen;
                        });
                        (p.rowlist = DayPilot.list()),
                            this.So(
                                i,
                                n,
                                0,
                                null,
                                this.treeEnabled,
                                !1,
                                "main"
                            );
                        var a = e.filter(function (e) {
                            return (
                                "string" == typeof e.frozen &&
                                "top" === e.frozen.toLowerCase()
                            );
                        });
                        (p.Ej.top.rowlist = DayPilot.list()),
                            (p.Ej.top.height = 0),
                            this.So(a, { i: 0 }, 0, null, !1, !1, "top");
                        var r = e.filter(function (e) {
                            return (
                                "string" == typeof e.frozen &&
                                "bottom" === e.frozen.toLowerCase()
                            );
                        });
                        (p.Ej.bottom.rowlist = DayPilot.list()),
                            (p.Ej.bottom.height = 0),
                            this.So(r, { i: 0 }, 0, null, !1, !1, "bottom"),
                            "Disabled" !== p.rowCreateHandling && this.To();
                    }),
                    (this.To = function () {
                        var e = {};
                        (e.id = "NEW"),
                            (e.isNewRow = !0),
                            (e.html = ""),
                            (e.index = p.rowlist.length),
                            (e.loaded = !0),
                            (e.start = this.startDate),
                            (e.children = []),
                            (e.height = p.eventHeight),
                            (e.marginBottom = 0),
                            (e.marginTop = 0),
                            (e.getHeight = function () {
                                return p.rowCreateHeight
                                    ? p.rowCreateHeight
                                    : p.eventHeight +
                                          p.rowMarginBottom +
                                          p.rowMarginTop;
                            }),
                            (e.putIntoLine = function () {}),
                            (e.resetEvents = function () {}),
                            this.rowlist.push(e);
                    }),
                    (this.Qo = function () {
                        var e = [];
                        if (this.Gi && this.resources)
                            for (var t = 0; t < this.resources.length; t++)
                                e.push(this.resources[t]);
                        if (this.events.list) {
                            for (var t = 0; t < this.events.list.length; t++) {
                                var n = this.events.list[t],
                                    i = {};
                                (i.id = n.id),
                                    (i.name = n.text),
                                    (i.columns = n.columns),
                                    e.push(i);
                            }
                            return e;
                        }
                    }),
                    (this.Ro = function () {
                        for (
                            var e = [], t = p.nb(), n = this.ga.Xj(), i = 0;
                            i < this.days;
                            i++
                        ) {
                            var a = t.addDays(i);
                            if (
                                p.showNonBusiness ||
                                p.businessWeekends ||
                                (0 != a.dayOfWeek() && 6 != a.dayOfWeek())
                            ) {
                                var r = {};
                                (r.name = a.toString(n.datePattern, n)),
                                    (r.start = a),
                                    e.push(r);
                            }
                        }
                        return e;
                    }),
                    (this.nb = function () {
                        return this.itline && this.itline.length > 0
                            ? this.itline[0].start
                            : new DayPilot.Date(this.startDate);
                    }),
                    (this.Vj = function () {
                        if (this.itline && this.itline.length > 0) {
                            var e = p.itline[this.itline.length - 1].end;
                            return "Days" !== p.viewType
                                ? e
                                : e.addDays(p.days - 1);
                        }
                        return new DayPilot.Date(p.startDate).addDays(p.days);
                    }),
                    (this.visibleStart = function () {
                        return this.nb();
                    }),
                    (this.visibleEnd = function () {
                        return this.Vj();
                    }),
                    (this.Fo = function (e, t) {
                        var n = {};
                        if (
                            ((n.backColor = e.backColor),
                            (n.fontColor = e.fontColor),
                            (n.cssClass = e.cssClass),
                            (n.expanded = e.expanded),
                            (n.name = e.name),
                            (n.html = p.ea(e.name, e.html)),
                            (n.emptyHeight =
                                "undefined" != typeof e.emptyHeight
                                    ? e.emptyHeight
                                    : p.rowEmptyHeight),
                            (n.eventHeight =
                                "undefined" != typeof e.eventHeight
                                    ? e.eventHeight
                                    : p.ga.Ml()),
                            (n.minHeight =
                                "undefined" != typeof e.minHeight
                                    ? e.minHeight
                                    : p.rowMinHeight),
                            (n.marginBottom =
                                "undefined" != typeof e.marginBottom
                                    ? e.marginBottom
                                    : p.rowMarginBottom),
                            (n.marginTop =
                                "undefined" != typeof e.marginTop
                                    ? e.marginTop
                                    : p.rowMarginTop),
                            (n.eventStackingLineHeight =
                                "undefined" != typeof e.eventStackingLineHeight
                                    ? e.eventStackingLineHeight
                                    : p.eventStackingLineHeight),
                            (n.loaded = !e.dynamicChildren),
                            (n.id = e.id || e.value),
                            (n.toolTip = e.toolTip),
                            (n.children = []),
                            (n.columns = []),
                            (n.start = e.start
                                ? new DayPilot.Date(e.start)
                                : this.nb()),
                            (n.isParent = e.isParent),
                            (n.contextMenu = e.contextMenu
                                ? DayPilot.Util.evalVariable(e.contextMenu)
                                : this.contextMenuResource),
                            (n.areas = e.areas),
                            (n.moveDisabled = e.moveDisabled),
                            (n.bubbleHtml = e.bubbleHtml),
                            (n.cellsDisabled = e.cellsDisabled),
                            (n.tags = e.tags),
                            (n.task = e.task),
                            (n.swimlane = e.swimlane),
                            (n.hideEvents = e.hideEvents),
                            (n.height = n.eventHeight),
                            (n.level = 0),
                            (n.resource = e.Uo),
                            (n.lines = []),
                            (n.blocks = []),
                            (n.containers = []),
                            (n.containerCache = {}),
                            (n.isRow = !0),
                            (n.getHeight = function () {
                                var e = 0;
                                if (p.groupConcurrentEvents)
                                    for (
                                        var t = 0;
                                        t < this.blocks.length;
                                        t++
                                    ) {
                                        var n = this.blocks[t];
                                        e = Math.max(e, n.getHeight());
                                    }
                                else if (this.lines.length > 0) {
                                    var i = this.lines.length - 1,
                                        a = this.lines[i],
                                        r = a.height || this.eventHeight,
                                        o = a.top || 0;
                                    e = o + r;
                                }
                                if (0 === e) {
                                    if ("number" == typeof this.emptyHeight)
                                        return this.emptyHeight;
                                    e = this.eventHeight;
                                }
                                return e > this.minHeight ? e : this.minHeight;
                            }),
                            (n.Mm = function () {
                                var e = n.start.getTime() - p.nb().getTime();
                                return p.itline[
                                    p.itline.length - 1
                                ].end.addTime(e);
                            }),
                            (n.resetEvents = function () {
                                var e = this;
                                (e.events = DayPilot.list()),
                                    (e.events.forRange = function (t, n) {
                                        (t = new DayPilot.Date(t)),
                                            (n = n
                                                ? new DayPilot.Date(n)
                                                : e.Mm());
                                        for (
                                            var i = DayPilot.list(), a = 0;
                                            a < e.events.length;
                                            a++
                                        ) {
                                            var r = e.events[a],
                                                o = p.Qg(r.end());
                                            DayPilot.Util.overlaps(
                                                r.start(),
                                                o,
                                                t,
                                                n
                                            ) && i.push(r);
                                        }
                                        return i;
                                    });
                            }),
                            (n.calculateUtilization = function () {
                                function e() {
                                    for (
                                        var e = [], t = 0;
                                        t < n.events.length;
                                        t++
                                    ) {
                                        var i = n.events[t];
                                        DayPilot.contains(
                                            e,
                                            i.start().toString()
                                        ) || e.push(i.start().toString()),
                                            DayPilot.contains(
                                                e,
                                                i.rawend().toString()
                                            ) || e.push(i.rawend().toString());
                                    }
                                    return e.sort(), e;
                                }
                                function t() {
                                    for (
                                        var t = e(),
                                            i = [],
                                            a = { start: n.data.start },
                                            r = 0;
                                        r < t.length;
                                        r++
                                    )
                                        (a.end = new DayPilot.Date(t[r])),
                                            i.push(a),
                                            (a = {
                                                start: new DayPilot.Date(t[r]),
                                            });
                                    return (
                                        (a.end = n.data.end),
                                        i.push(a),
                                        (i.forRange = function (e, t) {
                                            for (
                                                var n = DayPilot.list(), i = 0;
                                                i < this.length;
                                                i++
                                            ) {
                                                var a = this[i];
                                                DayPilot.Util.overlaps(
                                                    e,
                                                    t,
                                                    a.start,
                                                    a.end
                                                ) && n.push(a);
                                            }
                                            return (
                                                (n.maxSum = function (e) {
                                                    for (
                                                        var t = 0, n = 0;
                                                        n < this.length;
                                                        n++
                                                    ) {
                                                        var i = this[n],
                                                            a = i.sum(e);
                                                        a > t && (t = a);
                                                    }
                                                    return t;
                                                }),
                                                n
                                            );
                                        }),
                                        i
                                    );
                                }
                                for (
                                    var n = this, i = (n.sections = t()), a = 0;
                                    a < i.length;
                                    a++
                                ) {
                                    var r = i[a];
                                    r.events = DayPilot.list();
                                    for (var o = 0; o < n.events.length; o++) {
                                        var s = n.events[o];
                                        DayPilot.Util.overlaps(
                                            r.start,
                                            r.end,
                                            s.start(),
                                            s.rawend()
                                        ) && r.events.push(s);
                                    }
                                    r.sum = function (e) {
                                        for (
                                            var t = 0, n = 0;
                                            n < this.events.length;
                                            n++
                                        ) {
                                            var i = this.events[n],
                                                a = 0;
                                            "undefined" == typeof e
                                                ? (a = 1)
                                                : i.tag(e)
                                                ? (a = i.tag(e))
                                                : i.data[e] && (a = i.data[e]),
                                                "number" == typeof a &&
                                                    (t += a);
                                        }
                                        return t;
                                    };
                                }
                            }),
                            (n.Vo = function () {
                                var e = [];
                                return (
                                    (e.height = 0),
                                    (e.add = function (t) {
                                        this.push(t);
                                        var n = t.part.vo();
                                        n > e.height && (e.height = n);
                                    }),
                                    (e.isFree = function (e, t, n) {
                                        for (
                                            var i = e + t - 1,
                                                a = this.length,
                                                r = 0;
                                            r < a;
                                            r++
                                        ) {
                                            var o = this[r];
                                            if (!o.data.nonBlocking) {
                                                if (
                                                    !(
                                                        i < o.part.left ||
                                                        e >
                                                            o.part.left +
                                                                o.part.width -
                                                                1
                                                    )
                                                ) {
                                                    if (
                                                        DayPilot.contains(
                                                            n,
                                                            o.data
                                                        )
                                                    )
                                                        continue;
                                                    return !1;
                                                }
                                                if (
                                                    o.part.container &&
                                                    !(
                                                        i <
                                                            o.part.container
                                                                .left ||
                                                        e >
                                                            o.part.container
                                                                .left +
                                                                o.part.container
                                                                    .width -
                                                                1
                                                    )
                                                )
                                                    return !1;
                                                if (
                                                    p.eventVersionsReserveSpace &&
                                                    !(
                                                        i <
                                                            o.part
                                                                .versionsLeft ||
                                                        e >
                                                            o.part
                                                                .versionsRight -
                                                                1
                                                    )
                                                )
                                                    return !1;
                                            }
                                        }
                                        return !0;
                                    }),
                                    e
                                );
                            }),
                            (n.findFreeLine = function (e, t, i) {
                                if ("number" == typeof i) {
                                    for (var a = 0; a <= i; a++)
                                        this.lines[a] ||
                                            (this.lines[a] = n.Vo());
                                    return i;
                                }
                                if ("dedicated" === i) {
                                    var r = n.Vo();
                                    return (
                                        (r.isFree = function () {
                                            return !1;
                                        }),
                                        this.lines.push(r),
                                        this.lines.length - 1
                                    );
                                }
                                for (var a = 0; a < this.lines.length; a++) {
                                    var r = this.lines[a];
                                    if (r.isFree(e, t)) return a;
                                }
                                var r = n.Vo();
                                return (
                                    this.lines.push(r), this.lines.length - 1
                                );
                            }),
                            (n.putIntoLine = function (e) {
                                var t = e.part.container;
                                if (t) {
                                    if (
                                        null === t.line &&
                                        ("number" == typeof e.data.line ||
                                            "dedicated" === e.data.line)
                                    )
                                        return (
                                            (i = n.findFreeLine(
                                                t.left,
                                                t.width,
                                                e.data.line
                                            )),
                                            (e.part.line = i),
                                            this.lines[i].add(e),
                                            (t.line = i),
                                            i
                                        );
                                } else if (
                                    "number" == typeof e.data.line ||
                                    "dedicated" === e.data.line
                                )
                                    return (
                                        (i = n.findFreeLine(
                                            e.part.left,
                                            e.part.width,
                                            e.data.line
                                        )),
                                        (e.part.line = i),
                                        this.lines[i].add(e),
                                        i
                                    );
                                var i = -1;
                                if (t) {
                                    if (null !== t.line)
                                        return (
                                            this.lines[t.line].add(e), t.line
                                        );
                                    (i = n.findFreeLine(t.left, t.width)),
                                        (t.line = i);
                                } else
                                    i = p.eventVersionsReserveSpace
                                        ? n.findFreeLine(
                                              e.part.versionsLeft,
                                              e.part.versionsWidth
                                          )
                                        : n.findFreeLine(
                                              e.part.left,
                                              e.part.width
                                          );
                                return (
                                    (e.part.line = i), this.lines[i].add(e), i
                                );
                            }),
                            (n.putIntoBlock = function (e) {
                                for (var t = 0; t < this.blocks.length; t++) {
                                    var n = this.blocks[t];
                                    if (DayPilot.indexOf(n.events, e) !== -1)
                                        return;
                                    if (
                                        n.overlapsWith(
                                            e.part.left,
                                            e.part.width
                                        )
                                    )
                                        return (
                                            n.events.push(e),
                                            (e.part.block = n),
                                            (n.min = Math.min(
                                                n.min,
                                                e.part.left
                                            )),
                                            (n.max = Math.max(
                                                n.max,
                                                e.part.left + e.part.width
                                            )),
                                            t
                                        );
                                }
                                var n = {};
                                (n.expanded = !1),
                                    (n.row = this),
                                    (n.events = DayPilot.list()),
                                    (n.lines = DayPilot.list()),
                                    (n.putIntoLine = function (e) {
                                        for (
                                            var t = 0;
                                            t < this.lines.length;
                                            t++
                                        ) {
                                            var n = this.lines[t];
                                            if (
                                                n.isFree(
                                                    e.part.left,
                                                    e.part.width
                                                )
                                            )
                                                return n.add(e), t;
                                        }
                                        var n = [];
                                        (n.height = 0),
                                            (n.add = function (e) {
                                                this.push(e),
                                                    e.part.height > n.height &&
                                                        (n.height =
                                                            e.part.height);
                                            }),
                                            (n.isFree = function (e, t) {
                                                for (
                                                    var n = e + t - 1,
                                                        i = this.length,
                                                        a = 0;
                                                    a < i;
                                                    a++
                                                ) {
                                                    var r = this[a];
                                                    if (
                                                        !(
                                                            n < r.part.left ||
                                                            e >
                                                                r.part.left +
                                                                    r.part
                                                                        .width -
                                                                    1
                                                        )
                                                    )
                                                        return !1;
                                                }
                                                return !0;
                                            }),
                                            n.add(e),
                                            this.lines.push(n);
                                    }),
                                    (n.overlapsWith = function (e, t) {
                                        return !(
                                            e + t - 1 < this.min ||
                                            e > this.max - 1
                                        );
                                    }),
                                    (n.getHeight = function () {
                                        if (!this.expanded)
                                            return p.eventHeight;
                                        if (this.lines.length > 0) {
                                            var e = this.lines.length - 1,
                                                t = this.lines[e],
                                                n = t.height || p.eventHeight;
                                            return (t.top || 0) + n;
                                        }
                                        return p.eventHeight;
                                    }),
                                    (n.clear = function () {
                                        (n.events = DayPilot.list()),
                                            (n.min = null),
                                            (n.max = null);
                                    }),
                                    n.events.push(e),
                                    (e.part.block = n),
                                    (n.min = e.part.left),
                                    (n.max = e.part.left + e.part.width),
                                    this.blocks.push(n);
                            }),
                            (n.Wo = !1),
                            (n.No = t),
                            (n.Rc = function () {
                                (this.hidden = !this.Xo()),
                                    (this.Wo = !1),
                                    this.No && this.No.Rc();
                            }),
                            (n.Xo = function () {
                                return (
                                    !this.No ||
                                    (this.No.Xo() && this.No.expanded)
                                );
                            }),
                            e.columns)
                        )
                            for (var i = 0; i < e.columns.length; i++)
                                n.columns.push(e.columns[i]);
                        return n;
                    }),
                    (this.Bk = function () {
                        p.rowlist.forEach(function (e) {
                            if (
                                !e.isNewRow &&
                                "function" == typeof p.onRowFilter &&
                                p.rows.Je
                            ) {
                                var t = e.No,
                                    n = {};
                                if (
                                    ((n.visible = !0),
                                    (n.row = p._k(e)),
                                    (n.filter = p.rows.Je),
                                    (n.filterParam = p.rows.Je),
                                    (n.control = p),
                                    p.onRowFilter(n),
                                    (e.Wo = !n.visible),
                                    n.visible)
                                ) {
                                    p.rowFilterParentsAlwaysVisible &&
                                        t &&
                                        t.Rc();
                                } else e.hidden = !0;
                            }
                        });
                    }),
                    (this.Yo = function (e) {
                        return !e.some(function (e) {
                            return e.children && e.children.length;
                        });
                    }),
                    (this.Zo = function (e) {
                        return !e.some(function (e) {
                            return !e.children || 0 === e.children.length;
                        });
                    }),
                    (this.Il = function (e) {
                        return (e = e || "main"), p.Ej[e];
                    }),
                    (this.So = function (e, t, n, i, a, r, o) {
                        if (e) {
                            var s = !1;
                            if (p.rows.zo)
                                switch (p.rowSortingMode) {
                                    case "LeavesOnly":
                                        s = p.Yo(e);
                                        break;
                                    case "ParentsOnly":
                                        s = p.Zo(e);
                                }
                            if (s) {
                                var l = p.rows.Bo(),
                                    d = "desc" === p.rows.Ao(),
                                    c = DayPilot.list(e, !0);
                                c.sort(function (e, t) {
                                    var n = p.$n(e, l),
                                        i = p.$n(t, l),
                                        a = 0;
                                    return (
                                        (a =
                                            n === i
                                                ? 0
                                                : "number" == typeof n &&
                                                  "number" == typeof i
                                                ? n - i
                                                : p.Me(n, i, "asc")),
                                        d ? -a : a
                                    );
                                }),
                                    (e = c);
                            }
                            for (
                                var u = p.Il(o).rowlist, h = 0;
                                h < e.length;
                                h++
                            )
                                if (e[h]) {
                                    var f = {};
                                    if (
                                        ((f.level = n),
                                        (f.hidden = r),
                                        (f.index = t.i),
                                        !e[h].hidden)
                                    ) {
                                        var v = this.Eo(e[h], f),
                                            m = p.Fo(v, i);
                                        if (
                                            (r && (m.hidden = !0),
                                            (m.level = n),
                                            (m.index = t.i),
                                            (m.grid = o || "main"),
                                            null !== i && i.children.push(t.i),
                                            u.push(m),
                                            t.i++,
                                            a &&
                                                v.children &&
                                                v.children.length)
                                        ) {
                                            var g = r || !m.expanded;
                                            this.So(
                                                v.children,
                                                t,
                                                n + 1,
                                                m,
                                                !0,
                                                g,
                                                o
                                            );
                                        }
                                    }
                                }
                        }
                    }),
                    (this.$o = [
                        "text",
                        "html",
                        "backColor",
                        "cssClass",
                        "areas",
                        "horizontalAlignment",
                        "hidden",
                    ]),
                    (this.ln = function (e) {
                        if (e.isNewRow)
                            return {
                                row: {
                                    cssClass: p.H("_row_new"),
                                    moveDisabled: !0,
                                    html: p.ea(
                                        p.rowCreateText,
                                        p.rowCreateHtml
                                    ),
                                },
                            };
                        var t = {};
                        (t.row = this._k(e)),
                            DayPilot.Util.copyProps(e, t.row, [
                                "html",
                                "backColor",
                                "fontColor",
                                "cssClass",
                                "toolTip",
                                "contextMenu",
                                "moveDisabled",
                            ]),
                            (t.row.columns = DayPilot.Util.createArrayCopy(
                                e.columns,
                                p.$o
                            )),
                            (t.row.areas = DayPilot.Util.createArrayCopy(
                                e.areas
                            ));
                        var n = p.rowHeaderColumns;
                        if (
                            "undefined" == typeof t.row.columns &&
                            n.length > 0
                        ) {
                            r.columns = [];
                            for (var i = 0; i < n.length; i++)
                                r.columns.push({});
                        }
                        return (
                            "function" == typeof this.onBeforeRowHeaderRender &&
                                this.onBeforeRowHeaderRender(t),
                            t
                        );
                    }),
                    (this.Eo = function (e, t) {
                        var n = this._o(e, t);
                        if ("function" == typeof this.onBeforeResHeaderRender) {
                            var i = {};
                            (i.resource = n), this.onBeforeResHeaderRender(i);
                        }
                        return n;
                    }),
                    (this._o = function (e, t) {
                        var n = {
                            get $data() {
                                return this.Uo;
                            },
                        };
                        for (var i in t) n[i] = t[i];
                        for (var i in e) n[i] = e[i];
                        if (
                            ((n.html = p.ea(e.name, e.html)),
                            p.rowHeaderColumns &&
                                p.rowHeaderColumns.length > 0 &&
                                "undefined" == typeof n.columns)
                        ) {
                            n.columns = [];
                            var a = p.rowHeaderColumns;
                            if (p.Ik()) {
                                for (var r = 0; r < a.length; r++) {
                                    var o = a[r],
                                        s = p.$n(e, o.display);
                                    n.columns.push({ text: s });
                                }
                                n.columns[0] &&
                                    a[0] &&
                                    !a[0].display &&
                                    (n.columns[0].text = n.name);
                            } else
                                for (var r = 0; r < a.length; r++)
                                    n.columns.push({});
                        }
                        return (n.Uo = e), n;
                    }),
                    (this.zk = function () {
                        (this.nav.top.dp = this),
                            (this.nav.top.innerHTML = ""),
                            DayPilot.Util.addClass(
                                this.nav.top,
                                this.H("_main")
                            ),
                            this.nav.top.setAttribute("role", "region"),
                            this.nav.top.setAttribute(
                                "aria-label",
                                "scheduler"
                            ),
                            (this.nav.top.style.MozUserSelect = "none"),
                            (this.nav.top.style.KhtmlUserSelect = "none"),
                            (this.nav.top.style.webkitUserSelect = "none"),
                            (this.nav.top.style.WebkitTapHighlightColor =
                                "rgba(0,0,0,0)"),
                            (this.nav.top.style.WebkitTouchCallout = "none"),
                            this.width &&
                                (this.nav.top.style.width = this.width),
                            "Parent100Pct" === this.heightSpec &&
                                (this.nav.top.style.height = "100%"),
                            (this.nav.top.style.lineHeight = "1.2"),
                            (this.nav.top.style.position = "relative"),
                            this.visible ||
                                (this.nav.top.style.display = "none"),
                            (this.nav.top.onmousemove = this.Sh),
                            (this.nav.top.onmouseout = function () {
                                p.Zm();
                            }),
                            DayPilot.reNonPassive(
                                this.nav.top,
                                "touchstart",
                                R.Bl
                            ),
                            DayPilot.reNonPassive(
                                this.nav.top,
                                "touchmove",
                                R.Cl
                            ),
                            DayPilot.reNonPassive(
                                this.nav.top,
                                "touchend",
                                R.Dl
                            ),
                            this.hideUntilInit &&
                                this.backendUrl &&
                                (this.nav.top.style.visibility = "hidden");
                        var e = this.xj(),
                            t = "Top" === p.timeHeaderPosition;
                        if (
                            ((p.yk = p.timeHeaderPosition),
                            "DivBased" === this.ga.ap())
                        ) {
                            var n = u();
                            (n.style.position = "absolute"),
                                (n.style.left = "0px"),
                                (n.style.width = e + "px");
                            var i = u();
                            (i.style.height = "0px"),
                                (i.style.boxSizing = "content-box"),
                                (i.style.borderTop = "1px solid transparent"),
                                (i.className = this.H("_divider_horizontal")),
                                (this.nav.dh1 = i),
                                (this.nav.left = n),
                                "Top" === p.timeHeaderPosition
                                    ? (n.appendChild(this.Fd()),
                                      n.appendChild(i),
                                      n.appendChild(this.bp()),
                                      p.Ej.top.enabled(),
                                      n.appendChild(this.cp()),
                                      n.appendChild(this.ep()))
                                    : "Bottom" === p.timeHeaderPosition
                                    ? (n.appendChild(this.bp()),
                                      n.appendChild(i),
                                      n.appendChild(this.Fd()))
                                    : n.appendChild(this.bp());
                            var a = u();
                            (a.style.position = "absolute"),
                                (a.style.left = e + "px"),
                                (a.style.width = U.yj() + "px"),
                                (a.style.height = this.zj() + this.gd() + "px"),
                                (a.className =
                                    this.H("_divider") +
                                    " " +
                                    this.H("_splitter")),
                                a.setAttribute("unselectable", "on"),
                                (this.nav.divider = a),
                                this.rowHeaderScrolling && this.fp();
                            var r = u();
                            (r.style.marginLeft = e + U.yj() + "px"),
                                (r.style.marginRight = "1px"),
                                (r.style.position = "relative"),
                                (this.nav.right = r);
                            var o = u();
                            t &&
                                ((o.style.position = "absolute"),
                                (o.style.top = this.zj() + "px")),
                                (o.style.width = "100%"),
                                (o.style.height = "0px"),
                                (o.style.boxSizing = "content-box"),
                                (o.style.borderBottom =
                                    "1px solid transparent"),
                                o.setAttribute("data-dh2", "true"),
                                (o.className = this.H("_divider_horizontal")),
                                (this.nav.dh2 = o),
                                "Top" === p.timeHeaderPosition
                                    ? (r.appendChild(p.gp()),
                                      r.appendChild(p.hp()),
                                      r.appendChild(o),
                                      p.Ej.top.enabled(),
                                      r.appendChild(p.ip()),
                                      r.appendChild(p.jp()))
                                    : "Bottom" === p.timeHeaderPosition
                                    ? (r.appendChild(p.hp()),
                                      r.appendChild(o),
                                      r.appendChild(p.gp()))
                                    : r.appendChild(p.hp());
                            var s = u();
                            s.style.clear = "left";
                            var l = u();
                            (l.style.height = "1px"),
                                (l.style.position = "absolute"),
                                (l.style.left = "0px"),
                                (l.style.right = "0px"),
                                (l.style.display = "none"),
                                (l.className =
                                    this.H("_divider_horizontal") +
                                    " " +
                                    this.H("_divider_horizontal_frozen_top")),
                                (l.onmousemove = function (e) {
                                    e.cancelBubble = !0;
                                }),
                                (this.nav.dividerTop = l);
                            var d = u();
                            (d.style.height = "1px"),
                                (d.style.position = "absolute"),
                                (d.style.left = "0px"),
                                (d.style.right = "0px"),
                                (d.style.display = "none"),
                                (d.className =
                                    this.H("_divider_horizontal") +
                                    " " +
                                    this.H(
                                        "_divider_horizontal_frozen_bottom"
                                    )),
                                (d.onmousemove = function (e) {
                                    e.cancelBubble = !0;
                                }),
                                (this.nav.dividerBottom = d),
                                this.nav.top.appendChild(n),
                                this.nav.top.appendChild(a),
                                this.nav.top.appendChild(r),
                                this.nav.top.appendChild(s),
                                this.nav.top.appendChild(l),
                                this.nav.top.appendChild(d);
                        } else {
                            var c = document.createElement("table");
                            (c.cellPadding = 0),
                                (c.cellSpacing = 0),
                                (c.border = 0),
                                (c.style.position = "absolute");
                            var h = c.insertRow(-1);
                            h.insertCell(-1).appendChild(this.Fd()),
                                h.insertCell(-1).appendChild(this.gp());
                            var f = c.insertRow(-1);
                            f.insertCell(-1).appendChild(this.bp()),
                                f.insertCell(-1).appendChild(this.hp()),
                                this.nav.top.appendChild(c);
                        }
                        if (
                            ((this.Kg = u()),
                            (this.Kg.style.display = "none"),
                            this.nav.top.appendChild(this.Kg),
                            this.oa())
                        ) {
                            var v = document.createElement("input");
                            (v.type = "hidden"),
                                (v.id = this.id + "_state"),
                                (v.name = this.id + "_state"),
                                (this.nav.state = v),
                                this.nav.top.appendChild(v);
                        }
                        var m = u();
                        (m.style.position = "absolute"),
                            (m.style.left = this.xj() + U.yj() + 5 + "px"),
                            (m.style.top = this.zj() + 5 + "px"),
                            (m.style.display = "none"),
                            (m.innerHTML = p.ea(
                                this.loadingLabelText,
                                this.loadingLabelHtml
                            )),
                            DayPilot.Util.addClass(m, this.H("_loading")),
                            (this.nav.loading = m),
                            this.nav.top.appendChild(m),
                            this.kp(),
                            p.lp();
                    }),
                    (this.Sh = function (e) {
                        if (h.row) S.Mo(e);
                        else if (o.mp) {
                            var t = DayPilot.mo3(p.nav.top, e).x,
                                n = p.On(),
                                i = t - 1;
                            p.rowHeaderCols && (i = Math.min(n, t - 1)),
                                (i = Math.max(0, i)),
                                (p.rowHeaderWidth = i),
                                (p.Co = !1),
                                p.rowHeaderCols || p.np(),
                                p.Do(),
                                p.$i(),
                                p.Sd();
                        }
                    }),
                    (this.Qa = function () {
                        var e = this.zj(),
                            t = "Top" === p.timeHeaderPosition;
                        this.nav.corner &&
                            (this.nav.corner.style.height = e + "px"),
                            this.divTimeScroll &&
                                (this.divTimeScroll.style.height = e + "px"),
                            this.divNorth &&
                                (this.divNorth.style.height = e + "px"),
                            this.nav.dh1 &&
                                this.nav.dh2 &&
                                t &&
                                ((this.nav.dh1.style.top = e + "px"),
                                (this.nav.dh2.style.top = e + "px")),
                            (this.nav.loading.style.top = e + 5 + "px"),
                            t && (this.nav.scroll.style.top = e + 1 + "px");
                    }),
                    (this.xj = function () {
                        if (this.Co) return 0;
                        var e = 0,
                            t = this.rowHeaderScrolling,
                            n = this.On();
                        return (e =
                            t && this.rowHeaderWidth < n
                                ? this.rowHeaderWidth
                                : n);
                    }),
                    (this.fp = function () {
                        var e = this.nav.divider;
                        (e.style.cursor = "col-resize"),
                            e.setAttribute("unselectable", "on"),
                            (e.onmousedown = function (e) {
                                var t = (o.mp = {});
                                return (
                                    (t.cursor = p.nav.top.style.cursor),
                                    (t.cleanup = function () {
                                        if (
                                            (p.Tn(),
                                            (p.nav.top.style.cursor = t.cursor),
                                            "function" ==
                                                typeof p.onRowHeaderResized)
                                        ) {
                                            var e = {};
                                            p.onRowHeaderResized(e);
                                        }
                                    }),
                                    (p.nav.top.style.cursor = "col-resize"),
                                    !1
                                );
                            });
                    }),
                    (this.Do = function () {
                        var e = U.yj(),
                            t = this.xj();
                        if (
                            (this.nav.corner &&
                                (this.nav.corner.style.width = t + "px"),
                            this.nav.corner &&
                                (this.divCorner.style.width = t + "px"),
                            (this.divResScroll.style.width = t + "px"),
                            "DivBased" === U.ap() &&
                                ((this.nav.left.style.width = t + "px"),
                                (this.nav.divider.style.left = t - e + "px"),
                                (this.nav.right.style.marginLeft = t + "px")),
                            this.nav.message &&
                                (this.nav.message.style.left = p.wj() + "px"),
                            this.nav.loading &&
                                (this.nav.loading.style.left =
                                    t + e + 5 + "px"),
                            this.nav.hideIcon)
                        ) {
                            var n = this.nav.hideIcon,
                                i = p.H("_header_icon_show"),
                                a = p.H("_header_icon_hide");
                            (n.style.left = t - 1 + "px"),
                                p.Co
                                    ? (DayPilot.Util.removeClass(n, a),
                                      DayPilot.Util.addClass(n, i))
                                    : (DayPilot.Util.removeClass(n, i),
                                      DayPilot.Util.addClass(n, a));
                        }
                    }),
                    (this.np = function () {
                        this.Nn();
                        var e = this.On(),
                            t = function (e, t, n) {
                                if (e && e.style) {
                                    var i = e.firstChild;
                                    p.Un
                                        ? ((e.style.width = t + "px"),
                                          (i.style.width = t + "px"),
                                          "number" == typeof n &&
                                              (e.style.left = n + "px"))
                                        : (i.style.width = t + "px");
                                }
                            },
                            n = function (n) {
                                var i = n.cells[0];
                                if (i.colSpan > 1 || "max" === i.colSpan) {
                                    var i = n.cells[0];
                                    t(i, e);
                                } else if (p.rowHeaderCols)
                                    for (
                                        var a = 0, r = 0;
                                        r < n.cells.length;
                                        r++
                                    ) {
                                        var o = p.rowHeaderCols[r],
                                            i = n.cells[r];
                                        t(i, o, a), (a += o);
                                    }
                                else {
                                    var o = p.rowHeaderWidth,
                                        i = n.cells[0];
                                    t(i, o);
                                }
                            },
                            i = this.divHeader;
                        i.style.width = e + "px";
                        for (var a = p.Pn(), r = a.start; r < a.end; r++) {
                            var o = i.rows[r];
                            o && n(o);
                        }
                        if (p.Ej.top.enabled())
                            for (var r = 0; r < p.Ej.top.rowlist.length; r++) {
                                var o = p.Ej.top.divHeader.rows[r];
                                n(o);
                            }
                        if (p.Ej.bottom.enabled())
                            for (
                                var r = 0;
                                r < p.Ej.bottom.rowlist.length;
                                r++
                            ) {
                                var o = p.Ej.bottom.divHeader.rows[r];
                                n(o);
                            }
                        if (
                            (p.nav.resScrollSpace &&
                                (p.nav.resScrollSpace.style.width = e + "px"),
                            p.Ej.bottom.enabled())
                        ) {
                            p.Ej.bottom.divSpace.style.width = e + "px";
                        }
                        this.Da();
                    }),
                    (this.vk = function () {
                        this.Do(), this.np();
                    }),
                    (this.uk = function () {
                        var e = p.nav.corner,
                            t = U.kn(),
                            n = u();
                        (n.style.position = "absolute"),
                            (n.style.bottom = "0px"),
                            (n.style.left = "0px"),
                            (n.style.width = "100%"),
                            (n.style.height = U.pp() + "px"),
                            (n.style.overflow = "hidden"),
                            (p.nav.columnScroll = n);
                        var i = u();
                        (i.style.position = "absolute"),
                            (i.style.bottom = "0px"),
                            (i.style.left = "0px"),
                            (i.style.width = "5000px"),
                            (i.style.height = U.pp() + "px"),
                            (i.style.overflow = "hidden"),
                            (i.className = this.H("_columnheader")),
                            n.appendChild(i);
                        var a = u();
                        (a.style.position = "absolute"),
                            (a.style.top = "0px"),
                            (a.style.bottom = "0px"),
                            (a.style.left = "0px"),
                            (a.style.right = "0px"),
                            (a.className = this.H("_columnheader_inner")),
                            i.appendChild(a),
                            p.Fl && (p.Fl.dispose(), (p.Fl = null));
                        var r = [];
                        t.forEach(function (e) {
                            var t = {};
                            (t.column = {}),
                                (t.column.html = p.ea(
                                    e.text || e.name || e.title,
                                    e.html
                                )),
                                (t.column.areas = null),
                                (t.column.sortingEnabled = !!e.sort),
                                (t.column.data = e),
                                (t.column.cssClass = null),
                                r.push(t),
                                "function" ==
                                    typeof p.onBeforeRowHeaderColumnRender &&
                                    p.onBeforeRowHeaderColumnRender(t);
                        });
                        var o = new DayPilot.Splitter(a);
                        (o.enabled = p.rowHeaderColumnsResizable),
                            (o.widths = DayPilot.Util.propArray(
                                t,
                                "width",
                                p.rowHeaderColumnDefaultWidth
                            )),
                            (o.height = U.pp()),
                            (o.css.title = this.H("_columnheader_cell")),
                            (o.css.titleInner = this.H(
                                "_columnheader_cell_inner"
                            )),
                            (o.css.splitter = this.H("_columnheader_splitter"));
                        var s = p.rows.Bo(),
                            l = p.rows.Ao();
                        (o.titles = DayPilot.list(r).map(function (e) {
                            var t = e.column.data,
                                n = e.column.html,
                                i = e.column.cssClass,
                                a = {};
                            if (
                                ((a.areas = []),
                                t.sort && e.column.sortingEnabled)
                            ) {
                                var r = p.H("_sorticon");
                                s === t.sort
                                    ? ((r += " " + p.H("_sorticon_active")),
                                      (r +=
                                          "asc" === l
                                              ? " " + p.H("_sorticon_asc")
                                              : " " + p.H("_sorticon_desc")))
                                    : (r += " " + p.H("_sorticon_asc")),
                                    (a.areas = [
                                        {
                                            right: 5,
                                            top: 0,
                                            bottom: 0,
                                            width: 10,
                                            cssClass: r,
                                            onClick: function (e) {
                                                var n = {};
                                                (n.field = t.sort),
                                                    s === t.sort
                                                        ? (n.order =
                                                              "asc" ===
                                                              p.rows.Ao()
                                                                  ? "desc"
                                                                  : "asc")
                                                        : (n.order = "asc"),
                                                    p.rows.sort(n);
                                            },
                                        },
                                    ]);
                            }
                            return (
                                DayPilot.isArray(e.column.areas) &&
                                    (a.areas = a.areas.concat(e.column.areas)),
                                (a.cssClass = i),
                                (a.html = n),
                                a
                            );
                        })),
                            (o.data = DayPilot.list(t, !0)),
                            (o.updating = function (e) {
                                (p.cj.skip = !0),
                                    DayPilot.Util.updatePropsFromArray(
                                        U.kn(),
                                        "width",
                                        this.widths
                                    ),
                                    p.vk(),
                                    "Auto" === p.cellWidthSpec;
                            }),
                            (o.updated = function (e) {
                                if ((p.Tn(), p.fb())) {
                                    if (
                                        "function" ==
                                        typeof p.onRowHeaderColumnResized
                                    ) {
                                        var t = {};
                                        (t.column = U.kn()[e.index]),
                                            p.onRowHeaderColumnResized(t);
                                    }
                                } else
                                    switch (p.rowHeaderColumnResizedHandling) {
                                        case "CallBack":
                                            break;
                                        case "PostBack":
                                            break;
                                        case "JavaScript":
                                            if (
                                                "function" ==
                                                typeof p.onRowHeaderColumnResized
                                            ) {
                                                var t = {};
                                                (t.column = U.kn()[e.index]),
                                                    p.onRowHeaderColumnResized(
                                                        t
                                                    );
                                            }
                                    }
                            }),
                            (o.color = "#000000"),
                            (o.opacity = 30),
                            o.init(),
                            e.appendChild(n),
                            (this.Fl = o);
                    }),
                    (this.Ni = function () {
                        var e = this.nav.corner;
                        if (e) {
                            p.wa(),
                                (e.innerHTML = ""),
                                (e.className = this.H("_corner"));
                            var t = u();
                            if (
                                ((t.style.position = "absolute"),
                                (t.style.top = "0px"),
                                (t.style.left = "0px"),
                                (t.style.right = "0px"),
                                (t.style.bottom = "0px"),
                                (t.className = this.H("_corner_inner")),
                                (this.divCorner = t),
                                (t.innerHTML = "&nbsp;"),
                                this.rowHeaderColumns &&
                                    this.rowHeaderColumns.length > 0)
                            ) {
                                var n = u();
                                (n.style.position = "absolute"),
                                    (n.style.top = "0px"),
                                    (n.style.left = "0px"),
                                    (n.style.right = "0px"),
                                    (n.style.bottom = U.pp() + 1 + "px"),
                                    e.appendChild(n);
                                var i = u();
                                (i.style.position = "absolute"),
                                    (i.style.left = "0px"),
                                    (i.style.right = "0px"),
                                    (i.style.height = "1px"),
                                    (i.style.bottom = U.pp() + "px"),
                                    (i.className = this.H("_divider")),
                                    e.appendChild(i),
                                    n.appendChild(t),
                                    this.uk();
                            } else e.appendChild(t);
                            !(function () {
                                var e = {};
                                (e.control = p),
                                    (e.html = p.ea(p.cornerText, p.cornerHtml)),
                                    (e.areas = null);
                                var t = null;
                                if (
                                    ("function" ==
                                        typeof p.onBeforeCornerRender &&
                                        p.onBeforeCornerRender(e),
                                    "function" ==
                                        typeof p.onBeforeCornerDomAdd &&
                                        ((e.element = null),
                                        p.onBeforeCornerDomAdd(e),
                                        (t = e.element)),
                                    t)
                                ) {
                                    var n = p.divCorner;
                                    n.domArgs = e;
                                    if (DayPilot.Util.isReactComponent(t)) {
                                        if (!p.ya.reactDOM)
                                            throw new DayPilot.Exception(
                                                "Can't reach ReactDOM"
                                            );
                                        p.ya.reactDOM.render(t, n);
                                    } else n.appendChild(t);
                                } else
                                    p.divCorner &&
                                        (p.divCorner.innerHTML = e.html || "");
                                e.areas &&
                                    DayPilot.Areas.attach(
                                        p.nav.corner,
                                        {},
                                        { areas: e.areas }
                                    );
                            })();
                            var a = u();
                            (a.style.position = "absolute"),
                                (a.style.padding = "2px"),
                                (a.style.top = "0px"),
                                (a.style.left = "1px"),
                                (a.style.backgroundColor = "#FF6600"),
                                (a.style.color = "white"),
                                (a.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                                DayPilot.Util.isNullOrUndefined(undefined) &&
                                    e.appendChild(a);
                        }
                    }),
                    (this.kp = function () {
                        var e = 3,
                            t = this.xj() + U.yj() - 1,
                            n = 10,
                            i = 20,
                            a = this.zj() + e,
                            r = DayPilot.Util.div(this.nav.top, t, a, n, i);
                        (r.style.cursor = "pointer"),
                            (r.className = p.H("_header_icon")),
                            DayPilot.Util.addClass(r, p.H("_header_icon_hide")),
                            (r.onclick = function () {
                                p.rows.headerToggle();
                            }),
                            (this.nav.hideIcon = r);
                    }),
                    (this.Ck = function () {
                        var e = 3,
                            t = p.nav.hideIcon,
                            n = p.zj() + e;
                        t &&
                            (p.rowlist.length > 0 && p.rowHeaderHideIconEnabled
                                ? (t.style.display = "")
                                : (t.style.display = "none"),
                            (t.style.top = n + "px"));
                    }),
                    (this.Fd = function () {
                        var e = this.xj(),
                            t = u();
                        return (
                            (p.nav.corner = t),
                            (t.style.width = e + "px"),
                            (t.style.height = this.zj() + "px"),
                            (t.style.overflow = "hidden"),
                            (t.style.position = "relative"),
                            t.setAttribute("unselectable", "on"),
                            (t.onmousemove = function () {
                                p.Ca();
                            }),
                            (t.oncontextmenu = function () {
                                return !1;
                            }),
                            this.Ni(),
                            t
                        );
                    }),
                    (this.zj = function () {
                        if ("None" === p.timeHeaderPosition) return 0;
                        if (p.timeHeaders) {
                            var e = I.on(p.timeHeaders.length - 1);
                            return e.top + e.height;
                        }
                        return this.timeHeader
                            ? p.timeHeader.length * U.pp()
                            : 0;
                    }),
                    (this.qp = null),
                    (this.rp = function () {
                        return p.scrollStep || p.eventHeight;
                    }),
                    (this.bp = function () {
                        var e = u();
                        (e.style.width = this.xj() + "px"),
                            (e.style.height = this.gd() + "px"),
                            (e.style.overflow = "hidden"),
                            (e.style.position = "relative"),
                            (e.className = p.H("_rowheader_scroll"));
                        var t = p.rp(),
                            n = p.ga.Zn();
                        n && (e.style.overflowY = "auto"),
                            (e.onmousemove = function () {
                                p.Ca();
                            }),
                            DayPilot.rePassive(e, "touchstart", function () {
                                o.sp = !0;
                            }),
                            e.addEventListener(
                                "wheel",
                                function (n) {
                                    if (0 !== p.tp()) {
                                        var i;
                                        (i =
                                            p.overrideWheelScrolling ||
                                            p.scrollStep
                                                ? n.deltaY > 0
                                                    ? t
                                                    : -t
                                                : 1 === n.deltaMode
                                                ? n.deltaY * U.up() * 1.7
                                                : n.deltaY),
                                            (p.nav.scroll.scrollTop =
                                                e.scrollTop + i),
                                            n.preventDefault();
                                    }
                                },
                                { passive: !1 }
                            ),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            (e.onscroll = function () {
                                if ((p.qp && clearTimeout(p.qp), n)) {
                                    var t = function () {
                                        var t =
                                            p.an() - p.nav.scroll.offsetHeight;
                                        (e.scrollTop = Math.min(
                                            e.scrollTop,
                                            t
                                        )),
                                            (p.nav.scroll.scrollTop =
                                                e.scrollTop);
                                    };
                                    a
                                        ? o.sp && (p.qp = setTimeout(t, 10))
                                        : (p.qp = setTimeout(t, 10));
                                } else
                                    p.qp = setTimeout(function () {
                                        p.nav.scroll.scrollTop = e.scrollTop;
                                    }, 500);
                            }),
                            p.vp(e),
                            e.setAttribute("role", "region"),
                            e.setAttribute("aria-label", "scheduler rows");
                        var i = u();
                        return (
                            (i.onmousemove = function () {
                                p.Ca();
                            }),
                            (this.divHeader = i),
                            e.appendChild(i),
                            (this.divResScroll = e),
                            (this.Dj = e),
                            e
                        );
                    }),
                    (this.vp = function (e) {
                        e.addEventListener("scroll", function () {
                            p.rowHeaderScrolling &&
                                (p.nav.columnScroll &&
                                    (p.nav.columnScroll.scrollLeft =
                                        e.scrollLeft),
                                p.Ej.top.enabled() &&
                                    (p.Ej.top.divHeader.scrollLeft =
                                        e.scrollLeft),
                                this !== p.divResScroll &&
                                    (p.divResScroll.scrollLeft = e.scrollLeft));
                        }),
                            (e.onmouseenter = function () {
                                p.rowHeaderScrolling &&
                                    (e.style.overflowX = "auto");
                            }),
                            (e.onmouseleave = function () {
                                p.rowHeaderScrolling &&
                                    (e.style.overflowX = "hidden");
                            });
                    }),
                    (this.wp = function (e) {
                        if ("TableBased" === U.ap()) {
                            var t = parseInt(this.width, 10),
                                n = isNaN(t) || this.width.indexOf("%") !== -1,
                                i =
                                    (/MSIE/i.test(navigator.userAgent),
                                    this.On());
                            n
                                ? this.nav.top &&
                                  this.nav.top.offsetWidth > 0 &&
                                  (e.style.width =
                                      this.nav.top.offsetWidth - 6 - i + "px")
                                : (e.style.width = t - i + "px");
                        }
                    }),
                    (this.Hl = function (e) {
                        if ("function" == typeof p.onEventMoving && o.Fm) {
                            var t = p.coords || {};
                            (t.shift = e.shiftKey),
                                (t.meta = e.metaKey),
                                (t.ctrl = e.ctrlKey),
                                (t.alt = e.altKey),
                                p.Gn();
                        }
                    }),
                    (this.Gl = function (e) {
                        if ("function" == typeof p.onEventMoving && o.Fm) {
                            var t = p.coords || {};
                            (t.shift = e.shiftKey),
                                (t.meta = e.metaKey),
                                (t.ctrl = e.ctrlKey),
                                (t.alt = e.altKey),
                                p.Gn();
                        }
                    }),
                    (this.Uf = function (e) {
                        ("function" == typeof ResizeObserver &&
                            p.watchWidthChanges) ||
                            (o.Fm && (p.cb(), p.$i()));
                    }),
                    (this.cb = function () {
                        p.U ||
                            ("TableBased" === p.ga.ap() &&
                                (p.wp(p.nav.scroll), p.wp(p.divTimeScroll)),
                            p.Xa(),
                            p.Tn(),
                            p.xp(),
                            (p.Q.drawArea = null));
                    }),
                    (this.se = null),
                    (this.te = null),
                    (this.pa = null),
                    (this.oe = function () {
                        var e = function () {
                                p.cb(), p.$i(null, { dontHideBubble: !0 });
                            },
                            t = function () {
                                var t = p.nav.top,
                                    n = t.offsetParent,
                                    i = n && n.offsetHeight;
                                if (!p.se)
                                    return (
                                        (p.se = {}),
                                        (p.se.changed = !1),
                                        (p.se.width = t.offsetWidth),
                                        (p.se.height = t.offsetHeight),
                                        void (p.se.opHeight = i)
                                    );
                                var a = p.se.width !== t.offsetWidth,
                                    r = p.se.height !== t.offsetHeight,
                                    o =
                                        "Max100Pct" === p.heightSpec &&
                                        p.se.opHeight !== i;
                                (a || r || o) &&
                                    ((p.se.changed = !0),
                                    (p.se.width = t.offsetWidth),
                                    (p.se.height = t.offsetHeight),
                                    (p.se.opHeight = i)),
                                    p.se.changed && ((p.se.changed = !1), e());
                            };
                        if (p.watchWidthChanges) {
                            if ("function" == typeof ResizeObserver) {
                                if (p.pa) return;
                                var n = new ResizeObserver(t);
                                return (
                                    n.observe(p.nav.top),
                                    p.nav.top.offsetParent &&
                                        n.observe(p.nav.top.offsetParent),
                                    void (p.pa = n)
                                );
                            }
                            if (!p.te) {
                                var i = function () {
                                    return p.nav && p.nav.top
                                        ? p.se
                                            ? (p.se.width !==
                                                  p.nav.top.offsetWidth &&
                                                  ((p.se.changed = !0),
                                                  (p.se.counter = 0),
                                                  (p.se.width =
                                                      p.nav.top.offsetWidth)),
                                              p.se.changed &&
                                                  (p.se.counter += 1),
                                              void (
                                                  p.se.changed &&
                                                  p.se.counter > 0 &&
                                                  ((p.se.changed = !1), e())
                                              ))
                                            : ((p.se = {}),
                                              (p.se.counter = 0),
                                              (p.se.changed = !1),
                                              void (p.se.width =
                                                  p.nav.top.offsetWidth))
                                        : void clearInterval(p.te);
                                };
                                (this.te = setInterval(i, 200)), i();
                            }
                        }
                    }),
                    (this.xp = function () {
                        var e = p.Wk;
                        p.clearSelection(),
                            (p.Wk = e),
                            p.Xk(e, { justDraw: !0 });
                    }),
                    (this.Tn = function () {
                        "Auto" === p.cellWidthSpec &&
                            (p.Ri(),
                            p.T &&
                                (p.Ji(),
                                p.Ki(),
                                p.Oi(),
                                p.Si(),
                                p.ra(),
                                p.Pa(),
                                p.Pi(),
                                p.Qi(),
                                p.nk(),
                                p.ab(),
                                p.Ui(),
                                p.Vi(),
                                p.Xa()));
                    }),
                    (this.Ji = function () {
                        if ("Auto" === this.cellWidthSpec) {
                            var e = this.nav.top.clientWidth,
                                t = this.xj(),
                                n = p.tp(),
                                i = e - t - n;
                            if (this.en()) {
                                var a = i / this.en();
                                (this.cellWidth = Math.max(a, p.cellWidthMin)),
                                    (p.Cj = a < p.cellWidthMin);
                            }
                        }
                    }),
                    (this.tp = function () {
                        if ("Auto" === p.heightSpec) return 0;
                        if (
                            "Max" === p.heightSpec ||
                            "Fixed" === p.heightSpec ||
                            "Parent100Pct" === p.heightSpec
                        ) {
                            if (p.an() > p.height) {
                                return DayPilot.sw(p.nav.scroll) || 1;
                            }
                            return 0;
                        }
                        return DayPilot.sw(p.nav.scroll);
                    }),
                    (this.Ij = function () {
                        var e = this.nav.top.clientWidth,
                            t = this.xj(),
                            n = this.gd(),
                            i = this.an(),
                            a = "Auto" === p.heightSpec,
                            r = 0;
                        return (
                            i > n && !a && (r = DayPilot.swa()), e - t - 2 - r
                        );
                    }),
                    (this.gp = function () {
                        var e = "Top" === p.timeHeaderPosition,
                            t = u();
                        (t.style.overflow = "hidden"),
                            (t.style.display = "block"),
                            e
                                ? ((t.style.position = "absolute"),
                                  (t.style.top = "0px"))
                                : (t.style.position = "relative"),
                            (t.style.width = "100%"),
                            (t.style.height = this.zj() + "px"),
                            (t.style.overflow = "hidden"),
                            (t.onmousemove = function () {
                                p.Ca(),
                                    p.cellBubble && p.cellBubble.delayedHide();
                            }),
                            (t.className = p.H("_timeheader_scroll")),
                            this.wp(t),
                            (this.divTimeScroll = t);
                        var n = u();
                        return (
                            (n.style.width = this.uj() + 5e3 + "px"),
                            (this.divNorth = n),
                            t.appendChild(n),
                            t
                        );
                    }),
                    (this.gd = function () {
                        var e = 0,
                            t = p.heightSpec;
                        return "Fixed" === t || "Parent100Pct" === t
                            ? this.height
                                ? this.height
                                : 0
                            : ((e = p.an()),
                              ("Max" === t || "Max100Pct" === t) && e > p.height
                                  ? p.height
                                  : e);
                    }),
                    (this.yp = null),
                    (this.zp = 0),
                    (this.Ap = 0),
                    (this.Bp = 0),
                    (this.Gj = function () {
                        if (
                            "function" == typeof p.onHeightChanged ||
                            "function" == typeof p.onDimensionsChanged
                        ) {
                            p.yp && clearTimeout(p.yp);
                            var e = function () {
                                var e = p.nav.top.offsetHeight,
                                    t = p.zp;
                                p.zp = e;
                                var n = p.nav.top.offsetWidth,
                                    i = p.Ap;
                                p.Ap = n;
                                var a = p.xj(),
                                    r = p.Bp;
                                if (
                                    ((p.Bp = a),
                                    "function" == typeof p.onHeightChanged &&
                                        e !== t)
                                ) {
                                    var o = {};
                                    (o.oldHeight = t),
                                        (o.newHeight = e),
                                        p.onHeightChanged(o);
                                }
                                if (
                                    "function" ==
                                        typeof p.onDimensionsChanged &&
                                    (e !== t || n !== i || a !== r)
                                ) {
                                    var o = {};
                                    (o.oldHeight = t),
                                        (o.newHeight = e),
                                        (o.oldWidth = i),
                                        (o.newWidth = n),
                                        (o.oldRowHeaderWidth = r),
                                        (o.newRowHeaderWidth = a),
                                        p.onDimensionsChanged(o);
                                }
                            };
                            p.yp = setTimeout(e, 100);
                        }
                    }),
                    (this.an = function () {
                        var e;
                        return (
                            this.Fi !== -1
                                ? ((e = this.Fi),
                                  this.Fi > 0 &&
                                      "auto" === p.nav.scroll.style.overflowX &&
                                      (e += DayPilot.sh(p.nav.scroll)))
                                : (e = this.rowlist.length * this.ga.Ml()),
                            (e += p.Ej.bottom.height)
                        );
                    }),
                    (this.Ca = function () {
                        p.Cp &&
                            (this.Da(),
                            this.Ea(),
                            this.Dp(),
                            this.Ln(),
                            this.Zm(),
                            p.cellBubble && p.cellBubble.hideOnMouseOut(),
                            p.bubble && p.bubble.hideOnMouseOut(),
                            p.groupBubble && p.groupBubble.hideOnMouseOut(),
                            (p.Cp = !1));
                    }),
                    (this.Ej = {}),
                    (this.Ej.top = {}),
                    (this.Ej.top.height = 0),
                    (this.Ej.top.rowlist = []),
                    (this.Ej.top.enabled = function () {
                        return this.rowlist && this.rowlist.length > 0;
                    }),
                    Object.defineProperty(p.Ej.top, "top", {
                        get: function () {
                            return p.zj() + 1;
                        },
                    }),
                    Object.defineProperty(p.Ej.top, "right", {
                        get: function () {
                            return p.tp();
                        },
                    }),
                    Object.defineProperty(p.Ej.top, "heightRes", {
                        get: function () {
                            return this.height;
                        },
                    }),
                    (this.Ej.bottom = {}),
                    (this.Ej.bottom.height = 0),
                    (this.Ej.bottom.rowlist = []),
                    (this.Ej.bottom.enabled = function () {
                        return this.rowlist && this.rowlist.length > 0;
                    }),
                    Object.defineProperty(p.Ej.bottom, "top", {
                        get: function () {
                            return (
                                p.zj() +
                                p.gd() -
                                this.height -
                                DayPilot.sh(p.nav.scroll) +
                                1
                            );
                        },
                    }),
                    Object.defineProperty(p.Ej.bottom, "right", {
                        get: function () {
                            return p.tp();
                        },
                    }),
                    Object.defineProperty(p.Ej.bottom, "heightRes", {
                        get: function () {
                            return this.height + DayPilot.sh(p.nav.scroll);
                        },
                    }),
                    (this.Ej.main = {}),
                    (this.lp = function () {
                        var e = p.Ej.main;
                        (e.divCells = p.divCells),
                            (e.divLines = p.divLines),
                            (e.divBreaks = p.divBreaks),
                            (e.divHeader = p.divHeader),
                            (e.divEvents = p.divEvents),
                            (e.divShadow = p.divShadow),
                            (e.divHover = p.divHover),
                            (e.divCrosshair = p.divCrosshair),
                            (e.div = p.nav.scroll),
                            Object.defineProperty(p.Ej.main, "rowlist", {
                                get: function () {
                                    return p.rowlist;
                                },
                            }),
                            Object.defineProperty(p.Ej.main, "top", {
                                get: function () {
                                    return p.zj() + 1;
                                },
                            }),
                            Object.defineProperty(p.Ej.main, "height", {
                                get: function () {
                                    return p.Fi;
                                },
                            });
                    }),
                    (this.cp = function () {
                        var e = p.Ej.top,
                            t = e.top,
                            n = e.height,
                            i = u();
                        return (
                            (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.top = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.style.boxSizing = "border-box"),
                            (i.rows = []),
                            (e.divHeader = i),
                            i
                        );
                    }),
                    (this.ep = function () {
                        var e = p.Ej.bottom,
                            t = e.top,
                            n = e.height,
                            i = u();
                        (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.top = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.style.boxSizing = "border-box");
                        var a = u();
                        (a.style.position = "absolute"),
                            (a.style.height = "500px"),
                            (a.style.top = e.height + "px"),
                            (a.style.left = "0px"),
                            (a.style.width = p.On() + "px"),
                            (a.className = p.H("_rowheader")),
                            i.appendChild(a),
                            (i.rows = []);
                        var r = u();
                        return (
                            i.appendChild(r),
                            (i.Xn = r),
                            p.vp(i),
                            (e.divHeader = i),
                            (e.divSpace = a),
                            i
                        );
                    }),
                    (this.ip = function () {
                        var e = p.Ej.top,
                            t = e.top,
                            n = e.height,
                            i = u();
                        (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.top = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.className = p.H("_grid_top")),
                            (i.onmousedown = p.Ep),
                            (i.onmousemove = p.Mn),
                            (i.oncontextmenu = p.Fp),
                            (p.nav.fixedTop = i),
                            (e.div = i);
                        var a = p.Gp(i);
                        return DayPilot.Util.copyProps(a, e), i;
                    }),
                    (this.jp = function () {
                        var e = p.Ej.bottom,
                            t = e.top,
                            n = e.height,
                            i = u();
                        (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.bottom = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.className = p.H("_grid_bottom")),
                            (i.onmousedown = p.Ep),
                            (i.onmousemove = p.Mn),
                            (i.oncontextmenu = p.Fp),
                            (p.nav.fixedBottom = i),
                            (e.div = i);
                        var a = p.Gp(i);
                        return DayPilot.Util.copyProps(a, e), i;
                    }),
                    (this.Gp = function (e) {
                        var t = u();
                        (t.style.position = "absolute"), e.appendChild(t);
                        var n = u();
                        (n.style.position = "absolute"), e.appendChild(n);
                        var i = u();
                        (i.style.position = "absolute"), e.appendChild(i);
                        var a = u();
                        (a.style.position = "absolute"), e.appendChild(a);
                        var r = u();
                        (r.style.position = "absolute"), e.appendChild(r);
                        var o = u();
                        (o.style.position = "absolute"),
                            (o.style.left = "0px"),
                            (o.style.width = "100000px"),
                            (o.style.bottom = "0px"),
                            (o.style.height = "1px"),
                            e.appendChild(o);
                        var s = u();
                        (s.style.position = "absolute"), e.appendChild(s);
                        var l = u();
                        return (
                            (l.style.position = "absolute"),
                            e.appendChild(l),
                            {
                                divCells: t,
                                divLines: n,
                                divBreaks: i,
                                divEvents: r,
                                divShadow: l,
                                divHover: s,
                                divCrosshair: a,
                            }
                        );
                    }),
                    (this.Fj = function () {
                        var e = p.Ej.top,
                            t = p.Ej.bottom;
                        d(e),
                            d(t),
                            (p.divStretch.style.height =
                                p.Fi + t.height + "px"),
                            (p.nav.dividerTop.style.top =
                                e.top + e.height - 1 + "px"),
                            (p.nav.dividerTop.style.right = e.right + "px"),
                            p.Hp(p.nav.dividerTop, e.enabled()),
                            (p.nav.dividerBottom.style.top = t.top - 1 + "px"),
                            (p.nav.dividerBottom.style.right = t.right + "px"),
                            p.Hp(p.nav.dividerBottom, t.enabled());
                    }),
                    (this.Hp = function (e, t) {
                        e.style.display = t ? "" : "none";
                    }),
                    (this.Pj = function () {
                        var e = p.rowlist;
                        return (
                            (e = e.concat(p.Ej.top.rowlist)),
                            (e = e.concat(p.Ej.bottom.rowlist))
                        );
                    }),
                    (this.Ip = function () {
                        return (
                            p.rowlist.length > 0 ||
                            p.Ej.top.rowlist.length > 0 ||
                            p.Ej.bottom.rowlist.length > 0
                        );
                    }),
                    (this.Jp = function () {
                        this.ed(), this.Kp();
                    }),
                    (this.hp = function () {
                        var e = u();
                        if (
                            ((e.style.overflow = "auto"),
                            (e.style.overflowX = "auto"),
                            (e.style.overflowY = "auto"),
                            (e.style.height = this.gd() + "px"),
                            "Top" === p.timeHeaderPosition
                                ? ((e.style.top = this.zj() + 1 + "px"),
                                  (e.style.position = "absolute"))
                                : (e.style.position = "relative"),
                            (e.style.width = "100%"),
                            (e.className = this.H("_scrollable")),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            this.wp(e),
                            p.overrideWheelScrolling)
                        ) {
                            var t = p.rp();
                            (e.onwheel = function (n) {
                                var i = n.deltaY > 0 ? t : -t;
                                (p.nav.scroll.scrollTop = e.scrollTop + i),
                                    n.preventDefault();
                            }),
                                (e.onmousewheel = function (n) {
                                    var i = n.wheelDelta < 0 ? t : -t;
                                    (p.nav.scroll.scrollTop = e.scrollTop + i),
                                        n.preventDefault(),
                                        (n.returnValue = !1);
                                });
                        }
                        (this.nav.scroll = e), (this.fj = u());
                        var n = this.fj;
                        (n.style.MozUserSelect = "none"),
                            (n.style.KhtmlUserSelect = "none"),
                            (n.style.webkitUserSelect = "none"),
                            (n.daypilotMainD = !0),
                            (n.calendar = this),
                            (n.style.minHeight = "1px"),
                            i && (n.style.webkitTransform = "translateZ(0px)"),
                            (n.style.position = "absolute");
                        var a = this.uj();
                        return (
                            a > 0 && !isNaN(a) && (n.style.width = a + "px"),
                            n.setAttribute("unselectable", "on"),
                            (n.onmousedown = this.Ep),
                            (n.onmousemove = this.Mn),
                            (n.onmouseup = this.Lp),
                            (n.oncontextmenu = this.Fp),
                            (n.ondblclick = this.Mp),
                            (n.className = this.H("_matrix")),
                            (this.divStretch = u()),
                            (this.divStretch.style.position = "absolute"),
                            (this.divStretch.style.height = "1px"),
                            n.appendChild(this.divStretch),
                            (this.divCells = u()),
                            (this.divCells.style.position = "absolute"),
                            (this.divCells.oncontextmenu = this.Fp),
                            n.appendChild(this.divCells),
                            (this.divLines = u()),
                            (this.divLines.style.position = "absolute"),
                            (this.divLines.oncontextmenu = this.Fp),
                            n.appendChild(this.divLines),
                            (this.divBreaks = u()),
                            (this.divBreaks.style.position = "absolute"),
                            (this.divBreaks.oncontextmenu = this.Fp),
                            n.appendChild(this.divBreaks),
                            (this.divSeparators = u()),
                            (this.divSeparators.style.position = "absolute"),
                            (this.divSeparators.oncontextmenu = this.Fp),
                            n.appendChild(this.divSeparators),
                            (this.divLinksBelow = u()),
                            (this.divLinksBelow.style.position = "absolute"),
                            n.appendChild(this.divLinksBelow),
                            (this.divCrosshair = u()),
                            (this.divCrosshair.style.position = "absolute"),
                            (this.divCrosshair.ondblclick = this.Mp),
                            (this.divCrosshair.onmousedown = this.$d),
                            n.appendChild(this.divCrosshair),
                            (this.divRange = u()),
                            (this.divRange.style.position = "absolute"),
                            (this.divRange.oncontextmenu = this.Fp),
                            n.appendChild(this.divRange),
                            (this.divEvents = u()),
                            (this.divEvents.style.position = "absolute"),
                            n.appendChild(this.divEvents),
                            (this.divSeparatorsAbove = u()),
                            (this.divSeparatorsAbove.style.position =
                                "absolute"),
                            (this.divSeparatorsAbove.oncontextmenu = this.Fp),
                            n.appendChild(this.divSeparatorsAbove),
                            (this.divLinksAbove = u()),
                            (this.divLinksAbove.style.position = "absolute"),
                            n.appendChild(this.divLinksAbove),
                            (this.divLinkShadow = u()),
                            (this.divLinkShadow.style.position = "absolute"),
                            n.appendChild(this.divLinkShadow),
                            (this.divLinkpoints = u()),
                            (this.divLinkpoints.style.position = "absolute"),
                            n.appendChild(this.divLinkpoints),
                            (this.divRectangle = u()),
                            (this.divRectangle.style.position = "absolute"),
                            n.appendChild(this.divRectangle),
                            (this.divHover = u()),
                            (this.divHover.style.position = "absolute"),
                            n.appendChild(this.divHover),
                            (this.divShadow = u()),
                            (this.divShadow.style.position = "absolute"),
                            n.appendChild(this.divShadow),
                            e.appendChild(n),
                            e
                        );
                    }),
                    (this.Np = {});
                var M = this.Np;
                (M.Kf = function () {
                    if (!p.nav.overlay) {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"),
                            (e.style.left = "0px"),
                            (e.style.right = "0px"),
                            (e.style.top = "0px"),
                            (e.style.bottom = "0px"),
                            (e.className = p.H("_block")),
                            p.nav.top.appendChild(e),
                            (p.nav.overlay = e);
                    }
                }),
                    (M._a = function () {
                        M.Kf(), (p.nav.overlay.style.display = "");
                    }),
                    (M.wg = function () {
                        p.nav.overlay && (p.nav.overlay.style.display = "none");
                    }),
                    (this.ka = function (e) {
                        e = e || {};
                        var t = e.delay || 0,
                            n = p.ea(
                                e.text || this.loadingLabelText,
                                this.loadingLabelHtml
                            ),
                            i =
                                "undefined" != typeof e.block
                                    ? e.block
                                    : p.blockOnCallBack;
                        p.Op && window.clearTimeout(p.Op);
                        var a = function () {
                            (p.loadingLabelVisible || e.text) &&
                                ((p.nav.loading.innerHTML = n),
                                (p.nav.loading.style.display = "")),
                                i && M._a();
                        };
                        0 === t ? a() : (p.Op = window.setTimeout(a, t));
                    }),
                    (this.Ja = function (e) {
                        this.Op && window.clearTimeout(this.Op),
                            (this.nav.loading.style.display = "none"),
                            (e || p.blockOnCallBack) && M.wg();
                    }),
                    (this.loadingStart = function (e) {
                        p.ka(e);
                    }),
                    (this.loadingStop = function () {
                        p.Ja(!0);
                    }),
                    (this.uiBlock = function () {
                        M._a();
                    }),
                    (this.uiUnblock = function () {
                        M.wg();
                    }),
                    (this.Pe = function () {
                        this.startDate = new DayPilot.Date(
                            this.startDate
                        ).getDatePart();
                    }),
                    (this.Te = function (e) {
                        var t = u();
                        (t.style.position = "absolute"),
                            (t.style.top = "-2000px"),
                            (t.style.left = "-2000px"),
                            (t.className = this.H(e)),
                            c().appendChild(t);
                        var n = t.offsetHeight,
                            i = t.offsetWidth;
                        c().removeChild(t);
                        var a = {};
                        return (a.height = n), (a.width = i), a;
                    }),
                    (this.eb = function (e) {
                        if (
                            (e && (this.autoRefreshEnabled = !0),
                            this.autoRefreshEnabled &&
                                !(this.S >= this.autoRefreshMaxCount))
                        ) {
                            this.qa();
                            var t = this.autoRefreshInterval;
                            if (!t || t < 10)
                                throw new DayPilot.Exception(
                                    "The minimum autoRefreshInterval is 10 seconds"
                                );
                            this.autoRefreshTimeout = window.setTimeout(
                                function () {
                                    p.qe();
                                },
                                1e3 * this.autoRefreshInterval
                            );
                        }
                    }),
                    (this.qa = function () {
                        this.autoRefreshTimeout &&
                            (window.clearTimeout(this.autoRefreshTimeout),
                            (this.autoRefreshTimeout = null));
                    }),
                    (this.autoRefreshStart = function (e) {
                        p.eb(e);
                    }),
                    (this.autoRefreshPause = function () {
                        p.qa();
                    }),
                    (this.Pp = function () {
                        return !(o.Km || o.ck || o.Hn || o.Lm);
                    }),
                    (this.qe = function () {
                        if (p.Pp()) {
                            var e = !1;
                            if ("function" == typeof this.onAutoRefresh) {
                                var t = {};
                                (t.i = this.S),
                                    (t.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    p.onAutoRefresh(t),
                                    t.preventDefault.value && (e = !0);
                            }
                            !e &&
                                this.J() &&
                                this.commandCallBack(this.autoRefreshCommand),
                                this.S++;
                        }
                        this.S < this.autoRefreshMaxCount &&
                            (this.autoRefreshTimeout = window.setTimeout(
                                function () {
                                    p.qe();
                                },
                                1e3 * this.autoRefreshInterval
                            ));
                    }),
                    (this.ve = function () {
                        o.Qp ||
                            ((o.Qp = !0),
                            DayPilot.re(document, "mousemove", o.zf),
                            DayPilot.re(document, "mouseup", o.yf),
                            DayPilot.re(document, "mousedown", o.Rp),
                            DayPilot.re(document, "touchend", o.Sp),
                            document.addEventListener("touchmove", o.Tp, {
                                passive: !1,
                            }),
                            DayPilot.re(window, "keyup", o.Up)),
                            DayPilot.re(window, "resize", this.Uf),
                            DayPilot.re(document, "keydown", this.Gl),
                            DayPilot.re(document, "keyup", this.Hl);
                    }),
                    (this.Vp = function () {
                        (this.nav.scroll.root = this),
                            (this.nav.scroll.onscroll = this.$i),
                            (p.gn = this.nav.scroll.scrollLeft),
                            (p.dn = this.nav.scroll.scrollTop),
                            this.divNorth && (p.Wp = this.divNorth.clientWidth);
                    }),
                    (this.Gh = function () {
                        if (this.nav.state) {
                            var e = {};
                            (e.scrollX = this.nav.scroll.scrollLeft),
                                (e.scrollY = this.nav.scroll.scrollTop);
                            var t = p.ol(e.scrollX, e.scrollY),
                                n = p.pl(t),
                                i = p.ql(t);
                            (e.rangeStart = n.start),
                                (e.rangeEnd = n.end),
                                (e.resources = i),
                                this.syncResourceTree && (e.tree = this.Ba()),
                                (this.nav.state.value = DayPilot.he(
                                    JSON.stringify(e)
                                ));
                        }
                    }),
                    (this.Vi = function () {
                        if (this.separators)
                            for (var e = 0; e < this.separators.length; e++)
                                this.Ie(e);
                    }),
                    (this.Xp = {}),
                    (this.Xp.step = 300),
                    (this.Xp.delay = 10),
                    (this.Xp.mode = "display"),
                    (this.Xp.layers = !1),
                    (this.jn = function (e) {
                        if (p.Bi) return void A.Yp(e);
                        for (var t = 0, n = 0; n < e.lines.length; n++) {
                            var i = e.lines[n];
                            (i.height = 0), (i.top = t);
                            for (var a = 0; a < i.length; a++) {
                                var r = i[a];
                                if ((!r.part.top, !0)) {
                                    (r.part.line = n),
                                        r.part.height ||
                                            (r.part.height = e.eventHeight);
                                    var o = r.part.vo();
                                    o > i.height && (i.height = o),
                                        (r.part.top = t + e.marginTop);
                                    var s = "Above" === p.eventVersionPosition;
                                    if (
                                        p.eventVersionsEnabled &&
                                        !DayPilot.list(r.versions).isEmpty()
                                    ) {
                                        var l = r.cache || r.data,
                                            d = (l.versions.length, r.part.top);
                                        s ||
                                            (d +=
                                                r.part.height +
                                                p.eventVersionMargin),
                                            DayPilot.list(l.versions).forEach(
                                                function (e, t) {
                                                    if (r.versions[t]) {
                                                        var n =
                                                            t *
                                                            (p.eventVersionHeight +
                                                                p.eventVersionMargin);
                                                        (r.versions[t].top =
                                                            d + n),
                                                            s &&
                                                                ((r.part.top +=
                                                                    p.eventVersionHeight),
                                                                (r.part.top +=
                                                                    p.eventVersionMargin));
                                                    }
                                                }
                                            );
                                    }
                                    (r.part.right = r.part.left + r.part.width),
                                        (r.part.fullTop = e.top + r.part.top),
                                        (r.part.fullBottom =
                                            r.part.fullTop + r.part.height);
                                }
                            }
                            t +=
                                ((i.height || e.eventHeight) *
                                    e.eventStackingLineHeight) /
                                100;
                        }
                    });
                var A = {};
                (A.tm = function (e) {
                    (e.evColumns = DayPilot.list(p.itline).map(function (e, t) {
                        return { events: DayPilot.list() };
                    })),
                        DayPilot.list(e.events).forEach(function (t) {
                            var n = t.start(),
                                i = p.ak(n);
                            e.evColumns[i.i].events.push(t);
                        });
                }),
                    (A.uo = function () {
                        var e = p.Ci,
                            t = 0;
                        DayPilot.list(p.rowlist).forEach(function (n) {
                            var i = 0;
                            n.evColumns.forEach(function (t, a) {
                                var r = p.itline[a],
                                    o = p.rowMarginTop;
                                t.events.forEach(function (t) {
                                    (t.part.left = r.left),
                                        (t.part.width = r.width),
                                        (t.part.top = o),
                                        t.part.height ||
                                            (e
                                                ? (t.part.height =
                                                      A.Zp(t) + U.nn())
                                                : (t.part.height =
                                                      n.eventHeight)),
                                        (o +=
                                            t.part.height +
                                            p.eventMarginBottom);
                                }),
                                    (t.height = o),
                                    t.height > i && (i = t.height);
                            }),
                                (n.maxColumnHeight = i),
                                (n.top = t);
                            var a = n.height;
                            (n.height = n.getHeight()),
                                i > p.rowMarginTop &&
                                    (n.height = i + p.rowMarginBottom),
                                a !== n.height && (p.Mk = !0),
                                (t += n.height);
                        }),
                            (p.Fi = t);
                    }),
                    (A.Zp = function (e) {
                        var t = e.client.html(),
                            n = u();
                        (n.style.position = "absolute"),
                            (n.style.top = "-2000px"),
                            (n.style.left = "-2000px"),
                            (n.style.width = e.part.width + "px"),
                            (n.className = p.H(B.event));
                        var i = u();
                        (i.className = p.H(B.eventInner)),
                            (i.innerHTML = t),
                            (i.style.position = "static"),
                            (i.style.overflow = "auto"),
                            n.appendChild(i);
                        var a = p.divEvents;
                        a.appendChild(n);
                        var r = n.offsetHeight;
                        return a.removeChild(n), r;
                    }),
                    (A.Yp = function (e) {
                        A.uo();
                    }),
                    (A.$p = function () {
                        DayPilot.list(p.rowlist).forEach(function (e) {
                            A._p(e);
                        });
                    }),
                    (A.ab = function () {
                        A.$p(), A.aq(), p.Qi(), p.Xa();
                    }),
                    (A.aq = function () {
                        if (p.Ci) {
                            var e = !1;
                            DayPilot.list(p.elements.events).forEach(function (
                                t
                            ) {
                                var n = t.firstChild,
                                    i =
                                        n.offsetHeight -
                                        n.clientHeight +
                                        t.offsetHeight -
                                        t.clientHeight,
                                    a = n.scrollHeight + i,
                                    r = t.event.part.height;
                                (t.event.part.height = a), r !== a && (e = !0);
                            }),
                                e && (p.ra(), A.uo(), A.$p(), p.Ri(), p.Ui());
                        }
                    }),
                    (A._p = function (e) {
                        e.evColumns.forEach(function (e, t) {
                            e.events.forEach(function (e) {
                                p.Wc(e);
                            });
                        });
                    }),
                    (this.xk = null),
                    (this.ab = function (e) {
                        if (!p.U) {
                            if (p.Bi) return void A.ab();
                            var t = this.Xp.step;
                            this.Xp.layers &&
                                ((p.divEvents = u()),
                                (p.divEvents.style.position = "absolute"),
                                p.fj.insertBefore(
                                    this.divEvents,
                                    this.divSeparatorsAbove
                                )),
                                "display" === this.Xp.mode
                                    ? (this.divEvents.style.display = "none")
                                    : "visibility" === this.Xp.mode &&
                                      (this.divEvents.style.visibility =
                                          "hidden"),
                                this.divEvents.setAttribute("role", "region"),
                                this.divEvents.setAttribute(
                                    "aria-label",
                                    "scheduler events"
                                );
                            var n =
                                    "Progressive" ===
                                    this.dynamicEventRendering,
                                i = this.Y(),
                                a = i.pixels.top,
                                r = i.pixels.bottom,
                                o = p.allowMultiMove || p.allowMultiResize,
                                s = p.rowlist.filter(function (e) {
                                    var t =
                                            e.top -
                                            p.dynamicEventRenderingMargin,
                                        i =
                                            t +
                                            e.height +
                                            2 * p.dynamicEventRenderingMargin;
                                    return !(n && !o && (r <= t || a >= i));
                                });
                            p.Ej.top.enabled() &&
                                (s = s.concat(p.Ej.top.rowlist)),
                                p.Ej.bottom.enabled() &&
                                    (s = s.concat(p.Ej.bottom.rowlist)),
                                s.forEach(function (n) {
                                    p.jn(n);
                                    for (var i = 0; i < n.lines.length; i++)
                                        for (
                                            var a = n.lines[i], r = 0;
                                            r < a.length;
                                            r++
                                        ) {
                                            var o = a[r],
                                                s = p.Wc(o);
                                            if (e && s && (t--, t <= 0))
                                                return (
                                                    (p.divEvents.style.visibility =
                                                        ""),
                                                    (p.divEvents.style.display =
                                                        ""),
                                                    void (p.xk =
                                                        window.setTimeout(
                                                            function () {
                                                                p.ab(e);
                                                            },
                                                            p.Xp.delay
                                                        ))
                                                );
                                        }
                                }),
                                (this.divEvents.style.display = ""),
                                DayPilot.list(p.multiselect.Wb).isEmpty() ||
                                    p.multiselect.redraw(),
                                this.nj(),
                                y.Rk(),
                                this.qm();
                        }
                    }),
                    (this.Ok = function (e, t) {
                        var n = p.Il(t),
                            i = n.rowlist[e];
                        if (p.Bi) return void A._p(i);
                        (this.divEvents = u()),
                            (this.divEvents.style.position = "absolute"),
                            (this.divEvents.style.display = "none"),
                            this.fj.insertBefore(
                                this.divEvents,
                                this.divSeparatorsAbove
                            ),
                            this.jn(i);
                        for (var a = 0; a < i.lines.length; a++)
                            for (var r = i.lines[a], o = 0; o < r.length; o++) {
                                var s = r[o];
                                this.Wc(s);
                            }
                        this.divEvents.style.display = "";
                    }),
                    (this.ra = function () {
                        if (this.elements.events)
                            for (
                                var e = this.elements.events.length, t = 0;
                                t < e;
                                t++
                            ) {
                                var n = this.elements.events[t];
                                this.Uc(n);
                            }
                        this.elements.events = [];
                    }),
                    (this.Nk = function (e, t) {
                        if (((t = t || "main"), this.elements.events)) {
                            for (
                                var n = this.elements.events.length,
                                    i = [],
                                    a = 0;
                                a < n;
                                a++
                            ) {
                                var r = this.elements.events[a],
                                    o = r.event;
                                o.part.dayIndex === e &&
                                    o.part.grid === t &&
                                    (this.Uc(r), i.push(a));
                            }
                            for (var a = i.length - 1; a >= 0; a--)
                                this.elements.events.splice(i[a], 1);
                        }
                    }),
                    (this.Uc = function (e) {
                        var t = e.domArgs;
                        if (
                            ((e.domArgs = null),
                            t &&
                                "function" == typeof p.onDomRemoveEvent &&
                                p.onDomRemoveEvent(t),
                            t &&
                                "function" == typeof p.onBeforeEventDomRemove &&
                                p.onBeforeEventDomRemove(t),
                            t &&
                                "function" == typeof p.onBeforeEventDomAdd &&
                                p.ya.reactDOM)
                        ) {
                            var n = t && t.Tc;
                            if (n) {
                                if (DayPilot.Util.isReactComponent(t.element)) {
                                    if (!p.ya.reactDOM)
                                        throw new DayPilot.Exception(
                                            "Can't reach ReactDOM"
                                        );
                                    p.ya.reactDOM.unmountComponentAtNode(n);
                                }
                            }
                        }
                        e.parentNode && e.parentNode.removeChild(e),
                            (e.onclick = null),
                            (e.oncontextmenu = null),
                            (e.onmouseover = null),
                            (e.onmouseout = null),
                            (e.onmousemove = null),
                            (e.onmousedown = null),
                            (e.ondblclick = null),
                            e.event &&
                                ((e.event.rendered = null), (e.event = null)),
                            e.related && DayPilot.de(e.related);
                    }),
                    (this.bq = function (e) {
                        e.event && (e.event.rendered = !1),
                            (e.onclick = null),
                            (e.onmousedown = null),
                            (e.event = null),
                            e.parentNode && e.parentNode.removeChild(e);
                    }),
                    (this.cq = function () {
                        if ("Progressive" === this.dynamicEventRendering) {
                            if (p.dynamicEventRenderingCacheSweeping) {
                                var e = p.dynamicEventRenderingCacheSize || 0;
                                this.divEvents.style.display = "none";
                                for (
                                    var t = [],
                                        n = 0,
                                        i = this.elements.events.length,
                                        a = i - 1;
                                    a >= 0;
                                    a--
                                ) {
                                    var r = this.elements.events[a];
                                    this.dq(r.event)
                                        ? e > 0
                                            ? (e--, t.unshift(r))
                                            : (this.Uc(r), n++)
                                        : t.unshift(r);
                                }
                                (this.elements.events = t),
                                    (this.divEvents.style.display = "");
                            }
                        }
                    }),
                    (this.eq = function (e) {
                        for (
                            var t = [],
                                n = 0,
                                i = this.Y(),
                                a = this.elements.cells.length,
                                r = a - 1;
                            r >= 0;
                            r--
                        ) {
                            var o = this.elements.cells[r];
                            i.xStart < o.coords.x &&
                            o.coords.x <= i.xEnd &&
                            i.yStart < o.coords.y &&
                            o.coords.y <= i.yEnd
                                ? t.unshift(o)
                                : e > 0
                                ? (e--, t.unshift(o))
                                : (this.zm(o), n++);
                        }
                    }),
                    (this.zm = function (e) {
                        if (e && e.coords) {
                            var t = e.coords.x,
                                n = e.coords.y,
                                i = e.coords.grid;
                            DayPilot.rfa(p.elements.cells, e),
                                DayPilot.de(e),
                                (p.Q.cells[i + "_" + t + "_" + n] = null);
                        }
                    }),
                    (this.Si = function () {
                        if (this.elements.separators)
                            for (
                                var e = 0;
                                e < this.elements.separators.length;
                                e++
                            ) {
                                var t = this.elements.separators[e];
                                DayPilot.de(t);
                            }
                        this.elements.separators = [];
                    }),
                    (this.fq = function () {
                        var e = "Progressive" === this.dynamicEventRendering;
                        if (!this.nav.scroll) return !1;
                        for (
                            var t = this.nav.scroll.scrollTop,
                                n = t + this.nav.scroll.clientHeight,
                                i = 0;
                            i < this.rowlist.length;
                            i++
                        ) {
                            var a = this.rowlist[i],
                                r = a.top,
                                o = a.top + a.height;
                            if (!e || !(n <= r || t >= o))
                                for (var s = 0; s < a.lines.length; s++)
                                    for (
                                        var l = a.lines[s], d = 0;
                                        d < l.length;
                                        d++
                                    ) {
                                        var c = l[d];
                                        if (this.gq(c)) return !0;
                                    }
                        }
                        return !1;
                    }),
                    (this.gq = function (e) {
                        if (e.rendered) return !1;
                        var t = "Progressive" === this.dynamicEventRendering,
                            n = this.nav.scroll.scrollLeft,
                            i = n + this.nav.scroll.clientWidth,
                            a = e.part.left,
                            r = e.part.left + e.part.width;
                        return !t || !(i <= a || n >= r);
                    }),
                    (this.dq = function (e) {
                        if (!e.rendered) return !0;
                        var t = this.Y(),
                            n = t.pixels.top,
                            i = t.pixels.bottom,
                            a =
                                t.pixels.left -
                                this.dynamicEventRenderingMargin,
                            r =
                                t.pixels.right +
                                this.dynamicEventRenderingMargin,
                            o = e.part.left,
                            s = e.part.right,
                            l = e.part.fullTop,
                            d = e.part.fullBottom;
                        return r <= o || a >= s || i <= l || n >= d;
                    }),
                    (this.so = DayPilot.list()),
                    (this.hq = function (e) {
                        if (e.rendered) return !1;
                        var t = e.row;
                        if (t.hidden) return !1;
                        var n = e.min,
                            i = e.max - e.min,
                            a = p.eventHeight,
                            r = e.row.top;
                        "number" == typeof t.forcedHeight &&
                            (a = Math.min(t.forcedHeight, p.eventHeight));
                        var o = u();
                        (o.style.position = "absolute"),
                            (o.style.left = n + "px"),
                            (o.style.top = r + "px"),
                            (o.style.width = i + "px"),
                            (o.style.height = a + "px"),
                            (o.className = p.H("_event_group")),
                            (o.style.cursor = "pointer");
                        var s = {};
                        (s.group = {}),
                            (s.group.count = e.events.length),
                            (s.group.events = DayPilot.list(e.events, !0)),
                            (s.group.html =
                                "&#x1F7A7; " + e.events.length + " events"),
                            (s.group.bubbleHtml = null),
                            "function" == typeof p.onBeforeGroupRender &&
                                p.onBeforeGroupRender(s);
                        var l = u();
                        return (
                            (l.innerHTML = s.group.html),
                            o.appendChild(l),
                            (o.onmousedown = function (e) {
                                e.cancelBubble = !0;
                            }),
                            (o.onclick = function (e) {
                                var n = o.event;
                                (n.expanded = !0), p.bq(o);
                                var i = DayPilot.indexOf(p.elements.events, o);
                                i !== -1 && p.elements.events.splice(i, 1);
                                var a = p.so;
                                DayPilot.list(n.events).forEach(function (e) {
                                    a.push(e.id());
                                }),
                                    "undefined" != typeof DayPilot.Bubble &&
                                        (DayPilot.Bubble.hideActive(),
                                        DayPilot.Bubble.cancelShowing()),
                                    p.nk(),
                                    p.ok([t]),
                                    p.Xa(),
                                    p.ab(),
                                    (e.cancelBubble = !0);
                            }),
                            (o.onmousemove = function (t) {
                                if (p.groupBubble) {
                                    var n = {};
                                    (n.calendar = p),
                                        (n.type = "Group"),
                                        (n.object = {
                                            events: DayPilot.list(e.events, !0),
                                        }),
                                        (n.staticHTML = s.group.bubbleHtml),
                                        console.log("staticHTML", n.staticHTML),
                                        (n.div = o),
                                        (n.toJSON = function () {
                                            var e = {};
                                            return (
                                                (e.uid = p.uniqueID),
                                                (e.type = "Group"),
                                                (e.object = n.object),
                                                e
                                            );
                                        }),
                                        p.groupBubble.showGroup(n);
                                }
                            }),
                            (o.onmouseout = function (e) {
                                p.groupBubble && p.groupBubble.hideOnMouseOut();
                            }),
                            (e.part = {}),
                            (e.part.left = n),
                            (e.part.width = i),
                            (e.part.height = p.eventHeight),
                            (e.part.dayIndex = DayPilot.indexOf(
                                p.rowlist,
                                e.row
                            )),
                            (e.part.top = 0),
                            (e.part.isBlock = !0),
                            (e.part.grid = e.row.grid),
                            (e.client = {}),
                            (e.client.html = function () {
                                return s.group.html;
                            }),
                            (e.data = {}),
                            (o.event = e),
                            this.elements.events.push(o),
                            this.divEvents.appendChild(o),
                            (e.rendered = !0),
                            !0
                        );
                    }),
                    (this.Wc = function (e, t) {
                        t = t || {};
                        var n = t.forced;
                        if (e.rendered) return !1;
                        if (p.groupConcurrentEvents) {
                            var i = e.part.block;
                            if (i.events.length > 1 && !i.expanded)
                                return p.hq(i);
                        }
                        var a = "Progressive" === this.dynamicEventRendering,
                            r = e.part.dayIndex,
                            o = e.part.grid || "main",
                            s = p.Ej[o],
                            l = s.divEvents,
                            d = s.rowlist,
                            c = d[r];
                        if (c.hidden) return !1;
                        var h = c.top,
                            f = this.Y(),
                            v =
                                f.pixels.left -
                                this.dynamicEventRenderingMargin,
                            m =
                                f.pixels.right +
                                this.dynamicEventRenderingMargin,
                            g = f.pixels.top,
                            b = f.pixels.bottom,
                            y = e.part.left,
                            w = e.part.left + e.part.width,
                            x = e.part.top + h,
                            k = x + e.part.height,
                            C = p.multiselect.zc(e),
                            H = m <= y || v >= w,
                            D = "main" === o && (b <= x || g >= k);
                        if (!n && !C && a && (H || D)) return !1;
                        var E = "Milestone" === e.data.type,
                            S = e.part.width,
                            T = e.part.height,
                            _ = e.cache || e.data;
                        (S = DayPilot.Util.atLeast(0, S)),
                            (T = DayPilot.Util.atLeast(0, T));
                        var M = u();
                        if (
                            ((M.related = []),
                            (function (t) {
                                p.eventVersionsEnabled &&
                                    DayPilot.list(_.versions).forEach(function (
                                        n,
                                        i
                                    ) {
                                        if (n) {
                                            var a = e.versions[i];
                                            if (a) {
                                                var r = u();
                                                (r.style.position = "absolute"),
                                                    (r.style.overflow =
                                                        "hidden"),
                                                    (r.style.left =
                                                        a.left + "px"),
                                                    (r.style.top =
                                                        h + a.top + "px"),
                                                    (r.style.width =
                                                        a.width + "px"),
                                                    (r.style.height =
                                                        p.eventVersionHeight +
                                                        "px"),
                                                    (r.className =
                                                        p.H(B.event) +
                                                        " " +
                                                        p.H("_event_previous") +
                                                        " " +
                                                        p.H("_event_version")),
                                                    (r.onmousedown = function (
                                                        e
                                                    ) {
                                                        e.preventDefault(),
                                                            e.stopPropagation();
                                                    }),
                                                    n.toolTip &&
                                                        (r.title = n.toolTip),
                                                    n.cssClass &&
                                                        DayPilot.Util.addClass(
                                                            r,
                                                            n.cssClass
                                                        );
                                                var o = u();
                                                o.setAttribute(
                                                    "unselectable",
                                                    "on"
                                                ),
                                                    (o.className = p.H(
                                                        B.eventInner
                                                    )),
                                                    (o.innerHTML = p.ea(
                                                        n.text,
                                                        n.html
                                                    )),
                                                    n.backColor &&
                                                        (o.style.background =
                                                            n.backColor),
                                                    n.fontColor &&
                                                        (o.style.color =
                                                            n.fontColor),
                                                    n.borderColor &&
                                                        (o.style.borderColor =
                                                            n.borderColor),
                                                    n.backImage &&
                                                        ((o.style.backgroundImage =
                                                            "url(" +
                                                            n.backImage +
                                                            ")"),
                                                        n.backRepeat &&
                                                            (o.style.backgroundRepeat =
                                                                n.backRepeat)),
                                                    r.appendChild(o),
                                                    a.continueLeft &&
                                                        !E &&
                                                        DayPilot.Util.addClass(
                                                            r,
                                                            p.H(
                                                                "_event_continueleft"
                                                            )
                                                        ),
                                                    a.continueRight &&
                                                        !E &&
                                                        DayPilot.Util.addClass(
                                                            r,
                                                            p.H(
                                                                "_event_continueright"
                                                            )
                                                        );
                                                var s =
                                                        p.durationBarVisible &&
                                                        !n.barHidden,
                                                    d = a.width;
                                                if (s && d > 0) {
                                                    var c =
                                                            (100 * a.barLeft) /
                                                            d,
                                                        f = Math.ceil(
                                                            (100 * a.barWidth) /
                                                                d
                                                        );
                                                    "PercentComplete" ===
                                                        p.durationBarMode &&
                                                        ((c = 0),
                                                        (f = n.complete || 0));
                                                    var v = u();
                                                    v.setAttribute(
                                                        "unselectable",
                                                        "on"
                                                    ),
                                                        (v.className = p.H(
                                                            B.eventBar
                                                        )),
                                                        (v.style.position =
                                                            "absolute"),
                                                        n.barBackColor &&
                                                            (v.style.backgroundColor =
                                                                n.barBackColor);
                                                    var m = u();
                                                    m.setAttribute(
                                                        "unselectable",
                                                        "on"
                                                    ),
                                                        (m.className = p.H(
                                                            B.eventBarInner
                                                        )),
                                                        (m.style.left =
                                                            c + "%"),
                                                        0 < f && f <= 1
                                                            ? (m.style.width =
                                                                  "1px")
                                                            : (m.style.width =
                                                                  f + "%"),
                                                        n.barColor &&
                                                            (m.style.backgroundColor =
                                                                n.barColor),
                                                        n.barImageUrl &&
                                                            (m.style.backgroundImage =
                                                                "url(" +
                                                                n.barImageUrl +
                                                                ")"),
                                                        v.appendChild(m),
                                                        r.appendChild(v);
                                                }
                                                if (n.htmlLeft) {
                                                    var g =
                                                            p.eventHtmlLeftMargin,
                                                        b = u();
                                                    (b.style.position =
                                                        "absolute"),
                                                        (b.style.right =
                                                            -(a.left - g) +
                                                            "px"),
                                                        (b.style.top =
                                                            h + a.top + "px"),
                                                        (b.style.height =
                                                            p.eventHeight +
                                                            "px"),
                                                        (b.style.boxSizing =
                                                            "border-box"),
                                                        (b.innerHTML =
                                                            n.htmlLeft),
                                                        (b.className =
                                                            p.H("_event_left")),
                                                        (b.type = "divLeft"),
                                                        (b.versionPart = a),
                                                        t.related.push(b),
                                                        l.appendChild(b);
                                                }
                                                if (n.htmlRight) {
                                                    var g =
                                                            p.eventHtmlRightMargin,
                                                        y = u();
                                                    (y.style.position =
                                                        "absolute"),
                                                        (y.style.left =
                                                            a.left +
                                                            a.width +
                                                            g +
                                                            "px"),
                                                        (y.style.top =
                                                            h + a.top + "px"),
                                                        (y.style.height =
                                                            p.eventHeight +
                                                            "px"),
                                                        (y.style.boxSizing =
                                                            "border-box"),
                                                        (y.innerHTML =
                                                            n.htmlRight),
                                                        (y.className =
                                                            p.H(
                                                                "_event_right"
                                                            )),
                                                        (y.type = "divRight"),
                                                        (y.versionPart = a),
                                                        t.related.push(y),
                                                        l.appendChild(y);
                                                }
                                                (r.versionPart = a),
                                                    (r.type = "version");
                                                var w =
                                                    DayPilot.Areas.resolvePosition(
                                                        n.areas,
                                                        p,
                                                        a.left,
                                                        a.width
                                                    );
                                                DayPilot.Areas.attach(r, n, {
                                                    areas: w,
                                                }),
                                                    t.related.push(r),
                                                    l.appendChild(r);
                                            }
                                        }
                                    });
                            })(M),
                            _.htmlLeft)
                        ) {
                            var A = p.eventHtmlLeftMargin,
                                P = u();
                            (P.style.position = "absolute"),
                                (P.style.right = -(e.part.left - A) + "px"),
                                (P.style.top = h + e.part.top + "px"),
                                (P.style.height = p.eventHeight + "px"),
                                (P.style.boxSizing = "border-box"),
                                (P.innerHTML = _.htmlLeft),
                                (P.className = p.H("_event_left")),
                                (P.type = "divLeft"),
                                M.related.push(P),
                                l.appendChild(P);
                        }
                        if (_.htmlRight) {
                            var A = p.eventHtmlRightMargin,
                                N = u();
                            (N.style.position = "absolute"),
                                (N.style.left =
                                    e.part.left + e.part.width + A + "px"),
                                (N.style.top = h + e.part.top + "px"),
                                (N.style.height = p.eventHeight + "px"),
                                (N.style.boxSizing = "border-box"),
                                (N.innerHTML = _.htmlRight),
                                (N.className = p.H("_event_right")),
                                (N.type = "divRight"),
                                M.related.push(N),
                                l.appendChild(N);
                        }
                        var g = h + e.part.top;
                        if (p.treeAnimation) {
                            var L =
                                "number" == typeof c.forcedHeight
                                    ? c.forcedHeight
                                    : c.height;
                            e.part.top + e.part.height > L &&
                                (T = Math.max(0, L - e.part.top));
                        }
                        (M.style.position = "absolute"),
                            (M.style.left =
                                e.part.left + p.eventMarginLeft + "px"),
                            (M.style.top = h + e.part.top + "px"),
                            (M.style.width =
                                S -
                                p.eventMarginLeft -
                                p.eventMarginRight +
                                "px"),
                            (M.style.height = T + "px"),
                            p.eventTextWrappingEnabled ||
                                (M.style.whiteSpace = "nowrap"),
                            (M.style.overflow = "hidden"),
                            (M.className = this.H(B.event)),
                            E &&
                                DayPilot.Util.addClass(
                                    M,
                                    p.H("_task_milestone")
                                ),
                            "Group" === e.data.type &&
                                (DayPilot.Util.addClass(M, p.H("_task_parent")),
                                DayPilot.Util.addClass(M, p.H("_task_group"))),
                            _.cssClass && DayPilot.Util.addClass(M, _.cssClass);
                        "number" == typeof e.part.line &&
                            DayPilot.Util.addClass(
                                M,
                                this.H(B.eventLine + e.part.line)
                            ),
                            M.setAttribute("unselectable", "on"),
                            this.showToolTip &&
                                !this.bubble &&
                                (M.title = e.client.toolTip() || ""),
                            (M.onmousemove = this.Xc),
                            (M.onmouseout = this.Yc),
                            (M.onmousedown = this.Zc),
                            (M.onmouseup = this.iq),
                            DayPilot.reNonPassive(M, "touchstart", R.jq),
                            DayPilot.rePassive(M, "touchmove", R.kq),
                            DayPilot.rePassive(M, "touchend", R.lq),
                            e.client.clickEnabled() && (M.onclick = this.$g),
                            e.client.doubleClickEnabled() &&
                                (M.ondblclick = this.vb),
                            (M.oncontextmenu = function (e) {
                                p.allowDefaultContextMenu || e.preventDefault();
                            }),
                            "undefined" != typeof _.ariaLabel
                                ? M.setAttribute("aria-label", _.ariaLabel)
                                : M.setAttribute("aria-label", _.text),
                            M.setAttribute("tabindex", "-1");
                        var U = u();
                        U.setAttribute("unselectable", "on"),
                            (U.className = p.H(B.eventInner)),
                            _.backColor && (U.style.background = _.backColor),
                            _.fontColor && (U.style.color = _.fontColor),
                            "darker" === _.borderColor && _.backColor
                                ? (U.style.borderColor =
                                      DayPilot.ColorUtil.darker(_.backColor, 2))
                                : (U.style.borderColor = _.borderColor),
                            _.backImage &&
                                ((U.style.backgroundImage =
                                    "url(" + _.backImage + ")"),
                                _.backRepeat &&
                                    (U.style.backgroundRepeat = _.backRepeat)),
                            M.appendChild(U);
                        var I = e.start().getTime() === e.part.start.getTime(),
                            j = e.rawend().getTime() === e.part.end.getTime();
                        if (
                            (I ||
                                E ||
                                DayPilot.Util.addClass(
                                    M,
                                    this.H("_event_continueleft")
                                ),
                            j ||
                                E ||
                                DayPilot.Util.addClass(
                                    M,
                                    this.H("_event_continueright")
                                ),
                            e.client.barVisible() && S > 0 && !E)
                        ) {
                            var O = (100 * e.part.barLeft) / S,
                                z = Math.ceil((100 * e.part.barWidth) / S);
                            "PercentComplete" === this.durationBarMode &&
                                ((O = 0), (z = _.complete || 0)),
                                p.durationBarHeight &&
                                    (U.style.paddingTop =
                                        p.durationBarHeight + "px");
                            var W = u();
                            W.setAttribute("unselectable", "on"),
                                (W.className = this.H(B.eventBar)),
                                (W.style.position = "absolute"),
                                p.durationBarHeight &&
                                    (W.style.height =
                                        p.durationBarHeight + "px"),
                                _.barBackColor &&
                                    (W.style.backgroundColor = _.barBackColor);
                            var F = u();
                            F.setAttribute("unselectable", "on"),
                                (F.className = this.H(B.eventBarInner)),
                                (F.style.left = O + "%"),
                                p.durationBarHeight &&
                                    (F.style.height =
                                        p.durationBarHeight + "px"),
                                0 < z && z <= 1
                                    ? (F.style.width = "1px")
                                    : (F.style.width = z + "%"),
                                _.barColor &&
                                    (F.style.backgroundColor = _.barColor),
                                _.barImageUrl &&
                                    (F.style.backgroundImage =
                                        "url(" + _.barImageUrl + ")"),
                                W.appendChild(F),
                                M.appendChild(W);
                        }
                        if (((M.row = r), _.areas)) {
                            var q = DayPilot.Areas.resolvePosition(
                                _.areas,
                                p,
                                e.part.left,
                                e.part.width
                            );
                            (q = q.filter(function (e) {
                                return DayPilot.Areas.isVisible(e);
                            })),
                                q.forEach(function (t) {
                                    var n = DayPilot.Areas.createArea(M, e, t);
                                    M.appendChild(n);
                                });
                        }
                        if (
                            ((M.event = e),
                            C &&
                                (p.multiselect.add(M.event, !0),
                                p.multiselect.Lc(M)),
                            (function () {
                                if (
                                    "function" !=
                                        typeof p.onBeforeEventDomAdd &&
                                    "function" !=
                                        typeof p.onBeforeEventDomRemove
                                )
                                    return void (
                                        E ||
                                        (U.innerHTML = e.client.innerHTML())
                                    );
                                var t = {};
                                if (
                                    ((t.control = p),
                                    (t.e = e),
                                    (t.element = null),
                                    (M.domArgs = t),
                                    "function" == typeof p.onDomAddEvent &&
                                        p.onDomAddEvent(t),
                                    "function" ==
                                        typeof p.onBeforeEventDomAdd &&
                                        p.onBeforeEventDomAdd(t),
                                    t.element)
                                ) {
                                    var n = U;
                                    if (n) {
                                        t.Tc = n;
                                        if (
                                            DayPilot.Util.isReactComponent(
                                                t.element
                                            )
                                        ) {
                                            if (!p.ya.reactDOM)
                                                throw new DayPilot.Exception(
                                                    "Can't reach ReactDOM"
                                                );
                                            p.ya.reactDOM.render(t.element, n);
                                        } else n.appendChild(t.element);
                                    }
                                } else
                                    E || (U.innerHTML = e.client.innerHTML());
                            })(),
                            this.elements.events.push(M),
                            l.appendChild(M),
                            (e.rendered = !0),
                            p.fb())
                        ) {
                            if ("function" == typeof p.onAfterEventRender) {
                                var Y = {};
                                (Y.e = M.event),
                                    (Y.div = M),
                                    p.onAfterEventRender(Y);
                            }
                        } else
                            p.afterEventRender &&
                                p.afterEventRender(M.event, M);
                        return !0;
                    }),
                    (this.ea = function (e, t) {
                        return p.ga.fa()
                            ? DayPilot.Util.escapeTextHtml(e, t)
                            : DayPilot.Util.isNullOrUndefined(t)
                            ? DayPilot.Util.isNullOrUndefined(e)
                                ? ""
                                : e
                            : t;
                    }),
                    (this.fb = function () {
                        return 2 === p.api;
                    }),
                    (this.Pk = function () {
                        for (var e = 0; e < this.elements.events.length; e++) {
                            var t = this.elements.events[e],
                                n = t.event,
                                i = n.part.dayIndex,
                                a = p.Il(n.part.grid),
                                r = a.rowlist[i],
                                o = r.top,
                                s = o + n.part.top,
                                l =
                                    "number" == typeof r.forcedHeight
                                        ? r.forcedHeight
                                        : r.height,
                                d = n.part.height,
                                c = !1;
                            n.part.top + n.part.height > l &&
                                ((d = Math.max(0, l - n.part.top)), (c = !0)),
                                (t.style.top = s + "px"),
                                (t.style.height = d + "px"),
                                DayPilot.list(t.related)
                                    .filter(function (e) {
                                        return !!e.versionPart;
                                    })
                                    .forEach(function (e) {
                                        var t = e.versionPart;
                                        e.style.top = o + t.top + "px";
                                    }),
                                DayPilot.list(t.related)
                                    .filter(function (e) {
                                        return (
                                            !e.versionPart &&
                                            ("divLeft" === e.type ||
                                                "divRight" === e.type)
                                        );
                                    })
                                    .forEach(function (e) {
                                        e.style.top = s + "px";
                                    });
                        }
                    }),
                    (this.Ne = function (e) {
                        if (!e) return null;
                        for (var t = 0; t < p.elements.events.length; t++) {
                            var n = p.elements.events[t];
                            if (n.event === e || n.event.data === e.data)
                                return n;
                        }
                        return null;
                    }),
                    (this.km = function (e) {
                        var t = p.events.cm(e.data);
                        if (!t) return null;
                        var n = p.rowlist[t.part.dayIndex];
                        return p.jn(n), p.Wc(t, { forced: !0 }), p.Ne(t);
                    }),
                    (this.Yc = function (e) {
                        var t = this;
                        DayPilot.Areas.hideAreas(t, e),
                            t.active ||
                                (DayPilot.Util.removeClass(
                                    t,
                                    p.H("_event_hover")
                                ),
                                p.mq(t),
                                f.source || y._l(),
                                p.bubble &&
                                    "Bubble" === p.eventHoverHandling &&
                                    p.bubble.hideOnMouseOut());
                    }),
                    (this.nq = function (e) {
                        var t = {};
                        (t.div = e),
                            (t.e = e.event),
                            "function" == typeof this.onEventMouseOver &&
                                this.onEventMouseOver(t),
                            "function" == typeof this.onEventMouseEnter &&
                                this.onEventMouseEnter(t);
                    }),
                    (this.mq = function (e) {
                        var t = {};
                        (t.div = e),
                            (t.e = e.event),
                            "function" == typeof this.onEventMouseOut &&
                                this.onEventMouseOut(t),
                            "function" == typeof this.onEventMouseLeave &&
                                this.onEventMouseLeave(t);
                    }),
                    (this.oq = function (e) {
                        var t = e.row,
                            n = {};
                        (n.div = e),
                            (n.row = p._k(t)),
                            "function" == typeof this.onRowMouseOver &&
                                this.onRowMouseOver(n);
                    }),
                    (this.pq = function (e) {
                        var t = e.row,
                            n = {};
                        (n.div = e),
                            (n.row = p._k(t)),
                            "function" == typeof this.onRowMouseOut &&
                                this.onRowMouseOut(n);
                    }),
                    (this.Xc = function (e) {
                        p.cellBubble && p.cellBubble.delayedHide();
                        for (var t = this; t && !t.event; ) t = t.parentNode;
                        var n = t.event;
                        p.qq(t, e);
                        var i = t.event.cache
                            ? t.event.cache.deleteDisabled
                            : t.event.data.deleteDisabled;
                        if (!t.active) {
                            var a = [];
                            if ("Disabled" !== p.eventDeleteHandling && !i) {
                                var r = p.durationBarVisible ? U.nn() : 0;
                                a.push({
                                    action: "JavaScript",
                                    v: "Hover",
                                    w: 17,
                                    h: 17,
                                    top: r + 2,
                                    right: 2,
                                    css: p.H(B.eventDelete),
                                    js: function (e) {
                                        p.Bb(e);
                                    },
                                });
                            }
                            var o = t.event.cache
                                ? t.event.cache.areas
                                : t.event.data.areas;
                            o &&
                                o.length > 0 &&
                                ((o = DayPilot.Areas.resolvePosition(
                                    o,
                                    p,
                                    n.part.left,
                                    n.part.width
                                )),
                                (a = a.concat(o))),
                                DayPilot.Areas.showAreas(t, t.event, null, a),
                                DayPilot.Util.addClass(t, p.H("_event_hover")),
                                p.nq(t);
                        }
                        "Disabled" === p.linkCreateHandling ||
                            f.source ||
                            (y.Wl(), y.Dk(), p.Pp() && y.Ul(t)),
                            p.fk(e),
                            (p.coords.insideEvent = t.event);
                    }),
                    (this.ck = {}),
                    (this.iq = function (e) {
                        var t = p.ck;
                        if (DayPilot.Util.mouseButton(e).right)
                            return void p.wb.call(this, e);
                        if (p.ionicEventClickFix) {
                            var n = t.rq;
                            if (n) {
                                var i = DayPilot.mc(e);
                                n.x === i.x &&
                                    n.y === i.y &&
                                    (p.$g.call(this, e),
                                    e.preventDefault(),
                                    e.stopPropagation());
                            }
                        }
                    }),
                    (this.Zc = function (e) {
                        p.Ca(),
                            "undefined" != typeof DayPilot.Bubble &&
                                (DayPilot.Bubble.hideActive(),
                                DayPilot.Bubble.cancelShowing()),
                            p.fk(e);
                        var t = DayPilot.Util.mouseButton(e);
                        if ((e.preventDefault(), e.stopPropagation(), t.left)) {
                            var n = e.shiftKey;
                            if ("Disabled" !== U.gk() && n)
                                return P.start(), !1;
                            "w-resize" === this.style.cursor ||
                            "e-resize" === this.style.cursor
                                ? ((o.bk = !0),
                                  (o.Km = this),
                                  (o._m = this.event),
                                  (o.rq = DayPilot.mc(e)),
                                  (c().style.cursor = this.style.cursor),
                                  y.Dk())
                                : ("move" === this.style.cursor ||
                                      ("Full" === p.moveBy &&
                                          this.event.client.moveEnabled())) &&
                                  p.Lo(this, e);
                        }
                        DayPilot.Menu &&
                            DayPilot.Menu.active &&
                            (DayPilot.Menu.active.hide(),
                            (DayPilot.Menu.active = null));
                    }),
                    (this.Lo = function (e, t) {
                        var n = p.ck;
                        p.fk(t),
                            (n.sq = !0),
                            (n.ck = e),
                            (n.Fm = e.event),
                            (n.rq = DayPilot.mc(t)),
                            (n.Em = DayPilot.mo3(e, t).x),
                            (n.Jm = p.getDate(p.coords.x, !0)),
                            y.Dk();
                    }),
                    (this.$c = {});
                var R = p.$c;
                "undefined" == typeof DayPilot.Global.touch &&
                    (DayPilot.Global.touch = {}),
                    (DayPilot.Global.touch.active = !1),
                    (DayPilot.Global.touch.start = !1),
                    (R.dk = []),
                    (R.relativeCoords = function (e) {
                        return R.tq(e);
                    }),
                    (R.startResizing = function (e, t) {
                        R.uq(e, t);
                    }),
                    (R.startMoving = function (e, t) {
                        R.Lo(e, t);
                    }),
                    (R.jq = function (e) {
                        if (
                            !DayPilot.Global.touch.active &&
                            !DayPilot.Global.touch.start
                        ) {
                            DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                                e.stopPropagation(),
                                R.vq(),
                                (DayPilot.Global.touch.start = !0),
                                (DayPilot.Global.touch.active = !1);
                            var t = this;
                            p.coords = R.tq(e);
                            var i = p.tapAndHoldTimeout;
                            R.dk.push(
                                window.setTimeout(function () {
                                    (DayPilot.Global.touch.active = !0),
                                        (DayPilot.Global.touch.start = !1),
                                        e.preventDefault();
                                    var i = t.event;
                                    switch (p.eventTapAndHoldHandling) {
                                        case "Move":
                                            if (i.client.moveEnabled()) {
                                                var a = n(e);
                                                R.Lo(t, a);
                                            }
                                            break;
                                        case "ContextMenu":
                                            DayPilot.Menu &&
                                                DayPilot.Menu.touchPosition(e);
                                            var r = i.client.contextMenu();
                                            r
                                                ? r.show(i)
                                                : p.contextMenu &&
                                                  p.contextMenu.show(i);
                                    }
                                }, i)
                            );
                        }
                    }),
                    (R.kq = function (e) {
                        R.vq(), (DayPilot.Global.touch.start = !1);
                    }),
                    (R.lq = function (e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            if ((R.vq(), DayPilot.Global.touch.start)) {
                                (DayPilot.Global.touch.start = !1),
                                    e.preventDefault(),
                                    e.stopPropagation();
                                var t = this;
                                window.setTimeout(function () {
                                    p.sb(t, e);
                                });
                            }
                            window.setTimeout(function () {
                                (DayPilot.Global.touch.start = !1),
                                    (DayPilot.Global.touch.active = !1);
                            }, 500);
                        }
                    }),
                    (R.Bl = function (e) {
                        if (
                            !(
                                DayPilot.Global.touch.active ||
                                DayPilot.Global.touch.start ||
                                e.touches.length > 1 ||
                                "Disabled" === p.timeRangeSelectedHandling
                            )
                        ) {
                            R.vq(),
                                (DayPilot.Global.touch.start = !0),
                                (DayPilot.Global.touch.active = !1);
                            var t = p.tapAndHoldTimeout;
                            R.dk.push(
                                window.setTimeout(function () {
                                    (DayPilot.Global.touch.active = !0),
                                        (DayPilot.Global.touch.start = !1),
                                        e.preventDefault(),
                                        (p.coords = R.tq(e)),
                                        (R.Lm = p.wq());
                                }, t)
                            );
                            p.coords = R.tq(e);
                        }
                    }),
                    (R.Cl = function (e) {
                        if ((R.vq(), (DayPilot.Global.touch.start = !1), o.Km))
                            return e.preventDefault(), void R.xq();
                        if (DayPilot.Global.touch.active) {
                            if (
                                (e.preventDefault(), (p.coords = R.tq(e)), o.ck)
                            )
                                return void R.yq();
                            if (R.Lm) {
                                var t = R.Lm;
                                (t.end = {
                                    x: Math.floor(p.coords.x / p.cellWidth),
                                    time: p.getDate(p.coords.x, !0),
                                }),
                                    p.Xk(t);
                            }
                        }
                    }),
                    (R.debug = function (e) {}),
                    (R.Dl = function (e) {
                        R.vq();
                        if (DayPilot.Global.touch.active) {
                            if (o.ck) {
                                e.preventDefault();
                                var t = o.Fm;
                                if (p !== o.Dn.calendar) return;
                                var n = o.Dn.start,
                                    i = o.Dn.end,
                                    a =
                                        "Days" !== p.viewType
                                            ? o.Dn.row.id
                                            : null,
                                    r = o.Hn && t.part.external,
                                    s = o.Dn.overlapping,
                                    l = !o.Dn.allowed;
                                if (
                                    (DayPilot.Util.removeClass(
                                        o.ck,
                                        p.H(p.zq.eventMovingSource)
                                    ),
                                    DayPilot.de(o.Dn),
                                    p.Ln(),
                                    (o.Dn.calendar = null),
                                    (c().style.cursor = ""),
                                    (o.ck = null),
                                    (o.Fm = null),
                                    (o.Dn = null),
                                    p.Bn.clear(),
                                    s || l || p.Bn.forbidden || p.Bn.invalid)
                                )
                                    return;
                                p.Kb(t, n, i, a, r);
                            }
                            if (R.Lm) {
                                var d = R.Lm;
                                R.Lm = null;
                                var u = p.elements.range2;
                                u && u.overlapping
                                    ? p.clearSelection()
                                    : p.Tk(d);
                            }
                        } else if (DayPilot.Global.touch.start) {
                            if (p.coords.x < p.getScrollX()) return;
                            var d = p.wq();
                            p.Xk(d);
                            var u = p.elements.range2;
                            u && u.overlapping ? p.clearSelection() : p.Tk(d);
                        }
                        window.setTimeout(function () {
                            (DayPilot.Global.touch.start = !1),
                                (DayPilot.Global.touch.active = !1);
                        }, 500);
                    }),
                    (R.vq = function () {
                        for (var e = 0; e < R.dk.length; e++)
                            clearTimeout(R.dk[e]);
                        R.dk = [];
                    }),
                    (R.tq = function (e) {
                        function t(e, t, n) {
                            var i = DayPilot.abs(n);
                            return {
                                x: e - i.x,
                                y: t - i.y,
                                toString: function () {
                                    return "x: " + this.x + ", y:" + this.y;
                                },
                            };
                        }
                        var n = p.fj,
                            i = e.touches ? e.touches[0] : e,
                            a = i.pageX,
                            r = i.pageY,
                            o = t(a, r, n);
                        if (((o.grid = "main"), p.Ej.top.enabled())) {
                            var s = p.Ej.top,
                                l = t(a, r, s.divCells);
                            l.y > 0 &&
                                l.y <= s.height &&
                                ((o = l), (o.grid = "top"));
                        }
                        if (p.Ej.bottom.enabled()) {
                            var d = p.Ej.bottom,
                                c = t(a, r, d.divCells);
                            c.y > 0 &&
                                c.y <= s.height &&
                                ((o = c), (o.grid = "bottom"));
                        }
                        return o;
                    }),
                    (R.Lo = function (e, t) {
                        (o.ck = e), (o.Fm = e.event), (o.rq = t);
                        var n = DayPilot.abs(e);
                        (o.Em = t.x - n.x),
                            (o.Jm = p.getDate(p.coords.x, !0)),
                            (o.Dn = p.gb(e)),
                            p.Ym();
                    }),
                    (R.uq = function (e, t) {
                        (o.Km = e),
                            (o._m = e.event),
                            (o.Km.dpBorder = t),
                            o.$m || (o.$m = p.gb(e)),
                            p.En();
                    }),
                    (R.xq = function () {
                        if (!o.$m) {
                            var e = o.Km;
                            o.$m = p.gb(e);
                        }
                        p.En();
                        var t = {
                            x: p.coords.x,
                            y: p.coords.y,
                            grid: p.coords.grid,
                        };
                        p.Wd(t);
                    }),
                    (R.yq = function () {
                        if ((o.Dn && o.Dn.calendar !== p && p.Ln(), !o.Dn)) {
                            var e = o.ck;
                            o.Dn = p.gb(e);
                        }
                        o.Dn.calendar.Ym();
                        var t = {
                            x: p.coords.x,
                            y: p.coords.y,
                            grid: p.coords.grid,
                        };
                        p.Wd(t);
                    }),
                    (this.qq = function (e, t) {
                        var n = this.eventResizeMargin,
                            i = this.eventMoveMargin,
                            a = e;
                        if ("undefined" != typeof o) {
                            var r = DayPilot.mo3(e, t);
                            if (r && ((p.eventOffset = r), !o.Km && !o.ck)) {
                                var s =
                                        a.event.part.start.toString() ===
                                        a.event.start().toString(),
                                    l =
                                        a.event.part.end.toString() ===
                                        a.event.rawend().toString();
                                if (
                                    ("Top" === p.moveBy &&
                                    r.y <= i &&
                                    a.event.client.moveEnabled() &&
                                    "Disabled" !== p.eventMoveHandling
                                        ? (e.style.cursor = "move")
                                        : ("Top" === p.moveBy ||
                                              "Full" === p.moveBy) &&
                                          r.x <= n &&
                                          a.event.client.resizeEnabled() &&
                                          "Disabled" !== p.eventResizeHandling
                                        ? s
                                            ? ((e.style.cursor = "w-resize"),
                                              (e.dpBorder = "left"))
                                            : (e.style.cursor = "not-allowed")
                                        : "Left" === p.moveBy &&
                                          r.x <= i &&
                                          a.event.client.moveEnabled() &&
                                          "Disabled" !== p.eventMoveHandling
                                        ? (e.style.cursor = "move")
                                        : e.offsetWidth - r.x <= n &&
                                          a.event.client.resizeEnabled() &&
                                          "Disabled" !== p.eventResizeHandling
                                        ? l
                                            ? ((e.style.cursor = "e-resize"),
                                              (e.dpBorder = "right"))
                                            : (e.style.cursor = "not-allowed")
                                        : o.Km ||
                                          o.ck ||
                                          (a.event.client.clickEnabled() &&
                                          "Disabled" !== p.eventClickHandling
                                              ? (e.style.cursor = "pointer")
                                              : (e.style.cursor = "default")),
                                    "undefined" != typeof DayPilot.Bubble &&
                                        p.bubble &&
                                        "Bubble" === p.eventHoverHandling &&
                                        ("default" === e.style.cursor ||
                                            "pointer" === e.style.cursor))
                                ) {
                                    this.Ee &&
                                        r.x === this.Ee.x &&
                                        r.y === this.Ee.y;
                                    (this.Ee = r), p.bubble.showEvent(e.event);
                                }
                            }
                        }
                    }),
                    (this.en = function () {
                        return "Days" !== this.viewType
                            ? this.itline.length
                            : Math.floor(1440 / this.cellDuration);
                    }),
                    (this.Uk = function (e) {
                        var e = e || o.Lm || p.Wk;
                        if (!e) return null;
                        var t = p.rowlist[e.start.y];
                        if (!t) return null;
                        var n = e.Aq ? e.Aq : e,
                            i = n.end.time > n.start.time,
                            a = t.id,
                            r = i ? n.start.x : n.end.x,
                            s = i ? n.end.x : n.start.x,
                            l = t.start.getTime() - this.nb().getTime(),
                            d = p.snapToGrid && p.snapToGridTimeRangeSelecting;
                        e.forceSnap && (d = !0);
                        var c, u;
                        d
                            ? ((c = this.itline[r].start.addTime(l)),
                              (u = this.itline[s].end.addTime(l)))
                            : i
                            ? ((c = n.start.time), (u = n.end.time))
                            : ((c = n.end.time), (u = n.start.time));
                        var h = new DayPilot.Selection(c, u, a, p);
                        return (h.allowed = !e.div || !e.div.overlapping), h;
                    }),
                    (this.uc = function (e) {
                        var t = e.parentNode,
                            n = p.eventEditMinWidth,
                            i = (e.event.text() || "").trim(),
                            a = document.createElement("textarea");
                        return (
                            (a.style.position = "absolute"),
                            (a.style.width =
                                (e.offsetWidth < n ? n : e.offsetWidth - 2) +
                                "px"),
                            (a.style.height = e.offsetHeight - 2 + "px"),
                            (a.style.fontFamily =
                                DayPilot.gs(e, "fontFamily") ||
                                DayPilot.gs(e, "font-family")),
                            (a.style.fontSize =
                                DayPilot.gs(e, "fontSize") ||
                                DayPilot.gs(e, "font-size")),
                            (a.style.left = e.offsetLeft + "px"),
                            (a.style.top = e.offsetTop + "px"),
                            (a.style.border = "1px solid black"),
                            (a.style.padding = "1px"),
                            (a.style.marginTop = "0px"),
                            (a.style.backgroundColor = "white"),
                            (a.value = i),
                            (a.event = e.event),
                            t.appendChild(a),
                            a
                        );
                    }),
                    (this.Bq = function (e) {
                        var t = m.Zh();
                        t.sort(function (e, t) {
                            var n = e.event,
                                i = t.event;
                            return n.part.dayIndex !== i.part.dayIndex
                                ? n.part.dayIndex - i.part.dayIndex
                                : n.start() !== i.start()
                                ? n.start().getTime() - i.start().getTime()
                                : i.end().getTime() - n.end().getTime();
                        });
                        var n = t.indexOf(e);
                        return n === -1
                            ? null
                            : n + 1 < t.length
                            ? t[n + 1]
                            : t[0];
                    }),
                    (this.tb = function (e) {
                        if (e && (o.Cq && o.Cq.blur(), e.event)) {
                            var t = e.event;
                            L.mm();
                            var n = this.uc(e);
                            if (
                                ((o.Cq = n),
                                DayPilot.rePassive(
                                    n,
                                    DayPilot.touch.start,
                                    function (e) {
                                        e.stopPropagation();
                                    }
                                ),
                                (n.onblur = function () {
                                    if (
                                        ((n.onblur = null),
                                        o.Cq === n && (o.Cq = null),
                                        n.parentNode &&
                                            n.parentNode.removeChild(n),
                                        e.event)
                                    ) {
                                        var t = (e.event.text(), n.value);
                                        p.Ub(e.event, t, n.canceling);
                                    }
                                }),
                                (n.onmousedown = function (e) {
                                    e.stopPropagation && e.stopPropagation();
                                }),
                                (n.cancel = function () {
                                    o.Cq &&
                                        ((o.Cq.canceling = !0), o.Cq.blur());
                                }),
                                (n.onkeydown = function (i) {
                                    if (
                                        "function" ==
                                        typeof p.onEventEditKeyDown
                                    ) {
                                        var a = {};
                                        if (
                                            ((a.e = e.event),
                                            (a.element = n),
                                            (a.preventDefault = function () {
                                                a.preventDefault.value = !0;
                                            }),
                                            (a.submit = function () {
                                                n.onblur();
                                            }),
                                            (a.cancel = function () {
                                                o.Cq.cancel();
                                            }),
                                            (a.originalEvent = i),
                                            p.onEventEditKeyDown(a),
                                            a.preventDefault.value)
                                        )
                                            return;
                                    }
                                    var r = o.Cq,
                                        s = i.keyCode;
                                    if (
                                        (13 === s &&
                                            (i.stopPropagation(),
                                            this.onblur()),
                                        27 === s)
                                    )
                                        r.cancel();
                                    else if (9 === s && p.eventEditTabNext) {
                                        var l = p.Ne(t),
                                            d = p.Bq(l);
                                        return (
                                            r && r.cancel(),
                                            d &&
                                                setTimeout(function () {
                                                    p.tb(d);
                                                }, 0),
                                            !1
                                        );
                                    }
                                }),
                                "function" == typeof p.onAfterEventEditRender)
                            ) {
                                var i = {};
                                (i.element = n),
                                    (i.e = e.event),
                                    p.onAfterEventEditRender(i);
                            }
                            n.select(), n.focus();
                        }
                    }),
                    (this.Dq = {}),
                    (this.Dq.resource = (function () {
                        return "undefined" != typeof DayPilot.Bubble
                            ? new DayPilot.Bubble()
                            : {
                                  showResource: function () {},
                                  hideOnMouseOut: function () {},
                              };
                    })()),
                    (this.Dq.cell = (function () {
                        return "undefined" != typeof DayPilot.Bubble
                            ? new DayPilot.Bubble()
                            : {
                                  showResource: function () {},
                                  hideOnMouseOut: function () {},
                              };
                    })()),
                    (this.bo = function (e) {
                        var t = this,
                            n = t.row;
                        if ("undefined" != typeof DayPilot.Bubble) {
                            p.cellBubble;
                            var i = p._k(n);
                            (i.div = t),
                                p.resourceBubble
                                    ? p.resourceBubble.showResource(i)
                                    : n.bubbleHtml &&
                                      p.Dq.resource.showResource(i);
                        }
                    }),
                    (this._n = function (e) {
                        var t = this;
                        t.active || ((t.active = !0), p.oq(t));
                    }),
                    (this.ao = function (e) {
                        var t = this;
                        delete t.active, p.pq(t);
                    }),
                    (this.co = function (e) {
                        var t = this;
                        "undefined" != typeof DayPilot.Bubble &&
                        p.resourceBubble
                            ? p.resourceBubble.hideOnMouseOut()
                            : p.Dq.resource.hideOnMouseOut();
                        var n = t.firstChild;
                        DayPilot.Areas.hideAreas(n, e), (n.data = null);
                    }),
                    (this.do = function (e) {
                        h.row &&
                            ((S.cancelClick = !0),
                            setTimeout(function () {
                                S.cancelClick = !1;
                            }, 100));
                    }),
                    (this.Oi = function () {
                        if (
                            "None" !== p.timeHeaderPosition &&
                            this.timeHeader
                        ) {
                            (this.Q.timeHeader = {}),
                                p.elements.timeHeader.length > 0 &&
                                    (p.zl(), (p.elements.timeHeader = []));
                            var e = u();
                            (e.style.position = "relative"),
                                (this.nav.timeHeader = e);
                            for (var t = 0; t < this.timeHeader.length; t++)
                                for (
                                    var n = this.timeHeader[t], i = 0;
                                    i < n.length;
                                    i++
                                )
                                    this.Eq(i, t);
                            var a = this.divNorth;
                            if (1 === a.childNodes.length)
                                a.replaceChild(e, a.childNodes[0]);
                            else {
                                if (DayPilot.browser.ie && a && a.firstChild) {
                                    for (
                                        var r = [], o = 0;
                                        o < a.firstChild.childNodes.length;
                                        o++
                                    )
                                        r.push(a.firstChild.childNodes[o]);
                                    DayPilot.de(r);
                                }
                                (a.innerHTML = ""), a.appendChild(e);
                            }
                            var s = this.uj();
                            (a.style.width = s + 5e3 + "px"),
                                s > 0 &&
                                    (this.divStretch.style.width = s + "px"),
                                p.Fq();
                        }
                    }),
                    (this.wa = function () {
                        if (p.divCorner) {
                            var e = p.divCorner && p.divCorner.domArgs;
                            if (
                                ((p.divCorner.domArgs = null),
                                e &&
                                    ("function" ==
                                        typeof p.onBeforeCornerDomRemove &&
                                        p.onBeforeCornerDomRemove(e),
                                    "function" ==
                                        typeof p.onBeforeCornerDomAdd &&
                                        p.ya.reactDOM))
                            ) {
                                var t = p.divCorner;
                                if (t) {
                                    if (
                                        DayPilot.Util.isReactComponent(
                                            e.element
                                        )
                                    ) {
                                        if (!p.ya.reactDOM)
                                            throw new DayPilot.Exception(
                                                "Can't reach ReactDOM"
                                            );
                                        p.ya.reactDOM.unmountComponentAtNode(t);
                                    }
                                }
                            }
                        }
                    }),
                    (this.Yj = function (e, t) {
                        var n = null,
                            i = this.ga.Xj(),
                            t = t || this.cellGroupBy,
                            a = e.start;
                        e.end;
                        switch (t) {
                            case "Minute":
                                n = a.toString("m");
                                break;
                            case "Hour":
                                n =
                                    "Clock12Hours" === p.ga.Gq()
                                        ? a.toString("h tt", i)
                                        : a.toString("H", i);
                                break;
                            case "Day":
                                n = a.toString(i.datePattern);
                                break;
                            case "Week":
                                n =
                                    1 === U.Hq()
                                        ? a.weekNumberISO()
                                        : a.weekNumber();
                                break;
                            case "Month":
                                n = a.toString("MMMM yyyy", i);
                                break;
                            case "Quarter":
                                n = "Q" + Math.floor(a.getMonth() / 3 + 1);
                                break;
                            case "Year":
                                n = a.toString("yyyy");
                                break;
                            case "None":
                                n = "";
                                break;
                            case "Cell":
                                var r = (e.end.ticks - e.start.ticks) / 6e4;
                                n = this.Iq(a, r);
                                break;
                            default:
                                throw new DayPilot.Exception(
                                    "Invalid groupBy value: " + t
                                );
                        }
                        return n;
                    }),
                    (this.Iq = function (e, t) {
                        var n = this.ga.Xj(),
                            t = t || this.cellDuration;
                        return t < 1
                            ? e.toString("ss")
                            : t < 60
                            ? e.toString("mm")
                            : t < 1440
                            ? "Clock12Hours" === p.ga.Gq()
                                ? e.toString("h tt", n)
                                : e.toString("H", n)
                            : t < 10080
                            ? e.toString("d")
                            : 10080 === t
                            ? 1 === U.Hq()
                                ? e.weekNumberISO()
                                : e.weekNumber()
                            : e.toString("MMMM yyyy", n);
                    }),
                    (this.Tj = function (e) {
                        var t = this.scale;
                        switch (t) {
                            case "Cell":
                                throw new DayPilot.Exception(
                                    "Invalid scale: Cell"
                                );
                            case "Manual":
                                throw new DayPilot.Exception(
                                    "Internal error (addScaleSize in Manual mode)"
                                );
                            case "CellDuration":
                                return e.addMinutes(this.cellDuration);
                            default:
                                return this.Wj(e, t, !0);
                        }
                    }),
                    (this.Wj = function (e, t, n) {
                        var i, a;
                        if (n) {
                            var r = "Days" !== this.viewType ? this.days : 1;
                            (a = this.startDate.addDays(r)),
                                "Manual" === p.scale && (a = p.Vj());
                        } else
                            (a = p.Vj()),
                                "Days" === p.viewType &&
                                    (a = p.startDate.addDays(1));
                        var t = t || this.cellGroupBy,
                            o = 60;
                        switch (t) {
                            case "Minute":
                                e.getMinutes() +
                                    e.getSeconds() +
                                    e.getMilliseconds() >
                                    0 &&
                                    (e = e
                                        .getDatePart()
                                        .addHours(e.getHours())
                                        .addMinutes(e.getMinutes())),
                                    (i = e.addMinutes(1));
                                break;
                            case "Hour":
                                e.getHours() +
                                    e.getMinutes() +
                                    e.getSeconds() +
                                    e.getMilliseconds() >
                                    0 &&
                                    (e = e
                                        .getDatePart()
                                        .addHours(e.getHours())),
                                    (i = e.addHours(1));
                                break;
                            case "Day":
                                i = e.getDatePart().addDays(1);
                                break;
                            case "Week":
                                for (
                                    i = e.getDatePart().addDays(1);
                                    i.dayOfWeek() !== U.Hq();

                                )
                                    i = i.addDays(1);
                                break;
                            case "Month":
                                (e = e.getDatePart()),
                                    (i = e.addMonths(1)),
                                    (i = i.firstDayOfMonth());
                                for (
                                    var s =
                                        (DayPilot.DateUtil.diff(i, e) / 6e4) %
                                            o ===
                                        0;
                                    !s;

                                )
                                    (i = i.addHours(1)),
                                        (s =
                                            (DayPilot.DateUtil.diff(i, e) /
                                                6e4) %
                                                o ===
                                            0);
                                break;
                            case "Quarter":
                                for (
                                    e = e.getDatePart(),
                                        i = e.addMonths(1),
                                        i = i.firstDayOfMonth();
                                    i.getMonth() % 3;

                                )
                                    i = i.addMonths(1);
                                for (
                                    var s =
                                        (DayPilot.DateUtil.diff(i, e) / 6e4) %
                                            o ===
                                        0;
                                    !s;

                                )
                                    (i = i.addHours(1)),
                                        (s =
                                            (DayPilot.DateUtil.diff(i, e) /
                                                6e4) %
                                                o ===
                                            0);
                                break;
                            case "Year":
                                (e = e.getDatePart()),
                                    (i = e.addYears(1)),
                                    (i = i.firstDayOfYear());
                                for (
                                    var s =
                                        (DayPilot.DateUtil.diff(i, e) / 6e4) %
                                            o ===
                                        0;
                                    !s;

                                )
                                    (i = i.addHours(1)),
                                        (s =
                                            (DayPilot.DateUtil.diff(i, e) /
                                                6e4) %
                                                o ===
                                            0);
                                break;
                            case "None":
                                i = a;
                                break;
                            case "Cell":
                                var l = this.ak(e);
                                i = l.current
                                    ? l.current.end
                                    : l.past
                                    ? l.previous.end
                                    : l.next.start;
                                break;
                            default:
                                throw n
                                    ? new DayPilot.Exception(
                                          "Invalid scale value: " + t
                                      )
                                    : new DayPilot.Exception(
                                          "Invalid groupBy value: " + t
                                      );
                        }
                        return i.getTime() > a.getTime() && (i = a), i;
                    }),
                    (this.zq = {}),
                    (this.zq.timeheadercol = "_timeheadercol"),
                    (this.zq.timeheadercolInner = "_timeheadercol_inner"),
                    (this.zq.resourcedivider = "_resourcedivider"),
                    (this.zq.eventFloat = "_event_float"),
                    (this.zq.eventFloatInner = "_event_float_inner"),
                    (this.zq.event = "_event"),
                    (this.zq.eventInner = "_event_inner"),
                    (this.zq.eventBar = "_event_bar"),
                    (this.zq.eventBarInner = "_event_bar_inner"),
                    (this.zq.eventDelete = "_event_delete"),
                    (this.zq.eventLine = "_event_line"),
                    (this.zq.eventMovingSource = "_event_moving_source");
                var B = this.zq;
                (this.Eq = function (e, t) {
                    var n = this.nav.timeHeader,
                        i = this.timeHeader[t][e],
                        a = e === this.timeHeader[t].length - 1,
                        r = t < this.timeHeader.length - 1,
                        o = i.left,
                        s = i.width,
                        l = I.on(t),
                        d = l.top,
                        c = l.height,
                        h = u();
                    (h.style.position = "absolute"),
                        (h.style.top = d + "px"),
                        (h.style.left = o + "px"),
                        (h.style.width = s + "px"),
                        (h.style.height = c + "px"),
                        i.toolTip && (h.title = i.toolTip),
                        h.setAttribute("aria-hidden", "true"),
                        i.cssClass && DayPilot.Util.addClass(h, i.cssClass),
                        h.setAttribute("unselectable", "on"),
                        (h.style.KhtmlUserSelect = "none"),
                        (h.style.MozUserSelect = "none"),
                        (h.style.webkitUserSelect = "none"),
                        (h.oncontextmenu = function () {
                            return !1;
                        }),
                        (h.cell = {}),
                        (h.cell.start = i.start),
                        (h.cell.end = i.end),
                        (h.cell.level = t),
                        (h.cell.th = i),
                        (h.onclick = this.io),
                        (h.oncontextmenu = this.jo),
                        DayPilot.rePassive(
                            h,
                            DayPilot.touch.start,
                            function (e) {
                                e.stopPropagation();
                            }
                        ),
                        (h.style.overflow = "hidden"),
                        p.timeHeaderTextWrappingEnabled ||
                            (h.style.whiteSpace = "nowrap");
                    var f = u();
                    f.setAttribute("unselectable", "on"),
                        (f.innerHTML = p.ea(i.text, i.innerHTML)),
                        i.backColor && (f.style.background = i.backColor),
                        i.fontColor && (f.style.color = i.fontColor);
                    var v = this.H(B.timeheadercol),
                        m = this.H(B.timeheadercolInner);
                    r &&
                        ((v = this.H("_timeheadergroup")),
                        (m = this.H("_timeheadergroup_inner"))),
                        DayPilot.Util.addClass(h, v),
                        DayPilot.Util.addClass(f, m),
                        DayPilot.Util.addClass(h, p.H("_timeheader_cell")),
                        DayPilot.Util.addClass(
                            f,
                            p.H("_timeheader_cell_inner")
                        ),
                        a &&
                            DayPilot.Util.addClass(
                                h,
                                p.H("_timeheader_cell_last")
                            ),
                        (function () {
                            if (
                                "function" ==
                                    typeof p.onBeforeTimeHeaderDomAdd ||
                                "function" ==
                                    typeof p.onBeforeTimeHeaderDomRemove
                            ) {
                                var e = {};
                                if (
                                    ((e.control = p),
                                    (e.header = {}),
                                    (e.header.start = i.start),
                                    (e.header.end = i.end),
                                    (e.header.level = t),
                                    (e.element = null),
                                    (h.domArgs = e),
                                    "function" ==
                                        typeof p.onBeforeTimeHeaderDomAdd)
                                ) {
                                    p.onBeforeTimeHeaderDomAdd(e);
                                    var n = e.element;
                                    if (n) {
                                        f.innerHTML = "";
                                        var a = u();
                                        f.appendChild(a), (e.Tc = a);
                                        if (DayPilot.Util.isReactComponent(n)) {
                                            if (!p.ya.reactDOM)
                                                throw new DayPilot.Exception(
                                                    "Can't reach ReactDOM"
                                                );
                                            p.ya.reactDOM.render(n, a);
                                        } else a.appendChild(n);
                                    }
                                }
                            }
                        })(),
                        h.appendChild(f);
                    var g = DayPilot.Areas.resolvePosition(i.areas, p, o, s);
                    DayPilot.Areas.attach(h, i, { areas: g }),
                        (this.Q.timeHeader[e + "_" + t] = h),
                        this.elements.timeHeader.push(h),
                        n.appendChild(h);
                }),
                    (this.Jq = function () {
                        var e = p.timeHeader,
                            t = e.length - 1;
                        if (t < 0) return null;
                        for (
                            var n = e[t], i = DayPilot.Date.now(), a = 0;
                            a < n.length;
                            a++
                        ) {
                            var r = n[a];
                            if (r.start <= i && i <= r.end)
                                return p.Q.timeHeader[a + "_" + t];
                        }
                        return null;
                    }),
                    (this.Kq = null),
                    (this.Fq = function () {
                        var e = p.H("_timeheader_cell_now"),
                            t = p.Kq,
                            n = p.Jq();
                        t !== n &&
                            (DayPilot.Util.removeClass(t, e),
                            DayPilot.Util.addClass(n, e),
                            (p.Kq = n));
                    }),
                    (this.Lq = null),
                    (this.Mq = function () {
                        clearTimeout(p.Lq),
                            (p.Lq = setTimeout(function () {
                                p.Fq(), p.Mq();
                            }, 5e3));
                    }),
                    (this.Al = function () {
                        clearTimeout(p.Lq);
                    }),
                    (this.Fk = function () {
                        clearTimeout(p.Lq),
                            p.showCurrentTimeHeader && (p.Fq(), p.Mq());
                    }),
                    (this.nk = function () {
                        return p.Bi
                            ? void A.uo()
                            : (p.Pj().forEach(function (e) {
                                  var t =
                                      e.getHeight() +
                                      e.marginBottom +
                                      e.marginTop;
                                  e.height !== t && (p.Mk = !0), (e.height = t);
                              }),
                              void (p.Mk && (p.Q.drawArea = null)));
                    }),
                    (this.Qi = function () {
                        p.Pj().forEach(function (e) {
                            if (!e.hidden) {
                                var t = p.Il(e.grid).divHeader;
                                if (t) {
                                    var n = e.index;
                                    if (t.rows[n])
                                        for (
                                            var i = 0;
                                            i < t.rows[n].cells.length;
                                            i++
                                        ) {
                                            var a = t.rows[n].cells[i];
                                            p.Un &&
                                                (a.style.top = e.top + "px");
                                            var r = e.height;
                                            a &&
                                                a.firstChild &&
                                                parseInt(
                                                    a.firstChild.style.height,
                                                    10
                                                ) !== r &&
                                                (a.firstChild.style.height =
                                                    r + "px");
                                        }
                                }
                            }
                        }),
                            p.Un &&
                                p.nav.resScrollSpace &&
                                (p.nav.resScrollSpace.style.top = p.Fi + "px");
                    }),
                    (this.Ie = function (e) {
                        var t = this.separators[e];
                        (t.location = t.location || t.Location),
                            (t.color = t.color || t.Color),
                            (t.layer = t.layer || t.Layer),
                            (t.width = t.width || t.Width),
                            (t.opacity = t.opacity || t.Opacity);
                        var n = new DayPilot.Date(t.location),
                            i = t.color,
                            a = t.width ? t.width : 1,
                            r = !!t.layer && "AboveEvents" === t.layer,
                            o = t.opacity ? t.opacity : 100;
                        if (
                            !(
                                n.getTime() < p.nb().getTime() ||
                                n.getTime() >= p.Vj().getTime()
                            )
                        ) {
                            var s = this.getPixels(n);
                            if (!s.cut && !(s.left < 0 || s.left > p.uj())) {
                                var l = u();
                                (l.style.width = a + "px"),
                                    (l.style.height = p.Fi + "px"),
                                    (l.style.position = "absolute"),
                                    (l.style.left = s.left - 1 + "px"),
                                    (l.style.top = "0px"),
                                    (l.style.backgroundColor = i),
                                    (l.style.opacity = o / 100),
                                    (l.style.filter =
                                        "alpha(opacity=" + o + ")"),
                                    (l.className = p.H("_separator")),
                                    t.cssClass &&
                                        (l.className += " " + t.cssClass),
                                    r
                                        ? this.divSeparatorsAbove.appendChild(l)
                                        : this.divSeparators.appendChild(l),
                                    this.elements.separators.push(l);
                            }
                        }
                    }),
                    (this.$d = function (e) {}),
                    (this.Mp = function (e) {
                        if ("Disabled" === p.timeRangeDoubleClickHandling)
                            return !1;
                        o.Nq && (clearTimeout(o.Nq), (o.Nq = null));
                        if (
                            (p.fk(e),
                            e.stopPropagation && e.stopPropagation(),
                            (e.cancelBubble = !0),
                            p.Oq(p.coords))
                        ) {
                            var t = p.Uk(p.Wk);
                            p.Tb(t.start, t.end, t.resource);
                        } else if (((o.Lm = p.wq()), o.Lm)) {
                            o.Pq = p;
                            var t = p.Uk(o.Lm);
                            p.Tb(t.start, t.end, t.resource), (p.Wk = o.Lm);
                        }
                        o.Lm = null;
                    }),
                    (this.Ep = function (e) {
                        if (
                            !DayPilot.Global.touch.start &&
                            !DayPilot.Global.touch.active
                        ) {
                            if ((o.Nq, 1, p.Qq(), p.Ea(), p.fk(e), o.Rq))
                                return !1;
                            var t = DayPilot.Util.mouseButton(e);
                            if (p.Sq()) return !1;
                            if (t.middle || (t.right && p.Oq(p.coords)))
                                return !1;
                            if (p.Oq(p.coords)) return !1;
                            var n = t.left
                                ? "left"
                                : t.right
                                ? "right"
                                : t.middle
                                ? "middle"
                                : "unknown";
                            p.Tq = n;
                            var i = e.ctrlKey,
                                a = e.metaKey,
                                r = e.shiftKey,
                                s = i || a,
                                l = {};
                            if (
                                ((l.action = "None"),
                                "Disabled" !== U.gk() && r
                                    ? (l.action = "RectangleSelect")
                                    : "Disabled" !==
                                          p.timeRangeSelectedHandling &&
                                      (l.action = "TimeRangeSelect"),
                                (l.shift = r),
                                (l.ctrl = r),
                                (l.meta = a),
                                (l.originalEvent = e),
                                (l.button = n),
                                (l.preventDefault = function () {
                                    l.action = "None";
                                }),
                                "function" == typeof p.onGridMouseDown &&
                                    p.onGridMouseDown(l),
                                "None" === l.action)
                            )
                                return (
                                    "undefined" != typeof DayPilot.Menu &&
                                        DayPilot.Menu.hide({ calendar: p }),
                                    e.preventDefault(),
                                    e.stopPropagation(),
                                    !1
                                );
                            if ("RectangleSelect" === l.action) {
                                var d = {};
                                return (
                                    (d.start = p.coords),
                                    (d.calendar = p),
                                    (o.Rq = d),
                                    !1
                                );
                            }
                            p.allowMultiRange && !s && N.clear();
                            return (
                                !p.vl(p.coords.y, p.coords.grid).element
                                    .isNewRow &&
                                ((o.Lm = p.wq()),
                                o.Lm && ((o.Lm.ctrl = s), (o.Pq = p)),
                                !1)
                            );
                        }
                    }),
                    (this.wq = function () {
                        var e = {},
                            t = p.$j(p.coords.x).x,
                            n = p.getDate(p.coords.x, !0);
                        return (
                            (e.start = {
                                y: p.vl(p.coords.y, p.coords.grid).i,
                                x: t,
                                grid: p.coords.grid,
                                time: n,
                            }),
                            (e.end = { x: t, time: n }),
                            p.Ll(
                                p.vl(p.coords.y, p.coords.grid).i,
                                p.coords.grid
                            )
                                ? null
                                : ((e.calendar = p), p.Xk(e), e)
                        );
                    }),
                    (this.Fn = function () {
                        p.Td();
                        var e = o.$m,
                            t = o.Km;
                        !(function () {
                            var n = p.Uq,
                                i = { start: e.start, end: p.nh(e.end) };
                            e.original = i;
                            var a = "left" === o.Km.dpBorder ? "start" : "end",
                                r = e.original;
                            if (
                                !r ||
                                !n ||
                                n.start !== r.start ||
                                n.end !== r.end
                            ) {
                                C.clear(),
                                    C.tn(),
                                    n &&
                                        (DayPilot.Util.removeClass(
                                            e,
                                            n.cssClass
                                        ),
                                        (e.firstChild.innerHTML = ""));
                                var s = t.event.part.dayIndex,
                                    l = p.rowlist[s],
                                    d = {};
                                (d.start = i.start),
                                    (d.end = i.end),
                                    (d.duration = new DayPilot.Duration(
                                        d.start,
                                        d.end
                                    )),
                                    (d.row = p._k(l)),
                                    (d.e = t.event),
                                    (d.allowed = !0),
                                    (d.resizing = a),
                                    (d.what = a),
                                    (d.anchor =
                                        "end" === d.what ? i.start : i.end),
                                    (d.left = {}),
                                    (d.left.html = d.start.toString(
                                        p.eventResizingStartEndFormat,
                                        U.Xj()
                                    )),
                                    (d.left.enabled =
                                        p.eventResizingStartEndEnabled),
                                    (d.left.space = 5),
                                    (d.left.width = null),
                                    (d.left.height = p.eventHeight),
                                    (d.right = {}),
                                    (d.right.html = d.end.toString(
                                        p.eventResizingStartEndFormat,
                                        U.Xj()
                                    )),
                                    (d.right.enabled =
                                        p.eventResizingStartEndEnabled),
                                    (d.right.space = 5),
                                    (d.right.width = null),
                                    (d.right.height = p.eventHeight),
                                    (d.cssClass = null),
                                    (d.html = null),
                                    (d.overlapping =
                                        d.row.events
                                            .forRange(d.start, d.end)
                                            .filter(function (e) {
                                                return !p.Hc(e, d.e);
                                            }).length > 0),
                                    (d.shift = p.coords.shift),
                                    (d.ctrl = p.coords.ctrl),
                                    (d.meta = p.coords.meta),
                                    (d.alt = p.coords.alt),
                                    (d.multiresize = C.rn());
                                var c = {};
                                (c.event = t.event),
                                    (c.start = d.start),
                                    (c.end = d.end),
                                    d.multiresize.splice(0, 0, c),
                                    (p.Uq = i),
                                    "function" == typeof p.onEventResizing &&
                                        p.onEventResizing(d),
                                    (C.list = DayPilot.list(d.multiresize, !0)),
                                    C.list.splice(0, 1),
                                    C.xn(),
                                    (e.allowed = d.allowed),
                                    DayPilot.Util.addClass(e, d.cssClass),
                                    d.html && (e.firstChild.innerHTML = d.html);
                                var u = d.start,
                                    h = p.Qg(d.end);
                                if (
                                    ((e.finalStart = u),
                                    (e.finalEnd = h),
                                    "Days" === p.viewType)
                                ) {
                                    var f =
                                        l.start.getTime() - p.nb().getTime();
                                    (u = u.addTime(-f)), (h = h.addTime(-f));
                                }
                                var v = DayPilot.DateUtil.diff(u, h);
                                v = DayPilot.Util.atLeast(v, 1);
                                var m =
                                        (U.Nl(v),
                                        p.snapToGrid &&
                                            p.snapToGridEventResizing),
                                    g = m
                                        ? p.getPixels(u).boxLeft
                                        : p.getPixels(u).left,
                                    b = m
                                        ? p.getPixels(h).boxRight
                                        : p.getPixels(h).left;
                                (e.style.left = g + "px"),
                                    (e.style.width = b - g + "px"),
                                    (e.left = g),
                                    (e.width = b - g),
                                    p.In(o.$m, d),
                                    p.Jn(o.$m, d);
                            }
                        })();
                    }),
                    (this.Lp = function (e) {
                        if (o.Rq)
                            return (
                                (e.cancelBubble = !0),
                                e.preventDefault(),
                                o.yf(e),
                                !1
                            );
                        if (((p.ck = {}), p.Wk)) {
                            var t = DayPilot.Util.mouseButton(e);
                            if (t.left) {
                                var n = p.Wk;
                                if (p.Oq(p.coords)) {
                                    var i = function (e) {
                                        return function () {
                                            o.Nq = null;
                                            var t = p.Uk(e);
                                            if (t) {
                                                var n = {};
                                                (n.start = t.start),
                                                    (n.end = t.end),
                                                    (n.resource = t.resource),
                                                    (n.preventDefault =
                                                        function () {
                                                            n.preventDefault.value =
                                                                !0;
                                                        }),
                                                    "function" ==
                                                        typeof p.onTimeRangeClick &&
                                                        p.onTimeRangeClick(n),
                                                    n.preventDefault.value ||
                                                        ("function" ==
                                                            typeof p.onTimeRangeClicked &&
                                                            p.onTimeRangeClicked(
                                                                n
                                                            ));
                                            }
                                        };
                                    };
                                    "Disabled" != p.timeRangeClickHandling &&
                                        ("Disabled" ===
                                        p.timeRangeDoubleClickHandling
                                            ? i(n)()
                                            : (clearTimeout(o.Nq),
                                              (o.Nq = setTimeout(
                                                  i(n),
                                                  p.doubleClickTimeout
                                              ))));
                                }
                            }
                        }
                        var t = DayPilot.Util.mouseButton(e);
                        t.right && p.Vq(e);
                    }),
                    (this.Vq = function (e) {
                        if (
                            "Disabled" !== p.timeRangeSelectedHandling &&
                            "Disabled" !== p.timeRangeRightClickHandling
                        ) {
                            var t = o.Lm || p.Wk,
                                n = t.args,
                                i = p.vl(p.coords.y);
                            if (p.Ll(i.i)) return void (o.Lm = null);
                            var a = null;
                            if (
                                ((a = p.Oq(p.coords) ? p.Uk(p.Wk) : p.Uk()), !a)
                            )
                                return void (o.Lm = null);
                            if (
                                !n.ignoreDisabledCells &&
                                p.dc(a.start, a.end, a.resource)
                            )
                                return (o.Lm = null), void p.clearSelection();
                            a.end = p.nh(a.end);
                            var n = {};
                            (n.start = a.start),
                                (n.end = a.end),
                                (n.resource = a.resource),
                                (n.ctrl = e.ctrlKey),
                                (n.shift = e.shiftKey),
                                (n.meta = e.metaKey),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                ("function" == typeof p.onTimeRangeRightClick &&
                                    (p.onTimeRangeRightClick(n),
                                    n.preventDefault.value)) ||
                                    ("ContextMenu" ===
                                        p.timeRangeRightClickHandling &&
                                        p.contextMenuSelection &&
                                        p.contextMenuSelection.show(a),
                                    "function" ==
                                        typeof p.onTimeRangeRightClicked &&
                                        p.onTimeRangeRightClicked(n));
                        }
                    }),
                    (this.Sq = function () {
                        return !!(o.Km || o.ck || o.Lm || o.Hn) || !!p.ck.sq;
                    }),
                    (this.dragInProgress = function () {
                        return p.Sq();
                    }),
                    (this.fk = function (e) {
                        var t = DayPilot.mo3(p.fj, e);
                        if (
                            ((t = t || {}),
                            (t.grid = "main"),
                            p.Ej.top.enabled())
                        ) {
                            var n = p.Ej.top,
                                i = DayPilot.mo3(n.divCells, e);
                            i &&
                                i.y > 0 &&
                                i.y <= n.height &&
                                ((t = i), (t.grid = "top"));
                        }
                        if (p.Ej.bottom.enabled()) {
                            var a = p.Ej.bottom,
                                r = DayPilot.mo3(a.divCells, e);
                            r &&
                                r.y > 0 &&
                                r.y <= a.height &&
                                ((t = r), (t.grid = "bottom"));
                        }
                        (t.stamp = t.grid + "_" + t.x + "_" + t.y),
                            (p.coords && p.coords.stamp === t.stamp) ||
                                (p.coords = t);
                    }),
                    (this.getCoords = function () {
                        if (!p.coords) return null;
                        var e = {};
                        (e.x = p.coords.x),
                            (e.y = p.coords.y),
                            (e.grid = p.coords.grid);
                        var t = p.vl(e.y, e.grid).element;
                        return (
                            (e.row = t),
                            (e.time = p.getDate(e.x, !0)),
                            (e.cell = p.cells.findByPixels(
                                e.x,
                                e.y,
                                e.grid
                            )[0]),
                            (e.event = p.coords.insideEvent
                                ? p.coords.insideEvent
                                : null),
                            (e.eventOffset = null),
                            e.event &&
                                (e.eventOffset = DayPilot.Util.copyProps(
                                    p.eventOffset,
                                    {},
                                    ["x", "y"]
                                )),
                            e
                        );
                    }),
                    (this.Cp = !0),
                    (this.Mn = function (e) {
                        if (!DayPilot.Global.touch.active) {
                            var t = DayPilot.mc(e);
                            if (
                                (p.fk(e),
                                (e.insideMainD = !0),
                                (p.Cp = !0),
                                window.event &&
                                    window.event.srcElement &&
                                    (window.event.srcElement.inside = !0),
                                p.ck.sq)
                            ) {
                                DayPilot.distance(p.ck.rq, t) > 2 &&
                                    (DayPilot.Util.copyProps(p.ck, o),
                                    (c().style.cursor = "move"),
                                    (p.ck = {}));
                            }
                            if (o.Km && o._m.calendar === p)
                                o.Km.event || (o.Km.event = o._m), p.Wq();
                            else if (o.Fm) {
                                var n = o.Fm.calendar,
                                    i = n !== p;
                                i && n && o.Fm.calendar.Ca(),
                                    (o.Fm.part.external = i),
                                    p.Xq();
                            } else if (o.Lm && o.Lm.calendar === p)
                                (o.Lm.moved = !0), p.Yq();
                            else if (f.source) {
                                var a = f.source;
                                y.Ug(a.coords, p.coords);
                            } else
                                o.Rq &&
                                    ((o.Rq.moved = !0),
                                    clearTimeout(P.Zq),
                                    (P.Zq = setTimeout(function () {
                                        P.draw();
                                    }, 0)));
                            "Disabled" !== p.crosshairType && p.$q(), p._q();
                            var r = p.coords.insideEvent;
                            if (
                                p.cellBubble &&
                                p.coords &&
                                p.rowlist &&
                                p.rowlist.length > 0 &&
                                !r
                            ) {
                                var s = p.$j(p.coords.x).x,
                                    l = p.vl(p.coords.y).i;
                                if (
                                    0 <= l &&
                                    l < p.rowlist.length &&
                                    0 <= s &&
                                    s < p.itline.length
                                ) {
                                    var d = {};
                                    (d.calendar = p),
                                        (d.start = p.itline[s].start),
                                        (d.end = p.itline[s].end),
                                        (d.resource = p.rowlist[l].id),
                                        (d.toJSON = function () {
                                            var e = {};
                                            return (
                                                (e.start = this.start),
                                                (e.end = this.end),
                                                (e.resource = this.resource),
                                                e
                                            );
                                        }),
                                        p.cellBubble.showCell(d);
                                }
                            }
                            if (o.Hn) {
                                if (
                                    (p.Qq(),
                                    o.ar && c().removeChild(o.ar),
                                    (o.ar = null),
                                    !o.Dn && p.coords && p.rowlist.length > 0)
                                ) {
                                    if (!o.Fm) {
                                        o.ck = o.Hn.br || {};
                                        var u = o.Hn.br ? o.Hn.br.event : null,
                                            h = u || o.Hn.event;
                                        if (h)
                                            if (p !== h.calendar) {
                                                var n = h.calendar,
                                                    v = h,
                                                    m = DayPilot.Util.copyProps(
                                                        h.data
                                                    );
                                                (h = new DayPilot.Event(m)),
                                                    (h.calendar = n),
                                                    (h.part.duration = n.Om(v)),
                                                    (h.part.external = !0);
                                            } else h.part.external = !1;
                                        else {
                                            var e = p.cr();
                                            (h = new DayPilot.Event(e)),
                                                (h.calendar = p),
                                                (h.calendar = null),
                                                (h.part.duration =
                                                    1e3 * o.Hn.duration),
                                                (h.part.external = !0);
                                        }
                                        o.ck.event || (o.ck.event = h),
                                            (o.Fm = h);
                                    }
                                    o.Dn = p.gb(o.Fm);
                                }
                                e.cancelBubble = !0;
                            }
                            var g = {
                                x: p.coords.x,
                                y: p.coords.y,
                                grid: p.coords.grid,
                            };
                            p.Wd(g);
                        }
                    }),
                    (this.cr = function () {
                        var e,
                            t = p.itline[0].start,
                            n = o.Hn.Vd;
                        if (n)
                            (e = DayPilot.Util.copyProps(n, {})),
                                (e.start = t),
                                (e.end = t.addSeconds(o.Hn.duration));
                        else {
                            e = {
                                id: o.Hn.id,
                                start: t,
                                end: t.addSeconds(o.Hn.duration),
                                text: o.Hn.text,
                            };
                            var i = o.Hn.Ud;
                            if (i) {
                                var a = [
                                    "duration",
                                    "element",
                                    "remove",
                                    "id",
                                    "text",
                                ];
                                for (var r in i)
                                    DayPilot.contains(a, r) || (e[r] = i[r]);
                            }
                        }
                        return e;
                    }),
                    (this.Wd = function (e) {
                        var t = e.grid,
                            n = o.ck || o.Km || o.Lm || o.Rq,
                            i = "Always" === p.autoScroll,
                            a = "Drag" === p.autoScroll && n,
                            r = i || a,
                            s = o.Km || o.Lm || "main" !== t;
                        if (r) {
                            var l = p.nav.scroll;
                            (e.x -= l.scrollLeft),
                                (e.x += g.lj),
                                (e.y -= l.scrollTop);
                            var d = l.clientWidth,
                                c = l.clientHeight,
                                u = 30,
                                h = e.x < u ? e.x : 0,
                                f = d - e.x < u ? d - e.x : 0,
                                m = p.Ej.top.height,
                                b = e.y - m,
                                y = b < u && b > 0 ? b : 0,
                                w = c - p.Ej.bottom.height - p.Ej.top.height,
                                x = w - b < u ? c - e.y : 0,
                                k = 0,
                                C = 0,
                                H = 50;
                            h && (k = -50 * v(h, u)),
                                f && (k = H * v(f, u)),
                                y && (C = (-50 * v(y, u)) / 2),
                                x && (C = (H * v(y, u)) / 2),
                                s && (C = 0),
                                k || C ? p.ye(k, C) : p.Ea();
                        }
                    }),
                    (this.Yq = function () {
                        var e = o.Lm,
                            t = p.$j(p.coords.x).x,
                            n = p.getDate(p.coords.x, !0);
                        (e.end = { x: t, time: n }), p.Xk(e);
                    }),
                    (this.Wq = function () {
                        o.$m || (o.$m = p.gb(o.Km)), p.En();
                    }),
                    (this.Xq = function () {
                        if (
                            (o.Dn &&
                                o.Dn.calendar !== p &&
                                o.Dn.calendar &&
                                (o.Dn.calendar.Ca(),
                                (o.Dn.calendar = null),
                                DayPilot.de(o.Dn),
                                (o.Dn = null)),
                            !o.Dn)
                        ) {
                            DayPilot.Util.addClass(
                                o.ck,
                                p.H(B.eventMovingSource)
                            );
                            var e = o.Fm;
                            o.Dn = p.gb(e);
                        }
                        p.Wm(), p.Ym();
                    }),
                    (this.dr = {});
                var P = this.dr;
                (P.start = function () {
                    var e = {};
                    (e.start = p.coords), (e.calendar = p), (o.Rq = e);
                }),
                    (P.draw = function () {
                        var e = o.Rq;
                        if (e) {
                            var t = o.Rq.start,
                                n = p.coords;
                            P.clear();
                            var i,
                                a,
                                r,
                                s,
                                l,
                                d,
                                c,
                                u,
                                h = {
                                    x: e.x,
                                    y: e.y,
                                    width: e.width,
                                    height: e.height,
                                };
                            if (
                                ((function () {
                                    (l = Math.min(t.x, n.x)),
                                        (c = Math.max(t.x, n.x)),
                                        "Free" === U.gk()
                                            ? ((d = Math.min(t.y, n.y)),
                                              (u = Math.max(t.y, n.y)))
                                            : "Row" === U.gk() &&
                                              ((d = t.y), (u = t.y));
                                })(),
                                "Free" === U.gk())
                            )
                                (i = l), (a = d), (r = c - l), (s = u - d);
                            else {
                                if ("Row" !== U.gk())
                                    throw new DayPilot.Exception(
                                        "Invalid DayPilot.Scheduler.rectangleSelectMode value: " +
                                            p.rectangleSelectMode
                                    );
                                var f = p.vl(d).i,
                                    v = p.rowlist[f];
                                (a = v.top), (s = v.height);
                                if (
                                    p.snapToGrid &&
                                    p.snapToGridRectangleSelecting
                                ) {
                                    i = p.$j(l).cell.left;
                                    var g = p.$j(c).cell;
                                    r = g.left + g.width - i;
                                } else (i = l), (r = c - l);
                            }
                            var b = DayPilot.Util.div(
                                p.divRectangle,
                                i,
                                a,
                                r,
                                s
                            );
                            if (
                                ((b.style.boxSizing = "border-box"),
                                (b.className = p.H("_selectionrectangle")),
                                (e.x = i),
                                (e.y = a),
                                (e.width = r),
                                (e.height = s),
                                !(
                                    (e.x === h.x &&
                                        e.y === h.y &&
                                        e.width === h.width &&
                                        e.height === h.height) ||
                                    ("function" !=
                                        typeof p.onRectangleEventSelecting &&
                                        "function" !=
                                            typeof p.onRectangleSelecting)
                                ))
                            ) {
                                var y = p.vl(e.y).i,
                                    w = p.vl(e.y + e.height).i,
                                    x = { start: { y: y }, end: { y: w } },
                                    k = p.ql(x),
                                    C = {};
                                (C.events = m
                                    .pj(e.x, e.y, e.width, e.height)
                                    .map(function (e) {
                                        return e.event;
                                    })),
                                    (C.start = p.getDate(e.x, !0)),
                                    (C.end = p.getDate(e.x + e.width, !0)),
                                    (C.resources = k),
                                    (C.visible = !0),
                                    "function" ==
                                        typeof p.onRectangleEventSelecting &&
                                        p.onRectangleEventSelecting(C),
                                    "function" ==
                                        typeof p.onRectangleSelecting &&
                                        p.onRectangleSelecting(C),
                                    C.visible || (b.style.display = "none");
                            }
                        }
                    }),
                    (P.clear = function () {
                        (p.divRectangle.innerHTML = ""),
                            (p.elements.rectangle = []);
                    }),
                    (this.er = function () {
                        if (!p.coords) return null;
                        if (!p.Ip()) return null;
                        if (!p.itline || 0 === p.itline.length) return null;
                        var e = p.$j(p.coords.x).x,
                            t = p.vl(p.coords.y, p.coords.grid).element;
                        if (!t) return null;
                        var n = t.index;
                        return p.cells.findXy(e, n, p.coords.grid)[0];
                    }),
                    (this._q = function () {
                        var e = this.er();
                        if (this.hover.cell) {
                            if (
                                this.hover.cell.x === e.x &&
                                this.hover.cell.y === e.y &&
                                this.hover.cell.grid === e.grid
                            )
                                return;
                            this.Dp();
                        }
                        this.hover.cell = e;
                        var t = {};
                        (t.cell = e),
                            "function" == typeof this.onCellMouseOver &&
                                this.onCellMouseOver(t),
                            "function" == typeof this.onCellMouseEnter &&
                                this.onCellMouseEnter(t);
                    }),
                    (this.Dp = function () {
                        if (this.hover.cell) {
                            var e = {};
                            (e.cell = this.hover.cell),
                                "function" == typeof this.onCellMouseOut &&
                                    this.onCellMouseOut(e),
                                "function" == typeof this.onCellMouseLeave &&
                                    this.onCellMouseLeave(e),
                                (this.hover.cell = null);
                        }
                    }),
                    (this.hover = {}),
                    (this.$q = function () {
                        var e = p.fr();
                        if (e) {
                            var t = p.hover.crosshair;
                            (t &&
                                t.x === e.x &&
                                t.y === e.y &&
                                t.grid === e.grid &&
                                t.thX === e.thX) ||
                                ((p.hover.crosshair = e), this.Sd());
                        }
                    }),
                    (this.fr = function () {
                        if (!p.coords) return null;
                        if (!p.Ip()) return null;
                        if (!p.itline || 0 === p.itline.length) return null;
                        var e = p.vl(p.coords.y, p.coords.grid).element;
                        if (!e) return null;
                        var t = e.index,
                            n = null,
                            i = p.$j(p.coords.x);
                        i && (n = i.x);
                        var a = p.gr(),
                            r = null,
                            o = p.hn(a, p.coords.x);
                        return (
                            o && (r = o.x),
                            { x: n, thX: r, y: t, grid: p.coords.grid }
                        );
                    }),
                    (this.Qq = function () {
                        (this.Ej.top.divCrosshair.innerHTML = ""),
                            (this.Ej.main.divCrosshair.innerHTML = ""),
                            (this.Ej.bottom.divCrosshair.innerHTML = ""),
                            (this.hr = null),
                            (this.ir = null);
                    }),
                    (this.Da = function () {
                        if (
                            (this.Qq(),
                            (p.hover.crosshair = null),
                            this.jr &&
                                this.jr.parentNode &&
                                (this.jr.parentNode.removeChild(this.jr),
                                (this.jr = null)),
                            this.kr)
                        ) {
                            for (var e = 0; e < this.kr.length; e++) {
                                var t = this.kr[e];
                                t.parentNode && t.parentNode.removeChild(t);
                            }
                            this.kr = null;
                        }
                        (this.Ei = -1), (this.Di = -1), (this.lr = null);
                    }),
                    (this.gr = function () {
                        var e = this.timeHeader
                            ? this.timeHeader.length - 1
                            : 1;
                        return (
                            "number" == typeof p.crosshairTimeHeaderLevel &&
                                p.crosshairTimeHeaderLevel < e &&
                                p.crosshairTimeHeaderLevel >= 0 &&
                                (e = p.crosshairTimeHeaderLevel),
                            e
                        );
                    }),
                    (this.Sd = function () {
                        function e(e, t) {
                            var n = p.Ej[e],
                                i = n.height,
                                a = t.left,
                                r = p.hr[e];
                            if (!r) {
                                var r = u();
                                (r.style.height = i + "px"),
                                    (r.style.position = "absolute"),
                                    (r.style.top = "0px"),
                                    (r.className = p.H("_crosshair_vertical")),
                                    (p.hr[e] = r),
                                    n.divCrosshair.appendChild(r);
                            }
                            (r.style.left = a + "px"),
                                (r.style.width = t.width + "px");
                        }
                        if (p.coords && p.Ip()) {
                            var t = p.vl(p.coords.y, p.coords.grid).element;
                            if (t) {
                                var n = p.$j(p.coords.x).x,
                                    i = t.index,
                                    a = t.grid,
                                    r = p.Il(a),
                                    o = ["top", "main", "bottom"],
                                    s = this.crosshairType;
                                if ((this.hr || (this.hr = {}), "Full" === s)) {
                                    var l = this.itline[n];
                                    o.forEach(function (t) {
                                        e(t, l);
                                    });
                                    var d = t.top,
                                        c = t.height,
                                        h = p.uj(),
                                        f = p.ir;
                                    if (
                                        (f &&
                                            f.parentNode &&
                                            p.lr !== a &&
                                            (f.parentNode.removeChild(f),
                                            (f = null)),
                                        !f)
                                    ) {
                                        var f = u();
                                        (f.style.width = h + "px"),
                                            (f.style.height = c + "px"),
                                            (f.style.position = "absolute"),
                                            (f.style.top = d + "px"),
                                            (f.style.left = "0px"),
                                            (f.className = p.H(
                                                "_crosshair_horizontal"
                                            )),
                                            (p.ir = f),
                                            r.divCrosshair.appendChild(f);
                                    }
                                    (f.style.top = d + "px"),
                                        (f.style.height = c + "px");
                                }
                                var v = p.gr(),
                                    m = p.hn(v, p.coords.x);
                                if (m && p.Ei !== m.x) {
                                    p.jr &&
                                        this.jr.parentNode &&
                                        (p.jr.parentNode.removeChild(p.jr),
                                        (p.jr = null));
                                    var c = I.on(v).height,
                                        f = u();
                                    (f.style.width = m.cell.width + "px"),
                                        (f.style.height = c + "px"),
                                        (f.style.left = "0px"),
                                        (f.style.top = "0px"),
                                        (f.style.position = "absolute"),
                                        (f.className = p.H("_crosshair_top")),
                                        (p.jr = f);
                                    var g = this.divNorth,
                                        b = v;
                                    p.nav.timeHeader
                                        ? p.Q.timeHeader[
                                              m.x + "_" + b
                                          ].appendChild(f)
                                        : g &&
                                          g.firstChild.rows[b].cells[n] &&
                                          g.firstChild.rows[b].cells[
                                              n
                                          ].firstChild.appendChild(f);
                                }
                                if (p.Di !== i || p.lr !== a) {
                                    if (p.kr) {
                                        for (var y = 0; y < p.kr.length; y++) {
                                            var w = p.kr[y];
                                            w.parentNode &&
                                                w.parentNode.removeChild(w);
                                        }
                                        p.kr = null;
                                    }
                                    this.rowHeaderCols
                                        ? this.rowHeaderCols.length
                                        : 1;
                                    if (((p.kr = []), r.divHeader.rows[i]))
                                        for (
                                            var y = 0;
                                            y <
                                            r.divHeader.rows[i].cells.length;
                                            y++
                                        ) {
                                            var h = p.xj(),
                                                f = u();
                                            (f.style.width = h + "px"),
                                                (f.style.height =
                                                    t.height + "px"),
                                                (f.style.left = "0px"),
                                                (f.style.top = "0px"),
                                                (f.style.position = "absolute"),
                                                (f.className =
                                                    p.H("_crosshair_left")),
                                                p.kr.push(f),
                                                r.divHeader.rows[i].cells[
                                                    y
                                                ].firstChild.appendChild(f);
                                        }
                                }
                                m && (p.Ei = m.x), (p.Di = i), (p.lr = a);
                            }
                        }
                    }),
                    (this.hn = function (e, t) {
                        var n = p.timeHeader[e];
                        if (!n) return null;
                        for (var i = 0; i < n.length; i++) {
                            var a = n[i];
                            if (t >= a.left && t < a.left + a.width) {
                                var r = {};
                                return (r.cell = a), (r.x = i), r;
                            }
                        }
                        return null;
                    }),
                    (this.mr = function (e) {
                        return p.hn(p.timeHeader.length - 1, e);
                    }),
                    (this.Fp = function (e) {
                        if (((e.cancelBubble = !0), !p.allowDefaultContextMenu))
                            return !1;
                    }),
                    (this.Oq = function (e) {
                        var t = p.Wk;
                        if (!t || !t.start || !t.end) return !1;
                        var n = this.im(t.start.y),
                            i = t.start.x < t.end.x,
                            a = (i ? t.start.x : t.end.x) * this.cellWidth,
                            r =
                                (i ? t.end.x : t.start.x) * this.cellWidth +
                                this.cellWidth,
                            o = n.top,
                            s = n.bottom;
                        return (
                            e.x >= a &&
                            e.x <= r &&
                            e.y >= o &&
                            e.y <= s &&
                            e.grid === t.start.grid
                        );
                    }),
                    (this.Xk = function (e, t) {
                        function n(e, t) {
                            var n,
                                i,
                                a,
                                o,
                                d = e.end.time > e.start.time,
                                c = e.start.y,
                                h = e.start.time && e.end.time;
                            if (r || !h) {
                                var f = d ? e.start.x : e.end.x,
                                    v = d ? e.end.x : e.start.x,
                                    m = p.itline[f],
                                    g = p.itline[v];
                                (n = m.left), (i = g.left + g.width);
                            } else
                                d
                                    ? ((a = e.start.time), (o = e.end.time))
                                    : ((a = e.end.time), (o = e.start.time)),
                                    (n = p.getPixels(a).left),
                                    (i = p.getPixels(o).left);
                            var b = i - n,
                                y = p.elements.range2;
                            if (!y) {
                                (y = u()),
                                    (y.style.position = "absolute"),
                                    y.setAttribute("unselectable", "on");
                                var w = u();
                                (w.className = p.H("_shadow_inner")),
                                    y.appendChild(w),
                                    s.divShadow.appendChild(y);
                            }
                            return (
                                y.grid !== e.start.grid &&
                                    (y.parentNode.removeChild(y),
                                    s.divShadow.appendChild(y)),
                                (y.className = p.H("_shadow")),
                                (y.firstChild.innerHTML = ""),
                                (y.style.left = n + "px"),
                                (y.style.top = l[c].top + "px"),
                                (y.style.width = b + "px"),
                                (y.style.height = l[c].height - 1 + "px"),
                                (y.calendar = p),
                                (y.grid = e.start.grid),
                                (p.elements.range2 = y),
                                (function () {
                                    y.overlapping = !1;
                                    var i = l[c];
                                    p.yn(y, i, n, b, null);
                                    var a = d ? e.start.time : e.end.time,
                                        r = d ? e.end.time : e.start.time;
                                    t.ignoreDisabledCells ||
                                        p.zn(y, a, r, i.id);
                                })(),
                                y
                            );
                        }
                        var e = e || o.Lm;
                        if (e && e.calendar === p) {
                            t = t || {};
                            var i = t.justDraw,
                                a = e.forceSnap,
                                r =
                                    p.snapToGrid &&
                                    p.snapToGridTimeRangeSelecting;
                            a && (r = !0);
                            var s = p.Il(e.start.grid),
                                l = s.rowlist;
                            !(function () {
                                var t = e.end.time >= e.start.time,
                                    a = t ? e.start.x : e.end.x,
                                    o = t ? e.end.x : e.start.x,
                                    s = e.start.y,
                                    d = l[s];
                                if (d && !d.hidden) {
                                    var c = p.itline[a],
                                        u = p.itline[o],
                                        h = p.nr,
                                        f = c.start.addTime(d.data.offset),
                                        v = u.end.addTime(d.data.offset);
                                    if (
                                        (r ||
                                            (t
                                                ? ((f = e.start.time),
                                                  (v = e.end.time))
                                                : ((f = e.end.time),
                                                  (v = e.start.time))),
                                        i ||
                                            !h ||
                                            h.start.getTime() !== f.getTime() ||
                                            h.rawend.getTime() !==
                                                v.getTime() ||
                                            h.resource !== l[s].id)
                                    ) {
                                        var m = {
                                                start: f,
                                                end: p.nh(v),
                                                rawend: v,
                                                resource: l[s].id,
                                            },
                                            g = {};
                                        (g.anchor = t ? m.start : m.end),
                                            (g.start = m.start),
                                            (g.end = m.end),
                                            (g.duration = new DayPilot.Duration(
                                                f,
                                                v
                                            )),
                                            (g.resource = l[s].id),
                                            (g.row = p._k(d)),
                                            (g.allowed = !0),
                                            (g.ignoreDisabledCells = !1),
                                            (g.left = {}),
                                            (g.left.html = g.start.toString(
                                                p.timeRangeSelectingStartEndFormat,
                                                U.Xj()
                                            )),
                                            (g.left.enabled =
                                                p.timeRangeSelectingStartEndEnabled),
                                            (g.left.space = 5),
                                            (g.left.width = null),
                                            (g.left.height = p.eventHeight),
                                            (g.right = {}),
                                            (g.right.html = g.end.toString(
                                                p.timeRangeSelectingStartEndFormat,
                                                U.Xj()
                                            )),
                                            (g.right.enabled =
                                                p.timeRangeSelectingStartEndEnabled),
                                            (g.right.space = 5),
                                            (g.right.width = null),
                                            (g.right.height = p.eventHeight),
                                            (g.overlapping =
                                                g.row.events.forRange(f, v)
                                                    .length > 0),
                                            (g.html = null),
                                            (g.cssClass = null),
                                            (g.button = p.Tq),
                                            (p.nr = m),
                                            "function" !=
                                                typeof p.onTimeRangeSelecting ||
                                                i ||
                                                (p.onTimeRangeSelecting(g),
                                                (g.resource = m.resource)),
                                            (g.end = p.Qg(g.end)),
                                            (e.args = g);
                                        var b = p.or(e);
                                        p.Vk(b, g.start, g.end);
                                        var y = n(b, g);
                                        g.html &&
                                            (y.firstChild.innerHTML = g.html),
                                            g.cssClass &&
                                                DayPilot.Util.addClass(
                                                    y,
                                                    g.cssClass
                                                ),
                                            p.In(y, g),
                                            (e.Aq = b),
                                            (e.disabled = !g.allowed),
                                            p.Jn(y, g);
                                    }
                                }
                            })();
                        }
                    }),
                    (this.or = function (e) {
                        return {
                            start: {
                                x: e.start.x,
                                y: e.start.y,
                                time: e.start.time,
                                grid: e.start.grid,
                            },
                            end: { x: e.end.x, time: e.end.time },
                            disabled: e.disabled,
                            calendar: e.calendar,
                            args: e.args,
                            forceSnap: e.forceSnap,
                        };
                    }),
                    (this.range = {}),
                    (this.range.all = function () {
                        return p.multirange.get();
                    }),
                    (this.multirange = {}),
                    (this.multirange.get = function () {
                        return N.get(!0);
                    }),
                    (this.multirange.add = function (e) {
                        if (!e)
                            throw new DayPilot.Exception("Range not specified");
                        if (!e.start || !e.end || !e.resource)
                            throw new DayPilot.Exception(
                                "Invalid range specified"
                            );
                        if (DayPilot.list(N.list).isEmpty()) {
                            var t = p.Uk();
                            if (t) {
                                var n = p.pr(t.start, t.end, t.resource);
                                p.qr.add(n);
                            }
                        }
                        var n = p.pr(e.start, e.end, e.resource);
                        p.Xk(n), p.qr.add(n);
                    }),
                    (this.multirange.clear = function () {
                        N.clear(), p.clearSelection(), (p.nr = null);
                    }),
                    (this.qr = {});
                var N = this.qr;
                (this.qr.list = []),
                    (this.qr.drawLaterTimeout = null),
                    (this.qr.drawLater = function () {
                        clearTimeout(p.qr.drawLaterTimeout),
                            (p.qr.drawLaterTimeout = setTimeout(function () {
                                N.list.forEach(function (e) {
                                    (p.elements.range2 = null), p.Xk(e);
                                });
                            }, 0));
                    }),
                    (this.qr.clear = function () {
                        DayPilot.de(
                            DayPilot.list(N.list).map(function (e) {
                                return e.div;
                            })
                        ),
                            (N.list = []);
                    }),
                    (this.qr.add = function (e) {
                        (e.div = p.elements.range2),
                            (p.elements.range2 = null),
                            p.Ln(),
                            N.list.push(e);
                    }),
                    (this.qr.get = function (e) {
                        var t = DayPilot.list(N.list).map(function (e) {
                            return p.Uk(e);
                        });
                        if (e && t.isEmpty()) {
                            var n = p.Uk();
                            n && t.push(n);
                        }
                        return t;
                    }),
                    (this.qr.dispatch = function () {
                        if (p.allowMultiRange && !o.Lm) {
                            var e = DayPilot.list(N.list).last();
                            p.Tk(e);
                        }
                    }),
                    (this.rr = function (e) {
                        if ("Disabled" === p.timeRangeSelectedHandling)
                            return !1;
                        if (
                            !DayPilot.Global.touch.active &&
                            !DayPilot.Global.touch.start
                        ) {
                            var t = DayPilot.Util.mouseButton(e);
                            if (
                                !o.Lm &&
                                !o.Rq &&
                                !(
                                    (p.Wk &&
                                        p.Oq(p.coords) &&
                                        (t.right || t.middle)) ||
                                    p.Ll(p.vl(p.coords.y).i)
                                )
                            ) {
                                var n = {},
                                    i = p.$j(p.coords.x).x;
                                (n.start = {
                                    y: p.vl(p.coords.y).i,
                                    x: i,
                                    grid: p.coords.grid,
                                }),
                                    (n.end = { x: i }),
                                    (n.calendar = p),
                                    (p.Wk = n),
                                    p.Tk(n);
                            }
                        }
                    }),
                    (this.dk = {}),
                    (this.dk.ab = null),
                    (this.dk.drawCells = null),
                    (this.dk.drawRows = null),
                    (this.dk.click = null),
                    (this.dk.resClick = []),
                    (this.dk.updateFloats = null),
                    (this.$i = function (e, t) {
                        if (!p.U) {
                            (t = t || {}),
                                "undefined" == typeof DayPilot.Bubble ||
                                    t.dontHideBubble ||
                                    DayPilot.Bubble.hideActive(),
                                p.da();
                            var n = p.nav.scroll;
                            if (
                                ((p.gn = n.scrollLeft),
                                (p.dn = n.scrollTop),
                                (p.Wp = n.clientWidth),
                                p.divTimeScroll &&
                                    (p.divTimeScroll.scrollLeft = p.gn),
                                p.Ej.top.enabled() &&
                                    (p.Ej.top.div.scrollLeft = p.gn),
                                p.Ej.bottom.enabled() &&
                                    (p.Ej.bottom.div.scrollLeft = p.gn),
                                a && o.sp
                                    ? s()
                                    : (p.divResScroll.scrollTop = p.dn),
                                g.Rj() &&
                                    p.T &&
                                    "Auto" != p.cellWidthSpec &&
                                    !p.dj)
                            )
                                if (g.Cf) s();
                                else {
                                    if (
                                        p.nav.scroll.scrollLeft <
                                        p.infiniteScrollingMargin
                                    )
                                        return (
                                            (g.Cf = !0),
                                            (p.nav.scroll.style.overflowX =
                                                "hidden"),
                                            void setTimeout(function () {
                                                g.Lj(
                                                    -p.infiniteScrollingStepDays
                                                );
                                            }, 100)
                                        );
                                    if (
                                        p.nav.scroll.scrollWidth -
                                            (p.nav.scroll.scrollLeft +
                                                p.nav.scroll.clientWidth) <
                                        p.infiniteScrollingMargin
                                    )
                                        return (
                                            (g.Cf = !0),
                                            (p.nav.scroll.style.overflowX =
                                                "hidden"),
                                            void setTimeout(function () {
                                                g.Lj(
                                                    p.infiniteScrollingStepDays
                                                );
                                            }, 100)
                                        );
                                }
                            if (
                                (p.navigatorBackSync &&
                                    !(function () {
                                        var e = DayPilot.Util.evalVariable(
                                                p.navigatorBackSync
                                            ),
                                            t = p.getViewPort().start;
                                        e.select(t, {
                                            dontNotify: !0,
                                            dontFocus: !0,
                                        });
                                    })(),
                                p.progressiveRowRendering &&
                                    (p.dk.drawRows &&
                                        (clearTimeout(p.dk.drawRows),
                                        (p.dk.drawRows = null)),
                                    p.scrollDelayRows > 0
                                        ? (p.dk.drawRows = setTimeout(
                                              function () {
                                                  p.wk();
                                              },
                                              p.scrollDelayRows
                                          ))
                                        : p.wk()),
                                p.dk.drawCells &&
                                    (clearTimeout(p.dk.drawCells),
                                    (p.dk.drawCells = null)),
                                p.scrollDelayCells > 0)
                            )
                                p.dk.drawCells = setTimeout(
                                    p.sr(),
                                    p.scrollDelayCells
                                );
                            else {
                                p.sr()();
                            }
                            if (p.dynamicLoading) return p.Gh(), void p.ur();
                            p.dk.ab &&
                                (clearTimeout(p.dk.ab), (p.dk.ab = null)),
                                p.scrollDelayEvents > 0
                                    ? (p.dk.ab = setTimeout(
                                          p.vr(),
                                          p.scrollDelayEvents
                                      ))
                                    : p.ab(),
                                p.dk.updateFloats &&
                                    (clearTimeout(p.dk.updateFloats),
                                    (p.dk.updateFloats = null)),
                                p.scrollDelayFloats > 0
                                    ? (p.dk.updateFloats = setTimeout(
                                          function () {
                                              p.Yi();
                                          },
                                          p.scrollDelayFloats
                                      ))
                                    : p.Yi(),
                                (p.onScrollCalled = !0);
                        }
                    }),
                    (this.sr = function () {
                        return function () {
                            p && (p.Gh(), p.Ui());
                        };
                    }),
                    (this.vr = function () {
                        return function () {
                            p &&
                                (p.fq()
                                    ? window.setTimeout(function () {
                                          p.cq(),
                                              window.setTimeout(function () {
                                                  p.ab(!0);
                                              }, 50);
                                      }, 50)
                                    : p.nj());
                        };
                    }),
                    (this.da = function () {
                        (p.Q.eventHeight = null), (p.Q.drawArea = null);
                    }),
                    (this.show = function () {
                        (p.visible = !0),
                            (p.Hi = !0),
                            (p.nav.top.style.display = ""),
                            p._a(),
                            p.cb(),
                            p.qm(),
                            p.$i();
                    }),
                    (this.hide = function () {
                        (p.visible = !1),
                            (p.Hi = !1),
                            (p.nav.top.style.display = "none");
                    }),
                    (this.ur = function () {
                        var e = p.nav.scroll;
                        (p.gn = e.scrollLeft),
                            (p.dn = e.scrollTop),
                            (p.Wp = e.clientWidth),
                            (p.divTimeScroll.scrollLeft = p.gn),
                            (p.divResScroll.scrollTop = p.dn),
                            p.refreshTimeout &&
                                window.clearTimeout(p.refreshTimeout);
                        var t = p.scrollDelayDynamic;
                        (p.refreshTimeout = window.setTimeout(
                            p.wr(e.scrollLeft, e.scrollTop),
                            t
                        )),
                            p.Yi();
                    }),
                    (this.sm = function (e) {
                        if (!p.events.list) return null;
                        for (var t = 0; t < this.events.list.length; t++) {
                            var n = this.events.list[t];
                            if (p.Hc(n, e)) {
                                var i = {};
                                return (
                                    (i.ex = n),
                                    (i.index = t),
                                    (i.modified = !p.xr(e, n)),
                                    i
                                );
                            }
                        }
                        return null;
                    }),
                    (this.xr = function (e, t) {
                        for (var n in e)
                            if (
                                ("object" != typeof e[n] ||
                                    e[n] instanceof DayPilot.Date) &&
                                e[n] !== t[n]
                            )
                                return !1;
                        for (var n in t)
                            if ("object" != typeof t[n] && e[n] !== t[n])
                                return !1;
                        return !0;
                    }),
                    (this.Wi = function (e, t, n) {
                        var i = n && n.clearEvents,
                            a = n && n.remove,
                            r = n && n.dontForceCellRendering,
                            o = [];
                        if ((p.events.list || (p.events.list = []), i)) p.Pa(e);
                        else {
                            var s = [];
                            DayPilot.list(a).forEach(function (e) {
                                var t = DayPilot.list(p.events.list).find(
                                    function (t) {
                                        return t.id === e;
                                    }
                                );
                                t && s.push(t);
                            }),
                                s.forEach(function (e) {
                                    var t = p.events.kk(e);
                                    (o = o.concat(t)),
                                        DayPilot.rfa(p.events.list, e);
                                });
                            for (var l = [], d = 0; d < e.length; d++) {
                                var c = e[d];
                                l[d] = p.sm(c);
                            }
                            for (var d = 0; d < e.length; d++) {
                                var c = e[d],
                                    u = l[d],
                                    h = u && u.modified,
                                    f = !u;
                                if (h) {
                                    this.events.list[u.index] = c;
                                    var v = p.events.kk(u.ex);
                                    o = o.concat(v);
                                } else f && this.events.list.push(c);
                                (h || f) && (o = o.concat(p.events.lk(c)));
                            }
                            p.mk(o), p.nk();
                        }
                        p.Pi(), p.Xa();
                        if (i || r) {
                            p.ra();
                            var m = p.Mk || !p.beforeCellRenderCaching;
                            m && p.Ri(),
                                p.Qi(),
                                m ? p.Ui() : p.qm(),
                                p.ab(),
                                t && t();
                        } else
                            p.ok(o, !1, function () {
                                t && t(), p.cq(), p.ab();
                            }),
                                p.qm();
                    }),
                    (this.wr = function (e, t) {
                        return p.J()
                            ? function () {
                                  (p.scrollX = e),
                                      (p.scrollY = t),
                                      p.ja("Scroll");
                              }
                            : function () {
                                  if ("function" == typeof p.onScroll) {
                                      var e = function (e) {
                                              var t = function () {
                                                  if (
                                                      p.fb() &&
                                                      "function" ==
                                                          typeof p.onAfterRender
                                                  ) {
                                                      var e = {};
                                                      (e.isCallBack = !1),
                                                          (e.isScroll = !0),
                                                          (e.data = null),
                                                          p.onAfterRender(e);
                                                  }
                                              };
                                              p.Wi(e.events, t, e);
                                          },
                                          t = {};
                                      (t.viewport = p.getViewPort()),
                                          (t.async = !0),
                                          (t.events = []),
                                          (t.remove = []),
                                          (t.clearEvents = !0),
                                          (t.dontForceCellRendering = !1),
                                          (t.loaded = function () {
                                              this.async && e(t);
                                          }),
                                          p.onScroll(t),
                                          t.async || e(t);
                                  }
                              };
                    }),
                    (this.yr = function () {
                        var e = this.Y(),
                            t = e.xStart,
                            n = e.xEnd - e.xStart,
                            i = e.yStart,
                            a = e.yEnd - e.yStart;
                        this.cellProperties || (this.cellProperties = {});
                        for (
                            var r = p.Ej.top, o = p.Ej.bottom, s = 0;
                            s <= n;
                            s++
                        ) {
                            for (var l = t + s, d = 0; d < a; d++) {
                                var c = i + d;
                                this.rowlist[c].hidden || this.bd(l, c);
                            }
                            if ((this.zr(l), r.enabled())) {
                                for (var c = 0; c < r.rowlist.length; c++)
                                    this.bd(l, c, "top");
                                this.zr(l, "top");
                            }
                            if (o.enabled()) {
                                for (var c = 0; c < o.rowlist.length; c++)
                                    this.bd(l, c, "bottom");
                                this.zr(l, "bottom");
                            }
                        }
                        for (var u = this.Pn(), c = u.start; c < u.end; c++)
                            this.rowlist[c].hidden || this.Ar(c);
                        if (r.enabled())
                            for (var c = 0; c < r.rowlist.length; c++)
                                r.rowlist[c].hidden || this.Ar(c, "top");
                        if (o.enabled())
                            for (var c = 0; c < o.rowlist.length; c++)
                                o.rowlist[c].hidden || this.Ar(c, "bottom");
                    }),
                    (this.Ui = function () {
                        if (!p.U) {
                            var e = p.Pj();
                            if (e && e.length > 0) {
                                if (this.cellSweeping) {
                                    var t = this.cellSweepingCacheSize;
                                    this.eq(t);
                                }
                                L.mm(),
                                    this.yr(),
                                    this.Br(),
                                    L.kl({ dontFocus: !0 });
                            }
                            this.Mk = !1;
                        }
                    }),
                    (this.Br = function () {
                        for (
                            var e = this.Y(),
                                t = p.Ej.top,
                                n = p.Ej.bottom,
                                i = e.xStart;
                            i < e.xEnd;
                            i++
                        ) {
                            i < this.itline.length - 1 &&
                                this.itline[i + 1].breakBefore &&
                                (this.Cr(i),
                                t.enabled() && this.Cr(i, "top"),
                                n.enabled() && this.Cr(i, "bottom"));
                        }
                    }),
                    (this.Cr = function (e, t) {
                        t = t || "main";
                        var n = p.Ej[t],
                            i = n.divBreaks,
                            a = "main" === t,
                            r = a ? p.Fi : n.height,
                            o = t + "_x_" + e;
                        if (!this.Q.breaks[o]) {
                            var s = {};
                            if ("function" == typeof p.onBeforeGridLineRender) {
                                var l = p.itline[e],
                                    d = p.itline[e + 1];
                                if (
                                    ((s.start = l && l.end),
                                    (s.end = d && d.start),
                                    (s.hidden = !1),
                                    (s.cssClass = null),
                                    (s.type = "VerticalBreak"),
                                    (s.grid = t),
                                    (s.color = null),
                                    p.onBeforeGridLineRender(s),
                                    s.hidden)
                                )
                                    return;
                            }
                            var c = p.itline[e + 1].left - 1,
                                h = u();
                            (h.style.left = c + "px"),
                                (h.style.top = "0px"),
                                (h.style.width = "1px"),
                                (h.style.height = r + "px"),
                                (h.style.fontSize = "1px"),
                                (h.style.lineHeight = "1px"),
                                (h.style.overflow = "hidden"),
                                (h.style.position = "absolute"),
                                h.setAttribute("unselectable", "on"),
                                (h.className = this.H(
                                    "_matrix_vertical_break"
                                )),
                                s.cssClass && (h.className += " " + s.cssClass),
                                s.color && (h.style.backgroundColor = s.color),
                                i.appendChild(h),
                                this.elements.breaks.push(h),
                                (this.Q.breaks[o] = h);
                        }
                    }),
                    (this.Y = function () {
                        if (p.Q.drawArea) return p.Q.drawArea;
                        if (!this.nav.scroll) return null;
                        var e = p.dn,
                            t = {},
                            n =
                                null != this.dynamicEventRenderingMarginX
                                    ? this.dynamicEventRenderingMarginX
                                    : this.dynamicEventRenderingMargin,
                            i =
                                null != this.dynamicEventRenderingMarginY
                                    ? this.dynamicEventRenderingMarginY
                                    : this.dynamicEventRenderingMargin,
                            a = p.gn - n - g.lj,
                            r = a + p.Wp + 2 * n,
                            o = 0,
                            s = 0;
                        if (p.itline && p.itline.length > 0) {
                            (o = p.$j(a).x), (s = p.$j(r, !0).x);
                            var l = this.en();
                            (s = Math.min(s, l)),
                                (o = DayPilot.Util.atLeast(o, 0));
                        }
                        var d = e - i,
                            c = e + this.nav.scroll.offsetHeight + 2 * i,
                            u = this.vl(d).i,
                            h = this.vl(c).i;
                        h < this.rowlist.length && h++,
                            (t.xStart = o),
                            (t.xEnd = s),
                            (t.yStart = u),
                            (t.yEnd = h);
                        var f = p.nav.scroll;
                        return (
                            0 === f.clientWidth && (f = p.divTimeScroll),
                            (t.pixels = {}),
                            (t.pixels.left = f.scrollLeft - g.lj),
                            (t.pixels.right =
                                f.scrollLeft - g.lj + f.clientWidth),
                            (t.pixels.top = f.scrollTop),
                            (t.pixels.bottom = f.scrollTop + f.clientHeight),
                            (t.pixels.width = f.scrollWidth),
                            (t.sw = DayPilot.sw(p.nav.scroll)),
                            (p.Q.drawArea = t),
                            t
                        );
                    }),
                    (this.uj = function () {
                        var e = 0,
                            t = this.itline[this.itline.length - 1];
                        return (
                            (e = t ? t.left + t.width : 0),
                            (e < 0 || isNaN(e)) && (e = 0),
                            e
                        );
                    }),
                    (this.Ar = function (e, t) {
                        t = t || "main";
                        var n = p.Ej[t],
                            i = n.rowlist,
                            a = n.divLines,
                            r = t + "_y_" + e;
                        if (!this.Q.linesHorizontal[r]) {
                            var o = i[e],
                                s = {};
                            if (
                                "function" != typeof p.onBeforeGridLineRender ||
                                ((s.row = p._k(o)),
                                (s.hidden = !1),
                                (s.cssClass = null),
                                (s.type = "HorizontalLine"),
                                (s.color = null),
                                p.onBeforeGridLineRender(s),
                                !s.hidden)
                            ) {
                                var l =
                                        "number" == typeof o.forcedHeight
                                            ? o.forcedHeight
                                            : o.height,
                                    d = o.top + l - 1,
                                    c = this.uj(),
                                    h = u();
                                (h.style.left = "0px"),
                                    (h.style.top = d + "px"),
                                    (h.style.width = c + "px"),
                                    (h.style.height = "1px"),
                                    (h.style.fontSize = "1px"),
                                    (h.style.lineHeight = "1px"),
                                    (h.style.overflow = "hidden"),
                                    (h.style.position = "absolute"),
                                    h.setAttribute("unselectable", "on"),
                                    (h.className = this.H(
                                        "_matrix_horizontal_line"
                                    )),
                                    s.cssClass &&
                                        (h.className += " " + s.cssClass),
                                    s.color &&
                                        (h.style.backgroundColor = s.color),
                                    a.appendChild(h),
                                    (this.Q.linesHorizontal[r] = h);
                            }
                        }
                    }),
                    (this.zr = function (e, t) {
                        var n = this.itline[e];
                        if (n) {
                            t = t || "main";
                            var i = p.Ej[t],
                                a = i.divLines,
                                r = "main" === t,
                                o = r ? p.Fi : i.height,
                                s = t + "_x_" + e;
                            if (!this.Q.linesVertical[s]) {
                                var l = {};
                                if (
                                    "function" !=
                                        typeof p.onBeforeGridLineRender ||
                                    ((l.start = n.start),
                                    (l.end = n.end),
                                    (l.hidden = !1),
                                    (l.cssClass = null),
                                    (l.type = "VerticalLine"),
                                    (l.color = null),
                                    p.onBeforeGridLineRender(l),
                                    !l.hidden)
                                ) {
                                    var d = n.left + n.width - 1,
                                        c = u();
                                    (c.style.left = d + "px"),
                                        (c.style.top = "0px"),
                                        (c.style.width = "1px"),
                                        (c.style.height = o + "px"),
                                        (c.style.fontSize = "1px"),
                                        (c.style.lineHeight = "1px"),
                                        (c.style.overflow = "hidden"),
                                        (c.style.position = "absolute"),
                                        c.setAttribute("unselectable", "on"),
                                        (c.className = this.H(
                                            "_matrix_vertical_line"
                                        )),
                                        l.cssClass &&
                                            (c.className += " " + l.cssClass),
                                        l.color &&
                                            (c.style.backgroundColor = l.color),
                                        a.appendChild(c),
                                        this.elements.linesVertical.push(c),
                                        (this.Q.linesVertical[s] = c);
                                }
                            }
                        }
                    }),
                    (this.Xm = function (e, t) {
                        function n() {
                            var t = p.Dr(e, i.expanded, !1);
                            if (!a)
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    p.Nk(r);
                                }
                            p.mo(), p.Xa(), p.Gh();
                            var o = p._k(i, e);
                            a ? p.jl(o) : p.il(o);
                        }
                        p.cj.wm && (p.cj.skip = !0);
                        var i = this.rowlist[e],
                            a = !i.expanded;
                        if (
                            ((i.expanded = a),
                            i.resource && (i.resource.expanded = a),
                            (t = t || {}),
                            p.treeAnimation && !t.notAnimated)
                        ) {
                            var r = this.Dr(e, i.expanded, !0);
                            p.lo(r, a ? "show" : "hide", function () {
                                n();
                            });
                        } else n();
                    }),
                    (this.mo = function () {
                        p.Pi(),
                            p.Mi(),
                            p.Xa(),
                            p.da(),
                            p.Pk(),
                            y.Rk(),
                            p.Ri(),
                            p.Ui(),
                            p.wk(),
                            p.ab(),
                            p.da();
                    }),
                    (this.ho = function (e) {
                        var t = {};
                        if (
                            ((t.index = e),
                            "function" == typeof this.onLoadNode)
                        ) {
                            var n = {},
                                i = this.rowlist[e].resource;
                            (n.resource = i),
                                (n.async = !1),
                                (n.loaded = function () {
                                    this.async &&
                                        ((i.dynamicChildren = !1),
                                        (i.expanded = !0),
                                        p.update());
                                }),
                                this.onLoadNode(n),
                                n.async ||
                                    ((i.dynamicChildren = !1),
                                    (i.expanded = !0),
                                    this.update());
                        } else this.ja("LoadNode", t);
                    }),
                    (this.Dr = function (e, t, n) {
                        var i = this.rowlist[e],
                            a = [];
                        if (null === i.children || 0 === i.children.length)
                            return a;
                        for (var r = 0; r < i.children.length; r++) {
                            var o = i.children[r],
                                s = this.rowlist[o],
                                l = t && i.expanded && !s.Wo;
                            t && s.hidden && (s.forcedHeight = 0),
                                (n && !t) || (s.hidden = !l),
                                n || delete s.forcedHeight,
                                t === l && a.push(o);
                            var d = this.Dr(o, t);
                            d.length > 0 && (a = a.concat(d));
                        }
                        return a;
                    }),
                    (this.ye = function (e, t) {
                        this.Ea(), this.ze(e, t);
                    }),
                    (this.Ae = function (e) {
                        if (!e) return !1;
                        var t = this.nav.scroll.scrollWidth,
                            n = this.nav.scroll.scrollLeft,
                            i = this.nav.scroll.clientWidth,
                            a = n + i;
                        return (
                            !(e < 0 && n <= 0) &&
                            !(e > 0 && a >= t) &&
                            ((this.nav.scroll.scrollLeft += e),
                            (p.coords.x += e),
                            p.Be(),
                            !0)
                        );
                    }),
                    (this.Ce = function (e) {
                        if (!e) return !1;
                        var t = this.nav.scroll.scrollHeight,
                            n = this.nav.scroll.scrollTop,
                            i = this.nav.scroll.clientHeight,
                            a = n + i;
                        return (
                            !(e < 0 && n <= 0) &&
                            !(e > 0 && a >= t) &&
                            ((this.nav.scroll.scrollTop += e),
                            (p.coords.y += e),
                            p.Be(),
                            !0)
                        );
                    }),
                    (this.Be = function () {
                        o.Km && o.Km.event.calendar === p
                            ? p.Wq()
                            : o.ck &&
                              (o.Fm.calendar === p ||
                                  (o.Fm.calendar &&
                                      o.Fm.calendar.dragOutAllowed))
                            ? (o.ck.event || (o.ck.event = o.Fm), p.Xq())
                            : o.Lm && o.Lm.calendar === p && p.Yq();
                    }),
                    (this.ze = function (e, t) {
                        if (this.Ae(e) || this.Ce(t)) {
                            var n = function (e, t) {
                                return function () {
                                    p.ze(e, t);
                                };
                            };
                            this.De = window.setTimeout(n(e, t), 100);
                        }
                    }),
                    (this.Ea = function () {
                        p.De && (window.clearTimeout(p.De), (p.De = null));
                    }),
                    (this.Pi = function () {
                        p.Ej.top.enabled() &&
                            (p.Ej.top.height = p.Er(p.Ej.top.rowlist, 0)),
                            p.Ej.bottom.enabled() &&
                                (p.Ej.bottom.height = p.Er(
                                    p.Ej.bottom.rowlist,
                                    0
                                )),
                            (p.Fi = p.Er(p.rowlist, p.Ej.top.height));
                    }),
                    (this.Er = function (e, t) {
                        for (
                            var n = 0, i = t || 0, t = t || 0, a = 0;
                            a < e.length;
                            a++
                        ) {
                            var r = e[a];
                            r.hidden ||
                                ((r.top = t),
                                (r.displayY = n),
                                (t +=
                                    "number" == typeof r.forcedHeight
                                        ? r.forcedHeight
                                        : r.height),
                                (n += 1)),
                                (r.absTop = i),
                                (i += r.height);
                        }
                        return t;
                    }),
                    (this.Ri = function () {
                        DayPilot.browser.ie && p.Fr(),
                            (p.elements.cells = []),
                            (p.elements.breaks = []),
                            (p.Q.cells = []),
                            (p.Q.breaks = []),
                            (p.divBreaks.innerHTML = ""),
                            (p.Ej.top.divBreaks.innerHTML = ""),
                            (p.Ej.bottom.divBreaks.innerHTML = ""),
                            (p.divCells.innerHTML = ""),
                            (p.Ej.top.divCells.innerHTML = ""),
                            (p.Ej.bottom.divCells.innerHTML = ""),
                            p.Yn();
                    }),
                    (this.Yn = function () {
                        (p.divLines.innerHTML = ""),
                            (p.Ej.top.divLines.innerHTML = ""),
                            (p.Ej.bottom.divLines.innerHTML = ""),
                            (p.Q.linesVertical = {}),
                            (p.Q.linesHorizontal = {}),
                            (p.elements.linesVertical = []);
                    }),
                    (this.Fr = function (e) {
                        var t = DayPilot.list();
                        for (var n in p.Q.cells) t.push(p.Q.cells[n]);
                        t.forEach(function (e) {
                            p.zm(e);
                        });
                    }),
                    (this.Qk = function (e, t) {
                        t = t || "main";
                        var n = DayPilot.list();
                        for (var i in p.Q.cells) n.push(p.Q.cells[i]);
                        n.filter(function (n) {
                            return (
                                n &&
                                n.coords &&
                                n.coords.y === e &&
                                n.coords.grid === t
                            );
                        }).forEach(function (e) {
                            p.zm(e);
                        });
                    }),
                    (this.Gr = 0),
                    (this.Hr = DayPilot.list([
                        "html",
                        "cssClass",
                        "backColor",
                        "backImage",
                        "backRepeat",
                        "areas",
                        "disabled",
                    ])),
                    (this.Ir = p.Hr.add("business")),
                    (this.bd = function (e, t, n) {
                        if (this.T) {
                            var i = p.ek(e);
                            if (i) {
                                n = n || "main";
                                var a = this.Ej[n],
                                    r = a.rowlist,
                                    o = a.divCells,
                                    s = "main" === n,
                                    l = n + "_" + e + "_" + t;
                                if (!this.Q.cells[l]) {
                                    var d = this.Am(e, t, n);
                                    if ((p.mn(e, t, n), !this.drawBlankCells)) {
                                        var c = !1;
                                        if (
                                            (s && this.Um(t)
                                                ? (c = !1)
                                                : this.Jr(d, p.Hr) || (c = !0),
                                            c)
                                        )
                                            return;
                                    }
                                    var h = u();
                                    (h.style.left = i.left + "px"),
                                        (h.style.top = r[t].top + "px"),
                                        (h.style.width = i.width + "px"),
                                        (h.style.height = r[t].height + "px"),
                                        (h.style.position = "absolute"),
                                        d &&
                                            d.backColor &&
                                            (h.style.backgroundColor =
                                                d.backColor),
                                        h.setAttribute("unselectable", "on"),
                                        (h.className = this.H("_cell")),
                                        (h.coords = {}),
                                        (h.coords.x = e),
                                        (h.coords.y = t),
                                        (h.coords.grid = n),
                                        s &&
                                            p.Um(t) &&
                                            DayPilot.Util.addClass(
                                                h,
                                                this.H("_cellparent")
                                            ),
                                        E.Q[t] &&
                                            DayPilot.Util.addClass(
                                                h,
                                                this.H("_cell_selected")
                                            );
                                    var f = p.cells.findXy(e, t, n)[0];
                                    if (d) {
                                        d.cssClass &&
                                            DayPilot.Util.addClass(
                                                h,
                                                d.cssClass
                                            ),
                                            DayPilot.Util.isNullOrUndefined(
                                                d.html
                                            ) || (h.innerHTML = d.html),
                                            d.backImage &&
                                                (h.style.backgroundImage =
                                                    'url("' +
                                                    d.backImage +
                                                    '")'),
                                            d.backRepeat &&
                                                (h.style.backgroundRepeat =
                                                    d.backRepeat),
                                            d.business &&
                                                p.cellsMarkBusiness &&
                                                DayPilot.Util.addClass(
                                                    h,
                                                    p.H("_cell_business")
                                                ),
                                            d.disabled &&
                                                DayPilot.Util.addClass(
                                                    h,
                                                    p.H("_cell_disabled")
                                                );
                                        var v = DayPilot.Areas.resolvePosition(
                                            d.areas,
                                            p,
                                            i.left,
                                            i.width
                                        );
                                        DayPilot.Areas.attach(h, f, {
                                            areas: v,
                                        });
                                    }
                                    if (
                                        (o.appendChild(h),
                                        this.elements.cells.push(h),
                                        (this.Q.cells[l] = h),
                                        "function" ==
                                            typeof p.onAfterCellRender)
                                    ) {
                                        var m = {};
                                        (m.cell = DayPilot.Util.copyProps(
                                            f,
                                            {},
                                            [
                                                "x",
                                                "y",
                                                "displayY",
                                                "start",
                                                "end",
                                                "resource",
                                                "grid",
                                            ]
                                        )),
                                            (m.div = h),
                                            p.onAfterCellRender(m);
                                    }
                                }
                            }
                        }
                    }),
                    (this.Sj = {}),
                    (this.qm = function () {
                        p.Kr(),
                            p.Lr().forEach(function (e) {
                                p.Qk(e.y, e.grid);
                            }),
                            p.Ui();
                    }),
                    (this.Kr = function () {
                        function e(e) {
                            p.Ej[e].rowlist.forEach(function (t, n) {
                                t.isNewRow ||
                                    (t.resource.cellsAutoUpdated &&
                                        p.itline.forEach(function (t, i) {
                                            var a = e + "_" + i + "_" + n;
                                            delete p.Sj[a];
                                        }));
                            });
                        }
                        e("main"), e("top"), e("bottom");
                    }),
                    (this.Lr = function () {
                        function e(e, n, r) {
                            for (var o = 0; o < r; o++)
                                for (
                                    var s = n + o,
                                        l = p.Ej[e].rowlist[s],
                                        d = 0;
                                    d <= a;
                                    d++
                                ) {
                                    var c = i + d;
                                    if (
                                        !l.hidden &&
                                        !p.Sj[e + "_" + c + "_" + s]
                                    ) {
                                        t.push({ grid: e, y: s });
                                        break;
                                    }
                                }
                        }
                        var t = DayPilot.list(),
                            n = this.Y(),
                            i = n.xStart,
                            a = n.xEnd - n.xStart;
                        return (
                            e("main", n.yStart, n.yEnd - n.yStart),
                            e("top", 0, p.Ej.top.rowlist.length),
                            e("bottom", 0, p.Ej.bottom.rowlist.length),
                            t
                        );
                    }),
                    (this.mn = function (e, t, n) {
                        if ("function" == typeof this.onBeforeCellRender) {
                            n = n || "main";
                            var i = n + "_" + e + "_" + t;
                            if (p.beforeCellRenderCaching && p.Sj[i]) return;
                            p.Sj[i] = !0;
                            var a = p.ek(e);
                            if (!a) return;
                            var r = p.cells.findXy(e, t, n)[0],
                                o = {};
                            return (
                                (o.cell = r),
                                (o.control = p),
                                (o.getPixels = function (e) {
                                    var e = new DayPilot.Date(e);
                                    return p.getPixels(e).left - a.left;
                                }),
                                this.onBeforeCellRender(o),
                                DayPilot.Util.copyProps(
                                    o.cell,
                                    o.cell.properties,
                                    p.Ir
                                ),
                                o.cell.properties.disabled && (p.Sj.Kn = !0),
                                o
                            );
                        }
                    }),
                    (this.Jr = function (e, t) {
                        if (t) {
                            for (var n = 0; n < t.length; n++)
                                if (!DayPilot.Util.isNullOrUndefined(e[t[n]]))
                                    return !0;
                        } else
                            for (var i in e)
                                if (!DayPilot.Util.isNullOrUndefined(e[i]))
                                    return !0;
                        return !1;
                    }),
                    (this.clearSelection = function () {
                        this.Xi(), N.clear();
                    }),
                    (this.cleanSelection = this.clearSelection),
                    (this.pr = function (e, t, n) {
                        (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
                        var i = p.ij(n),
                            a = p.ak(e),
                            r = a.current || a.next;
                        if (!r)
                            throw new DayPilot.Exception(
                                "Time range selection 'start' out of timeline"
                            );
                        var o = p.ak(new DayPilot.Date(t).addMilliseconds(-1)),
                            s = o.current || o.previous;
                        if (!s)
                            throw new DayPilot.Exception(
                                "Time range selection 'end' out of timeline"
                            );
                        var l = {};
                        return (
                            (l.start = {
                                y: i.index,
                                x: DayPilot.indexOf(p.itline, r),
                                time: e,
                                grid: i.grid,
                            }),
                            (l.end = {
                                x: DayPilot.indexOf(p.itline, s),
                                time: t,
                            }),
                            (l.calendar = this),
                            l
                        );
                    }),
                    (this.selectTimeRange = function (e, t, n, i) {
                        var a = p.pr(e, t, n);
                        p.Xk(a),
                            i ||
                                setTimeout(function () {
                                    p.Tk(a);
                                }, 0);
                    }),
                    (this.Lb = function () {
                        var e = o.Dn && o.Dn.source;
                        e &&
                            DayPilot.Util.removeClass(
                                e,
                                p.H(p.zq.eventMovingSource)
                            ),
                            DayPilot.de(o.Dn),
                            (o.Dn = null),
                            p.Ln(),
                            p.Bn.clear(),
                            DayPilot.Global.movingLink &&
                                (DayPilot.Global.movingLink.clear(),
                                (DayPilot.Global.movingLink = null));
                    }),
                    (this.Xi = function () {
                        p.divShadow && (p.divShadow.innerHTML = ""),
                            p.Ej.top.divShadow &&
                                (p.Ej.top.divShadow.innerHTML = ""),
                            p.Ej.bottom.divShadow &&
                                (p.Ej.bottom.divShadow.innerHTML = ""),
                            (p.elements.range = []),
                            (p.elements.range2 = null),
                            p.Ln(),
                            (p.Wk = null),
                            (p.nr = null);
                    });
                var L = {};
                (L.ki = null),
                    (L.Mr = function (e) {
                        if (!e) return null;
                        var t = {};
                        if ("event" === e.type) t.e = e.event;
                        else if ("cell" === e.type) {
                            var n = L.Nr(e.x, e.y);
                            (t.cell = {}),
                                (t.cell.start = n.thc.start),
                                (t.cell.end = n.thc.end),
                                (t.cell.resource = n.row.id);
                        }
                        return t;
                    }),
                    (L.kl = function (e) {
                        e = e || {};
                        var t = e.dontFocus,
                            n = L.ki;
                        if (n) {
                            var i = n.x,
                                a = n.y;
                            if ("cell" === n.type) {
                                var r = L.Nr(i, a),
                                    o = r.row,
                                    s = L.Or(i, a);
                                s &&
                                    DayPilot.Util.addClass(
                                        s,
                                        p.H("_cell_focus")
                                    ),
                                    "top" === n.line &&
                                        o.marginTop &&
                                        DayPilot.Util.addClass(
                                            s,
                                            p.H("_cell_focus_top")
                                        ),
                                    "bottom" === n.line &&
                                        o.marginBottom &&
                                        DayPilot.Util.addClass(
                                            s,
                                            p.H("_cell_focus_bottom")
                                        );
                            } else {
                                var s = p.Ne(n.event);
                                s &&
                                    DayPilot.Util.addClass(
                                        s,
                                        p.H("_event_focus")
                                    );
                            }
                            if (!t) {
                                var l = p.wl();
                                if (l.start.x >= i) {
                                    var d = p.itline[i].start;
                                    p.scrollTo(d);
                                } else if (l.end.x <= i) {
                                    var c = p.itline[i].end;
                                    p.scrollTo(c, !1, "right");
                                }
                                if (l.start.y >= a)
                                    p.nav.scroll.scrollTop =
                                        p.rowlist[a].top - p.Ej.top.height;
                                else if (l.end.y <= a) {
                                    var o = p.rowlist[a],
                                        u = o.top + o.height;
                                    p.nav.scroll.scrollTop =
                                        u -
                                        p.nav.scroll.clientHeight +
                                        p.Ej.bottom.height;
                                }
                            }
                        }
                    }),
                    (L.mm = function () {
                        var e = L.ki;
                        if (e)
                            if ("cell" === e.type) {
                                var t = L.Or(L.ki.x, L.ki.y);
                                t &&
                                    (DayPilot.Util.removeClass(
                                        t,
                                        p.H("_cell_focus")
                                    ),
                                    DayPilot.Util.removeClass(
                                        t,
                                        p.H("_cell_focus_top")
                                    ),
                                    DayPilot.Util.removeClass(
                                        t,
                                        p.H("_cell_focus_bottom")
                                    ));
                            } else {
                                var t = p.Ne(e.event);
                                t &&
                                    DayPilot.Util.removeClass(
                                        t,
                                        p.H("_event_focus")
                                    );
                            }
                    }),
                    (L.Nr = function (e, t) {
                        var n = {},
                            i = p.rowlist[t],
                            a = p.itline[e],
                            r = [],
                            o = i.lines.map(function (e) {
                                var t = e.filter(function (e) {
                                    return DayPilot.Util.overlaps(
                                        e.part.start,
                                        e.part.end,
                                        a.start,
                                        a.end
                                    );
                                });
                                return (r = r.concat(t)), t;
                            });
                        return (
                            (n.lines = o),
                            (n.thc = a),
                            (n.row = i),
                            (n.events = r),
                            n
                        );
                    }),
                    (L.Hk = function () {
                        var e = L.ki;
                        e &&
                            (L.mm(),
                            (L.ki = L.Pr(e.x, e.y, e.pixels, e.line)),
                            L.kl({ dontFocus: !0 }));
                    }),
                    (L.Pr = function (e, t, n, i) {
                        var a = {};
                        (n = n || p.itline[e].left),
                            (i = DayPilot.Util.isNullOrUndefined(i)
                                ? "top"
                                : i);
                        var r = L.Nr(e, t),
                            o = r.lines,
                            s = r.row,
                            l = r.events,
                            d = s.marginTop || s.marginBottom,
                            c = !1,
                            u = l.length > 0,
                            h = i,
                            f = null,
                            v = null;
                        if (u)
                            if (s.marginTop && "top" === i)
                                (c = !0), (h = "top");
                            else if (s.marginBottom && "bottom" === i)
                                (c = !0), (h = "bottom");
                            else {
                                if ("top" === i)
                                    if (s.marginBottom) {
                                        var m = r.lines.find(function (e) {
                                            return e.find(function (e) {
                                                return (
                                                    e.part.left <= n &&
                                                    n <= e.part.right
                                                );
                                            });
                                        });
                                        if (m) h = r.lines.indexOf(m);
                                        else {
                                            var g = r.lines.find(function (e) {
                                                return e.find(function (e) {
                                                    return DayPilot.Util.overlaps(
                                                        e.part.left,
                                                        e.part.right,
                                                        r.thc.left,
                                                        r.thc.left + r.thc.right
                                                    );
                                                });
                                            });
                                            g
                                                ? ((h = r.lines.indexOf(g)),
                                                  (v = g[0]))
                                                : (h = "bottom");
                                        }
                                    } else h = s.marginTop ? "top" : 0;
                                else if ("bottom" === i)
                                    if (d) {
                                        var m = r.lines
                                            .slice()
                                            .reverse()
                                            .find(function (e) {
                                                return e.find(function (e) {
                                                    return (
                                                        e.part.left <= n &&
                                                        n <= e.part.right
                                                    );
                                                });
                                            });
                                        (h = r.lines.indexOf(m)),
                                            h === -1 && (h = L.Qr(i, s));
                                    } else h = o.length - 1;
                                else h = i;
                                var b = o[h];
                                v ||
                                    (v =
                                        b &&
                                        b.find(function (e) {
                                            return (
                                                e.part.left <= n &&
                                                n <= e.part.right
                                            );
                                        })),
                                    v || ((c = !0), (h = L.Qr(h, s))),
                                    (f = v);
                            }
                        else (c = !0), (h = d ? L.Qr(i, s) : 0);
                        return (
                            (a.x = e),
                            (a.y = t),
                            c
                                ? ((a.type = "cell"),
                                  (a.pixels = n),
                                  (a.line = h),
                                  a)
                                : ((a.type = "event"),
                                  (a.event = f),
                                  (a.pixels = f.part.left),
                                  (a.x = p.$j(f.part.left).x),
                                  (a.line = h),
                                  a)
                        );
                    }),
                    (L.Rr = function (e) {
                        var t = {},
                            n = L.ki,
                            i = p.rowlist[n.y],
                            a = i.lines[n.line],
                            r = L.Nr(n.x, n.y),
                            o = i.marginTop || i.marginBottom;
                        if ("right" === e) {
                            if ("event" === n.type) {
                                var s = n.event.part.end,
                                    l = n.event.part.right,
                                    d = p.ak(s),
                                    c = d.i,
                                    u = d.current.left + d.current.width,
                                    h = a.indexOf(n.event) + 1,
                                    f = a[h],
                                    v = r.lines[n.line],
                                    m = v[v.indexOf(n.event) + 1];
                                if (f && f.part.left === l)
                                    return (
                                        (t.x = c + 1),
                                        (t.y = n.y),
                                        (t.type = "event"),
                                        (t.line = n.line),
                                        (t.pixels = f.part.left),
                                        (t.event = f),
                                        t
                                    );
                                if (m && o)
                                    return (
                                        (t.x = c),
                                        (t.y = n.y),
                                        (t.type = "event"),
                                        (t.line = n.line),
                                        (t.pixels = m.part.left),
                                        (t.event = m),
                                        t
                                    );
                                if (u === l) {
                                    var g = L.Sr(c);
                                    return g === c
                                        ? n
                                        : ((t.x = c + 1),
                                          (t.y = n.y),
                                          (t.type = "cell"),
                                          (t.pixels = p.itline[t.x].left),
                                          (t.line = n.line),
                                          i.marginTop
                                              ? (t.line = "top")
                                              : i.marginBottom &&
                                                (t.line = "bottom"),
                                          t);
                                }
                                return (
                                    (t.x = c),
                                    (t.y = n.y),
                                    (t.type = "cell"),
                                    (t.line = n.line),
                                    (t.pixels = n.event.part.right),
                                    o && (t.line = L.Qr(n.line, i)),
                                    t
                                );
                            }
                            var r = L.Nr(n.x, n.y),
                                a = r.lines[n.line],
                                f =
                                    a &&
                                    a.find(function (e) {
                                        return e.part.left > n.pixels;
                                    });
                            if (f)
                                return (
                                    (t.x = n.x),
                                    (t.y = n.y),
                                    (t.type = "event"),
                                    (t.event = f),
                                    (t.pixels = f.part.left),
                                    (t.line = n.line),
                                    t
                                );
                            var g = L.Sr(n.x);
                            return g === n.x
                                ? n
                                : L.Pr(n.x + 1, n.y, null, n.line);
                        }
                        if ("left" === e) {
                            var b = n.x;
                            if ("event" === n.type) {
                                b = p.$j(n.event.part.left).x;
                                var d = p.itline[b];
                                if (n.event.part.left !== d.left) {
                                    var h = a.indexOf(n.event) - 1,
                                        f = a[h];
                                    return f &&
                                        f.part.right === n.event.part.left
                                        ? ((d = p.$j(f.part.right, !0)),
                                          (t.x = d.x),
                                          (t.y = n.y),
                                          (t.type = "event"),
                                          (t.line = n.line),
                                          (t.pixels = f.part.right),
                                          (t.event = f),
                                          t)
                                        : ((d = p.$j(n.event.part.left)),
                                          (t.x = d.x),
                                          (t.y = n.y),
                                          (t.type = "cell"),
                                          (t.line = n.line),
                                          (t.pixels = n.event.part.left),
                                          o && (t.line = L.Qr(n.line, i)),
                                          t);
                                }
                                t = L.Pr(b - 1, n.y, d.right, n.line);
                            } else {
                                var r = L.Nr(n.x, n.y),
                                    a = r.lines[n.line],
                                    f =
                                        a &&
                                        a
                                            .slice()
                                            .reverse()
                                            .find(function (e) {
                                                return e.part.right < n.pixels;
                                            });
                                if (f)
                                    return (
                                        (t.x = n.x),
                                        (t.y = n.y),
                                        (t.type = "event"),
                                        (t.event = f),
                                        (t.pixels = f.part.right),
                                        (t.line = n.line),
                                        t
                                    );
                                var g = L.Tr(n.x);
                                if (g === n.x) return n;
                                var d = p.itline[b - 1],
                                    u = d.left + d.width;
                                t = L.Pr(b - 1, n.y, u, n.line);
                            }
                            return t;
                        }
                        if ("down" === e) {
                            var r = L.Nr(n.x, n.y),
                                y = r.lines.find(function (e) {
                                    return e.find(function (e) {
                                        return (
                                            e.part.left <= n.pixels &&
                                            n.pixels <= e.part.right
                                        );
                                    });
                                });
                            if ("top" === n.line && i.marginTop) {
                                if (y) {
                                    var w = r.lines.indexOf(y);
                                    return (
                                        (t = L.Pr(n.x, n.y, n.pixels, w)),
                                        (t.pixels = n.pixels),
                                        (t.x = n.x),
                                        t
                                    );
                                }
                                var x = r.lines.find(function (e) {
                                    return e.find(function (e) {
                                        return DayPilot.Util.overlaps(
                                            e.part.left,
                                            e.part.right,
                                            r.thc.left,
                                            r.thc.left + r.thc.right
                                        );
                                    });
                                });
                                if (x) {
                                    var k = x[0];
                                    return (
                                        (t = L.Pr(
                                            n.x,
                                            n.y,
                                            k.part.left,
                                            r.lines.indexOf(x)
                                        )),
                                        (t.pixels = n.pixels),
                                        (t.x = n.x),
                                        t
                                    );
                                }
                                var C = L.Ur(n.y);
                                return C === n.y
                                    ? n
                                    : ((t = L.Pr(
                                          n.x,
                                          n.y + 1,
                                          n.pixels,
                                          "top"
                                      )),
                                      (t.pixels = n.pixels),
                                      (t.x = n.x),
                                      t);
                            }
                            if ("bottom" === n.line && i.marginBottom) {
                                var C = L.Ur(n.y);
                                return C === n.y
                                    ? n
                                    : ((t = L.Pr(
                                          n.x,
                                          n.y + 1,
                                          n.pixels,
                                          "top"
                                      )),
                                      (t.pixels = n.pixels),
                                      (t.x = n.x),
                                      t);
                            }
                            if (n.line < i.lines.length - 1) {
                                var H = n.y,
                                    D = n.line + 1;
                                i.marginTop && "top" === n.line && (D = 0);
                                var y = r.lines.slice(D).find(function (e) {
                                    return e.find(function (e) {
                                        return (
                                            e.part.left <= n.pixels &&
                                            n.pixels <= e.part.right
                                        );
                                    });
                                });
                                if (y) D = r.lines.indexOf(y);
                                else if (i.marginBottom) D = "bottom";
                                else if (i.marginTop) {
                                    var x = r.lines
                                        .slice(n.line + 1)
                                        .find(function (e) {
                                            return e.find(function (e) {
                                                return DayPilot.Util.overlaps(
                                                    e.part.left,
                                                    e.part.right,
                                                    r.thc.left,
                                                    r.thc.left + r.thc.right
                                                );
                                            });
                                        });
                                    if (x) {
                                        var k = x[0];
                                        return (t = L.Pr(
                                            n.x,
                                            n.y,
                                            k.part.left,
                                            r.lines.indexOf(x)
                                        ));
                                    }
                                    (D = "top"), (H += 1);
                                } else
                                    n.event
                                        ? (D = i.lines.length - 1)
                                        : ((D = 0), (H += 1));
                                return (
                                    (t = L.Pr(n.x, H, n.pixels, D)),
                                    (t.pixels = n.pixels),
                                    (t.x = n.x),
                                    t
                                );
                            }
                            if (n.line === i.lines.length - 1 && i.marginBottom)
                                return (
                                    (t = L.Pr(n.x, n.y, n.pixels, "bottom")),
                                    (t.pixels = n.pixels),
                                    (t.x = n.x),
                                    t
                                );
                            var C = L.Ur(n.y);
                            return C === n.y
                                ? n
                                : ((t = L.Pr(n.x, n.y + 1, n.pixels, "top")),
                                  (t.pixels = n.pixels),
                                  (t.x = n.x),
                                  t);
                        }
                        if ("up" === e) {
                            var r = L.Nr(n.x, n.y),
                                y = r.lines
                                    .slice()
                                    .reverse()
                                    .find(function (e) {
                                        return e.find(function (e) {
                                            return (
                                                e.part.left <= n.pixels &&
                                                n.pixels <= e.part.right
                                            );
                                        });
                                    });
                            if ("bottom" === n.line && i.marginBottom && y) {
                                var w = r.lines.indexOf(y);
                                t = L.Pr(n.x, n.y, n.pixels, w);
                            } else if (0 === n.line && i.marginTop)
                                t = L.Pr(n.x, n.y, n.pixels, "top");
                            else if (n.line > 0) {
                                var D = "bottom",
                                    H = n.y,
                                    y = r.lines
                                        .slice(0, n.line)
                                        .reverse()
                                        .find(function (e) {
                                            return e.find(function (e) {
                                                return (
                                                    e.part.left <= n.pixels &&
                                                    n.pixels <= e.part.right
                                                );
                                            });
                                        });
                                y
                                    ? (D = r.lines.indexOf(y))
                                    : i.marginTop
                                    ? (D = "top")
                                    : i.marginBottom
                                    ? (H -= 1)
                                    : (D = 0);
                                var C = L.Vr(H);
                                if (C === H) return n;
                                t = L.Pr(n.x, H, n.pixels, D);
                            } else {
                                var C = L.Vr(n.y);
                                if (C === n.y) return n;
                                t = L.Pr(n.x, n.y - 1, n.pixels, "bottom");
                            }
                            return (t.x = n.x), (t.pixels = n.pixels), t;
                        }
                        return null;
                    }),
                    (L.Qr = function (e, t) {
                        var n =
                            ("top" === e && t.marginTop) ||
                            ("bottom" === e && t.marginBottom);
                        if ("number" == typeof e || !n) {
                            if (t.marginTop) return "top";
                            if (t.marginBottom) return "bottom";
                        }
                        return e;
                    }),
                    (L.Or = function (e, t, n) {
                        n = n || "main";
                        var i = n + "_" + e + "_" + t;
                        return p.Q.cells[i];
                    }),
                    (L.Wr = function () {
                        return L.ki;
                    }),
                    (L.of = function () {
                        var e = p.keyboardTarget;
                        switch (e) {
                            case "component":
                                return p.nav.top;
                            case "document":
                                return document;
                        }
                        throw new DayPilot.Exception(
                            "Invalid keyboardTarget value: " + e
                        );
                    }),
                    (L.Lm = null),
                    (L.Xr = function (e) {
                        if (16 === e.keyCode) {
                            var t = L.Lm;
                            if (((L.Lm = null), !t || !t.end)) return;
                            var n = t.start.x < t.end.x,
                                i = n ? t.start.x : t.end.x,
                                a = n ? t.end.x : t.start.x;
                            L.Yr(i, t.start.y, a, { forceSnap: !0 });
                        }
                    }),
                    (L.Zr = function (e) {
                        var t = 37,
                            n = 38,
                            i = 39,
                            a = 40,
                            r = 13,
                            s = {};
                        (s["_37"] = "left"),
                            (s["_39"] = "right"),
                            (s["_38"] = "up"),
                            (s["_40"] = "down");
                        var l = [t, n, i, a],
                            d = l.indexOf(e.keyCode) !== -1,
                            c = [t, n, i, a, r],
                            u = c.indexOf(e.keyCode) !== -1;
                        if (!o.Cq) {
                            if ("function" == typeof p.onKeyDown) {
                                var h = {};
                                if (
                                    ((h.originalEvent = e),
                                    (h.preventDefault = function () {
                                        h.preventDefault.value = !0;
                                    }),
                                    p.onKeyDown(h),
                                    h.preventDefault.value)
                                )
                                    return;
                            }
                            if (d && (e.preventDefault(), !L.ki))
                                return void L.$r();
                            if (u) {
                                var f = e.shiftKey;
                                if (L.ki) {
                                    var v = p.Um(L.ki.y),
                                        m = !(v && p.treePreventParentUsage);
                                    f &&
                                        !L.ki.event &&
                                        !L.Lm &&
                                        m &&
                                        (L.Lm = {
                                            calendar: p,
                                            forceSnap: !0,
                                            start: {
                                                x: L.ki.x,
                                                y: L.ki.y,
                                                time: p.itline[L.ki.x].start,
                                            },
                                        });
                                }
                                if (
                                    !L.Lm ||
                                    (e.keyCode !== n && e.keyCode !== a)
                                ) {
                                    var g = L.Rr(s["_" + e.keyCode]),
                                        h = {};
                                    if (
                                        ((h.previous = p.keyboard.getFocus()),
                                        (h.focus = L.Mr(g)),
                                        (h.preventDefault = function () {
                                            h.preventDefault.value = !0;
                                        }),
                                        !d ||
                                            "function" !=
                                                typeof p.onKeyboardFocusChange ||
                                            (p.onKeyboardFocusChange(h),
                                            !h.preventDefault.value))
                                    ) {
                                        if (d) L.mm(), (L.ki = g), L.kl();
                                        else
                                            switch (e.keyCode) {
                                                case r:
                                                    if (
                                                        (e.preventDefault(),
                                                        L.ki && L.ki.event)
                                                    ) {
                                                        var b = p.Ne(
                                                            L.ki.event
                                                        );
                                                        L._r(b, e);
                                                    } else
                                                        m &&
                                                            L.Yr(
                                                                L.ki.x,
                                                                L.ki.y
                                                            );
                                            }
                                        (d &&
                                            "function" ==
                                                typeof p.onKeyboardFocusChanged &&
                                            (p.onKeyboardFocusChanged(h),
                                            h.preventDefault.value)) ||
                                            ((e.keyCode !== t &&
                                                e.keyCode !== i) ||
                                                (L.Lm &&
                                                    ((L.Lm.end = {
                                                        x: L.ki.x,
                                                        y: L.ki.y,
                                                        time: p.itline[L.ki.x]
                                                            .start,
                                                    }),
                                                    p.Xk(L.Lm))),
                                            L.Lm);
                                    }
                                }
                            }
                        }
                    }),
                    (L.El = function () {
                        var e = L.of();
                        e.removeEventListener("keyup", L.Xr),
                            e.removeEventListener("keydown", L.Zr);
                    }),
                    (L.as = function () {
                        var e = L.of();
                        e !== document &&
                            p.nav.top.setAttribute("tabindex", "-1"),
                            p.J() ||
                                (e.addEventListener("keyup", L.Xr),
                                e.addEventListener("keydown", L.Zr));
                    }),
                    (L._r = function (e, t) {
                        p.sb(e, t);
                    }),
                    (L.Yr = function (e, t, n) {
                        l = l || {};
                        var i = {};
                        (i.forceSnap = !0),
                            (i.start = { y: t, x: e, time: p.itline[e].start }),
                            (i.end = { x: "undefined" == typeof n ? e : n }),
                            (i.end.time = p.itline[i.end.x].start),
                            (i.calendar = p),
                            (p.Wk = i),
                            p.Tk(i);
                    }),
                    (L.$r = function () {
                        var e = p.wl();
                        L.mm(), (L.ki = L.Pr(e.start.x, e.start.y)), L.kl();
                    }),
                    (L.bs = function () {
                        var e = "Always" === p.useEventBoxes;
                        (e = e && !p.J()),
                            e &&
                                (L.as(),
                                L.of() !== document && p.nav.top.focus());
                    }),
                    (L.Vr = function (e) {
                        if (e <= 0) return e;
                        for (var t = e; t > 0; )
                            if (((t -= 1), !p.rowlist[t].hidden)) return t;
                        return e;
                    }),
                    (L.Ur = function (e) {
                        var t = p.rowlist.length - 1;
                        if (e >= t) return e;
                        for (var n = e; n < t; )
                            if (((n += 1), !p.rowlist[n].hidden)) return n;
                        return e;
                    }),
                    (L.Sr = function (e) {
                        return e >= p.itline.length - 1 ? e : e + 1;
                    }),
                    (L.Tr = function (e) {
                        return e <= 0 ? e : e + 1;
                    }),
                    (this.cs = L),
                    (this.keyboard = {}),
                    (this.keyboard.focusCell = function (e, t) {
                        var n = p.xm(e, t);
                        if (!n)
                            throw new DayPilot.Exception(
                                "Can't find the specified cell"
                            );
                        if ("main" !== n.grid)
                            throw new DayPilot.Exception(
                                "Can't focus a cell in a frozen row"
                            );
                        L.mm(), (L.ki = L.Pr(n.x, n.y)), L.kl();
                    }),
                    (this.keyboard.focusEvent = function (e) {
                        e instanceof DayPilot.Event && (e = e.id());
                        var t = p.events.find(e);
                        if (!t) throw new DayPilot.Exception("Event not found");
                        t = p.events.cm(t.data);
                        var n = (p.rowlist[t.part.dayIndex], {});
                        (n.type = "event"),
                            (n.event = t),
                            (n.pixels = t.part.left),
                            (n.x = p.$j(t.part.left).x),
                            (n.y = t.part.dayIndex),
                            (n.line = t.part.line),
                            L.mm(),
                            (L.ki = n),
                            L.kl();
                    }),
                    (this.keyboard.resetFocus = function () {
                        L.$r();
                    }),
                    (this.keyboard.getFocus = function () {
                        return L.Mr(L.ki);
                    }),
                    (this.keyboard.move = function (e, t) {
                        t = t || {};
                        var n = t.dontFireEvent;
                        L.mm();
                        var i = L.Rr(e),
                            a = {};
                        return (
                            (a.previous = p.keyboard.getFocus()),
                            (a.focus = L.Mr(i)),
                            (a.preventDefault = function () {
                                a.preventDefault.value = !0;
                            }),
                            "function" == typeof p.onKeyboardFocusChange &&
                            !n &&
                            (p.onKeyboardFocusChange(a), a.preventDefault.value)
                                ? void L.kl()
                                : ((L.ki = i),
                                  L.kl(),
                                  void (
                                      "function" !=
                                          typeof p.onKeyboardFocusChanged ||
                                      n ||
                                      p.onKeyboardFocusChanged(a)
                                  ))
                        );
                    }),
                    (this.ga = {});
                var U = this.ga;
                (U.Nh = function () {
                    delete p.Q.eventHeight, delete p.Q.headerHeight;
                }),
                    (U.fa = function () {
                        return "Disabled" !== p.xssProtection;
                    }),
                    (U.Xj = function () {
                        return DayPilot.Locale.find(p.locale);
                    }),
                    (U.Gq = function () {
                        return "Auto" !== p.timeFormat
                            ? p.timeFormat
                            : U.Xj().timeFormat;
                    }),
                    (U.Hq = function () {
                        if ("Auto" === p.weekStarts) {
                            var e = U.Xj();
                            return e ? e.weekStarts : 0;
                        }
                        return p.weekStarts || 0;
                    }),
                    (U.Zn = function () {
                        var e = navigator.userAgent.toLowerCase();
                        return (
                            e.indexOf("mobile") !== -1 ||
                            e.indexOf("android") != -1
                        );
                    }),
                    (U.ap = function () {
                        var e = /MSIE 6/i.test(navigator.userAgent);
                        return "Auto" === p.layout
                            ? e
                                ? "TableBased"
                                : "DivBased"
                            : p.layout;
                    }),
                    (U.jk = function () {
                        var e;
                        if ("Immediate" === p.notifyCommit) e = "Notify";
                        else {
                            if ("Queue" !== p.notifyCommit)
                                throw new DayPilot.Exception(
                                    "Invalid notifyCommit value: " +
                                        p.notifyCommit
                                );
                            e = "Queue";
                        }
                        return e;
                    }),
                    (U.no = function () {
                        return "Days" !== p.viewType;
                    }),
                    (U.Nl = function (e) {
                        return (
                            "Always" === p.useEventBoxes ||
                            ("Never" !== p.useEventBoxes &&
                                e < 60 * p.Im() * 1e3)
                        );
                    }),
                    (U.nn = function () {
                        return "number" == typeof p.durationBarHeight
                            ? p.durationBarHeight
                            : 4;
                    }),
                    (U.Ml = function () {
                        if (p.Q.eventHeight) return p.Q.eventHeight;
                        var e = p.Te("_event_height").height;
                        return (
                            e || (e = p.eventHeight), (p.Q.eventHeight = e), e
                        );
                    }),
                    (U.pp = function () {
                        if (p.Q.headerHeight) return p.Q.headerHeight;
                        var e = p.Te("_header_height").height;
                        return (
                            e || (e = p.headerHeight), (p.Q.headerHeight = e), e
                        );
                    }),
                    (U.up = function () {
                        if (p.Q.scrollLineHeight) return p.Q.scrollLineHeight;
                        var e = u();
                        (e.style.fontSize = "initial"),
                            (e.style.display = "none"),
                            c().appendChild(e);
                        var t =
                            parseInt(window.getComputedStyle(e).fontSize) || 16;
                        return (
                            c().removeChild(e), (p.Q.scrollLineHeight = t), t
                        );
                    }),
                    (U.yj = function () {
                        return p.rowHeaderScrolling
                            ? p.rowHeaderSplitterWidth
                            : 1;
                    }),
                    (U.gk = function () {
                        return "string" == typeof p.multiSelectRectangle
                            ? p.multiSelectRectangle
                            : "Disabled" === p.rectangleSelectHandling
                            ? "Disabled"
                            : p.rectangleSelectMode;
                    }),
                    (U.es = function () {
                        return "string" == typeof p.multiSelectRectangle
                            ? "Free" === p.multiSelectRectangle ||
                              "Row" === p.multiSelectRectangle
                                ? "EventSelect"
                                : "Disabled"
                            : p.rectangleSelectHandling;
                    }),
                    (U.kn = function () {
                        return DayPilot.list(p.rowHeaderColumns).filter(
                            function (e) {
                                return !e.hidden;
                            }
                        );
                    }),
                    (this.fs = {});
                var I = this.fs;
                (I.on = function (e) {
                    var t = {};
                    (t.top = 0), (t.height = 0);
                    for (var n = U.pp(), i = 0; i <= e; i++) {
                        var a = p.timeHeaders[i];
                        (t.top += t.height), (t.height = a.height || n);
                    }
                    return t;
                }),
                    (this.Am = function (e, t, n) {
                        n = n || "main";
                        var i = n + "_" + e + "_" + t,
                            a = p.Ej[n],
                            r = a.rowlist;
                        if (p.cellConfig) {
                            i = e + "_" + t;
                            for (var o = 0, s = 0; s < p.resources.length; s++)
                                if (!p.resources[s].hidden) {
                                    if (o === t) {
                                        t = s;
                                        break;
                                    }
                                    o += 1;
                                }
                        }
                        if (
                            (this.cellProperties || (this.cellProperties = {}),
                            this.cellProperties[i])
                        )
                            return this.cellProperties[i];
                        if (
                            (this.zi && (this.cellProperties[i] = p.hs(e, t)),
                            !this.cellProperties[i])
                        ) {
                            var l = r[t],
                                d = l.id,
                                c = l.start.getTime() - p.nb().getTime(),
                                u = p.ek(e),
                                h = u.start.addTime(c),
                                f = u.end.addTime(c),
                                v = {};
                            (v.start = h), (v.end = f), (v.resource = d);
                            var m = {};
                            (m.business = p.isBusiness(v)),
                                l.cellsDisabled &&
                                    ((p.Sj.Kn = !0), (m.disabled = !0)),
                                (this.cellProperties[i] = m);
                        }
                        return this.cellProperties[i];
                    }),
                    (this.ks = function (e, t, n) {
                        var i = t + "_" + n;
                        return (
                            (this.cellProperties[i] = {}),
                            DayPilot.Util.copyProps(
                                e,
                                this.cellProperties[i],
                                p.Ir
                            ),
                            this.cellProperties[i]
                        );
                    }),
                    (this.hs = function (e, t) {
                        if (!this.cellConfig) return null;
                        var n = this.cellConfig,
                            i = this.cellProperties[e + "_" + t];
                        !i && n.vertical && (i = this.cellProperties[e + "_0"]),
                            !i &&
                                n.horizontal &&
                                (i = this.cellProperties["0_" + t]),
                            !i && n["default"] && (i = n["default"]);
                        var a = {};
                        return DayPilot.Util.copyProps(i, a, p.Ir), a;
                    }),
                    (this.Oa = function () {
                        if (
                            !this.zi &&
                            !this.Ai &&
                            ((this.Ai = !0), this.cellConfig)
                        ) {
                            var e = this.cellConfig;
                            if (e.vertical)
                                for (var t = 0; t < e.x; t++) {
                                    var n = this.cellProperties[t + "_0"];
                                    if (n)
                                        for (var i = 1; i < e.y; i++)
                                            this.ks(n, t, i);
                                }
                            if (e.horizontal)
                                for (var i = 0; i < e.y; i++) {
                                    var n = this.cellProperties["0_" + i];
                                    if (n)
                                        for (var t = 1; t < e.x; t++)
                                            this.ks(n, t, i);
                                }
                            if (e["default"])
                                for (var n = e["default"], i = 0; i < e.y; i++)
                                    for (var t = 0; t < e.x; t++)
                                        this.cellProperties[t + "_" + i] ||
                                            this.ks(n, t, i);
                        }
                    }),
                    (this.isBusiness = function (e, t) {
                        var n = e.start,
                            i = e.end,
                            a = (i.getTime() - n.getTime()) / 6e4;
                        if (
                            a <= 1440 &&
                            !(
                                p.businessWeekends ||
                                t ||
                                (0 !== e.start.dayOfWeek() &&
                                    6 !== e.start.dayOfWeek())
                            )
                        )
                            return !1;
                        if (a < 720) {
                            var r = n.getHours();
                            (r += n.getMinutes() / 60),
                                (r += n.getSeconds() / 3600),
                                (r += n.getMilliseconds() / 36e5);
                            var o = this.businessBeginsHour,
                                s = this.businessEndsHour;
                            if ((0 === s && (s = 24), o === s)) return !1;
                            if (!(o < s)) return r < s || r >= o;
                            if (r < o) return !1;
                            if (s >= 24) return !0;
                            if (r >= s) return !1;
                        }
                        return !0;
                    }),
                    (this.ed = function () {
                        switch (p.V) {
                            case "aspnet":
                                if (!this.oa())
                                    throw new DayPilot.Exception(
                                        "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                                    );
                                break;
                            case "netmvc":
                                if (!this.backendUrl)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                                    );
                                break;
                            case "javaxx":
                                if (!this.backendUrl)
                                    throw new DayPilot.Exception(
                                        "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                                    );
                        }
                    }),
                    (this._a = function () {
                        "hidden" === this.nav.top.style.visibility &&
                            (this.nav.top.style.visibility = "visible");
                    }),
                    (this.me = function () {
                        var e = p.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.ne = function () {
                        var e = p.me;
                        return e()
                            ? void p.oe()
                            : void (
                                  p.pe ||
                                  (p.pe = setInterval(function () {
                                      e() &&
                                          (clearInterval(p.pe),
                                          p.show(),
                                          p.Rn(),
                                          p.oe());
                                  }, 100))
                              );
                    }),
                    (this.ls = function (e) {
                        "Parent100Pct" !== this.heightSpec &&
                            (this.heightSpec = "Fixed"),
                            (this.height = e - (this.zj() + 2)),
                            this.Xa();
                    }),
                    (this.setHeight = this.ls),
                    (this.ij = function (e) {
                        return p.po(e).first();
                    }),
                    (this.Ye = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id)
                                throw new DayPilot.Exception(
                                    "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter"
                                );
                            if (
                                ((this.nav.top = document.getElementById(
                                    this.id
                                )),
                                !this.nav.top)
                            )
                                throw new DayPilot.Exception(
                                    "DayPilot.Scheduler: The placeholder element not found: '" +
                                        t +
                                        "'."
                                );
                        }
                    }),
                    (this.ms = function () {
                        (this.rowHeaderColumnsMode = "Legacy"),
                            this.Pe(),
                            this.Li(),
                            this.Ck(),
                            this.cb(),
                            this.ve(),
                            this.Aa(),
                            o.Lf(this),
                            this.Ka(this.afterRenderData, !1),
                            this.Vp(),
                            this.eb(),
                            this.ja("Init");
                    }),
                    (this.init = function () {
                        if (this.T)
                            throw new DayPilot.Exception(
                                "This instance is already initialized. Use update() to change properties."
                            );
                        if ((this.Ye(), this.nav.top.dp)) {
                            if (this.nav.top.dp === p) return p;
                            if (this.oa()) return p;
                            throw new DayPilot.Exception(
                                "The target placeholder was already initialized by another DayPilot component instance."
                            );
                        }
                        return this.Jp(), this.ns(), this.ne(), this.os(), this;
                    }),
                    (this.os = function () {
                        p.keyboardEnabled && L.bs();
                    }),
                    (this.ps = function () {
                        p.multiselect.Ti(p.selectedEvents);
                    }),
                    (this.ns = function () {
                        if ((this.zk(), this.Xe()))
                            return this.ms(), (this.T = !0), void this.da();
                        this.ve(),
                            this.Aa(),
                            o.Lf(this),
                            this.Vp(),
                            this.ps(),
                            p.zoomLevels &&
                                p.zoomLevels[p.zoom.active] &&
                                p.zoom.setActive(p.zoom.active),
                            !p.T &&
                                g.Rj() &&
                                (p.dj || (p.dj = { date: p.startDate })),
                            this.Lc();
                        var angular = p.Oe.scope || p.cj.enabled;
                        p.scrollToDate
                            ? p.scrollTo(p.scrollToDate)
                            : p.scrollX || p.scrollY
                            ? p.setScroll(p.scrollX, p.scrollY)
                            : angular || p.$i(),
                            p.scrollToResourceId &&
                                (p.scrollToResource(p.scrollToResourceId),
                                (p.scrollToResourceId = null));
                        var e = function () {
                            p.scrollY && p.setScroll(p.scrollX, p.scrollY);
                        };
                        window.setTimeout(e, 200),
                            this.messageHTML &&
                                window.setTimeout(function () {
                                    p.message(p.messageHTML);
                                }, 0),
                            this.eb(),
                            this.da(),
                            this.Ka(this.afterRenderData, !1),
                            p.initEventEnabled &&
                                setTimeout(function () {
                                    p.ja("Init");
                                }),
                            this.$e(),
                            (this.T = !0),
                            (this.qs = !0);
                        var t = p.dj;
                        t ? p.scrollTo(t.date, t.animated, t.position) : p.$i(),
                            (p.dj = null);
                    }),
                    (this.Kp = function () {
                        p.J() && delete p.infinite;
                    }),
                    (this._e = null),
                    (this.Re = function (e) {
                        if (e) {
                            var t = {
                                resources: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (p.resources = e);
                                    },
                                },
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (p.events.list = e.list)
                                                : (p.events.list = e));
                                    },
                                    postInit: function () {},
                                },
                                links: {
                                    preInit: function () {
                                        var e = this.data;
                                        e &&
                                            (DayPilot.isArray(e.list)
                                                ? (p.links.list = e.list)
                                                : (p.links.list = e));
                                    },
                                    postInit: function () {},
                                },
                                scrollTo: {
                                    preInit: function () {},
                                    postInit: function () {
                                        this.data &&
                                            p.bj(
                                                this.data,
                                                e.scrollToAnimated,
                                                e.scrollToPosition
                                            );
                                    },
                                },
                                scrollX: {
                                    postInit: function () {
                                        this.data && p.gj(this.data);
                                    },
                                },
                                scrollY: {
                                    postInit: function () {
                                        this.data && p.vj(this.data);
                                    },
                                },
                                zoom: {
                                    preInit: function () {
                                        var e = this.data;
                                        if ("string" == typeof e) {
                                            var t = e;
                                            e = p.zoom.pk(t);
                                        }
                                        var n = e !== p.zoom.active,
                                            i = p.zoom.Qh();
                                        p.zoom.qk(e, i);
                                        n
                                            ? (this.date = i)
                                            : (this.date = null);
                                    },
                                    postInit: function () {
                                        this.date &&
                                            p.bj(this.date, !1, p.zoomPosition);
                                    },
                                },
                            };
                            (p._e = t),
                                p.cj.scrollToRequested &&
                                    ((t.scrollTo.data = p.cj.scrollToRequested),
                                    (p.cj.scrollToRequested = null)),
                                p.cj.scrollXRequested &&
                                    ((t.scrollX.data = p.cj.scrollXRequested),
                                    (p.cj.scrollXRequested = null)),
                                p.cj.scrollYRequested &&
                                    ((t.scrollY.data = p.cj.scrollYRequested),
                                    (p.cj.scrollYRequested = null));
                            for (var n in e) t[n] || (p[n] = e[n]);
                            for (var n in e)
                                if (t[n]) {
                                    var i = t[n];
                                    (i.data = e[n]), i.preInit && i.preInit();
                                }
                        }
                    }),
                    (this.$e = function () {
                        var e = p._e;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                        p._e = {};
                    }),
                    (this.diag = function () {
                        var e = {};
                        return (
                            (e.dataEvents =
                                p.events.list && p.events.list.length),
                            (e.dataRows = p.rowlist && p.rowlist.length),
                            (e.dataTimeline = p.itline && p.itline.length),
                            (e.dataCells = e.dataTimeline * e.dataRows),
                            (e.renderedEvents = p.elements.events.length),
                            (e.renderedCells = p.elements.cells.length),
                            (e.renderedRows =
                                p.divResScroll.firstChild.childNodes.length -
                                1),
                            (e.domEvents =
                                p.divEvents.getElementsByTagName("*").length),
                            (e.domCells =
                                p.divCells.getElementsByTagName("*").length),
                            (e.domRows =
                                p.divResScroll.getElementsByTagName(
                                    "*"
                                ).length),
                            e
                        );
                    }),
                    (this.temp = {}),
                    (this.temp.allowDuplicateEventIds = !1),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return p.T;
                    }),
                    (this.internal.dragInProgress = this.Sq),
                    (this.internal.startMoving = this.Lo),
                    (this.internal.invokeEvent = this.Cb),
                    (this.internal.eventMenuClick = this.Qb),
                    (this.internal.timeRangeMenuClick = this.Rb),
                    (this.internal.resourceHeaderMenuClick = this.Zk),
                    (this.internal.linkMenuClick = this.Yk),
                    (this.internal.bubbleCallBack = this.Ob),
                    (this.internal.findEventDiv = this.Ne),
                    (this.internal.rowStartMoving = this.gl.Lo),
                    (this.internal.getNodeChildren = this.Ia),
                    (this.internal.callback = function () {
                        p.ja.apply(p, arguments);
                    }),
                    (this.internal.createRowObject = this._k),
                    (this.internal.restools = this.Oo),
                    (this.internal.gantt = null),
                    (this.internal.adjustEndIn = p.Qg),
                    (this.internal.adjustEndNormalize = p.ph),
                    (this.internal.xssTextHtml = p.ea),
                    (this.internal.touch = p.$c),
                    (this.internal.cssNames = p.zq),
                    (this.internal.enableCellStacking = function (e) {
                        (p.Bi = !0), (p.Ci = e);
                    }),
                    (this.internal.deleteDragSource = function () {
                        p.Mb();
                    }),
                    (this.internal.skipUpdate = p.cj.skipUpdate),
                    (this.internal.skipped = p.cj.skipped),
                    (this.internal.loadOptions = p.Re),
                    (this.internal.postInit = p.$e),
                    (this.internal.enableAngular2 = function () {
                        p.cj.enabled = !0;
                    }),
                    (this.internal.eventsFromAttr = function () {
                        p.cj.pm = !0;
                    }),
                    (this.internal.resourcesFromAttr = function () {
                        p.cj.wm = !0;
                    }),
                    (this.internal.evImmediateRefresh = function () {
                        p.events.Sk();
                    }),
                    (this.internal.enableReact = function (e, t) {
                        (p.ya.react = e), (p.ya.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return DayPilot.Util.copyProps(p.ya, {}, [
                            "react",
                            "reactDOM",
                        ]);
                    }),
                    (this.Init = this.init),
                    this.Re(l);
            }),
                (l = "2022.1.5188" === new DayPilot.Scheduler().v),
                (DayPilot.Row = function (e, t) {
                    if (!e)
                        throw new DayPilot.Exception(
                            "Now row object supplied when creating DayPilot.Row"
                        );
                    if (!t)
                        throw new DayPilot.Exception(
                            "No parent control supplied when creating DayPilot.Row"
                        );
                    this.rs = {};
                    var n = this.rs;
                    (n.id = e.id),
                        (n.name = e.name),
                        (n.data = e.resource),
                        (n.tags = e.tags);
                    var i = this;
                    (i.isRow = !0),
                        (i.menuType = "resource"),
                        (i.start = e.start),
                        (i.name = e.name),
                        (i.value = e.id),
                        (i.id = e.id),
                        (i.tags = e.tags),
                        (i.bubbleHtml = e.bubbleHtml),
                        (i.index = e.index),
                        (i.displayY = e.displayY),
                        (i.level = e.level),
                        (i.calendar = t),
                        (i.data = e.resource),
                        (i.grid = e.grid),
                        (i.wn = e),
                        (i.$ = {}),
                        (i.$.row = e),
                        (i.toJSON = function (e) {
                            var t = {};
                            return (
                                (t.start = this.start),
                                (t.name = this.name),
                                (t.value = this.value),
                                (t.id = this.id),
                                (t.index = this.index),
                                t
                            );
                        }),
                        (i.parent = function () {
                            return i.wn.No ? t._k(i.wn.No) : null;
                        }),
                        (i.children = function () {
                            var e = DayPilot.list(i.$.row.children).map(
                                function (e) {
                                    return t._k(t.rowlist[e]);
                                }
                            );
                            return (
                                (e.add = function (e) {
                                    var t = i.$.row.resource;
                                    t.children || (t.children = []),
                                        t.children.push(e);
                                }),
                                e
                            );
                        }),
                        (i.loaded = function () {
                            return i.wn.loaded;
                        }),
                        Object.defineProperty(i, "hidden", {
                            get: function () {
                                return i.wn.hidden;
                            },
                        }),
                        Object.defineProperty(i, "hiddenUsingFilter", {
                            get: function () {
                                return i.wn.Wo;
                            },
                            set: function (e) {
                                (i.wn.Wo = e), e || (i.wn.hidden = !i.wn.Xo());
                            },
                        }),
                        (i.cells = {}),
                        (i.cells.all = function () {
                            for (
                                var e = [],
                                    n = t.itline.length,
                                    a = i.index,
                                    r = 0;
                                r < n;
                                r++
                            ) {
                                var o = t.cells.findXy(r, a, i.grid);
                                e.push(o[0]);
                            }
                            return t.Bm(e);
                        }),
                        (i.cells.forRange = function (e, n) {
                            var a = i,
                                r = a.start.getTime() - t.nb().getTime();
                            (e = new DayPilot.Date(e)),
                                (n = new DayPilot.Date(n));
                            var o = t.nb().addTime(r),
                                s = t.Vj().addTime(r);
                            e < o && (e = o), n > s && (n = s);
                            var l = t.cells.find(e, i)[0],
                                d = t.cells.find(n.addTime(-1), i)[0];
                            if (!l) return null;
                            if (!d) return null;
                            if (l.y !== d.y) return null;
                            for (var c = l.y, u = [], h = l.x; h <= d.x; h++)
                                u.push(t.cells.ym(h, c, l.grid));
                            return t.Bm(u);
                        }),
                        (i.cells.totalDuration = function () {
                            return new DayPilot.Duration(
                                i.cells
                                    .all()
                                    .map(function (e) {
                                        return (
                                            e.end.getTime() - e.start.getTime()
                                        );
                                    })
                                    .reduce(function (e, t) {
                                        return e + t;
                                    }, 0)
                            );
                        }),
                        (i.events = {}),
                        (i.events.all = function () {
                            for (
                                var e = DayPilot.list(), t = 0;
                                t < i.wn.events.length;
                                t++
                            )
                                e.push(i.wn.events[t]);
                            return e;
                        }),
                        (i.events.isEmpty = function () {
                            return 0 === i.wn.events.length;
                        }),
                        (i.events.forRange = function (e, t) {
                            return i.wn.events.forRange(e, t);
                        }),
                        (i.events.totalDuration = function () {
                            var e = 0;
                            return (
                                i.events.all().forEach(function (t) {
                                    e +=
                                        t.part.end.getTime() -
                                        t.part.start.getTime();
                                }),
                                new DayPilot.Duration(e)
                            );
                        }),
                        (i.groups = {}),
                        (i.groups.collapseAll = function () {
                            for (var e = 0; e < i.wn.blocks.length; e++) {
                                new a(i.wn.blocks[e]).ts();
                            }
                            t.nk(), t.ok([i.wn]), t.Xa();
                        }),
                        (i.groups.expandAll = function () {
                            for (var e = 0; e < i.wn.blocks.length; e++) {
                                new a(i.wn.blocks[e]).vs();
                            }
                            t.nk(), t.ok([i.wn]), t.Xa(), t.ab();
                        }),
                        (i.groups.expanded = function () {
                            for (
                                var e = [], n = 0;
                                n < i.wn.blocks.length;
                                n++
                            ) {
                                var r = i.wn.blocks[n];
                                r.expanded &&
                                    r.lines.length >
                                        t.groupConcurrentEventsLimit &&
                                    e.push(new a(r));
                            }
                            return DayPilot.list(e);
                        }),
                        (i.groups.collapsed = function () {
                            for (
                                var e = [], t = 0;
                                t < i.wn.blocks.length;
                                t++
                            ) {
                                var n = i.wn.blocks[t];
                                n.expanded || e.push(new a(n));
                            }
                            return DayPilot.list(e);
                        }),
                        (i.groups.all = function () {
                            for (
                                var e = [], t = 0;
                                t < i.wn.blocks.length;
                                t++
                            ) {
                                var n = i.wn.blocks[t];
                                e.push(new a(n));
                            }
                            return DayPilot.list(e);
                        }),
                        (i.events.collapseGroups = i.groups.collapseAll),
                        (i.events.expandGroups = i.groups.expandAll),
                        (i.column = function (e) {
                            return new r(i, e);
                        }),
                        (i.toggle = function () {
                            t.Xm(i.index);
                        }),
                        (i.collapse = function () {
                            i.$.row.expanded && i.toggle();
                        }),
                        (i.expand = function () {
                            i.$.row.expanded || i.toggle();
                        }),
                        (i.remove = function () {
                            t.rows.remove(i);
                        }),
                        (i.edit = function () {
                            t.rows.edit(i);
                        }),
                        (i.addClass = function (e) {
                            var n = i,
                                a = t.divHeader,
                                n = a.rows[n.index];
                            if (n) {
                                var r = DayPilot.list(n.cells).map(function (
                                    e
                                ) {
                                    return e.cellDiv;
                                });
                                DayPilot.Util.addClass(r, e);
                            }
                            (i.$.row.cssClass = DayPilot.Util.addClassToString(
                                i.$.row.cssClass,
                                e
                            )),
                                (i.data.cssClass = e);
                        }),
                        (i.removeClass = function (e) {
                            var n = i,
                                a = t.divHeader,
                                n = a.rows[n.index];
                            if (n) {
                                var r = DayPilot.list(n.cells).map(function (
                                    e
                                ) {
                                    return e.cellDiv;
                                });
                                DayPilot.Util.removeClass(r, e);
                            }
                            (i.$.row.cssClass =
                                DayPilot.Util.removeClassFromString(
                                    i.$.row.cssClass,
                                    e
                                )),
                                (i.data.cssClass =
                                    DayPilot.Util.removeClassFromString(
                                        i.data.cssClass,
                                        e
                                    ));
                        });
                    var a = function (e) {
                            var n = function (e) {
                                for (
                                    var n = 0;
                                    n < t.elements.events.length;
                                    n++
                                ) {
                                    var i = t.elements.events[n];
                                    if (i.event === e) return i;
                                }
                                return null;
                            };
                            (this.vs = function () {
                                e.expanded = !0;
                                var i = t.so;
                                DayPilot.list(e.events).forEach(function (e) {
                                    i.push(e.id());
                                });
                                var a = n(e);
                                if (a) {
                                    t.bq(a);
                                    var r = DayPilot.indexOf(
                                        t.elements.events,
                                        a
                                    );
                                    r !== -1 && t.elements.events.splice(r, 1);
                                }
                            }),
                                (this.expand = function () {
                                    this.vs(),
                                        t.nk(),
                                        t.ok([e.row]),
                                        t.Xa(),
                                        t.ab();
                                }),
                                (this.ts = function () {
                                    if (
                                        e.lines.length >
                                        t.groupConcurrentEventsLimit
                                    ) {
                                        e.expanded = !1;
                                        var n = DayPilot.list(e.events).map(
                                            function (e) {
                                                return e.id();
                                            }
                                        );
                                        t.so = t.so.filter(function (e) {
                                            return !DayPilot.contains(n, e);
                                        });
                                    }
                                }),
                                (this.collapse = function () {
                                    this.ts(), t.nk(), t.ok([e.row]), t.Xa();
                                });
                        },
                        r = function (e, t) {
                            this.html = function (e) {
                                var n = i.calendar.divHeader,
                                    i = n.rows[i.index];
                                if (!i)
                                    throw new DayPilot.Exception(
                                        "Row not rendered"
                                    );
                                var a = i.cells[t],
                                    r = a.textDiv;
                                return "undefined" == typeof e
                                    ? r.innerHTML
                                    : void (r.innerHTML = e);
                            };
                        };
                }),
                (o.ck = null),
                (o.Fm = null),
                (o.rq = null),
                (o.Km = null),
                (o._m = null),
                (o.bk = !1),
                (o.Qp = !1),
                (o.Nq = null),
                (o.ws = null),
                (o.xs = function (e, t, n, i) {
                    DayPilot.us(e);
                    var a = (o.Hn = {});
                    return (
                        (a.element = e),
                        (a.duration = t),
                        (a.text = i),
                        (a.id = n),
                        (a.data = {
                            id: n,
                            text: i,
                            duration: t,
                            externalHtml: i,
                        }),
                        !1
                    );
                }),
                (DayPilot.Scheduler.startDragging = function (e) {
                    var e = e || {},
                        t = e.element,
                        n = e.keepElement ? null : t;
                    DayPilot.us(t);
                    var i = (o.Hn = {});
                    return (
                        (i.element = n),
                        (i.id = e.id),
                        (i.duration = e.duration || 60),
                        (i.text = e.text || ""),
                        (i.data = e),
                        (i.Ud = e),
                        (i.Vd = e.data),
                        !1
                    );
                }),
                (DayPilot.Scheduler.makeDraggable = function (e) {
                    function t() {
                        var t = (o.Hn = {});
                        (t.element = i),
                            (t.id = r),
                            (t.duration = l),
                            (t.text = s),
                            (t.data = e),
                            (t.Ud = e),
                            (t.Vd = e.data);
                    }
                    e = e || {};
                    var n = e.element,
                        i = e.keepElement ? null : e.remove || n,
                        a = e.data || {},
                        r = "undefined" != typeof e.id ? e.id : a.id,
                        s = "string" == typeof e.text ? e.text : a.text || "",
                        l = e.duration || a.duration;
                    if (
                        (l instanceof DayPilot.Duration &&
                            (l = l.totalSeconds()),
                        l ||
                            (l =
                                a.start && a.end
                                    ? new DayPilot.Duration(
                                          a.start,
                                          a.end
                                      ).totalSeconds()
                                    : 60),
                        !n)
                    )
                        throw new DayPilot.Exception(
                            "makeDraggable(options): options.element must be specified"
                        );
                    DayPilot.us(n),
                        DayPilot.re(n, "mousedown", function (e) {
                            if (DayPilot.Util.mouseButton(e).left) {
                                t();
                                var n = e.target || e.srcElement;
                                if (n.tagName) {
                                    var i = n.tagName.toLowerCase();
                                    if (
                                        "textarea" === i ||
                                        "select" === i ||
                                        "input" === i
                                    )
                                        return !1;
                                }
                                return e.preventDefault(), !1;
                            }
                        }),
                        DayPilot.reNonPassive(n, "touchstart", function (e) {
                            window.setTimeout(function () {
                                t(), o.Tp(e), e.preventDefault();
                            }, 0),
                                e.preventDefault();
                        });
                }),
                (DayPilot.Scheduler.stopDragging = function () {
                    if (o.Hn && o.Hn.br) {
                        var e = o.Hn.br,
                            t = e.event.calendar;
                        t &&
                            DayPilot.Util.removeClass(
                                e,
                                t.H(n.zq.eventMovingSource)
                            );
                    }
                    if (
                        (o.ys(),
                        o.Km &&
                            (DayPilot.de(o.$m),
                            (o.Km = null),
                            (o._m = null),
                            (o.$m = null)),
                        o.ck)
                    ) {
                        var n = o.Fm.calendar;
                        n &&
                            DayPilot.Util.removeClass(
                                o.ck,
                                n.H(n.zq.eventMovingSource)
                            ),
                            DayPilot.de(o.Dn),
                            (o.ck = null),
                            (o.Fm = null),
                            (o.Dn = null);
                    }
                    if (o.Lm) {
                        var n = o.Lm.calendar;
                        n.clearSelection(), (o.Lm = null);
                    }
                    (c().style.cursor = ""),
                        DayPilot.list(o.Hf).forEach(function (e) {
                            e.Ea(), e.Ln(), e.gl.resetMoving(), e.Bn.clear();
                        });
                }),
                (DayPilot.Scheduler.registerDropTarget = function (e) {
                    e = e || {};
                    var t = e.element,
                        n = e.onDragOver,
                        i = "function" == typeof n,
                        a = e.onDrop,
                        r = "function" == typeof a,
                        s = e.onDragLeave,
                        l = "function" == typeof s;
                    if (!t)
                        throw new DayPilot.Exception(
                            "registerDropTarget(options): options.element must be specified"
                        );
                    t.addEventListener("mousemove", function (e) {
                        if (o.Hn) {
                            var t = o.Hn.event;
                            if (t && i) {
                                var a = {};
                                (a.e = t), n(a);
                            }
                        }
                    }),
                        t.addEventListener("mouseleave", function (e) {
                            if (o.Hn) {
                                var t = o.Hn.event;
                                if (t && l) {
                                    var n = {};
                                    (n.e = t), s(n);
                                }
                            }
                        }),
                        t.addEventListener("mouseup", function (e) {
                            if (o.Hn) {
                                var t = o.Hn.event;
                                if (t && r) {
                                    var n = {};
                                    (n.e = t), a(n);
                                }
                            }
                        });
                }),
                (o.ys = function () {
                    o.ar && (c().removeChild(o.ar), (o.ar = null)),
                        (o.Hn = null);
                }),
                (o.zs = function () {
                    var e = o.Hn;
                    if (e) {
                        var t = e && e.Ud,
                            n = t && t.onDrop;
                        if ("function" == typeof n) {
                            var i = {};
                            (i.options = t), n(i);
                        }
                    }
                }),
                (o.Lf = function (e) {
                    o.Hf ||
                        ((o.Hf = DayPilot.list()),
                        (o.Hf.out = function () {
                            o.Hf.forEach(function (e) {
                                e.Ca();
                            });
                        }));
                    for (var t = 0; t < o.Hf.length; t++)
                        if (o.Hf[t] === e) return;
                    o.Hf.push(e);
                }),
                (o.Yf = function (e) {
                    var t = o.Hf;
                    if (t) {
                        var n = DayPilot.indexOf(t, e);
                        n !== -1 && t.splice(n, 1),
                            0 === t.length && (t = null);
                    }
                    t ||
                        (DayPilot.ue(document, "mousemove", o.zf),
                        DayPilot.ue(document, "mouseup", o.yf),
                        DayPilot.ue(document, "mousedown", o.Rp),
                        DayPilot.ue(document, "touchmove", o.Tp),
                        DayPilot.ue(document, "touchend", o.Sp),
                        DayPilot.ue(window, "keyup", o.Up),
                        (o.Qp = !1));
                }),
                (o.Tp = function (e) {
                    if (o.Km) {
                        var i = o.Km.event.calendar;
                        (i.coords = i.$c.tq(e)), i.$c.xq(), e.preventDefault();
                    }
                    if (o.ck && !o.Hn) {
                        e.preventDefault();
                        var i = o.Fm.calendar;
                        (i.coords = i.$c.tq(e)),
                            i.$c.yq(),
                            (function () {
                                if (i.dragOutAllowed) {
                                    var n = t(e);
                                    if (!n || n !== i) {
                                        var a = o.Fm;
                                        o.Hn = {};
                                        var r = o.Hn;
                                        (r.id = a.id()),
                                            (r.text = a.text()),
                                            (r.br = o.ck),
                                            (r.element = null),
                                            (r.duration =
                                                (a.rawend().getTime() -
                                                    a.start().getTime()) /
                                                1e3),
                                            (r.text = a.text()),
                                            (r.id = a.id()),
                                            (r.event = DayPilot.Util.copyProps(
                                                a,
                                                new DayPilot.Event()
                                            )),
                                            i.Ln(),
                                            DayPilot.de(o.Dn),
                                            (o.Dn.calendar = null),
                                            (o.Dn = null),
                                            (o.Jm = null),
                                            o.Hf.out();
                                    }
                                }
                            })();
                    }
                    if (o.Hn) {
                        e.preventDefault();
                        var a = n(e),
                            i = t(e);
                        if (i) {
                            if (
                                (o.ar && c().removeChild(o.ar),
                                (o.ar = null),
                                (i.coords = i.$c.tq(e)),
                                !o.Dn && i.rowlist.length > 0)
                            ) {
                                if (!o.ck) {
                                    o.ck = {};
                                    var r = o.Hn.event;
                                    if (!r) {
                                        var e = i.cr();
                                        (r = new DayPilot.Event(e)),
                                            (r.calendar = i),
                                            (r.part.duration =
                                                1e3 * o.Hn.duration);
                                    }
                                    r.part.external = !0;
                                    var s = o.Hn.br;
                                    s &&
                                        s.event &&
                                        s.event.calendar === i &&
                                        (r.part.external = !1),
                                        (o.Fm = r);
                                }
                                o.Dn = i.gb(o.Fm);
                            }
                            o.ck && i.$c.yq();
                        } else {
                            DayPilot.de(o.Dn);
                            var l = o.ck;
                            (o.ck = null),
                                (o.Fm = null),
                                (o.Dn = null),
                                o.ar ||
                                    ((o.ar = o.As(o.Hn.Ud)), (o.ar.source = l));
                            var d = o.ar;
                            (d.style.left = a.x + "px"),
                                (d.style.top = a.y + "px"),
                                o.Hf.out();
                        }
                    }
                }),
                (o.Sp = function (e) {
                    (o.sp = !1), o.yf(e);
                }),
                (o.zf = function (e) {
                    if (
                        "undefined" != typeof o &&
                        !DayPilot.Global.touch.active &&
                        !DayPilot.Global.touch.start &&
                        !(
                            e.insideMainD ||
                            (e.srcElement && e.srcElement.inside)
                        )
                    ) {
                        var t = DayPilot.mc(e);
                        if (o.Hn) {
                            if (!o.Hn.Bs) {
                                var n = o.Hn.Ud || {},
                                    i = n.onDragStart,
                                    a = !1;
                                if ("function" == typeof i) {
                                    var r = {};
                                    (r.options = n),
                                        (r.preventDefault = function () {
                                            r.preventDefault.value = !0;
                                        }),
                                        i(r),
                                        (a = r.preventDefault.value);
                                }
                                if (((o.Hn.Bs = !0), a))
                                    return o.zs(), void (o.Hn = null);
                            }
                            (c().style.cursor = "move"),
                                o.ar || (o.ar = o.As(o.Hn.Ud));
                            var s = o.ar;
                            if (
                                ((s.style.left = t.x + "px"),
                                (s.style.top = t.y + "px"),
                                (o.ck = null),
                                (o.Fm = null),
                                o.Dn)
                            ) {
                                var l = o.Dn.calendar;
                                l && l.Ln(),
                                    (o.Dn.calendar = null),
                                    DayPilot.de(o.Dn),
                                    (o.Dn = null);
                            }
                        } else if (
                            o.ck &&
                            o.Fm &&
                            o.Fm.calendar.dragOutAllowed &&
                            !o.Hn
                        ) {
                            var l = o.Fm.calendar,
                                e = o.Fm;
                            (c().style.cursor = "move"),
                                o.ar ||
                                    ((o.ar = o.As(e.data)),
                                    (o.ar.source = o.ck));
                            var s = o.ar;
                            (s.style.left = t.x + "px"),
                                (s.style.top = t.y + "px"),
                                (o.Hn = {});
                            var d = o.Hn;
                            (d.br = o.ck),
                                (d.element = null),
                                (d.duration =
                                    (e.rawend().getTime() -
                                        e.start().getTime()) /
                                    1e3),
                                (d.text = e.text()),
                                (d.id = e.value()),
                                (d.event = DayPilot.Util.copyProps(
                                    e,
                                    new DayPilot.Event()
                                )),
                                l.Ln(),
                                DayPilot.de(o.Dn),
                                (o.Dn.calendar = null),
                                (o.Dn = null);
                        }
                        o.Hf.out();
                    }
                }),
                (o.Cs = function (e) {
                    if (o.Hf)
                        for (var t = 0; t < o.Hf.length; t++) {
                            var n = o.Hf[t];
                            o.Yf(n);
                        }
                }),
                (o.Rp = function (e) {
                    o.Cq && o.Cq.blur();
                }),
                (o.Up = function (e) {
                    17 === e.keyCode && o.Pq && o.Pq.qr.dispatch();
                }),
                (o.yf = function (e) {
                    if (
                        (DayPilot.list(o.Hf).forEach(function (e) {
                            e.Ea(), (e.ck = {}), (e.Tq = null);
                        }),
                        o.Km)
                    ) {
                        var t = function () {
                            var e = o._m,
                                t = e.calendar;
                            (c().style.cursor = ""),
                                (o.Km = null),
                                (o._m = null),
                                DayPilot.de(o.$m),
                                (o.$m = null),
                                t && (t.Uq = null);
                        };
                        if (
                            (setTimeout(function () {
                                o.bk = !1;
                            }),
                            !o.$m)
                        )
                            return void t();
                        var n = o._m,
                            i = n.calendar,
                            a = o.$m.finalStart,
                            r = o.$m.finalEnd,
                            l = o.$m.overlapping,
                            d = !o.$m.allowed,
                            u = i.qn.isInvalid();
                        i.Ln(), i.qn.clear();
                        var v = "left" === o.Km.dpBorder ? "start" : "end";
                        if ((t(), l || d || u || i.qn.forbidden)) return;
                        i.Gb(n, a, r, v);
                    } else if (o.Fm) {
                        var t = function () {
                            DayPilot.Global.movingAreaData = null;
                            var e = o.Dn && o.Dn.calendar;
                            o.Dn && (DayPilot.de(o.Dn), (o.Dn.calendar = null)),
                                (c().style.cursor = ""),
                                (o.ck = null),
                                (o.Fm = null),
                                o.zs(),
                                (o.Hn = null),
                                e && (e.Fa = null);
                        };
                        if (!o.Dn) return void t();
                        var p = o.Hn && o.Hn.br,
                            n = p ? p.event : o.Fm,
                            i = o.Dn.calendar;
                        if (!i) return void t();
                        if (n.calendar && n.calendar !== i) {
                            var m = n.calendar,
                                g = n,
                                b = DayPilot.Util.copyProps(n.data);
                            (n = new DayPilot.Event(b, m)),
                                (n.part = { external: !0, duration: m.Om(g) });
                        }
                        if (
                            ((o.Dn.source = o.ck),
                            (function () {
                                if (o.Hn && o.Hn.br) {
                                    var e = o.Hn.br;
                                    if (e && e.event) {
                                        var t = e.event.calendar;
                                        DayPilot.Util.removeClass(
                                            e,
                                            t.H(i.zq.eventMovingSource)
                                        );
                                    }
                                }
                            })(),
                            !o.Dn.row)
                        )
                            return void t();
                        clearTimeout(i.Vm.timeout);
                        var a = o.Dn.start,
                            r = o.Dn.end,
                            y = "Days" !== i.viewType ? o.Dn.row.id : null,
                            w = n.part.external,
                            x = o.Dn.line,
                            l = o.Dn.overlapping,
                            d = !o.Dn.allowed;
                        if (
                            (o.Hn &&
                                (i._i || (i._i = {}),
                                (i._i.aj = o.Hn.element),
                                o.zs(),
                                (o.Hn = null)),
                            (o.Dn.calendar = null),
                            (c().style.cursor = ""),
                            (o.ck = null),
                            (o.Fm = null),
                            l || d || i.Bn.forbidden || i.Bn.invalid)
                        )
                            return void i.Lb();
                        i.Kb(n, a, r, y, w, e, x),
                            (DayPilot.Global.movingAreaData = null);
                    } else if (o.Lm) {
                        var k = DayPilot.Util.mouseButton(e),
                            C = o.Lm,
                            i = C.calendar,
                            t = function () {};
                        i.nr = null;
                        var H = e.ctrlKey || e.metaKey;
                        if (i.allowMultiRange)
                            return (
                                i.elements.range2.overlapping
                                    ? (DayPilot.de(i.elements.range2),
                                      (i.elements.range2 = null),
                                      i.Ln())
                                    : i.qr.add(C),
                                (o.Lm = null),
                                H || (k.left && i.qr.dispatch()),
                                void t()
                            );
                        if (o.Nq)
                            return clearTimeout(o.Nq), (o.Nq = null), void t();
                        (i.Wk = C), (o.Lm = null);
                        var D = function (e) {
                                return function () {
                                    o.Nq = null;
                                    var t = i.elements.range2;
                                    return t && t.overlapping
                                        ? void i.clearSelection()
                                        : (i.Tk(e),
                                          void ("Hold" !==
                                              i.timeRangeSelectedHandling &&
                                          "HoldForever" !==
                                              i.timeRangeSelectedHandling
                                              ? s()
                                              : (i.Wk = e)));
                                };
                            },
                            E = i.or(C);
                        if ((t(), !k.left)) return void (o.Nq = null);
                        if (
                            C.moved ||
                            "Disabled" === i.timeRangeDoubleClickHandling
                        )
                            return D(E)(), (e.cancelBubble = !0), !1;
                        o.Nq = setTimeout(D(E), i.doubleClickTimeout);
                    } else if (h.row) {
                        var i = h.calendar;
                        i && i.Ho();
                    } else if (f.source) {
                        var i = f.calendar;
                        i.Pl.Yg(),
                            i.Pl.Dk(),
                            (f.source = null),
                            (f.calendar = null);
                    } else if (o.mp) {
                        var S = o.mp;
                        S.cleanup(), (o.mp = null);
                    } else if (o.Rq) {
                        var T = o.Rq,
                            i = T.calendar;
                        if (!T.moved)
                            return (
                                (o.Rq = null), void (i.Oq(i.coords) || i.rr(e))
                            );
                        var _ = T.x,
                            M = T.y,
                            A = T.width,
                            R = T.height,
                            B = !1,
                            P = i.oj.pj(_, M, A, R).map(function (e) {
                                return e.event;
                            }),
                            N = function () {
                                setTimeout(function () {
                                    i.dr.clear(), (o.Rq = null);
                                }, 0),
                                    i.Ln();
                            };
                        if (
                            "function" == typeof i.onRectangleEventSelect ||
                            "function" == typeof i.onRectangleSelect
                        ) {
                            var L = i.vl(M).i,
                                U = i.vl(M + R).i,
                                I = { start: { y: L }, end: { y: U } },
                                j = i.ql(I),
                                O = {};
                            if (
                                ((O.events = P),
                                (O.append = !1),
                                (O.start = i.getDate(_, !0)),
                                (O.end = i.getDate(_ + A, !0)),
                                (O.resources = j),
                                (O.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof i.onRectangleEventSelect &&
                                    i.onRectangleEventSelect(O),
                                "function" == typeof i.onRectangleSelect &&
                                    i.onRectangleSelect(O),
                                O.preventDefault.value)
                            )
                                return i.dr.clear(), (o.Rq = null), void N();
                            B = O.append;
                        }
                        if (
                            ("EventSelect" === i.ga.es() &&
                                (B || i.multiselect.clear(!0),
                                P.forEach(function (e) {
                                    i.multiselect.add(e, !0);
                                }),
                                i.multiselect.redraw()),
                            N(),
                            "function" == typeof i.onRectangleEventSelected ||
                                "function" == typeof i.onRectangleSelected)
                        ) {
                            var O = {};
                            (O.events = P),
                                "function" ==
                                    typeof i.onRectangleEventSelected &&
                                    i.onRectangleEventSelected(O),
                                "function" == typeof i.onRectangleSelected &&
                                    i.onRectangleSelected(O);
                        }
                    }
                    if (
                        (o.Hn &&
                            (o.Hn.event &&
                                o.Hn.event.part &&
                                delete o.Hn.event.part.external,
                            o.zs(),
                            (o.Hn = null),
                            (c().style.cursor = "")),
                        o.ar)
                    ) {
                        if (o.ar.source) {
                            var p = o.ar.source;
                            if (p.event) {
                                var i = o.ar.source.event.calendar;
                                DayPilot.Util.removeClass(
                                    o.ar.source,
                                    i.H(i.zq.eventMovingSource)
                                );
                            } else s();
                        }
                        c().removeChild(o.ar), (o.ar = null);
                    }
                    (o.Em = null), (o.Jm = null);
                }),
                (o.As = function (e) {
                    e = e || {};
                    var t = document.createElement("div");
                    return (
                        t.setAttribute("unselectable", "on"),
                        (t.style.position = "absolute"),
                        (t.style.width = "100px"),
                        (t.style.height = "20px"),
                        (t.style.zIndex = 101),
                        (t.style.pointerEvents = "none"),
                        (t.style.backgroundColor = "#aaaaaa"),
                        (t.style.opacity = 0.5),
                        (t.style.overflow = "hidden"),
                        (t.className = e.externalCssClass),
                        e.externalHtml && (t.innerHTML = e.externalHtml),
                        c().appendChild(t),
                        t
                    );
                });
            var h = {};
            DayPilot.Global.rowmoving = h;
            var f = {};
            (DayPilot.Global.linking = f),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotScheduler = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Scheduler(
                                            this.id || this,
                                            e
                                        );
                                        n.init(),
                                            (this.daypilot = n),
                                            t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotScheduler", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t[0].removeAttribute("id"),
                                            (t[0].innerHTML = this[
                                                "template"
                                            ].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Scheduler(
                                                    n[0].firstChild
                                                );
                                                a.Oe.scope = t;
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l =
                                                            DayPilot.Util.shouldApply(
                                                                s
                                                            );
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          var r =
                                                                              e(
                                                                                  i[
                                                                                      n
                                                                                  ]
                                                                              );
                                                                          DayPilot.Util.safeApply(
                                                                              t,
                                                                              function () {
                                                                                  r(
                                                                                      t,
                                                                                      {
                                                                                          args: a,
                                                                                      }
                                                                                  );
                                                                              }
                                                                          );
                                                                      };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] =
                                                                      function (
                                                                          a
                                                                      ) {
                                                                          e(
                                                                              i[
                                                                                  n
                                                                              ]
                                                                          )(t, {
                                                                              args: a,
                                                                          });
                                                                      };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c =
                                                        i["config"] ||
                                                        i["daypilotConfig"],
                                                    u =
                                                        i["events"] ||
                                                        i["daypilotEvents"];
                                                c || a.init(),
                                                    d.call(
                                                        t,
                                                        c,
                                                        function (e, t) {
                                                            a.Re(e),
                                                                a.T
                                                                    ? (a.update(),
                                                                      a.$e())
                                                                    : a.init();
                                                        },
                                                        !0
                                                    ),
                                                    u &&
                                                        d.call(
                                                            t,
                                                            u,
                                                            function (e) {
                                                                (a.events.list =
                                                                    e),
                                                                    a.Lc({
                                                                        eventsOnly:
                                                                            !0,
                                                                    });
                                                            },
                                                            !0
                                                        ),
                                                    t.$on(
                                                        "$destroy",
                                                        function () {
                                                            a.dispose();
                                                        }
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys &&
                    Sys.Application &&
                    Sys.Application.notifyScriptLoaded &&
                    Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
"undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        "undefined" == typeof DayPilot.Year &&
            (DayPilot.Year = function (e, t) {
                this.v = "2022.1.5188";
                (this.startDate = new DayPilot.Date()),
                    (this.cssOnly = !0),
                    (this.cssClassPrefix = null),
                    (this.columns = 4),
                    (this.cellWidth = 20),
                    (this.showWeekNumbers = !1),
                    (this.Ds = []),
                    (this.qh = function () {
                        (this.root.dp = this),
                            (this.If = new DayPilot.Date(
                                this.startDate.toString("yyyy-01-01", "en-us")
                            ));
                    }),
                    (this.H = function (e) {
                        return this.cssClassPrefix
                            ? this.cssClassPrefix + e
                            : "";
                    }),
                    (this.rh = function () {
                        return this.showWeekNumbers ? this.cellWidth : 0;
                    }),
                    (this.xn = function () {
                        this.Ds = [];
                        var e = this.columns,
                            t = 12 / e;
                        (this.root.className = this.H("_main")),
                            (this.root.style.width =
                                e * (7 * this.cellWidth + this.rh()) + "px");
                        for (var n = 0; n < t; n++) {
                            for (var i = 0; i < e; i++) {
                                var a = n * e + i,
                                    r = r + "_nav_" + a,
                                    o = document.createElement("div");
                                (o.id = r),
                                    (o.style.float = "left"),
                                    this.root.appendChild(o);
                                var s = new DayPilot.Navigator(r);
                                (s.startDate = this.If.addMonths(a)),
                                    (s.cssOnly = this.cssOnly),
                                    (s.cssClassPrefix = this.cssClassPrefix),
                                    (s.cellWidth = this.cellWidth),
                                    (s.showWeekNumbers = this.showWeekNumbers),
                                    (s.internal.showLinks = {}),
                                    (s.selectMode = "none"),
                                    (s.timeRangeSelectedHandling =
                                        "JavaScript"),
                                    (s.onTimeRangeSelected = this.Es),
                                    s.init(),
                                    (s.root.className = ""),
                                    this.Ds.push(s);
                            }
                            var l = document.createElement("div");
                            (l.style.clear = "left"), this.root.appendChild(l);
                        }
                    }),
                    (this.Es = function (e) {
                        alert("clicked: " + e.day);
                    }),
                    (this.init = function () {
                        if (
                            ((this.root = document.getElementById(e)),
                            !this.root.dp)
                        )
                            return this.qh(), this.xn(), this;
                    });
            });
    })(DayPilot);
